"use client";var fQ=Object.defineProperty;var pQ=(t,e,n)=>e in t?fQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nA=(t,e,n)=>(pQ(t,typeof e!="symbol"?e+"":e,n),n);function mQ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mz(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ez={exports:{}},d3={},kz={exports:{}},gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=Symbol.for("react.element"),gQ=Symbol.for("react.portal"),yQ=Symbol.for("react.fragment"),vQ=Symbol.for("react.strict_mode"),bQ=Symbol.for("react.profiler"),xQ=Symbol.for("react.provider"),_Q=Symbol.for("react.context"),wQ=Symbol.for("react.forward_ref"),SQ=Symbol.for("react.suspense"),AQ=Symbol.for("react.memo"),CQ=Symbol.for("react.lazy"),hD=Symbol.iterator;function MQ(t){return t===null||typeof t!="object"?null:(t=hD&&t[hD]||t["@@iterator"],typeof t=="function"?t:null)}var Tz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dz=Object.assign,Lz={};function d0(t,e,n){this.props=t,this.context=e,this.refs=Lz,this.updater=n||Tz}d0.prototype.isReactComponent={};d0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};d0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Rz(){}Rz.prototype=d0.prototype;function C8(t,e,n){this.props=t,this.context=e,this.refs=Lz,this.updater=n||Tz}var M8=C8.prototype=new Rz;M8.constructor=C8;Dz(M8,d0.prototype);M8.isPureReactComponent=!0;var fD=Array.isArray,Bz=Object.prototype.hasOwnProperty,E8={current:null},Pz={key:!0,ref:!0,__self:!0,__source:!0};function Nz(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Bz.call(e,r)&&!Pz.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:j1,type:t,key:o,ref:s,props:i,_owner:E8.current}}function EQ(t,e){return{$$typeof:j1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function k8(t){return typeof t=="object"&&t!==null&&t.$$typeof===j1}function kQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pD=/\/+/g;function rA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kQ(""+t.key):e.toString(36)}function s_(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case j1:case gQ:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+rA(s,0):r,fD(i)?(n="",t!=null&&(n=t.replace(pD,"$&/")+"/"),s_(i,e,n,"",function(c){return c})):i!=null&&(k8(i)&&(i=EQ(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(pD,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",fD(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+rA(o,a);s+=s_(o,e,n,l,i)}else if(l=MQ(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+rA(o,a++),s+=s_(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Mb(t,e,n){if(t==null)return t;var r=[],i=0;return s_(t,r,"","",function(o){return e.call(n,o,i++)}),r}function TQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ro={current:null},a_={transition:null},DQ={ReactCurrentDispatcher:Ro,ReactCurrentBatchConfig:a_,ReactCurrentOwner:E8};gn.Children={map:Mb,forEach:function(t,e,n){Mb(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mb(t,function(){e++}),e},toArray:function(t){return Mb(t,function(e){return e})||[]},only:function(t){if(!k8(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gn.Component=d0;gn.Fragment=yQ;gn.Profiler=bQ;gn.PureComponent=C8;gn.StrictMode=vQ;gn.Suspense=SQ;gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DQ;gn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dz({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=E8.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Bz.call(e,l)&&!Pz.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:j1,type:t.type,key:i,ref:o,props:r,_owner:s}};gn.createContext=function(t){return t={$$typeof:_Q,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xQ,_context:t},t.Consumer=t};gn.createElement=Nz;gn.createFactory=function(t){var e=Nz.bind(null,t);return e.type=t,e};gn.createRef=function(){return{current:null}};gn.forwardRef=function(t){return{$$typeof:wQ,render:t}};gn.isValidElement=k8;gn.lazy=function(t){return{$$typeof:CQ,_payload:{_status:-1,_result:t},_init:TQ}};gn.memo=function(t,e){return{$$typeof:AQ,type:t,compare:e===void 0?null:e}};gn.startTransition=function(t){var e=a_.transition;a_.transition={};try{t()}finally{a_.transition=e}};gn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};gn.useCallback=function(t,e){return Ro.current.useCallback(t,e)};gn.useContext=function(t){return Ro.current.useContext(t)};gn.useDebugValue=function(){};gn.useDeferredValue=function(t){return Ro.current.useDeferredValue(t)};gn.useEffect=function(t,e){return Ro.current.useEffect(t,e)};gn.useId=function(){return Ro.current.useId()};gn.useImperativeHandle=function(t,e,n){return Ro.current.useImperativeHandle(t,e,n)};gn.useInsertionEffect=function(t,e){return Ro.current.useInsertionEffect(t,e)};gn.useLayoutEffect=function(t,e){return Ro.current.useLayoutEffect(t,e)};gn.useMemo=function(t,e){return Ro.current.useMemo(t,e)};gn.useReducer=function(t,e,n){return Ro.current.useReducer(t,e,n)};gn.useRef=function(t){return Ro.current.useRef(t)};gn.useState=function(t){return Ro.current.useState(t)};gn.useSyncExternalStore=function(t,e,n){return Ro.current.useSyncExternalStore(t,e,n)};gn.useTransition=function(){return Ro.current.useTransition()};gn.version="18.2.0";kz.exports=gn;var E=kz.exports;const re=hf(E),LQ=mQ({__proto__:null,default:re},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RQ=E,BQ=Symbol.for("react.element"),PQ=Symbol.for("react.fragment"),NQ=Object.prototype.hasOwnProperty,IQ=RQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OQ={key:!0,ref:!0,__self:!0,__source:!0};function Iz(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)NQ.call(e,r)&&!OQ.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BQ,type:t,key:o,ref:s,props:i,_owner:IQ.current}}d3.Fragment=PQ;d3.jsx=Iz;d3.jsxs=Iz;Ez.exports=d3;var _=Ez.exports,bE={},Oz={exports:{}},Cs={},Fz={exports:{}},zz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,V){var I=O.length;O.push(V);e:for(;0<I;){var se=I-1>>>1,ye=O[se];if(0<i(ye,V))O[se]=V,O[I]=ye,I=se;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],I=O.pop();if(I!==V){O[0]=I;e:for(var se=0,ye=O.length,G=ye>>>1;se<G;){var ae=2*(se+1)-1,_e=O[ae],ve=ae+1,Ae=O[ve];if(0>i(_e,I))ve<ye&&0>i(Ae,_e)?(O[se]=Ae,O[ve]=I,se=ve):(O[se]=_e,O[ae]=I,se=ae);else if(ve<ye&&0>i(Ae,I))O[se]=Ae,O[ve]=I,se=ve;else break e}}return V}function i(O,V){var I=O.sortIndex-V.sortIndex;return I!==0?I:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=O)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function A(O){if(v=!1,w(O),!p)if(n(l)!==null)p=!0,Z(D);else{var V=n(c);V!==null&&K(A,V.startTime-O)}}function D(O,V){p=!1,v&&(v=!1,y(L),L=-1),f=!0;var I=h;try{for(w(V),d=n(l);d!==null&&(!(d.expirationTime>V)||O&&!P());){var se=d.callback;if(typeof se=="function"){d.callback=null,h=d.priorityLevel;var ye=se(d.expirationTime<=V);V=t.unstable_now(),typeof ye=="function"?d.callback=ye:d===n(l)&&r(l),w(V)}else r(l);d=n(l)}if(d!==null)var G=!0;else{var ae=n(c);ae!==null&&K(A,ae.startTime-V),G=!1}return G}finally{d=null,h=I,f=!1}}var k=!1,R=null,L=-1,T=5,C=-1;function P(){return!(t.unstable_now()-C<T)}function z(){if(R!==null){var O=t.unstable_now();C=O;var V=!0;try{V=R(!0,O)}finally{V?H():(k=!1,R=null)}}else k=!1}var H;if(typeof x=="function")H=function(){x(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=z,H=function(){X.postMessage(null)}}else H=function(){b(z,0)};function Z(O){R=O,k||(k=!0,H())}function K(O,V){L=b(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Z(D))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var I=h;h=V;try{return O()}finally{h=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=h;h=O;try{return V()}finally{h=I}},t.unstable_scheduleCallback=function(O,V,I){var se=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?se+I:se):I=se,O){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=I+ye,O={id:u++,callback:V,priorityLevel:O,startTime:I,expirationTime:ye,sortIndex:-1},I>se?(O.sortIndex=I,e(c,O),n(l)===null&&O===n(c)&&(v?(y(L),L=-1):v=!0,K(A,I-se))):(O.sortIndex=ye,e(l,O),p||f||(p=!0,Z(D))),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var V=h;return function(){var I=h;h=V;try{return O.apply(this,arguments)}finally{h=I}}}})(zz);Fz.exports=zz;var FQ=Fz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uz=E,_s=FQ;function nt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jz=new Set,Uy={};function ff(t,e){Tm(t,e),Tm(t+"Capture",e)}function Tm(t,e){for(Uy[t]=e,t=0;t<e.length;t++)jz.add(e[t])}var xc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xE=Object.prototype.hasOwnProperty,zQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mD={},gD={};function UQ(t){return xE.call(gD,t)?!0:xE.call(mD,t)?!1:zQ.test(t)?gD[t]=!0:(mD[t]=!0,!1)}function jQ(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HQ(t,e,n,r){if(e===null||typeof e>"u"||jQ(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bo(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zi[t]=new Bo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zi[e]=new Bo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zi[t]=new Bo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zi[t]=new Bo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zi[t]=new Bo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zi[t]=new Bo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zi[t]=new Bo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zi[t]=new Bo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zi[t]=new Bo(t,5,!1,t.toLowerCase(),null,!1,!1)});var T8=/[\-:]([a-z])/g;function D8(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(T8,D8);zi[e]=new Bo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(T8,D8);zi[e]=new Bo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(T8,D8);zi[e]=new Bo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zi[t]=new Bo(t,1,!1,t.toLowerCase(),null,!1,!1)});zi.xlinkHref=new Bo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zi[t]=new Bo(t,1,!1,t.toLowerCase(),null,!0,!0)});function L8(t,e,n,r){var i=zi.hasOwnProperty(e)?zi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HQ(e,n,i,r)&&(n=null),r||i===null?UQ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bc=Uz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eb=Symbol.for("react.element"),zp=Symbol.for("react.portal"),Up=Symbol.for("react.fragment"),R8=Symbol.for("react.strict_mode"),_E=Symbol.for("react.profiler"),Hz=Symbol.for("react.provider"),$z=Symbol.for("react.context"),B8=Symbol.for("react.forward_ref"),wE=Symbol.for("react.suspense"),SE=Symbol.for("react.suspense_list"),P8=Symbol.for("react.memo"),ku=Symbol.for("react.lazy"),Gz=Symbol.for("react.offscreen"),yD=Symbol.iterator;function V0(t){return t===null||typeof t!="object"?null:(t=yD&&t[yD]||t["@@iterator"],typeof t=="function"?t:null)}var kr=Object.assign,iA;function Yg(t){if(iA===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iA=e&&e[1]||""}return`
`+iA+t}var oA=!1;function sA(t,e){if(!t||oA)return"";oA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{oA=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yg(t):""}function $Q(t){switch(t.tag){case 5:return Yg(t.type);case 16:return Yg("Lazy");case 13:return Yg("Suspense");case 19:return Yg("SuspenseList");case 0:case 2:case 15:return t=sA(t.type,!1),t;case 11:return t=sA(t.type.render,!1),t;case 1:return t=sA(t.type,!0),t;default:return""}}function AE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Up:return"Fragment";case zp:return"Portal";case _E:return"Profiler";case R8:return"StrictMode";case wE:return"Suspense";case SE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $z:return(t.displayName||"Context")+".Consumer";case Hz:return(t._context.displayName||"Context")+".Provider";case B8:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P8:return e=t.displayName||null,e!==null?e:AE(t.type)||"Memo";case ku:e=t._payload,t=t._init;try{return AE(t(e))}catch{}}return null}function GQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AE(e);case 8:return e===R8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VQ(t){var e=Vz(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kb(t){t._valueTracker||(t._valueTracker=VQ(t))}function qz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vz(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function V_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function CE(t,e){var n=e.checked;return kr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vD(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kz(t,e){e=e.checked,e!=null&&L8(t,"checked",e,!1)}function ME(t,e){Kz(t,e);var n=Zu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?EE(t,e.type,n):e.hasOwnProperty("defaultValue")&&EE(t,e.type,Zu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bD(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function EE(t,e,n){(e!=="number"||V_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zg=Array.isArray;function cm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(nt(91));return kr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xD(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(nt(92));if(Zg(n)){if(1<n.length)throw Error(nt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zu(n)}}function Wz(t,e){var n=Zu(e.value),r=Zu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _D(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xz(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xz(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tb,Jz=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tb=Tb||document.createElement("div"),Tb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jy(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qQ=["Webkit","ms","Moz","O"];Object.keys(dy).forEach(function(t){qQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dy[e]=dy[t]})});function Yz(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dy.hasOwnProperty(t)&&dy[t]?(""+e).trim():e+"px"}function Zz(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yz(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KQ=kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DE(t,e){if(e){if(KQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(nt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(nt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(nt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(nt(62))}}function LE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RE=null;function N8(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var BE=null,um=null,dm=null;function wD(t){if(t=G1(t)){if(typeof BE!="function")throw Error(nt(280));var e=t.stateNode;e&&(e=g3(e),BE(t.stateNode,t.type,e))}}function Qz(t){um?dm?dm.push(t):dm=[t]:um=t}function eU(){if(um){var t=um,e=dm;if(dm=um=null,wD(t),e)for(t=0;t<e.length;t++)wD(e[t])}}function tU(t,e){return t(e)}function nU(){}var aA=!1;function rU(t,e,n){if(aA)return t(e,n);aA=!0;try{return tU(t,e,n)}finally{aA=!1,(um!==null||dm!==null)&&(nU(),eU())}}function Hy(t,e){var n=t.stateNode;if(n===null)return null;var r=g3(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(nt(231,e,typeof n));return n}var PE=!1;if(xc)try{var q0={};Object.defineProperty(q0,"passive",{get:function(){PE=!0}}),window.addEventListener("test",q0,q0),window.removeEventListener("test",q0,q0)}catch{PE=!1}function WQ(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var hy=!1,q_=null,K_=!1,NE=null,XQ={onError:function(t){hy=!0,q_=t}};function JQ(t,e,n,r,i,o,s,a,l){hy=!1,q_=null,WQ.apply(XQ,arguments)}function YQ(t,e,n,r,i,o,s,a,l){if(JQ.apply(this,arguments),hy){if(hy){var c=q_;hy=!1,q_=null}else throw Error(nt(198));K_||(K_=!0,NE=c)}}function pf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SD(t){if(pf(t)!==t)throw Error(nt(188))}function ZQ(t){var e=t.alternate;if(!e){if(e=pf(t),e===null)throw Error(nt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return SD(i),t;if(o===r)return SD(i),e;o=o.sibling}throw Error(nt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(nt(189))}}if(n.alternate!==r)throw Error(nt(190))}if(n.tag!==3)throw Error(nt(188));return n.stateNode.current===n?t:e}function oU(t){return t=ZQ(t),t!==null?sU(t):null}function sU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sU(t);if(e!==null)return e;t=t.sibling}return null}var aU=_s.unstable_scheduleCallback,AD=_s.unstable_cancelCallback,QQ=_s.unstable_shouldYield,eee=_s.unstable_requestPaint,jr=_s.unstable_now,tee=_s.unstable_getCurrentPriorityLevel,I8=_s.unstable_ImmediatePriority,lU=_s.unstable_UserBlockingPriority,W_=_s.unstable_NormalPriority,nee=_s.unstable_LowPriority,cU=_s.unstable_IdlePriority,h3=null,wl=null;function ree(t){if(wl&&typeof wl.onCommitFiberRoot=="function")try{wl.onCommitFiberRoot(h3,t,void 0,(t.current.flags&128)===128)}catch{}}var Ta=Math.clz32?Math.clz32:see,iee=Math.log,oee=Math.LN2;function see(t){return t>>>=0,t===0?32:31-(iee(t)/oee|0)|0}var Db=64,Lb=4194304;function Qg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function X_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Qg(a):(o&=s,o!==0&&(r=Qg(o)))}else s=n&~i,s!==0?r=Qg(s):o!==0&&(r=Qg(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ta(e),i=1<<n,r|=t[n],e&=~i;return r}function aee(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lee(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ta(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=aee(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function IE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uU(){var t=Db;return Db<<=1,!(Db&4194240)&&(Db=64),t}function lA(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function H1(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ta(e),t[e]=n}function cee(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ta(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function O8(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ta(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var jn=0;function dU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hU,F8,fU,pU,mU,OE=!1,Rb=[],Uu=null,ju=null,Hu=null,$y=new Map,Gy=new Map,Bu=[],uee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CD(t,e){switch(t){case"focusin":case"focusout":Uu=null;break;case"dragenter":case"dragleave":ju=null;break;case"mouseover":case"mouseout":Hu=null;break;case"pointerover":case"pointerout":$y.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gy.delete(e.pointerId)}}function K0(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=G1(e),e!==null&&F8(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dee(t,e,n,r,i){switch(e){case"focusin":return Uu=K0(Uu,t,e,n,r,i),!0;case"dragenter":return ju=K0(ju,t,e,n,r,i),!0;case"mouseover":return Hu=K0(Hu,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return $y.set(o,K0($y.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gy.set(o,K0(Gy.get(o)||null,t,e,n,r,i)),!0}return!1}function gU(t){var e=bh(t.target);if(e!==null){var n=pf(e);if(n!==null){if(e=n.tag,e===13){if(e=iU(n),e!==null){t.blockedOn=e,mU(t.priority,function(){fU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function l_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=FE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);RE=r,n.target.dispatchEvent(r),RE=null}else return e=G1(n),e!==null&&F8(e),t.blockedOn=n,!1;e.shift()}return!0}function MD(t,e,n){l_(t)&&n.delete(e)}function hee(){OE=!1,Uu!==null&&l_(Uu)&&(Uu=null),ju!==null&&l_(ju)&&(ju=null),Hu!==null&&l_(Hu)&&(Hu=null),$y.forEach(MD),Gy.forEach(MD)}function W0(t,e){t.blockedOn===e&&(t.blockedOn=null,OE||(OE=!0,_s.unstable_scheduleCallback(_s.unstable_NormalPriority,hee)))}function Vy(t){function e(i){return W0(i,t)}if(0<Rb.length){W0(Rb[0],t);for(var n=1;n<Rb.length;n++){var r=Rb[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uu!==null&&W0(Uu,t),ju!==null&&W0(ju,t),Hu!==null&&W0(Hu,t),$y.forEach(e),Gy.forEach(e),n=0;n<Bu.length;n++)r=Bu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bu.length&&(n=Bu[0],n.blockedOn===null);)gU(n),n.blockedOn===null&&Bu.shift()}var hm=Bc.ReactCurrentBatchConfig,J_=!0;function fee(t,e,n,r){var i=jn,o=hm.transition;hm.transition=null;try{jn=1,z8(t,e,n,r)}finally{jn=i,hm.transition=o}}function pee(t,e,n,r){var i=jn,o=hm.transition;hm.transition=null;try{jn=4,z8(t,e,n,r)}finally{jn=i,hm.transition=o}}function z8(t,e,n,r){if(J_){var i=FE(t,e,n,r);if(i===null)vA(t,e,r,Y_,n),CD(t,r);else if(dee(i,t,e,n,r))r.stopPropagation();else if(CD(t,r),e&4&&-1<uee.indexOf(t)){for(;i!==null;){var o=G1(i);if(o!==null&&hU(o),o=FE(t,e,n,r),o===null&&vA(t,e,r,Y_,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vA(t,e,r,null,n)}}var Y_=null;function FE(t,e,n,r){if(Y_=null,t=N8(r),t=bh(t),t!==null)if(e=pf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Y_=t,null}function yU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tee()){case I8:return 1;case lU:return 4;case W_:case nee:return 16;case cU:return 536870912;default:return 16}default:return 16}}var Iu=null,U8=null,c_=null;function vU(){if(c_)return c_;var t,e=U8,n=e.length,r,i="value"in Iu?Iu.value:Iu.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return c_=i.slice(t,1<r?1-r:void 0)}function u_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bb(){return!0}function ED(){return!1}function Ms(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bb:ED,this.isPropagationStopped=ED,this}return kr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bb)},persist:function(){},isPersistent:Bb}),e}var h0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j8=Ms(h0),$1=kr({},h0,{view:0,detail:0}),mee=Ms($1),cA,uA,X0,f3=kr({},$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H8,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==X0&&(X0&&t.type==="mousemove"?(cA=t.screenX-X0.screenX,uA=t.screenY-X0.screenY):uA=cA=0,X0=t),cA)},movementY:function(t){return"movementY"in t?t.movementY:uA}}),kD=Ms(f3),gee=kr({},f3,{dataTransfer:0}),yee=Ms(gee),vee=kr({},$1,{relatedTarget:0}),dA=Ms(vee),bee=kr({},h0,{animationName:0,elapsedTime:0,pseudoElement:0}),xee=Ms(bee),_ee=kr({},h0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wee=Ms(_ee),See=kr({},h0,{data:0}),TD=Ms(See),Aee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eee(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mee[t])?!!e[t]:!1}function H8(){return Eee}var kee=kr({},$1,{key:function(t){if(t.key){var e=Aee[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=u_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H8,charCode:function(t){return t.type==="keypress"?u_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?u_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tee=Ms(kee),Dee=kr({},f3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DD=Ms(Dee),Lee=kr({},$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H8}),Ree=Ms(Lee),Bee=kr({},h0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pee=Ms(Bee),Nee=kr({},f3,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Iee=Ms(Nee),Oee=[9,13,27,32],$8=xc&&"CompositionEvent"in window,fy=null;xc&&"documentMode"in document&&(fy=document.documentMode);var Fee=xc&&"TextEvent"in window&&!fy,bU=xc&&(!$8||fy&&8<fy&&11>=fy),LD=" ",RD=!1;function xU(t,e){switch(t){case"keyup":return Oee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _U(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jp=!1;function zee(t,e){switch(t){case"compositionend":return _U(e);case"keypress":return e.which!==32?null:(RD=!0,LD);case"textInput":return t=e.data,t===LD&&RD?null:t;default:return null}}function Uee(t,e){if(jp)return t==="compositionend"||!$8&&xU(t,e)?(t=vU(),c_=U8=Iu=null,jp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bU&&e.locale!=="ko"?null:e.data;default:return null}}var jee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jee[t.type]:e==="textarea"}function wU(t,e,n,r){Qz(r),e=Z_(e,"onChange"),0<e.length&&(n=new j8("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var py=null,qy=null;function Hee(t){BU(t,0)}function p3(t){var e=Gp(t);if(qz(e))return t}function $ee(t,e){if(t==="change")return e}var SU=!1;if(xc){var hA;if(xc){var fA="oninput"in document;if(!fA){var PD=document.createElement("div");PD.setAttribute("oninput","return;"),fA=typeof PD.oninput=="function"}hA=fA}else hA=!1;SU=hA&&(!document.documentMode||9<document.documentMode)}function ND(){py&&(py.detachEvent("onpropertychange",AU),qy=py=null)}function AU(t){if(t.propertyName==="value"&&p3(qy)){var e=[];wU(e,qy,t,N8(t)),rU(Hee,e)}}function Gee(t,e,n){t==="focusin"?(ND(),py=e,qy=n,py.attachEvent("onpropertychange",AU)):t==="focusout"&&ND()}function Vee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return p3(qy)}function qee(t,e){if(t==="click")return p3(e)}function Kee(t,e){if(t==="input"||t==="change")return p3(e)}function Wee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Na=typeof Object.is=="function"?Object.is:Wee;function Ky(t,e){if(Na(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xE.call(e,i)||!Na(t[i],e[i]))return!1}return!0}function ID(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OD(t,e){var n=ID(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ID(n)}}function CU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MU(){for(var t=window,e=V_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=V_(t.document)}return e}function G8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Xee(t){var e=MU(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CU(n.ownerDocument.documentElement,n)){if(r!==null&&G8(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=OD(n,o);var s=OD(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jee=xc&&"documentMode"in document&&11>=document.documentMode,Hp=null,zE=null,my=null,UE=!1;function FD(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;UE||Hp==null||Hp!==V_(r)||(r=Hp,"selectionStart"in r&&G8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),my&&Ky(my,r)||(my=r,r=Z_(zE,"onSelect"),0<r.length&&(e=new j8("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hp)))}function Pb(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $p={animationend:Pb("Animation","AnimationEnd"),animationiteration:Pb("Animation","AnimationIteration"),animationstart:Pb("Animation","AnimationStart"),transitionend:Pb("Transition","TransitionEnd")},pA={},EU={};xc&&(EU=document.createElement("div").style,"AnimationEvent"in window||(delete $p.animationend.animation,delete $p.animationiteration.animation,delete $p.animationstart.animation),"TransitionEvent"in window||delete $p.transitionend.transition);function m3(t){if(pA[t])return pA[t];if(!$p[t])return t;var e=$p[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in EU)return pA[t]=e[n];return t}var kU=m3("animationend"),TU=m3("animationiteration"),DU=m3("animationstart"),LU=m3("transitionend"),RU=new Map,zD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ad(t,e){RU.set(t,e),ff(e,[t])}for(var mA=0;mA<zD.length;mA++){var gA=zD[mA],Yee=gA.toLowerCase(),Zee=gA[0].toUpperCase()+gA.slice(1);ad(Yee,"on"+Zee)}ad(kU,"onAnimationEnd");ad(TU,"onAnimationIteration");ad(DU,"onAnimationStart");ad("dblclick","onDoubleClick");ad("focusin","onFocus");ad("focusout","onBlur");ad(LU,"onTransitionEnd");Tm("onMouseEnter",["mouseout","mouseover"]);Tm("onMouseLeave",["mouseout","mouseover"]);Tm("onPointerEnter",["pointerout","pointerover"]);Tm("onPointerLeave",["pointerout","pointerover"]);ff("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ff("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ff("onBeforeInput",["compositionend","keypress","textInput","paste"]);ff("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ff("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ff("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ey="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qee=new Set("cancel close invalid load scroll toggle".split(" ").concat(ey));function UD(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,YQ(r,e,void 0,t),t.currentTarget=null}function BU(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;UD(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;UD(i,a,c),o=l}}}if(K_)throw t=NE,K_=!1,NE=null,t}function ir(t,e){var n=e[VE];n===void 0&&(n=e[VE]=new Set);var r=t+"__bubble";n.has(r)||(PU(e,t,2,!1),n.add(r))}function yA(t,e,n){var r=0;e&&(r|=4),PU(n,t,r,e)}var Nb="_reactListening"+Math.random().toString(36).slice(2);function Wy(t){if(!t[Nb]){t[Nb]=!0,jz.forEach(function(n){n!=="selectionchange"&&(Qee.has(n)||yA(n,!1,t),yA(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nb]||(e[Nb]=!0,yA("selectionchange",!1,e))}}function PU(t,e,n,r){switch(yU(e)){case 1:var i=fee;break;case 4:i=pee;break;default:i=z8}n=i.bind(null,e,n,t),i=void 0,!PE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vA(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=bh(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}rU(function(){var c=o,u=N8(n),d=[];e:{var h=RU.get(t);if(h!==void 0){var f=j8,p=t;switch(t){case"keypress":if(u_(n)===0)break e;case"keydown":case"keyup":f=Tee;break;case"focusin":p="focus",f=dA;break;case"focusout":p="blur",f=dA;break;case"beforeblur":case"afterblur":f=dA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=kD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=yee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ree;break;case kU:case TU:case DU:f=xee;break;case LU:f=Pee;break;case"scroll":f=mee;break;case"wheel":f=Iee;break;case"copy":case"cut":case"paste":f=wee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=DD}var v=(e&4)!==0,b=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var x=c,w;x!==null;){w=x;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,y!==null&&(A=Hy(x,y),A!=null&&v.push(Xy(x,A,w)))),b)break;x=x.return}0<v.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==RE&&(p=n.relatedTarget||n.fromElement)&&(bh(p)||p[_c]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?bh(p):null,p!==null&&(b=pf(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(v=kD,A="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=DD,A="onPointerLeave",y="onPointerEnter",x="pointer"),b=f==null?h:Gp(f),w=p==null?h:Gp(p),h=new v(A,x+"leave",f,n,u),h.target=b,h.relatedTarget=w,A=null,bh(u)===c&&(v=new v(y,x+"enter",p,n,u),v.target=w,v.relatedTarget=b,A=v),b=A,f&&p)t:{for(v=f,y=p,x=0,w=v;w;w=zf(w))x++;for(w=0,A=y;A;A=zf(A))w++;for(;0<x-w;)v=zf(v),x--;for(;0<w-x;)y=zf(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=zf(v),y=zf(y)}v=null}else v=null;f!==null&&jD(d,h,f,v,!1),p!==null&&b!==null&&jD(d,b,p,v,!0)}}e:{if(h=c?Gp(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var D=$ee;else if(BD(h))if(SU)D=Kee;else{D=Vee;var k=Gee}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=qee);if(D&&(D=D(t,c))){wU(d,D,n,u);break e}k&&k(t,h,c),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&EE(h,"number",h.value)}switch(k=c?Gp(c):window,t){case"focusin":(BD(k)||k.contentEditable==="true")&&(Hp=k,zE=c,my=null);break;case"focusout":my=zE=Hp=null;break;case"mousedown":UE=!0;break;case"contextmenu":case"mouseup":case"dragend":UE=!1,FD(d,n,u);break;case"selectionchange":if(Jee)break;case"keydown":case"keyup":FD(d,n,u)}var R;if($8)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else jp?xU(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(bU&&n.locale!=="ko"&&(jp||L!=="onCompositionStart"?L==="onCompositionEnd"&&jp&&(R=vU()):(Iu=u,U8="value"in Iu?Iu.value:Iu.textContent,jp=!0)),k=Z_(c,L),0<k.length&&(L=new TD(L,t,null,n,u),d.push({event:L,listeners:k}),R?L.data=R:(R=_U(n),R!==null&&(L.data=R)))),(R=Fee?zee(t,n):Uee(t,n))&&(c=Z_(c,"onBeforeInput"),0<c.length&&(u=new TD("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=R))}BU(d,e)})}function Xy(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Z_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hy(t,n),o!=null&&r.unshift(Xy(t,o,i)),o=Hy(t,e),o!=null&&r.push(Xy(t,o,i))),t=t.return}return r}function zf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jD(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Hy(n,o),l!=null&&s.unshift(Xy(n,l,a))):i||(l=Hy(n,o),l!=null&&s.push(Xy(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var ete=/\r\n?/g,tte=/\u0000|\uFFFD/g;function HD(t){return(typeof t=="string"?t:""+t).replace(ete,`
`).replace(tte,"")}function Ib(t,e,n){if(e=HD(e),HD(t)!==e&&n)throw Error(nt(425))}function Q_(){}var jE=null,HE=null;function $E(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var GE=typeof setTimeout=="function"?setTimeout:void 0,nte=typeof clearTimeout=="function"?clearTimeout:void 0,$D=typeof Promise=="function"?Promise:void 0,rte=typeof queueMicrotask=="function"?queueMicrotask:typeof $D<"u"?function(t){return $D.resolve(null).then(t).catch(ite)}:GE;function ite(t){setTimeout(function(){throw t})}function bA(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vy(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vy(e)}function $u(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function GD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var f0=Math.random().toString(36).slice(2),fl="__reactFiber$"+f0,Jy="__reactProps$"+f0,_c="__reactContainer$"+f0,VE="__reactEvents$"+f0,ote="__reactListeners$"+f0,ste="__reactHandles$"+f0;function bh(t){var e=t[fl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_c]||n[fl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=GD(t);t!==null;){if(n=t[fl])return n;t=GD(t)}return e}t=n,n=t.parentNode}return null}function G1(t){return t=t[fl]||t[_c],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(nt(33))}function g3(t){return t[Jy]||null}var qE=[],Vp=-1;function ld(t){return{current:t}}function cr(t){0>Vp||(t.current=qE[Vp],qE[Vp]=null,Vp--)}function nr(t,e){Vp++,qE[Vp]=t.current,t.current=e}var Qu={},io=ld(Qu),qo=ld(!1),Vh=Qu;function Dm(t,e){var n=t.type.contextTypes;if(!n)return Qu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ko(t){return t=t.childContextTypes,t!=null}function ew(){cr(qo),cr(io)}function VD(t,e,n){if(io.current!==Qu)throw Error(nt(168));nr(io,e),nr(qo,n)}function NU(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(nt(108,GQ(t)||"Unknown",i));return kr({},n,r)}function tw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qu,Vh=io.current,nr(io,t),nr(qo,qo.current),!0}function qD(t,e,n){var r=t.stateNode;if(!r)throw Error(nt(169));n?(t=NU(t,e,Vh),r.__reactInternalMemoizedMergedChildContext=t,cr(qo),cr(io),nr(io,t)):cr(qo),nr(qo,n)}var oc=null,y3=!1,xA=!1;function IU(t){oc===null?oc=[t]:oc.push(t)}function ate(t){y3=!0,IU(t)}function cd(){if(!xA&&oc!==null){xA=!0;var t=0,e=jn;try{var n=oc;for(jn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oc=null,y3=!1}catch(i){throw oc!==null&&(oc=oc.slice(t+1)),aU(I8,cd),i}finally{jn=e,xA=!1}}return null}var qp=[],Kp=0,nw=null,rw=0,Ks=[],Ws=0,qh=null,hc=1,fc="";function th(t,e){qp[Kp++]=rw,qp[Kp++]=nw,nw=t,rw=e}function OU(t,e,n){Ks[Ws++]=hc,Ks[Ws++]=fc,Ks[Ws++]=qh,qh=t;var r=hc;t=fc;var i=32-Ta(r)-1;r&=~(1<<i),n+=1;var o=32-Ta(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,hc=1<<32-Ta(e)+i|n<<i|r,fc=o+t}else hc=1<<o|n<<i|r,fc=t}function V8(t){t.return!==null&&(th(t,1),OU(t,1,0))}function q8(t){for(;t===nw;)nw=qp[--Kp],qp[Kp]=null,rw=qp[--Kp],qp[Kp]=null;for(;t===qh;)qh=Ks[--Ws],Ks[Ws]=null,fc=Ks[--Ws],Ks[Ws]=null,hc=Ks[--Ws],Ks[Ws]=null}var bs=null,ms=null,gr=!1,Aa=null;function FU(t,e){var n=Js(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function KD(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bs=t,ms=$u(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bs=t,ms=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qh!==null?{id:hc,overflow:fc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Js(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bs=t,ms=null,!0):!1;default:return!1}}function KE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function WE(t){if(gr){var e=ms;if(e){var n=e;if(!KD(t,e)){if(KE(t))throw Error(nt(418));e=$u(n.nextSibling);var r=bs;e&&KD(t,e)?FU(r,n):(t.flags=t.flags&-4097|2,gr=!1,bs=t)}}else{if(KE(t))throw Error(nt(418));t.flags=t.flags&-4097|2,gr=!1,bs=t}}}function WD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bs=t}function Ob(t){if(t!==bs)return!1;if(!gr)return WD(t),gr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$E(t.type,t.memoizedProps)),e&&(e=ms)){if(KE(t))throw zU(),Error(nt(418));for(;e;)FU(t,e),e=$u(e.nextSibling)}if(WD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ms=$u(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ms=null}}else ms=bs?$u(t.stateNode.nextSibling):null;return!0}function zU(){for(var t=ms;t;)t=$u(t.nextSibling)}function Lm(){ms=bs=null,gr=!1}function K8(t){Aa===null?Aa=[t]:Aa.push(t)}var lte=Bc.ReactCurrentBatchConfig;function _a(t,e){if(t&&t.defaultProps){e=kr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var iw=ld(null),ow=null,Wp=null,W8=null;function X8(){W8=Wp=ow=null}function J8(t){var e=iw.current;cr(iw),t._currentValue=e}function XE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fm(t,e){ow=t,W8=Wp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vo=!0),t.firstContext=null)}function ra(t){var e=t._currentValue;if(W8!==t)if(t={context:t,memoizedValue:e,next:null},Wp===null){if(ow===null)throw Error(nt(308));Wp=t,ow.dependencies={lanes:0,firstContext:t}}else Wp=Wp.next=t;return e}var xh=null;function Y8(t){xh===null?xh=[t]:xh.push(t)}function UU(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Y8(e)):(n.next=i.next,i.next=n),e.interleaved=n,wc(t,r)}function wc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tu=!1;function Z8(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Cn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wc(t,n)}return i=r.interleaved,i===null?(e.next=e,Y8(r)):(e.next=i.next,i.next=e),r.interleaved=e,wc(t,n)}function d_(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O8(t,n)}}function XD(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sw(t,e,n,r){var i=t.updateQueue;Tu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(h=e,f=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=kr({},d,h);break e;case 2:Tu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Wh|=s,t.lanes=s,t.memoizedState=d}}function JD(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(nt(191,i));i.call(r)}}}var HU=new Uz.Component().refs;function JE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var v3={isMounted:function(t){return(t=t._reactInternals)?pf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mo(),i=qu(t),o=gc(r,i);o.payload=e,n!=null&&(o.callback=n),e=Gu(t,o,i),e!==null&&(Da(e,t,i,r),d_(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mo(),i=qu(t),o=gc(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Gu(t,o,i),e!==null&&(Da(e,t,i,r),d_(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mo(),r=qu(t),i=gc(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gu(t,i,r),e!==null&&(Da(e,t,r,n),d_(e,t,r))}};function YD(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ky(n,r)||!Ky(i,o):!0}function $U(t,e,n){var r=!1,i=Qu,o=e.contextType;return typeof o=="object"&&o!==null?o=ra(o):(i=Ko(e)?Vh:io.current,r=e.contextTypes,o=(r=r!=null)?Dm(t,i):Qu),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=v3,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ZD(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&v3.enqueueReplaceState(e,e.state,null)}function YE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=HU,Z8(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ra(o):(o=Ko(e)?Vh:io.current,i.context=Dm(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(JE(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&v3.enqueueReplaceState(i,i.state,null),sw(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function J0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(nt(309));var r=n.stateNode}if(!r)throw Error(nt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===HU&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(nt(284));if(!n._owner)throw Error(nt(290,t))}return t}function Fb(t,e){throw t=Object.prototype.toString.call(e),Error(nt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function QD(t){var e=t._init;return e(t._payload)}function GU(t){function e(y,x){if(t){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Ku(y,x),y.index=0,y.sibling=null,y}function o(y,x,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,w,A){return x===null||x.tag!==6?(x=EA(w,y.mode,A),x.return=y,x):(x=i(x,w),x.return=y,x)}function l(y,x,w,A){var D=w.type;return D===Up?u(y,x,w.props.children,A,w.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ku&&QD(D)===x.type)?(A=i(x,w.props),A.ref=J0(y,x,w),A.return=y,A):(A=y_(w.type,w.key,w.props,null,y.mode,A),A.ref=J0(y,x,w),A.return=y,A)}function c(y,x,w,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=kA(w,y.mode,A),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function u(y,x,w,A,D){return x===null||x.tag!==7?(x=Ph(w,y.mode,A,D),x.return=y,x):(x=i(x,w),x.return=y,x)}function d(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=EA(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Eb:return w=y_(x.type,x.key,x.props,null,y.mode,w),w.ref=J0(y,null,x),w.return=y,w;case zp:return x=kA(x,y.mode,w),x.return=y,x;case ku:var A=x._init;return d(y,A(x._payload),w)}if(Zg(x)||V0(x))return x=Ph(x,y.mode,w,null),x.return=y,x;Fb(y,x)}return null}function h(y,x,w,A){var D=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return D!==null?null:a(y,x,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Eb:return w.key===D?l(y,x,w,A):null;case zp:return w.key===D?c(y,x,w,A):null;case ku:return D=w._init,h(y,x,D(w._payload),A)}if(Zg(w)||V0(w))return D!==null?null:u(y,x,w,A,null);Fb(y,w)}return null}function f(y,x,w,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(w)||null,a(x,y,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Eb:return y=y.get(A.key===null?w:A.key)||null,l(x,y,A,D);case zp:return y=y.get(A.key===null?w:A.key)||null,c(x,y,A,D);case ku:var k=A._init;return f(y,x,w,k(A._payload),D)}if(Zg(A)||V0(A))return y=y.get(w)||null,u(x,y,A,D,null);Fb(x,A)}return null}function p(y,x,w,A){for(var D=null,k=null,R=x,L=x=0,T=null;R!==null&&L<w.length;L++){R.index>L?(T=R,R=null):T=R.sibling;var C=h(y,R,w[L],A);if(C===null){R===null&&(R=T);break}t&&R&&C.alternate===null&&e(y,R),x=o(C,x,L),k===null?D=C:k.sibling=C,k=C,R=T}if(L===w.length)return n(y,R),gr&&th(y,L),D;if(R===null){for(;L<w.length;L++)R=d(y,w[L],A),R!==null&&(x=o(R,x,L),k===null?D=R:k.sibling=R,k=R);return gr&&th(y,L),D}for(R=r(y,R);L<w.length;L++)T=f(R,y,L,w[L],A),T!==null&&(t&&T.alternate!==null&&R.delete(T.key===null?L:T.key),x=o(T,x,L),k===null?D=T:k.sibling=T,k=T);return t&&R.forEach(function(P){return e(y,P)}),gr&&th(y,L),D}function v(y,x,w,A){var D=V0(w);if(typeof D!="function")throw Error(nt(150));if(w=D.call(w),w==null)throw Error(nt(151));for(var k=D=null,R=x,L=x=0,T=null,C=w.next();R!==null&&!C.done;L++,C=w.next()){R.index>L?(T=R,R=null):T=R.sibling;var P=h(y,R,C.value,A);if(P===null){R===null&&(R=T);break}t&&R&&P.alternate===null&&e(y,R),x=o(P,x,L),k===null?D=P:k.sibling=P,k=P,R=T}if(C.done)return n(y,R),gr&&th(y,L),D;if(R===null){for(;!C.done;L++,C=w.next())C=d(y,C.value,A),C!==null&&(x=o(C,x,L),k===null?D=C:k.sibling=C,k=C);return gr&&th(y,L),D}for(R=r(y,R);!C.done;L++,C=w.next())C=f(R,y,L,C.value,A),C!==null&&(t&&C.alternate!==null&&R.delete(C.key===null?L:C.key),x=o(C,x,L),k===null?D=C:k.sibling=C,k=C);return t&&R.forEach(function(z){return e(y,z)}),gr&&th(y,L),D}function b(y,x,w,A){if(typeof w=="object"&&w!==null&&w.type===Up&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Eb:e:{for(var D=w.key,k=x;k!==null;){if(k.key===D){if(D=w.type,D===Up){if(k.tag===7){n(y,k.sibling),x=i(k,w.props.children),x.return=y,y=x;break e}}else if(k.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ku&&QD(D)===k.type){n(y,k.sibling),x=i(k,w.props),x.ref=J0(y,k,w),x.return=y,y=x;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===Up?(x=Ph(w.props.children,y.mode,A,w.key),x.return=y,y=x):(A=y_(w.type,w.key,w.props,null,y.mode,A),A.ref=J0(y,x,w),A.return=y,y=A)}return s(y);case zp:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=kA(w,y.mode,A),x.return=y,y=x}return s(y);case ku:return k=w._init,b(y,x,k(w._payload),A)}if(Zg(w))return p(y,x,w,A);if(V0(w))return v(y,x,w,A);Fb(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,w),x.return=y,y=x):(n(y,x),x=EA(w,y.mode,A),x.return=y,y=x),s(y)):n(y,x)}return b}var Rm=GU(!0),VU=GU(!1),V1={},Sl=ld(V1),Yy=ld(V1),Zy=ld(V1);function _h(t){if(t===V1)throw Error(nt(174));return t}function Q8(t,e){switch(nr(Zy,e),nr(Yy,t),nr(Sl,V1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:TE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=TE(e,t)}cr(Sl),nr(Sl,e)}function Bm(){cr(Sl),cr(Yy),cr(Zy)}function qU(t){_h(Zy.current);var e=_h(Sl.current),n=TE(e,t.type);e!==n&&(nr(Yy,t),nr(Sl,n))}function ek(t){Yy.current===t&&(cr(Sl),cr(Yy))}var Ar=ld(0);function aw(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _A=[];function tk(){for(var t=0;t<_A.length;t++)_A[t]._workInProgressVersionPrimary=null;_A.length=0}var h_=Bc.ReactCurrentDispatcher,wA=Bc.ReactCurrentBatchConfig,Kh=0,Er=null,oi=null,xi=null,lw=!1,gy=!1,Qy=0,cte=0;function qi(){throw Error(nt(321))}function nk(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Na(t[n],e[n]))return!1;return!0}function rk(t,e,n,r,i,o){if(Kh=o,Er=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,h_.current=t===null||t.memoizedState===null?fte:pte,t=n(r,i),gy){o=0;do{if(gy=!1,Qy=0,25<=o)throw Error(nt(301));o+=1,xi=oi=null,e.updateQueue=null,h_.current=mte,t=n(r,i)}while(gy)}if(h_.current=cw,e=oi!==null&&oi.next!==null,Kh=0,xi=oi=Er=null,lw=!1,e)throw Error(nt(300));return t}function ik(){var t=Qy!==0;return Qy=0,t}function al(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?Er.memoizedState=xi=t:xi=xi.next=t,xi}function ia(){if(oi===null){var t=Er.alternate;t=t!==null?t.memoizedState:null}else t=oi.next;var e=xi===null?Er.memoizedState:xi.next;if(e!==null)xi=e,oi=t;else{if(t===null)throw Error(nt(310));oi=t,t={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},xi===null?Er.memoizedState=xi=t:xi=xi.next=t}return xi}function e1(t,e){return typeof e=="function"?e(t):e}function SA(t){var e=ia(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=oi,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Kh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Er.lanes|=u,Wh|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Na(r,e.memoizedState)||(Vo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Er.lanes|=o,Wh|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function AA(t){var e=ia(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Na(o,e.memoizedState)||(Vo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function KU(){}function WU(t,e){var n=Er,r=ia(),i=e(),o=!Na(r.memoizedState,i);if(o&&(r.memoizedState=i,Vo=!0),r=r.queue,ok(YU.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||xi!==null&&xi.memoizedState.tag&1){if(n.flags|=2048,t1(9,JU.bind(null,n,r,i,e),void 0,null),wi===null)throw Error(nt(349));Kh&30||XU(n,e,i)}return i}function XU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Er.updateQueue,e===null?(e={lastEffect:null,stores:null},Er.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JU(t,e,n,r){e.value=n,e.getSnapshot=r,ZU(e)&&QU(t)}function YU(t,e,n){return n(function(){ZU(e)&&QU(t)})}function ZU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Na(t,n)}catch{return!0}}function QU(t){var e=wc(t,1);e!==null&&Da(e,t,1,-1)}function eL(t){var e=al();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e1,lastRenderedState:t},e.queue=t,t=t.dispatch=hte.bind(null,Er,t),[e.memoizedState,t]}function t1(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Er.updateQueue,e===null?(e={lastEffect:null,stores:null},Er.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ej(){return ia().memoizedState}function f_(t,e,n,r){var i=al();Er.flags|=t,i.memoizedState=t1(1|e,n,void 0,r===void 0?null:r)}function b3(t,e,n,r){var i=ia();r=r===void 0?null:r;var o=void 0;if(oi!==null){var s=oi.memoizedState;if(o=s.destroy,r!==null&&nk(r,s.deps)){i.memoizedState=t1(e,n,o,r);return}}Er.flags|=t,i.memoizedState=t1(1|e,n,o,r)}function tL(t,e){return f_(8390656,8,t,e)}function ok(t,e){return b3(2048,8,t,e)}function tj(t,e){return b3(4,2,t,e)}function nj(t,e){return b3(4,4,t,e)}function rj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ij(t,e,n){return n=n!=null?n.concat([t]):null,b3(4,4,rj.bind(null,e,t),n)}function sk(){}function oj(t,e){var n=ia();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nk(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sj(t,e){var n=ia();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nk(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aj(t,e,n){return Kh&21?(Na(n,e)||(n=uU(),Er.lanes|=n,Wh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vo=!0),t.memoizedState=n)}function ute(t,e){var n=jn;jn=n!==0&&4>n?n:4,t(!0);var r=wA.transition;wA.transition={};try{t(!1),e()}finally{jn=n,wA.transition=r}}function lj(){return ia().memoizedState}function dte(t,e,n){var r=qu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cj(t))uj(e,n);else if(n=UU(t,e,n,r),n!==null){var i=Mo();Da(n,t,r,i),dj(n,e,r)}}function hte(t,e,n){var r=qu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cj(t))uj(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Na(a,s)){var l=e.interleaved;l===null?(i.next=i,Y8(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=UU(t,e,i,r),n!==null&&(i=Mo(),Da(n,t,r,i),dj(n,e,r))}}function cj(t){var e=t.alternate;return t===Er||e!==null&&e===Er}function uj(t,e){gy=lw=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,O8(t,n)}}var cw={readContext:ra,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useInsertionEffect:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useDeferredValue:qi,useTransition:qi,useMutableSource:qi,useSyncExternalStore:qi,useId:qi,unstable_isNewReconciler:!1},fte={readContext:ra,useCallback:function(t,e){return al().memoizedState=[t,e===void 0?null:e],t},useContext:ra,useEffect:tL,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,f_(4194308,4,rj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return f_(4194308,4,t,e)},useInsertionEffect:function(t,e){return f_(4,2,t,e)},useMemo:function(t,e){var n=al();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=al();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dte.bind(null,Er,t),[r.memoizedState,t]},useRef:function(t){var e=al();return t={current:t},e.memoizedState=t},useState:eL,useDebugValue:sk,useDeferredValue:function(t){return al().memoizedState=t},useTransition:function(){var t=eL(!1),e=t[0];return t=ute.bind(null,t[1]),al().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Er,i=al();if(gr){if(n===void 0)throw Error(nt(407));n=n()}else{if(n=e(),wi===null)throw Error(nt(349));Kh&30||XU(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,tL(YU.bind(null,r,o,t),[t]),r.flags|=2048,t1(9,JU.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=al(),e=wi.identifierPrefix;if(gr){var n=fc,r=hc;n=(r&~(1<<32-Ta(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qy++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cte++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pte={readContext:ra,useCallback:oj,useContext:ra,useEffect:ok,useImperativeHandle:ij,useInsertionEffect:tj,useLayoutEffect:nj,useMemo:sj,useReducer:SA,useRef:ej,useState:function(){return SA(e1)},useDebugValue:sk,useDeferredValue:function(t){var e=ia();return aj(e,oi.memoizedState,t)},useTransition:function(){var t=SA(e1)[0],e=ia().memoizedState;return[t,e]},useMutableSource:KU,useSyncExternalStore:WU,useId:lj,unstable_isNewReconciler:!1},mte={readContext:ra,useCallback:oj,useContext:ra,useEffect:ok,useImperativeHandle:ij,useInsertionEffect:tj,useLayoutEffect:nj,useMemo:sj,useReducer:AA,useRef:ej,useState:function(){return AA(e1)},useDebugValue:sk,useDeferredValue:function(t){var e=ia();return oi===null?e.memoizedState=t:aj(e,oi.memoizedState,t)},useTransition:function(){var t=AA(e1)[0],e=ia().memoizedState;return[t,e]},useMutableSource:KU,useSyncExternalStore:WU,useId:lj,unstable_isNewReconciler:!1};function Pm(t,e){try{var n="",r=e;do n+=$Q(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function CA(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ZE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gte=typeof WeakMap=="function"?WeakMap:Map;function hj(t,e,n){n=gc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dw||(dw=!0,l5=r),ZE(t,e)},n}function fj(t,e,n){n=gc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ZE(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ZE(t,e),typeof r!="function"&&(Vu===null?Vu=new Set([this]):Vu.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function nL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gte;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Dte.bind(null,t,e,n),e.then(t,t))}function rL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iL(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gc(-1,1),e.tag=2,Gu(n,e,1))),n.lanes|=1),t)}var yte=Bc.ReactCurrentOwner,Vo=!1;function xo(t,e,n,r){e.child=t===null?VU(e,null,n,r):Rm(e,t.child,n,r)}function oL(t,e,n,r,i){n=n.render;var o=e.ref;return fm(e,i),r=rk(t,e,n,r,o,i),n=ik(),t!==null&&!Vo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sc(t,e,i)):(gr&&n&&V8(e),e.flags|=1,xo(t,e,r,i),e.child)}function sL(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!pk(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,pj(t,e,o,r,i)):(t=y_(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ky,n(s,r)&&t.ref===e.ref)return Sc(t,e,i)}return e.flags|=1,t=Ku(o,r),t.ref=e.ref,t.return=e,e.child=t}function pj(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ky(o,r)&&t.ref===e.ref)if(Vo=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Vo=!0);else return e.lanes=t.lanes,Sc(t,e,i)}return QE(t,e,n,r,i)}function mj(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(Jp,ds),ds|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nr(Jp,ds),ds|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,nr(Jp,ds),ds|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,nr(Jp,ds),ds|=r;return xo(t,e,i,n),e.child}function gj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function QE(t,e,n,r,i){var o=Ko(n)?Vh:io.current;return o=Dm(e,o),fm(e,i),n=rk(t,e,n,r,o,i),r=ik(),t!==null&&!Vo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sc(t,e,i)):(gr&&r&&V8(e),e.flags|=1,xo(t,e,n,i),e.child)}function aL(t,e,n,r,i){if(Ko(n)){var o=!0;tw(e)}else o=!1;if(fm(e,i),e.stateNode===null)p_(t,e),$U(e,n,r),YE(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ra(c):(c=Ko(n)?Vh:io.current,c=Dm(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ZD(e,s,r,c),Tu=!1;var h=e.memoizedState;s.state=h,sw(e,r,s,i),l=e.memoizedState,a!==r||h!==l||qo.current||Tu?(typeof u=="function"&&(JE(e,n,u,r),l=e.memoizedState),(a=Tu||YD(e,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,jU(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_a(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ra(l):(l=Ko(n)?Vh:io.current,l=Dm(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&ZD(e,s,r,l),Tu=!1,h=e.memoizedState,s.state=h,sw(e,r,s,i);var p=e.memoizedState;a!==d||h!==p||qo.current||Tu?(typeof f=="function"&&(JE(e,n,f,r),p=e.memoizedState),(c=Tu||YD(e,n,c,r,h,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return e5(t,e,n,r,o,i)}function e5(t,e,n,r,i,o){gj(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&qD(e,n,!1),Sc(t,e,o);r=e.stateNode,yte.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Rm(e,t.child,null,o),e.child=Rm(e,null,a,o)):xo(t,e,a,o),e.memoizedState=r.state,i&&qD(e,n,!0),e.child}function yj(t){var e=t.stateNode;e.pendingContext?VD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VD(t,e.context,!1),Q8(t,e.containerInfo)}function lL(t,e,n,r,i){return Lm(),K8(i),e.flags|=256,xo(t,e,n,r),e.child}var t5={dehydrated:null,treeContext:null,retryLane:0};function n5(t){return{baseLanes:t,cachePool:null,transitions:null}}function vj(t,e,n){var r=e.pendingProps,i=Ar.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nr(Ar,i&1),t===null)return WE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=w3(s,r,0,null),t=Ph(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=n5(n),e.memoizedState=t5,t):ak(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vte(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ku(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ku(a,o):(o=Ph(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?n5(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=t5,r}return o=t.child,t=o.sibling,r=Ku(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ak(t,e){return e=w3({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zb(t,e,n,r){return r!==null&&K8(r),Rm(e,t.child,null,n),t=ak(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vte(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=CA(Error(nt(422))),zb(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=w3({mode:"visible",children:r.children},i,0,null),o=Ph(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Rm(e,t.child,null,s),e.child.memoizedState=n5(s),e.memoizedState=t5,o);if(!(e.mode&1))return zb(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(nt(419)),r=CA(o,r,void 0),zb(t,e,s,r)}if(a=(s&t.childLanes)!==0,Vo||a){if(r=wi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,wc(t,i),Da(r,t,i,-1))}return fk(),r=CA(Error(nt(421))),zb(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Lte.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ms=$u(i.nextSibling),bs=e,gr=!0,Aa=null,t!==null&&(Ks[Ws++]=hc,Ks[Ws++]=fc,Ks[Ws++]=qh,hc=t.id,fc=t.overflow,qh=e),e=ak(e,r.children),e.flags|=4096,e)}function cL(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),XE(t.return,e,n)}function MA(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function bj(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xo(t,e,r.children,n),r=Ar.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cL(t,n,e);else if(t.tag===19)cL(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nr(Ar,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&aw(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),MA(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&aw(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}MA(e,!0,n,null,o);break;case"together":MA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function p_(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(nt(153));if(e.child!==null){for(t=e.child,n=Ku(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ku(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bte(t,e,n){switch(e.tag){case 3:yj(e),Lm();break;case 5:qU(e);break;case 1:Ko(e.type)&&tw(e);break;case 4:Q8(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nr(iw,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nr(Ar,Ar.current&1),e.flags|=128,null):n&e.child.childLanes?vj(t,e,n):(nr(Ar,Ar.current&1),t=Sc(t,e,n),t!==null?t.sibling:null);nr(Ar,Ar.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nr(Ar,Ar.current),r)break;return null;case 22:case 23:return e.lanes=0,mj(t,e,n)}return Sc(t,e,n)}var xj,r5,_j,wj;xj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};r5=function(){};_j=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_h(Sl.current);var o=null;switch(n){case"input":i=CE(t,i),r=CE(t,r),o=[];break;case"select":i=kr({},i,{value:void 0}),r=kr({},r,{value:void 0}),o=[];break;case"textarea":i=kE(t,i),r=kE(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Q_)}DE(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Uy.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Uy.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ir("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};wj=function(t,e,n,r){n!==r&&(e.flags|=4)};function Y0(t,e){if(!gr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ki(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xte(t,e,n){var r=e.pendingProps;switch(q8(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ki(e),null;case 1:return Ko(e.type)&&ew(),Ki(e),null;case 3:return r=e.stateNode,Bm(),cr(qo),cr(io),tk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ob(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Aa!==null&&(d5(Aa),Aa=null))),r5(t,e),Ki(e),null;case 5:ek(e);var i=_h(Zy.current);if(n=e.type,t!==null&&e.stateNode!=null)_j(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(nt(166));return Ki(e),null}if(t=_h(Sl.current),Ob(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[fl]=e,r[Jy]=o,t=(e.mode&1)!==0,n){case"dialog":ir("cancel",r),ir("close",r);break;case"iframe":case"object":case"embed":ir("load",r);break;case"video":case"audio":for(i=0;i<ey.length;i++)ir(ey[i],r);break;case"source":ir("error",r);break;case"img":case"image":case"link":ir("error",r),ir("load",r);break;case"details":ir("toggle",r);break;case"input":vD(r,o),ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ir("invalid",r);break;case"textarea":xD(r,o),ir("invalid",r)}DE(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ib(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ib(r.textContent,a,t),i=["children",""+a]):Uy.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ir("scroll",r)}switch(n){case"input":kb(r),bD(r,o,!0);break;case"textarea":kb(r),_D(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Q_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xz(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[fl]=e,t[Jy]=r,xj(t,e,!1,!1),e.stateNode=t;e:{switch(s=LE(n,r),n){case"dialog":ir("cancel",t),ir("close",t),i=r;break;case"iframe":case"object":case"embed":ir("load",t),i=r;break;case"video":case"audio":for(i=0;i<ey.length;i++)ir(ey[i],t);i=r;break;case"source":ir("error",t),i=r;break;case"img":case"image":case"link":ir("error",t),ir("load",t),i=r;break;case"details":ir("toggle",t),i=r;break;case"input":vD(t,r),i=CE(t,r),ir("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=kr({},r,{value:void 0}),ir("invalid",t);break;case"textarea":xD(t,r),i=kE(t,r),ir("invalid",t);break;default:i=r}DE(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Zz(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jz(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jy(t,l):typeof l=="number"&&jy(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uy.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ir("scroll",t):l!=null&&L8(t,o,l,s))}switch(n){case"input":kb(t),bD(t,r,!1);break;case"textarea":kb(t),_D(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zu(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?cm(t,!!r.multiple,o,!1):r.defaultValue!=null&&cm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Q_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ki(e),null;case 6:if(t&&e.stateNode!=null)wj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(nt(166));if(n=_h(Zy.current),_h(Sl.current),Ob(e)){if(r=e.stateNode,n=e.memoizedProps,r[fl]=e,(o=r.nodeValue!==n)&&(t=bs,t!==null))switch(t.tag){case 3:Ib(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ib(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fl]=e,e.stateNode=r}return Ki(e),null;case 13:if(cr(Ar),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gr&&ms!==null&&e.mode&1&&!(e.flags&128))zU(),Lm(),e.flags|=98560,o=!1;else if(o=Ob(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(nt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(nt(317));o[fl]=e}else Lm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ki(e),o=!1}else Aa!==null&&(d5(Aa),Aa=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ar.current&1?li===0&&(li=3):fk())),e.updateQueue!==null&&(e.flags|=4),Ki(e),null);case 4:return Bm(),r5(t,e),t===null&&Wy(e.stateNode.containerInfo),Ki(e),null;case 10:return J8(e.type._context),Ki(e),null;case 17:return Ko(e.type)&&ew(),Ki(e),null;case 19:if(cr(Ar),o=e.memoizedState,o===null)return Ki(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Y0(o,!1);else{if(li!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=aw(t),s!==null){for(e.flags|=128,Y0(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nr(Ar,Ar.current&1|2),e.child}t=t.sibling}o.tail!==null&&jr()>Nm&&(e.flags|=128,r=!0,Y0(o,!1),e.lanes=4194304)}else{if(!r)if(t=aw(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Y0(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!gr)return Ki(e),null}else 2*jr()-o.renderingStartTime>Nm&&n!==1073741824&&(e.flags|=128,r=!0,Y0(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=jr(),e.sibling=null,n=Ar.current,nr(Ar,r?n&1|2:n&1),e):(Ki(e),null);case 22:case 23:return hk(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ds&1073741824&&(Ki(e),e.subtreeFlags&6&&(e.flags|=8192)):Ki(e),null;case 24:return null;case 25:return null}throw Error(nt(156,e.tag))}function _te(t,e){switch(q8(e),e.tag){case 1:return Ko(e.type)&&ew(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bm(),cr(qo),cr(io),tk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ek(e),null;case 13:if(cr(Ar),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(nt(340));Lm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cr(Ar),null;case 4:return Bm(),null;case 10:return J8(e.type._context),null;case 22:case 23:return hk(),null;case 24:return null;default:return null}}var Ub=!1,to=!1,wte=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Xp(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rr(t,e,r)}else n.current=null}function i5(t,e,n){try{n()}catch(r){Rr(t,e,r)}}var uL=!1;function Ste(t,e){if(jE=J_,t=MU(),G8(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(HE={focusedElem:t,selectionRange:n},J_=!1,wt=e;wt!==null;)if(e=wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,wt=t;else for(;wt!==null;){e=wt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,b=p.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:_a(e.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(A){Rr(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,wt=t;break}wt=e.return}return p=uL,uL=!1,p}function yy(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&i5(e,n,o)}i=i.next}while(i!==r)}}function x3(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o5(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sj(t){var e=t.alternate;e!==null&&(t.alternate=null,Sj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fl],delete e[Jy],delete e[VE],delete e[ote],delete e[ste])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Aj(t){return t.tag===5||t.tag===3||t.tag===4}function dL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Aj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function s5(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Q_));else if(r!==4&&(t=t.child,t!==null))for(s5(t,e,n),t=t.sibling;t!==null;)s5(t,e,n),t=t.sibling}function a5(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(a5(t,e,n),t=t.sibling;t!==null;)a5(t,e,n),t=t.sibling}var Bi=null,Sa=!1;function Yc(t,e,n){for(n=n.child;n!==null;)Cj(t,e,n),n=n.sibling}function Cj(t,e,n){if(wl&&typeof wl.onCommitFiberUnmount=="function")try{wl.onCommitFiberUnmount(h3,n)}catch{}switch(n.tag){case 5:to||Xp(n,e);case 6:var r=Bi,i=Sa;Bi=null,Yc(t,e,n),Bi=r,Sa=i,Bi!==null&&(Sa?(t=Bi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bi.removeChild(n.stateNode));break;case 18:Bi!==null&&(Sa?(t=Bi,n=n.stateNode,t.nodeType===8?bA(t.parentNode,n):t.nodeType===1&&bA(t,n),Vy(t)):bA(Bi,n.stateNode));break;case 4:r=Bi,i=Sa,Bi=n.stateNode.containerInfo,Sa=!0,Yc(t,e,n),Bi=r,Sa=i;break;case 0:case 11:case 14:case 15:if(!to&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&i5(n,e,s),i=i.next}while(i!==r)}Yc(t,e,n);break;case 1:if(!to&&(Xp(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rr(n,e,a)}Yc(t,e,n);break;case 21:Yc(t,e,n);break;case 22:n.mode&1?(to=(r=to)||n.memoizedState!==null,Yc(t,e,n),to=r):Yc(t,e,n);break;default:Yc(t,e,n)}}function hL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wte),e.forEach(function(r){var i=Rte.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ha(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Bi=a.stateNode,Sa=!1;break e;case 3:Bi=a.stateNode.containerInfo,Sa=!0;break e;case 4:Bi=a.stateNode.containerInfo,Sa=!0;break e}a=a.return}if(Bi===null)throw Error(nt(160));Cj(o,s,i),Bi=null,Sa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Rr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mj(e,t),e=e.sibling}function Mj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ha(e,t),tl(t),r&4){try{yy(3,t,t.return),x3(3,t)}catch(v){Rr(t,t.return,v)}try{yy(5,t,t.return)}catch(v){Rr(t,t.return,v)}}break;case 1:ha(e,t),tl(t),r&512&&n!==null&&Xp(n,n.return);break;case 5:if(ha(e,t),tl(t),r&512&&n!==null&&Xp(n,n.return),t.flags&32){var i=t.stateNode;try{jy(i,"")}catch(v){Rr(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Kz(i,o),LE(a,s);var c=LE(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?Zz(i,d):u==="dangerouslySetInnerHTML"?Jz(i,d):u==="children"?jy(i,d):L8(i,u,d,c)}switch(a){case"input":ME(i,o);break;case"textarea":Wz(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?cm(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?cm(i,!!o.multiple,o.defaultValue,!0):cm(i,!!o.multiple,o.multiple?[]:"",!1))}i[Jy]=o}catch(v){Rr(t,t.return,v)}}break;case 6:if(ha(e,t),tl(t),r&4){if(t.stateNode===null)throw Error(nt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Rr(t,t.return,v)}}break;case 3:if(ha(e,t),tl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vy(e.containerInfo)}catch(v){Rr(t,t.return,v)}break;case 4:ha(e,t),tl(t);break;case 13:ha(e,t),tl(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(uk=jr())),r&4&&hL(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(to=(c=to)||u,ha(e,t),to=c):ha(e,t),tl(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(wt=t,u=t.child;u!==null;){for(d=wt=u;wt!==null;){switch(h=wt,f=h.child,h.tag){case 0:case 11:case 14:case 15:yy(4,h,h.return);break;case 1:Xp(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){Rr(r,n,v)}}break;case 5:Xp(h,h.return);break;case 22:if(h.memoizedState!==null){pL(d);continue}}f!==null?(f.return=h,wt=f):pL(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Yz("display",s))}catch(v){Rr(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Rr(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ha(e,t),tl(t),r&4&&hL(t);break;case 21:break;default:ha(e,t),tl(t)}}function tl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Aj(n)){var r=n;break e}n=n.return}throw Error(nt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jy(i,""),r.flags&=-33);var o=dL(t);a5(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=dL(t);s5(t,a,s);break;default:throw Error(nt(161))}}catch(l){Rr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ate(t,e,n){wt=t,Ej(t)}function Ej(t,e,n){for(var r=(t.mode&1)!==0;wt!==null;){var i=wt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ub;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||to;a=Ub;var c=to;if(Ub=s,(to=l)&&!c)for(wt=i;wt!==null;)s=wt,l=s.child,s.tag===22&&s.memoizedState!==null?mL(i):l!==null?(l.return=s,wt=l):mL(i);for(;o!==null;)wt=o,Ej(o),o=o.sibling;wt=i,Ub=a,to=c}fL(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,wt=o):fL(t)}}function fL(t){for(;wt!==null;){var e=wt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:to||x3(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!to)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_a(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&JD(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}JD(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Vy(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}to||e.flags&512&&o5(e)}catch(h){Rr(e,e.return,h)}}if(e===t){wt=null;break}if(n=e.sibling,n!==null){n.return=e.return,wt=n;break}wt=e.return}}function pL(t){for(;wt!==null;){var e=wt;if(e===t){wt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,wt=n;break}wt=e.return}}function mL(t){for(;wt!==null;){var e=wt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{x3(4,e)}catch(l){Rr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rr(e,i,l)}}var o=e.return;try{o5(e)}catch(l){Rr(e,o,l)}break;case 5:var s=e.return;try{o5(e)}catch(l){Rr(e,s,l)}}}catch(l){Rr(e,e.return,l)}if(e===t){wt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,wt=a;break}wt=e.return}}var Cte=Math.ceil,uw=Bc.ReactCurrentDispatcher,lk=Bc.ReactCurrentOwner,Qs=Bc.ReactCurrentBatchConfig,Cn=0,wi=null,Qr=null,Ni=0,ds=0,Jp=ld(0),li=0,n1=null,Wh=0,_3=0,ck=0,vy=null,Go=null,uk=0,Nm=1/0,rc=null,dw=!1,l5=null,Vu=null,jb=!1,Ou=null,hw=0,by=0,c5=null,m_=-1,g_=0;function Mo(){return Cn&6?jr():m_!==-1?m_:m_=jr()}function qu(t){return t.mode&1?Cn&2&&Ni!==0?Ni&-Ni:lte.transition!==null?(g_===0&&(g_=uU()),g_):(t=jn,t!==0||(t=window.event,t=t===void 0?16:yU(t.type)),t):1}function Da(t,e,n,r){if(50<by)throw by=0,c5=null,Error(nt(185));H1(t,n,r),(!(Cn&2)||t!==wi)&&(t===wi&&(!(Cn&2)&&(_3|=n),li===4&&Pu(t,Ni)),Wo(t,r),n===1&&Cn===0&&!(e.mode&1)&&(Nm=jr()+500,y3&&cd()))}function Wo(t,e){var n=t.callbackNode;lee(t,e);var r=X_(t,t===wi?Ni:0);if(r===0)n!==null&&AD(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&AD(n),e===1)t.tag===0?ate(gL.bind(null,t)):IU(gL.bind(null,t)),rte(function(){!(Cn&6)&&cd()}),n=null;else{switch(dU(r)){case 1:n=I8;break;case 4:n=lU;break;case 16:n=W_;break;case 536870912:n=cU;break;default:n=W_}n=Nj(n,kj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kj(t,e){if(m_=-1,g_=0,Cn&6)throw Error(nt(327));var n=t.callbackNode;if(pm()&&t.callbackNode!==n)return null;var r=X_(t,t===wi?Ni:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fw(t,r);else{e=r;var i=Cn;Cn|=2;var o=Dj();(wi!==t||Ni!==e)&&(rc=null,Nm=jr()+500,Bh(t,e));do try{kte();break}catch(a){Tj(t,a)}while(!0);X8(),uw.current=o,Cn=i,Qr!==null?e=0:(wi=null,Ni=0,e=li)}if(e!==0){if(e===2&&(i=IE(t),i!==0&&(r=i,e=u5(t,i))),e===1)throw n=n1,Bh(t,0),Pu(t,r),Wo(t,jr()),n;if(e===6)Pu(t,r);else{if(i=t.current.alternate,!(r&30)&&!Mte(i)&&(e=fw(t,r),e===2&&(o=IE(t),o!==0&&(r=o,e=u5(t,o))),e===1))throw n=n1,Bh(t,0),Pu(t,r),Wo(t,jr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(nt(345));case 2:nh(t,Go,rc);break;case 3:if(Pu(t,r),(r&130023424)===r&&(e=uk+500-jr(),10<e)){if(X_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=GE(nh.bind(null,t,Go,rc),e);break}nh(t,Go,rc);break;case 4:if(Pu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ta(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=jr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cte(r/1960))-r,10<r){t.timeoutHandle=GE(nh.bind(null,t,Go,rc),r);break}nh(t,Go,rc);break;case 5:nh(t,Go,rc);break;default:throw Error(nt(329))}}}return Wo(t,jr()),t.callbackNode===n?kj.bind(null,t):null}function u5(t,e){var n=vy;return t.current.memoizedState.isDehydrated&&(Bh(t,e).flags|=256),t=fw(t,e),t!==2&&(e=Go,Go=n,e!==null&&d5(e)),t}function d5(t){Go===null?Go=t:Go.push.apply(Go,t)}function Mte(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Na(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pu(t,e){for(e&=~ck,e&=~_3,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ta(e),r=1<<n;t[n]=-1,e&=~r}}function gL(t){if(Cn&6)throw Error(nt(327));pm();var e=X_(t,0);if(!(e&1))return Wo(t,jr()),null;var n=fw(t,e);if(t.tag!==0&&n===2){var r=IE(t);r!==0&&(e=r,n=u5(t,r))}if(n===1)throw n=n1,Bh(t,0),Pu(t,e),Wo(t,jr()),n;if(n===6)throw Error(nt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nh(t,Go,rc),Wo(t,jr()),null}function dk(t,e){var n=Cn;Cn|=1;try{return t(e)}finally{Cn=n,Cn===0&&(Nm=jr()+500,y3&&cd())}}function Xh(t){Ou!==null&&Ou.tag===0&&!(Cn&6)&&pm();var e=Cn;Cn|=1;var n=Qs.transition,r=jn;try{if(Qs.transition=null,jn=1,t)return t()}finally{jn=r,Qs.transition=n,Cn=e,!(Cn&6)&&cd()}}function hk(){ds=Jp.current,cr(Jp)}function Bh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nte(n)),Qr!==null)for(n=Qr.return;n!==null;){var r=n;switch(q8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ew();break;case 3:Bm(),cr(qo),cr(io),tk();break;case 5:ek(r);break;case 4:Bm();break;case 13:cr(Ar);break;case 19:cr(Ar);break;case 10:J8(r.type._context);break;case 22:case 23:hk()}n=n.return}if(wi=t,Qr=t=Ku(t.current,null),Ni=ds=e,li=0,n1=null,ck=_3=Wh=0,Go=vy=null,xh!==null){for(e=0;e<xh.length;e++)if(n=xh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}xh=null}return t}function Tj(t,e){do{var n=Qr;try{if(X8(),h_.current=cw,lw){for(var r=Er.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lw=!1}if(Kh=0,xi=oi=Er=null,gy=!1,Qy=0,lk.current=null,n===null||n.return===null){li=1,n1=e,Qr=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ni,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=rL(s);if(f!==null){f.flags&=-257,iL(f,s,a,o,e),f.mode&1&&nL(o,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){nL(o,c,e),fk();break e}l=Error(nt(426))}}else if(gr&&a.mode&1){var b=rL(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),iL(b,s,a,o,e),K8(Pm(l,a));break e}}o=l=Pm(l,a),li!==4&&(li=2),vy===null?vy=[o]:vy.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=hj(o,l,e);XD(o,y);break e;case 1:a=l;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vu===null||!Vu.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=fj(o,a,e);XD(o,A);break e}}o=o.return}while(o!==null)}Rj(n)}catch(D){e=D,Qr===n&&n!==null&&(Qr=n=n.return);continue}break}while(!0)}function Dj(){var t=uw.current;return uw.current=cw,t===null?cw:t}function fk(){(li===0||li===3||li===2)&&(li=4),wi===null||!(Wh&268435455)&&!(_3&268435455)||Pu(wi,Ni)}function fw(t,e){var n=Cn;Cn|=2;var r=Dj();(wi!==t||Ni!==e)&&(rc=null,Bh(t,e));do try{Ete();break}catch(i){Tj(t,i)}while(!0);if(X8(),Cn=n,uw.current=r,Qr!==null)throw Error(nt(261));return wi=null,Ni=0,li}function Ete(){for(;Qr!==null;)Lj(Qr)}function kte(){for(;Qr!==null&&!QQ();)Lj(Qr)}function Lj(t){var e=Pj(t.alternate,t,ds);t.memoizedProps=t.pendingProps,e===null?Rj(t):Qr=e,lk.current=null}function Rj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_te(n,e),n!==null){n.flags&=32767,Qr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{li=6,Qr=null;return}}else if(n=xte(n,e,ds),n!==null){Qr=n;return}if(e=e.sibling,e!==null){Qr=e;return}Qr=e=t}while(e!==null);li===0&&(li=5)}function nh(t,e,n){var r=jn,i=Qs.transition;try{Qs.transition=null,jn=1,Tte(t,e,n,r)}finally{Qs.transition=i,jn=r}return null}function Tte(t,e,n,r){do pm();while(Ou!==null);if(Cn&6)throw Error(nt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(nt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(cee(t,o),t===wi&&(Qr=wi=null,Ni=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jb||(jb=!0,Nj(W_,function(){return pm(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qs.transition,Qs.transition=null;var s=jn;jn=1;var a=Cn;Cn|=4,lk.current=null,Ste(t,n),Mj(n,t),Xee(HE),J_=!!jE,HE=jE=null,t.current=n,Ate(n),eee(),Cn=a,jn=s,Qs.transition=o}else t.current=n;if(jb&&(jb=!1,Ou=t,hw=i),o=t.pendingLanes,o===0&&(Vu=null),ree(n.stateNode),Wo(t,jr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dw)throw dw=!1,t=l5,l5=null,t;return hw&1&&t.tag!==0&&pm(),o=t.pendingLanes,o&1?t===c5?by++:(by=0,c5=t):by=0,cd(),null}function pm(){if(Ou!==null){var t=dU(hw),e=Qs.transition,n=jn;try{if(Qs.transition=null,jn=16>t?16:t,Ou===null)var r=!1;else{if(t=Ou,Ou=null,hw=0,Cn&6)throw Error(nt(331));var i=Cn;for(Cn|=4,wt=t.current;wt!==null;){var o=wt,s=o.child;if(wt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(wt=c;wt!==null;){var u=wt;switch(u.tag){case 0:case 11:case 15:yy(8,u,o)}var d=u.child;if(d!==null)d.return=u,wt=d;else for(;wt!==null;){u=wt;var h=u.sibling,f=u.return;if(Sj(u),u===c){wt=null;break}if(h!==null){h.return=f,wt=h;break}wt=f}}}var p=o.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}wt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,wt=s;else e:for(;wt!==null;){if(o=wt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:yy(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,wt=y;break e}wt=o.return}}var x=t.current;for(wt=x;wt!==null;){s=wt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,wt=w;else e:for(s=x;wt!==null;){if(a=wt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:x3(9,a)}}catch(D){Rr(a,a.return,D)}if(a===s){wt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,wt=A;break e}wt=a.return}}if(Cn=i,cd(),wl&&typeof wl.onPostCommitFiberRoot=="function")try{wl.onPostCommitFiberRoot(h3,t)}catch{}r=!0}return r}finally{jn=n,Qs.transition=e}}return!1}function yL(t,e,n){e=Pm(n,e),e=hj(t,e,1),t=Gu(t,e,1),e=Mo(),t!==null&&(H1(t,1,e),Wo(t,e))}function Rr(t,e,n){if(t.tag===3)yL(t,t,n);else for(;e!==null;){if(e.tag===3){yL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vu===null||!Vu.has(r))){t=Pm(n,t),t=fj(e,t,1),e=Gu(e,t,1),t=Mo(),e!==null&&(H1(e,1,t),Wo(e,t));break}}e=e.return}}function Dte(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mo(),t.pingedLanes|=t.suspendedLanes&n,wi===t&&(Ni&n)===n&&(li===4||li===3&&(Ni&130023424)===Ni&&500>jr()-uk?Bh(t,0):ck|=n),Wo(t,e)}function Bj(t,e){e===0&&(t.mode&1?(e=Lb,Lb<<=1,!(Lb&130023424)&&(Lb=4194304)):e=1);var n=Mo();t=wc(t,e),t!==null&&(H1(t,e,n),Wo(t,n))}function Lte(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bj(t,n)}function Rte(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(nt(314))}r!==null&&r.delete(e),Bj(t,n)}var Pj;Pj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qo.current)Vo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vo=!1,bte(t,e,n);Vo=!!(t.flags&131072)}else Vo=!1,gr&&e.flags&1048576&&OU(e,rw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;p_(t,e),t=e.pendingProps;var i=Dm(e,io.current);fm(e,n),i=rk(null,e,r,t,i,n);var o=ik();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ko(r)?(o=!0,tw(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z8(e),i.updater=v3,e.stateNode=i,i._reactInternals=e,YE(e,r,t,n),e=e5(null,e,r,!0,o,n)):(e.tag=0,gr&&o&&V8(e),xo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(p_(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Pte(r),t=_a(r,t),i){case 0:e=QE(null,e,r,t,n);break e;case 1:e=aL(null,e,r,t,n);break e;case 11:e=oL(null,e,r,t,n);break e;case 14:e=sL(null,e,r,_a(r.type,t),n);break e}throw Error(nt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_a(r,i),QE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_a(r,i),aL(t,e,r,i,n);case 3:e:{if(yj(e),t===null)throw Error(nt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,jU(t,e),sw(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Pm(Error(nt(423)),e),e=lL(t,e,r,n,i);break e}else if(r!==i){i=Pm(Error(nt(424)),e),e=lL(t,e,r,n,i);break e}else for(ms=$u(e.stateNode.containerInfo.firstChild),bs=e,gr=!0,Aa=null,n=VU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lm(),r===i){e=Sc(t,e,n);break e}xo(t,e,r,n)}e=e.child}return e;case 5:return qU(e),t===null&&WE(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,$E(r,i)?s=null:o!==null&&$E(r,o)&&(e.flags|=32),gj(t,e),xo(t,e,s,n),e.child;case 6:return t===null&&WE(e),null;case 13:return vj(t,e,n);case 4:return Q8(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rm(e,null,r,n):xo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_a(r,i),oL(t,e,r,i,n);case 7:return xo(t,e,e.pendingProps,n),e.child;case 8:return xo(t,e,e.pendingProps.children,n),e.child;case 12:return xo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,nr(iw,r._currentValue),r._currentValue=s,o!==null)if(Na(o.value,s)){if(o.children===i.children&&!qo.current){e=Sc(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=gc(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),XE(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(nt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),XE(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}xo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fm(e,n),i=ra(i),r=r(i),e.flags|=1,xo(t,e,r,n),e.child;case 14:return r=e.type,i=_a(r,e.pendingProps),i=_a(r.type,i),sL(t,e,r,i,n);case 15:return pj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_a(r,i),p_(t,e),e.tag=1,Ko(r)?(t=!0,tw(e)):t=!1,fm(e,n),$U(e,r,i),YE(e,r,i,n),e5(null,e,r,!0,t,n);case 19:return bj(t,e,n);case 22:return mj(t,e,n)}throw Error(nt(156,e.tag))};function Nj(t,e){return aU(t,e)}function Bte(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(t,e,n,r){return new Bte(t,e,n,r)}function pk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pte(t){if(typeof t=="function")return pk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B8)return 11;if(t===P8)return 14}return 2}function Ku(t,e){var n=t.alternate;return n===null?(n=Js(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function y_(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")pk(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Up:return Ph(n.children,i,o,e);case R8:s=8,i|=8;break;case _E:return t=Js(12,n,e,i|2),t.elementType=_E,t.lanes=o,t;case wE:return t=Js(13,n,e,i),t.elementType=wE,t.lanes=o,t;case SE:return t=Js(19,n,e,i),t.elementType=SE,t.lanes=o,t;case Gz:return w3(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hz:s=10;break e;case $z:s=9;break e;case B8:s=11;break e;case P8:s=14;break e;case ku:s=16,r=null;break e}throw Error(nt(130,t==null?t:typeof t,""))}return e=Js(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ph(t,e,n,r){return t=Js(7,t,r,e),t.lanes=n,t}function w3(t,e,n,r){return t=Js(22,t,r,e),t.elementType=Gz,t.lanes=n,t.stateNode={isHidden:!1},t}function EA(t,e,n){return t=Js(6,t,null,e),t.lanes=n,t}function kA(t,e,n){return e=Js(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Nte(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lA(0),this.expirationTimes=lA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mk(t,e,n,r,i,o,s,a,l){return t=new Nte(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Js(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z8(o),t}function Ite(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ij(t){if(!t)return Qu;t=t._reactInternals;e:{if(pf(t)!==t||t.tag!==1)throw Error(nt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ko(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(nt(171))}if(t.tag===1){var n=t.type;if(Ko(n))return NU(t,n,e)}return e}function Oj(t,e,n,r,i,o,s,a,l){return t=mk(n,r,!0,t,i,o,s,a,l),t.context=Ij(null),n=t.current,r=Mo(),i=qu(n),o=gc(r,i),o.callback=e??null,Gu(n,o,i),t.current.lanes=i,H1(t,i,r),Wo(t,r),t}function S3(t,e,n,r){var i=e.current,o=Mo(),s=qu(i);return n=Ij(n),e.context===null?e.context=n:e.pendingContext=n,e=gc(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gu(i,e,s),t!==null&&(Da(t,i,s,o),d_(t,i,s)),s}function pw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gk(t,e){vL(t,e),(t=t.alternate)&&vL(t,e)}function Ote(){return null}var Fj=typeof reportError=="function"?reportError:function(t){console.error(t)};function yk(t){this._internalRoot=t}A3.prototype.render=yk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(nt(409));S3(t,e,null,null)};A3.prototype.unmount=yk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xh(function(){S3(null,t,null,null)}),e[_c]=null}};function A3(t){this._internalRoot=t}A3.prototype.unstable_scheduleHydration=function(t){if(t){var e=pU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bu.length&&e!==0&&e<Bu[n].priority;n++);Bu.splice(n,0,t),n===0&&gU(t)}};function vk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function C3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bL(){}function Fte(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=pw(s);o.call(c)}}var s=Oj(e,r,t,0,null,!1,!1,"",bL);return t._reactRootContainer=s,t[_c]=s.current,Wy(t.nodeType===8?t.parentNode:t),Xh(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=pw(l);a.call(c)}}var l=mk(t,0,!1,null,null,!1,!1,"",bL);return t._reactRootContainer=l,t[_c]=l.current,Wy(t.nodeType===8?t.parentNode:t),Xh(function(){S3(e,l,n,r)}),l}function M3(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=pw(s);a.call(l)}}S3(e,s,t,i)}else s=Fte(n,e,t,i,r);return pw(s)}hU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qg(e.pendingLanes);n!==0&&(O8(e,n|1),Wo(e,jr()),!(Cn&6)&&(Nm=jr()+500,cd()))}break;case 13:Xh(function(){var r=wc(t,1);if(r!==null){var i=Mo();Da(r,t,1,i)}}),gk(t,1)}};F8=function(t){if(t.tag===13){var e=wc(t,134217728);if(e!==null){var n=Mo();Da(e,t,134217728,n)}gk(t,134217728)}};fU=function(t){if(t.tag===13){var e=qu(t),n=wc(t,e);if(n!==null){var r=Mo();Da(n,t,e,r)}gk(t,e)}};pU=function(){return jn};mU=function(t,e){var n=jn;try{return jn=t,e()}finally{jn=n}};BE=function(t,e,n){switch(e){case"input":if(ME(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=g3(r);if(!i)throw Error(nt(90));qz(r),ME(r,i)}}}break;case"textarea":Wz(t,n);break;case"select":e=n.value,e!=null&&cm(t,!!n.multiple,e,!1)}};tU=dk;nU=Xh;var zte={usingClientEntryPoint:!1,Events:[G1,Gp,g3,Qz,eU,dk]},Z0={findFiberByHostInstance:bh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ute={bundleType:Z0.bundleType,version:Z0.version,rendererPackageName:Z0.rendererPackageName,rendererConfig:Z0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oU(t),t===null?null:t.stateNode},findFiberByHostInstance:Z0.findFiberByHostInstance||Ote,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hb.isDisabled&&Hb.supportsFiber)try{h3=Hb.inject(Ute),wl=Hb}catch{}}Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zte;Cs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vk(e))throw Error(nt(200));return Ite(t,e,null,n)};Cs.createRoot=function(t,e){if(!vk(t))throw Error(nt(299));var n=!1,r="",i=Fj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mk(t,1,!1,null,null,n,!1,r,i),t[_c]=e.current,Wy(t.nodeType===8?t.parentNode:t),new yk(e)};Cs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(nt(188)):(t=Object.keys(t).join(","),Error(nt(268,t)));return t=oU(e),t=t===null?null:t.stateNode,t};Cs.flushSync=function(t){return Xh(t)};Cs.hydrate=function(t,e,n){if(!C3(e))throw Error(nt(200));return M3(null,t,e,!0,n)};Cs.hydrateRoot=function(t,e,n){if(!vk(t))throw Error(nt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Fj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Oj(e,null,t,1,n??null,i,!1,o,s),t[_c]=e.current,Wy(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new A3(e)};Cs.render=function(t,e,n){if(!C3(e))throw Error(nt(200));return M3(null,t,e,!1,n)};Cs.unmountComponentAtNode=function(t){if(!C3(t))throw Error(nt(40));return t._reactRootContainer?(Xh(function(){M3(null,null,t,!1,function(){t._reactRootContainer=null,t[_c]=null})}),!0):!1};Cs.unstable_batchedUpdates=dk;Cs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!C3(n))throw Error(nt(200));if(t==null||t._reactInternals===void 0)throw Error(nt(38));return M3(t,e,n,!1,r)};Cs.version="18.2.0-next-9e3b772b8-20220608";function zj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zj)}catch(t){console.error(t)}}zj(),Oz.exports=Cs;var pl=Oz.exports;const jte=hf(pl);var xL=pl;bE.createRoot=xL.createRoot,bE.hydrateRoot=xL.hydrateRoot;var yn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(yn||(yn={}));var mw;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(mw||(mw={}));const xt=yn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lc=t=>{switch(typeof t){case"undefined":return xt.undefined;case"string":return xt.string;case"number":return isNaN(t)?xt.nan:xt.number;case"boolean":return xt.boolean;case"function":return xt.function;case"bigint":return xt.bigint;case"symbol":return xt.symbol;case"object":return Array.isArray(t)?xt.array:t===null?xt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?xt.promise:typeof Map<"u"&&t instanceof Map?xt.map:typeof Set<"u"&&t instanceof Set?xt.set:typeof Date<"u"&&t instanceof Date?xt.date:xt.object;default:return xt.unknown}},tt=yn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Uj=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ii extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Ii))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ii.create=t=>new Ii(t);const Jh=(t,e)=>{let n;switch(t.code){case tt.invalid_type:t.received===xt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case tt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,yn.jsonStringifyReplacer)}`;break;case tt.unrecognized_keys:n=`Unrecognized key(s) in object: ${yn.joinValues(t.keys,", ")}`;break;case tt.invalid_union:n="Invalid input";break;case tt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${yn.joinValues(t.options)}`;break;case tt.invalid_enum_value:n=`Invalid enum value. Expected ${yn.joinValues(t.options)}, received '${t.received}'`;break;case tt.invalid_arguments:n="Invalid function arguments";break;case tt.invalid_return_type:n="Invalid function return type";break;case tt.invalid_date:n="Invalid date";break;case tt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:yn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case tt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case tt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case tt.custom:n="Invalid input";break;case tt.invalid_intersection_types:n="Intersection results could not be merged";break;case tt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case tt.not_finite:n="Number must be finite";break;default:n=e.defaultError,yn.assertNever(t)}return{message:n}};let jj=Jh;function Hj(t){jj=t}function r1(){return jj}const i1=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}},$j=[];function gt(t,e){const n=r1(),r=i1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Jh?void 0:Jh].filter(i=>!!i)});t.common.issues.push(r)}class Ui{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ut;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return Ui.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Ut;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}}const Ut=Object.freeze({status:"aborted"}),wh=t=>({status:"dirty",value:t}),oo=t=>({status:"valid",value:t}),gw=t=>t.status==="aborted",yw=t=>t.status==="dirty",Im=t=>t.status==="valid",o1=t=>typeof Promise<"u"&&t instanceof Promise;function vw(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Gj(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}var Rt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Rt||(Rt={}));var ty,ny;class Ml{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _L=(t,e)=>{if(Im(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ii(t.common.issues);return this._error=n,this._error}}};function tn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{var l,c;const{message:u}=t;return s.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class Kt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return lc(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:lc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ui,ctx:{common:e.parent.common,data:e.data,parsedType:lc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(o1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lc(e)},o=this._parseSync({data:e,path:i.path,parent:i});return _L(i,o)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:lc(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(o1(i)?i:Promise.resolve(i));return _L(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=e(i),a=()=>o.addIssue({code:tt.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ws({schema:this,typeName:zt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return La.create(this,this._def)}nullable(){return Ec.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ea.create(this,this._def)}promise(){return Zh.create(this,this._def)}or(e){return Um.create([this,e],this._def)}and(e){return jm.create(this,e,this._def)}transform(e){return new ws({...tn(this._def),schema:this,typeName:zt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new qm({...tn(this._def),innerType:this,defaultValue:n,typeName:zt.ZodDefault})}brand(){return new E3({typeName:zt.ZodBranded,type:this,...tn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Km({...tn(this._def),innerType:this,catchValue:n,typeName:zt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return p0.create(this,e)}readonly(){return Wm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Hte=/^c[^\s-]{8,}$/i,$te=/^[0-9a-z]+$/,Gte=/^[0-9A-HJKMNP-TV-Z]{26}$/,Vte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qte=/^[a-z0-9_-]{21}$/i,Kte=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Wte=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Xte="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let TA;const Jte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Yte=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Zte=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Vj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Qte=new RegExp(`^${Vj}$`);function qj(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function ene(t){return new RegExp(`^${qj(t)}$`)}function bk(t){let e=`${Vj}T${qj(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function tne(t,e){return!!((e==="v4"||!e)&&Jte.test(t)||(e==="v6"||!e)&&Yte.test(t))}class Ys extends Kt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xt.string){const o=this._getOrReturnCtx(e);return gt(o,{code:tt.invalid_type,expected:xt.string,received:o.parsedType}),Ut}const r=new Ui;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?gt(i,{code:tt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&gt(i,{code:tt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Wte.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"email",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")TA||(TA=new RegExp(Xte,"u")),TA.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"emoji",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Vte.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"uuid",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")qte.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"nanoid",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")Hte.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"cuid",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")$te.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"cuid2",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Gte.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"ulid",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),gt(i,{validation:"url",code:tt.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"regex",code:tt.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?bk(o).test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?Qte.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?ene(o).test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Kte.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"duration",code:tt.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?tne(e.data,o.version)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"ip",code:tt.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Zte.test(e.data)||(i=this._getOrReturnCtx(e,i),gt(i,{validation:"base64",code:tt.invalid_string,message:o.message}),r.dirty()):yn.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:tt.invalid_string,...Rt.errToObj(r)})}_addCheck(e){return new Ys({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Rt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Rt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Rt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Rt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Rt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Rt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Rt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Rt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Rt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Rt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Rt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Rt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Rt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Rt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Rt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Rt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Rt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Rt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Rt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Rt.errToObj(n)})}nonempty(e){return this.min(1,Rt.errToObj(e))}trim(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ys.create=t=>{var e;return new Ys({checks:[],typeName:zt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...tn(t)})};function nne(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class Ac extends Kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xt.number){const o=this._getOrReturnCtx(e);return gt(o,{code:tt.invalid_type,expected:xt.number,received:o.parsedType}),Ut}let r;const i=new Ui;for(const o of this._def.checks)o.kind==="int"?yn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?nne(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.not_finite,message:o.message}),i.dirty()):yn.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Rt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Rt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Rt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Rt.toString(n))}setLimit(e,n,r,i){return new Ac({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Rt.toString(i)}]})}_addCheck(e){return new Ac({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Rt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Rt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Rt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Rt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Rt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Rt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Rt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Rt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Rt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&yn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ac.create=t=>new Ac({checks:[],typeName:zt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...tn(t)});class Cc extends Kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==xt.bigint){const o=this._getOrReturnCtx(e);return gt(o,{code:tt.invalid_type,expected:xt.bigint,received:o.parsedType}),Ut}let r;const i=new Ui;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),gt(r,{code:tt.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):yn.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Rt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Rt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Rt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Rt.toString(n))}setLimit(e,n,r,i){return new Cc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Rt.toString(i)}]})}_addCheck(e){return new Cc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Rt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Rt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Rt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Rt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Rt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Cc.create=t=>{var e;return new Cc({checks:[],typeName:zt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...tn(t)})};class Om extends Kt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xt.boolean){const r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:xt.boolean,received:r.parsedType}),Ut}return oo(e.data)}}Om.create=t=>new Om({typeName:zt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...tn(t)});class ed extends Kt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xt.date){const o=this._getOrReturnCtx(e);return gt(o,{code:tt.invalid_type,expected:xt.date,received:o.parsedType}),Ut}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return gt(o,{code:tt.invalid_date}),Ut}const r=new Ui;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),gt(i,{code:tt.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):yn.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ed({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Rt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Rt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ed.create=t=>new ed({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:zt.ZodDate,...tn(t)});class s1 extends Kt{_parse(e){if(this._getType(e)!==xt.symbol){const r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:xt.symbol,received:r.parsedType}),Ut}return oo(e.data)}}s1.create=t=>new s1({typeName:zt.ZodSymbol,...tn(t)});class Fm extends Kt{_parse(e){if(this._getType(e)!==xt.undefined){const r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:xt.undefined,received:r.parsedType}),Ut}return oo(e.data)}}Fm.create=t=>new Fm({typeName:zt.ZodUndefined,...tn(t)});class zm extends Kt{_parse(e){if(this._getType(e)!==xt.null){const r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:xt.null,received:r.parsedType}),Ut}return oo(e.data)}}zm.create=t=>new zm({typeName:zt.ZodNull,...tn(t)});class Yh extends Kt{constructor(){super(...arguments),this._any=!0}_parse(e){return oo(e.data)}}Yh.create=t=>new Yh({typeName:zt.ZodAny,...tn(t)});class Wu extends Kt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oo(e.data)}}Wu.create=t=>new Wu({typeName:zt.ZodUnknown,...tn(t)});class El extends Kt{_parse(e){const n=this._getOrReturnCtx(e);return gt(n,{code:tt.invalid_type,expected:xt.never,received:n.parsedType}),Ut}}El.create=t=>new El({typeName:zt.ZodNever,...tn(t)});class a1 extends Kt{_parse(e){if(this._getType(e)!==xt.undefined){const r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:xt.void,received:r.parsedType}),Ut}return oo(e.data)}}a1.create=t=>new a1({typeName:zt.ZodVoid,...tn(t)});class ea extends Kt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==xt.array)return gt(n,{code:tt.invalid_type,expected:xt.array,received:n.parsedType}),Ut;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(gt(n,{code:s?tt.too_big:tt.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(gt(n,{code:tt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(gt(n,{code:tt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Ml(n,s,n.path,a)))).then(s=>Ui.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new Ml(n,s,n.path,a)));return Ui.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new ea({...this._def,minLength:{value:e,message:Rt.toString(n)}})}max(e,n){return new ea({...this._def,maxLength:{value:e,message:Rt.toString(n)}})}length(e,n){return new ea({...this._def,exactLength:{value:e,message:Rt.toString(n)}})}nonempty(e){return this.min(1,e)}}ea.create=(t,e)=>new ea({type:t,minLength:null,maxLength:null,exactLength:null,typeName:zt.ZodArray,...tn(e)});function Rp(t){if(t instanceof pr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=La.create(Rp(r))}return new pr({...t._def,shape:()=>e})}else return t instanceof ea?new ea({...t._def,type:Rp(t.element)}):t instanceof La?La.create(Rp(t.unwrap())):t instanceof Ec?Ec.create(Rp(t.unwrap())):t instanceof Ia?Ia.create(t.items.map(e=>Rp(e))):t}class pr extends Kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=yn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==xt.object){const c=this._getOrReturnCtx(e);return gt(c,{code:tt.invalid_type,expected:xt.object,received:c.parsedType}),Ut}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof El&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||a.push(c);const l=[];for(const c of s){const u=o[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Ml(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof El){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(gt(i,{code:tt.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Ml(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Ui.mergeObjectSync(r,c)):Ui.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Rt.errToObj,new pr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Rt.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new pr({...this._def,unknownKeys:"strip"})}passthrough(){return new pr({...this._def,unknownKeys:"passthrough"})}extend(e){return new pr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:zt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new pr({...this._def,catchall:e})}pick(e){const n={};return yn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new pr({...this._def,shape:()=>n})}omit(e){const n={};return yn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new pr({...this._def,shape:()=>n})}deepPartial(){return Rp(this)}partial(e){const n={};return yn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new pr({...this._def,shape:()=>n})}required(e){const n={};return yn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof La;)o=o._def.innerType;n[r]=o}}),new pr({...this._def,shape:()=>n})}keyof(){return Kj(yn.objectKeys(this.shape))}}pr.create=(t,e)=>new pr({shape:()=>t,unknownKeys:"strip",catchall:El.create(),typeName:zt.ZodObject,...tn(e)});pr.strictCreate=(t,e)=>new pr({shape:()=>t,unknownKeys:"strict",catchall:El.create(),typeName:zt.ZodObject,...tn(e)});pr.lazycreate=(t,e)=>new pr({shape:t,unknownKeys:"strip",catchall:El.create(),typeName:zt.ZodObject,...tn(e)});class Um extends Kt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Ii(a.ctx.common.issues));return gt(n,{code:tt.invalid_union,unionErrors:s}),Ut}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Ii(l));return gt(n,{code:tt.invalid_union,unionErrors:a}),Ut}}get options(){return this._def.options}}Um.create=(t,e)=>new Um({options:t,typeName:zt.ZodUnion,...tn(e)});const Ql=t=>t instanceof $m?Ql(t.schema):t instanceof ws?Ql(t.innerType()):t instanceof Gm?[t.value]:t instanceof Mc?t.options:t instanceof Vm?yn.objectValues(t.enum):t instanceof qm?Ql(t._def.innerType):t instanceof Fm?[void 0]:t instanceof zm?[null]:t instanceof La?[void 0,...Ql(t.unwrap())]:t instanceof Ec?[null,...Ql(t.unwrap())]:t instanceof E3||t instanceof Wm?Ql(t.unwrap()):t instanceof Km?Ql(t._def.innerType):[];class q1 extends Kt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xt.object)return gt(n,{code:tt.invalid_type,expected:xt.object,received:n.parsedType}),Ut;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(gt(n,{code:tt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ut)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const o of n){const s=Ql(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new q1({typeName:zt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...tn(r)})}}function h5(t,e){const n=lc(t),r=lc(e);if(t===e)return{valid:!0,data:t};if(n===xt.object&&r===xt.object){const i=yn.objectKeys(e),o=yn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(const a of o){const l=h5(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===xt.array&&r===xt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=e[o],l=h5(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===xt.date&&r===xt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class jm extends Kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(gw(o)||gw(s))return Ut;const a=h5(o.value,s.value);return a.valid?((yw(o)||yw(s))&&n.dirty(),{status:n.value,value:a.data}):(gt(r,{code:tt.invalid_intersection_types}),Ut)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}jm.create=(t,e,n)=>new jm({left:t,right:e,typeName:zt.ZodIntersection,...tn(n)});class Ia extends Kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xt.array)return gt(r,{code:tt.invalid_type,expected:xt.array,received:r.parsedType}),Ut;if(r.data.length<this._def.items.length)return gt(r,{code:tt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ut;!this._def.rest&&r.data.length>this._def.items.length&&(gt(r,{code:tt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Ml(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Ui.mergeArray(n,s)):Ui.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Ia({...this._def,rest:e})}}Ia.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ia({items:t,typeName:zt.ZodTuple,rest:null,...tn(e)})};class Hm extends Kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xt.object)return gt(r,{code:tt.invalid_type,expected:xt.object,received:r.parsedType}),Ut;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new Ml(r,a,r.path,a)),value:s._parse(new Ml(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ui.mergeObjectAsync(n,i):Ui.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Kt?new Hm({keyType:e,valueType:n,typeName:zt.ZodRecord,...tn(r)}):new Hm({keyType:Ys.create(),valueType:e,typeName:zt.ZodRecord,...tn(n)})}}class l1 extends Kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xt.map)return gt(r,{code:tt.invalid_type,expected:xt.map,received:r.parsedType}),Ut;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Ml(r,a,r.path,[c,"key"])),value:o._parse(new Ml(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Ut;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Ut;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}l1.create=(t,e,n)=>new l1({valueType:e,keyType:t,typeName:zt.ZodMap,...tn(n)});class td extends Kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xt.set)return gt(r,{code:tt.invalid_type,expected:xt.set,received:r.parsedType}),Ut;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(gt(r,{code:tt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(gt(r,{code:tt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Ut;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>o._parse(new Ml(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,n){return new td({...this._def,minSize:{value:e,message:Rt.toString(n)}})}max(e,n){return new td({...this._def,maxSize:{value:e,message:Rt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}td.create=(t,e)=>new td({valueType:t,minSize:null,maxSize:null,typeName:zt.ZodSet,...tn(e)});class Nh extends Kt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xt.function)return gt(n,{code:tt.invalid_type,expected:xt.function,received:n.parsedType}),Ut;function r(a,l){return i1({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,r1(),Jh].filter(c=>!!c),issueData:{code:tt.invalid_arguments,argumentsError:l}})}function i(a,l){return i1({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,r1(),Jh].filter(c=>!!c),issueData:{code:tt.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof Zh){const a=this;return oo(async function(...l){const c=new Ii([]),u=await a._def.args.parseAsync(l,o).catch(f=>{throw c.addIssue(r(l,f)),c}),d=await Reflect.apply(s,this,u);return await a._def.returns._def.type.parseAsync(d,o).catch(f=>{throw c.addIssue(i(d,f)),c})})}else{const a=this;return oo(function(...l){const c=a._def.args.safeParse(l,o);if(!c.success)throw new Ii([r(l,c.error)]);const u=Reflect.apply(s,this,c.data),d=a._def.returns.safeParse(u,o);if(!d.success)throw new Ii([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Nh({...this._def,args:Ia.create(e).rest(Wu.create())})}returns(e){return new Nh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Nh({args:e||Ia.create([]).rest(Wu.create()),returns:n||Wu.create(),typeName:zt.ZodFunction,...tn(r)})}}class $m extends Kt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}$m.create=(t,e)=>new $m({getter:t,typeName:zt.ZodLazy,...tn(e)});class Gm extends Kt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return gt(n,{received:n.data,code:tt.invalid_literal,expected:this._def.value}),Ut}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gm.create=(t,e)=>new Gm({value:t,typeName:zt.ZodLiteral,...tn(e)});function Kj(t,e){return new Mc({values:t,typeName:zt.ZodEnum,...tn(e)})}class Mc extends Kt{constructor(){super(...arguments),ty.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return gt(n,{expected:yn.joinValues(r),received:n.parsedType,code:tt.invalid_type}),Ut}if(vw(this,ty,"f")||Gj(this,ty,new Set(this._def.values),"f"),!vw(this,ty,"f").has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return gt(n,{received:n.data,code:tt.invalid_enum_value,options:r}),Ut}return oo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Mc.create(e,{...this._def,...n})}exclude(e,n=this._def){return Mc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ty=new WeakMap;Mc.create=Kj;class Vm extends Kt{constructor(){super(...arguments),ny.set(this,void 0)}_parse(e){const n=yn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==xt.string&&r.parsedType!==xt.number){const i=yn.objectValues(n);return gt(r,{expected:yn.joinValues(i),received:r.parsedType,code:tt.invalid_type}),Ut}if(vw(this,ny,"f")||Gj(this,ny,new Set(yn.getValidEnumValues(this._def.values)),"f"),!vw(this,ny,"f").has(e.data)){const i=yn.objectValues(n);return gt(r,{received:r.data,code:tt.invalid_enum_value,options:i}),Ut}return oo(e.data)}get enum(){return this._def.values}}ny=new WeakMap;Vm.create=(t,e)=>new Vm({values:t,typeName:zt.ZodNativeEnum,...tn(e)});class Zh extends Kt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xt.promise&&n.common.async===!1)return gt(n,{code:tt.invalid_type,expected:xt.promise,received:n.parsedType}),Ut;const r=n.parsedType===xt.promise?n.data:Promise.resolve(n.data);return oo(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Zh.create=(t,e)=>new Zh({type:t,typeName:zt.ZodPromise,...tn(e)});class ws extends Kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===zt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{gt(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return Ut;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Ut:l.status==="dirty"||n.value==="dirty"?wh(l.value):l});{if(n.value==="aborted")return Ut;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Ut:a.status==="dirty"||n.value==="dirty"?wh(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ut:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ut:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Im(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Im(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);yn.assertNever(i)}}ws.create=(t,e,n)=>new ws({schema:t,typeName:zt.ZodEffects,effect:e,...tn(n)});ws.createWithPreprocess=(t,e,n)=>new ws({schema:e,effect:{type:"preprocess",transform:t},typeName:zt.ZodEffects,...tn(n)});class La extends Kt{_parse(e){return this._getType(e)===xt.undefined?oo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}La.create=(t,e)=>new La({innerType:t,typeName:zt.ZodOptional,...tn(e)});class Ec extends Kt{_parse(e){return this._getType(e)===xt.null?oo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ec.create=(t,e)=>new Ec({innerType:t,typeName:zt.ZodNullable,...tn(e)});class qm extends Kt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===xt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}qm.create=(t,e)=>new qm({innerType:t,typeName:zt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tn(e)});class Km extends Kt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return o1(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ii(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ii(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Km.create=(t,e)=>new Km({innerType:t,typeName:zt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tn(e)});class c1 extends Kt{_parse(e){if(this._getType(e)!==xt.nan){const r=this._getOrReturnCtx(e);return gt(r,{code:tt.invalid_type,expected:xt.nan,received:r.parsedType}),Ut}return{status:"valid",value:e.data}}}c1.create=t=>new c1({typeName:zt.ZodNaN,...tn(t)});const Wj=Symbol("zod_brand");class E3 extends Kt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class p0 extends Kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ut:o.status==="dirty"?(n.dirty(),wh(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ut:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new p0({in:e,out:n,typeName:zt.ZodPipeline})}}class Wm extends Kt{_parse(e){const n=this._def.innerType._parse(e);return Im(n)&&(n.value=Object.freeze(n.value)),n}unwrap(){return this._def.innerType}}Wm.create=(t,e)=>new Wm({innerType:t,typeName:zt.ZodReadonly,...tn(e)});function xk(t,e={},n){return t?Yh.create().superRefine((r,i)=>{var o,s;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(s=(o=a.fatal)!==null&&o!==void 0?o:n)!==null&&s!==void 0?s:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):Yh.create()}const Xj={object:pr.lazycreate};var zt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(zt||(zt={}));const Jj=(t,e={message:`Input not instance of ${t.name}`})=>xk(n=>n instanceof t,e),_k=Ys.create,wk=Ac.create,Yj=c1.create,Zj=Cc.create,Sk=Om.create,Qj=ed.create,eH=s1.create,tH=Fm.create,nH=zm.create,rH=Yh.create,iH=Wu.create,oH=El.create,sH=a1.create,aH=ea.create,lH=pr.create,cH=pr.strictCreate,uH=Um.create,dH=q1.create,hH=jm.create,fH=Ia.create,pH=Hm.create,mH=l1.create,gH=td.create,yH=Nh.create,vH=$m.create,bH=Gm.create,xH=Mc.create,_H=Vm.create,wH=Zh.create,bw=ws.create,SH=La.create,AH=Ec.create,CH=ws.createWithPreprocess,MH=p0.create,EH=()=>_k().optional(),kH=()=>wk().optional(),TH=()=>Sk().optional(),DH={string:t=>Ys.create({...t,coerce:!0}),number:t=>Ac.create({...t,coerce:!0}),boolean:t=>Om.create({...t,coerce:!0}),bigint:t=>Cc.create({...t,coerce:!0}),date:t=>ed.create({...t,coerce:!0})},LH=Ut;var at=Object.freeze({__proto__:null,defaultErrorMap:Jh,setErrorMap:Hj,getErrorMap:r1,makeIssue:i1,EMPTY_PATH:$j,addIssueToContext:gt,ParseStatus:Ui,INVALID:Ut,DIRTY:wh,OK:oo,isAborted:gw,isDirty:yw,isValid:Im,isAsync:o1,get util(){return yn},get objectUtil(){return mw},ZodParsedType:xt,getParsedType:lc,ZodType:Kt,datetimeRegex:bk,ZodString:Ys,ZodNumber:Ac,ZodBigInt:Cc,ZodBoolean:Om,ZodDate:ed,ZodSymbol:s1,ZodUndefined:Fm,ZodNull:zm,ZodAny:Yh,ZodUnknown:Wu,ZodNever:El,ZodVoid:a1,ZodArray:ea,ZodObject:pr,ZodUnion:Um,ZodDiscriminatedUnion:q1,ZodIntersection:jm,ZodTuple:Ia,ZodRecord:Hm,ZodMap:l1,ZodSet:td,ZodFunction:Nh,ZodLazy:$m,ZodLiteral:Gm,ZodEnum:Mc,ZodNativeEnum:Vm,ZodPromise:Zh,ZodEffects:ws,ZodTransformer:ws,ZodOptional:La,ZodNullable:Ec,ZodDefault:qm,ZodCatch:Km,ZodNaN:c1,BRAND:Wj,ZodBranded:E3,ZodPipeline:p0,ZodReadonly:Wm,custom:xk,Schema:Kt,ZodSchema:Kt,late:Xj,get ZodFirstPartyTypeKind(){return zt},coerce:DH,any:rH,array:aH,bigint:Zj,boolean:Sk,date:Qj,discriminatedUnion:dH,effect:bw,enum:xH,function:yH,instanceof:Jj,intersection:hH,lazy:vH,literal:bH,map:mH,nan:Yj,nativeEnum:_H,never:oH,null:nH,nullable:AH,number:wk,object:lH,oboolean:TH,onumber:kH,optional:SH,ostring:EH,pipeline:MH,preprocess:CH,promise:wH,record:pH,set:gH,strictObject:cH,string:_k,symbol:eH,transformer:bw,tuple:fH,undefined:tH,union:uH,unknown:iH,void:sH,NEVER:LH,ZodIssueCode:tt,quotelessJson:Uj,ZodError:Ii});const rne=Object.freeze(Object.defineProperty({__proto__:null,BRAND:Wj,DIRTY:wh,EMPTY_PATH:$j,INVALID:Ut,NEVER:LH,OK:oo,ParseStatus:Ui,Schema:Kt,ZodAny:Yh,ZodArray:ea,ZodBigInt:Cc,ZodBoolean:Om,ZodBranded:E3,ZodCatch:Km,ZodDate:ed,ZodDefault:qm,ZodDiscriminatedUnion:q1,ZodEffects:ws,ZodEnum:Mc,ZodError:Ii,get ZodFirstPartyTypeKind(){return zt},ZodFunction:Nh,ZodIntersection:jm,ZodIssueCode:tt,ZodLazy:$m,ZodLiteral:Gm,ZodMap:l1,ZodNaN:c1,ZodNativeEnum:Vm,ZodNever:El,ZodNull:zm,ZodNullable:Ec,ZodNumber:Ac,ZodObject:pr,ZodOptional:La,ZodParsedType:xt,ZodPipeline:p0,ZodPromise:Zh,ZodReadonly:Wm,ZodRecord:Hm,ZodSchema:Kt,ZodSet:td,ZodString:Ys,ZodSymbol:s1,ZodTransformer:ws,ZodTuple:Ia,ZodType:Kt,ZodUndefined:Fm,ZodUnion:Um,ZodUnknown:Wu,ZodVoid:a1,addIssueToContext:gt,any:rH,array:aH,bigint:Zj,boolean:Sk,coerce:DH,custom:xk,date:Qj,datetimeRegex:bk,default:at,defaultErrorMap:Jh,discriminatedUnion:dH,effect:bw,enum:xH,function:yH,getErrorMap:r1,getParsedType:lc,instanceof:Jj,intersection:hH,isAborted:gw,isAsync:o1,isDirty:yw,isValid:Im,late:Xj,lazy:vH,literal:bH,makeIssue:i1,map:mH,nan:Yj,nativeEnum:_H,never:oH,null:nH,nullable:AH,number:wk,object:lH,get objectUtil(){return mw},oboolean:TH,onumber:kH,optional:SH,ostring:EH,pipeline:MH,preprocess:CH,promise:wH,quotelessJson:Uj,record:pH,set:gH,setErrorMap:Hj,strictObject:cH,string:_k,symbol:eH,transformer:bw,tuple:fH,undefined:tH,union:uH,unknown:iH,get util(){return yn},void:sH,z:at},Symbol.toStringTag,{value:"Module"}));function f5(){return f5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f5.apply(this,arguments)}var RH=["shift","alt","meta","mod","ctrl"],ine={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Fu(t){return(ine[t]||t).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function one(t){return RH.includes(t)}function DA(t,e){return e===void 0&&(e=","),t.split(e)}function LA(t,e,n){e===void 0&&(e="+");var r=t.toLocaleLowerCase().split(e).map(function(s){return Fu(s)}),i={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},o=r.filter(function(s){return!RH.includes(s)});return f5({},i,{keys:o,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(t){t.key!==void 0&&BH([Fu(t.key),Fu(t.code)])}),document.addEventListener("keyup",function(t){t.key!==void 0&&PH([Fu(t.key),Fu(t.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){zu.clear()})})();var zu=new Set;function Ak(t){return Array.isArray(t)}function sne(t,e){e===void 0&&(e=",");var n=Ak(t)?t:t.split(e);return n.every(function(r){return zu.has(r.trim().toLowerCase())})}function BH(t){var e=Array.isArray(t)?t:[t];zu.has("meta")&&zu.forEach(function(n){return!one(n)&&zu.delete(n.toLowerCase())}),e.forEach(function(n){return zu.add(n.toLowerCase())})}function PH(t){var e=Array.isArray(t)?t:[t];t==="meta"?zu.clear():e.forEach(function(n){return zu.delete(n.toLowerCase())})}function ane(t,e,n){(typeof n=="function"&&n(t,e)||n===!0)&&t.preventDefault()}function lne(t,e,n){return typeof n=="function"?n(t,e):n===!0||n===void 0}function cne(t){return NH(t,["input","textarea","select"])}function NH(t,e){var n=t.target;e===void 0&&(e=!1);var r=n&&n.tagName;return Ak(e)?!!(r&&e&&e.some(function(i){return i.toLowerCase()===r.toLowerCase()})):!!(r&&e&&e===!0)}function une(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(function(n){return e.includes(n)})||t.includes("*"):!0}var dne=function(e,n,r){r===void 0&&(r=!1);var i=n.alt,o=n.meta,s=n.mod,a=n.shift,l=n.ctrl,c=n.keys,u=e.key,d=e.code,h=e.ctrlKey,f=e.metaKey,p=e.shiftKey,v=e.altKey,b=Fu(d),y=u.toLowerCase();if(!(c!=null&&c.includes(b))&&!(c!=null&&c.includes(y))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(b))return!1;if(!r){if(i===!v&&y!=="alt"||a===!p&&y!=="shift")return!1;if(s){if(!f&&!h)return!1}else if(o===!f&&y!=="meta"&&y!=="os"||l===!h&&y!=="ctrl"&&y!=="control")return!1}return c&&c.length===1&&(c.includes(y)||c.includes(b))?!0:c?sne(c):!c},hne=E.createContext(void 0),fne=function(){return E.useContext(hne)};function IH(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce(function(n,r){return n&&IH(t[r],e[r])},!0):t===e}var pne=E.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),mne=function(){return E.useContext(pne)};function gne(t){var e=E.useRef(void 0);return IH(e.current,t)||(e.current=t),e.current}var wL=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},yne=typeof window<"u"?E.useLayoutEffect:E.useEffect;function vne(t,e,n,r){var i=E.useRef(null),o=E.useRef(!1),s=n instanceof Array?r instanceof Array?void 0:r:n,a=Ak(t)?t.join(s==null?void 0:s.splitKey):t,l=n instanceof Array?n:r instanceof Array?r:void 0,c=E.useCallback(e,l??[]),u=E.useRef(c);l?u.current=c:u.current=e;var d=gne(s),h=mne(),f=h.enabledScopes,p=fne();return yne(function(){if(!((d==null?void 0:d.enabled)===!1||!une(f,d==null?void 0:d.scopes))){var v=function(A,D){var k;if(D===void 0&&(D=!1),!(cne(A)&&!NH(A,d==null?void 0:d.enableOnFormTags))){if(i.current!==null){var R=i.current.getRootNode();if((R instanceof Document||R instanceof ShadowRoot)&&R.activeElement!==i.current&&!i.current.contains(R.activeElement)){wL(A);return}}(k=A.target)!=null&&k.isContentEditable&&!(d!=null&&d.enableOnContentEditable)||DA(a,d==null?void 0:d.splitKey).forEach(function(L){var T,C=LA(L,d==null?void 0:d.combinationKey);if(dne(A,C,d==null?void 0:d.ignoreModifiers)||(T=C.keys)!=null&&T.includes("*")){if(d!=null&&d.ignoreEventWhen!=null&&d.ignoreEventWhen(A)||D&&o.current)return;if(ane(A,C,d==null?void 0:d.preventDefault),!lne(A,C,d==null?void 0:d.enabled)){wL(A);return}u.current(A,C),D||(o.current=!0)}})}},b=function(A){A.key!==void 0&&(BH(Fu(A.code)),((d==null?void 0:d.keydown)===void 0&&(d==null?void 0:d.keyup)!==!0||d!=null&&d.keydown)&&v(A))},y=function(A){A.key!==void 0&&(PH(Fu(A.code)),o.current=!1,d!=null&&d.keyup&&v(A,!0))},x=i.current||(s==null?void 0:s.document)||document;return x.addEventListener("keyup",y),x.addEventListener("keydown",b),p&&DA(a,d==null?void 0:d.splitKey).forEach(function(w){return p.addHotkey(LA(w,d==null?void 0:d.combinationKey,d==null?void 0:d.description))}),function(){x.removeEventListener("keyup",y),x.removeEventListener("keydown",b),p&&DA(a,d==null?void 0:d.splitKey).forEach(function(w){return p.removeHotkey(LA(w,d==null?void 0:d.combinationKey,d==null?void 0:d.description))})}}},[a,d,f]),i}var OH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SL=re.createContext&&re.createContext(OH),bne=["attr","size","title"];function xne(t,e){if(t==null)return{};var n=_ne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(this,arguments)}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e,n){return e=Sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=Ane(t,"string");return typeof e=="symbol"?e:e+""}function Ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FH(t){return t&&t.map((e,n)=>re.createElement(e.tag,_w({key:n},e.attr),FH(e.child)))}function Gr(t){return e=>re.createElement(Cne,xw({attr:_w({},t.attr)},e),FH(t.child))}function Cne(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=xne(t,bne),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),re.createElement("svg",xw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:_w(_w({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&re.createElement("title",null,o),t.children)};return SL!==void 0?re.createElement(SL.Consumer,null,n=>e(n)):e(OH)}function Mne(t){return Gr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.978.855a.5.5 0 1 0-.956.29l.41 1.352A5 5 0 0 0 3 6h10a5 5 0 0 0-1.432-3.503l.41-1.352a.5.5 0 1 0-.956-.29l-.291.956A5 5 0 0 0 8 1a5 5 0 0 0-2.731.811l-.29-.956z"},child:[]},{tag:"path",attr:{d:"M13 6v1H8.5v8.975A5 5 0 0 0 13 11h.5a.5.5 0 0 1 .5.5v.5a.5.5 0 1 0 1 0v-.5a1.5 1.5 0 0 0-1.5-1.5H13V9h1.5a.5.5 0 0 0 0-1H13V7h.5A1.5 1.5 0 0 0 15 5.5V5a.5.5 0 0 0-1 0v.5a.5.5 0 0 1-.5.5zm-5.5 9.975V7H3V6h-.5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 0-1 0v.5A1.5 1.5 0 0 0 2.5 7H3v1H1.5a.5.5 0 0 0 0 1H3v1h-.5A1.5 1.5 0 0 0 1 11.5v.5a.5.5 0 1 0 1 0v-.5a.5.5 0 0 1 .5-.5H3a5 5 0 0 0 4.5 4.975"},child:[]}]})(t)}function zH(t){return Gr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"},child:[]}]})(t)}function Ene(t){return Object.prototype.toString.call(t)==="[object Object]"}function CL(t){return Ene(t)||Array.isArray(t)}function kne(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ck(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==o?!1:n.every(s=>{const a=t[s],l=e[s];return typeof a=="function"?`${a}`==`${l}`:!CL(a)||!CL(l)?a===l:Ck(a,l)})}function ML(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Tne(t,e){if(t.length!==e.length)return!1;const n=ML(t),r=ML(e);return n.every((i,o)=>{const s=r[o];return Ck(i,s)})}function Mk(t){return typeof t=="number"}function p5(t){return typeof t=="string"}function Ek(t){return typeof t=="boolean"}function EL(t){return Object.prototype.toString.call(t)==="[object Object]"}function yr(t){return Math.abs(t)}function kk(t){return Math.sign(t)}function xy(t,e){return yr(t-e)}function Dne(t,e){if(t===0||e===0||yr(t)<=yr(e))return 0;const n=xy(yr(t),yr(e));return yr(n/t)}function u1(t){return d1(t).map(Number)}function Ra(t){return t[K1(t)]}function K1(t){return Math.max(0,t.length-1)}function Tk(t,e){return e===K1(t)}function kL(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function d1(t){return Object.keys(t)}function UH(t,e){return[t,e].reduce((n,r)=>(d1(r).forEach(i=>{const o=n[i],s=r[i],a=EL(o)&&EL(s);n[i]=a?UH(o,s):s}),n),{})}function jH(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Lne(t,e){const n={start:r,center:i,end:o};function r(){return 0}function i(l){return o(l)/2}function o(l){return e-l}function s(l,c){return p5(t)?n[t](l):t(e,l,c)}return{measure:s}}function h1(){let t=[];function e(i,o,s,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(o,s,a),l=()=>i.removeEventListener(o,s,a);else{const c=i;c.addListener(s),l=()=>c.removeListener(s)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function Rne(t,e,n,r){const i=h1(),o=1e3/60;let s=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&p()})}function u(){f(),i.clear()}function d(b){if(!l)return;s||(s=b);const y=b-s;for(s=b,a+=y;a>=o;)n(),a-=o;const x=yr(a/o);r(x),l&&e.requestAnimationFrame(d)}function h(){l||(l=e.requestAnimationFrame(d))}function f(){e.cancelAnimationFrame(l),s=null,a=0,l=0}function p(){s=null,a=0}return{init:c,destroy:u,start:h,stop:f,update:n,render:r}}function Bne(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",o=r?"x":"y",s=!r&&n?-1:1,a=u(),l=d();function c(p){const{height:v,width:b}=p;return r?v:b}function u(){return r?"top":n?"right":"left"}function d(){return r?"bottom":n?"left":"right"}function h(p){return p*s}return{scroll:i,cross:o,startEdge:a,endEdge:l,measureSize:c,direction:h}}function Qh(t=0,e=0){const n=yr(t-e);function r(c){return c<t}function i(c){return c>e}function o(c){return r(c)||i(c)}function s(c){return o(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:s,reachedAny:o,reachedMax:i,reachedMin:r,removeOffset:a}}function HH(t,e,n){const{constrain:r}=Qh(0,t),i=t+1;let o=s(e);function s(h){return n?yr((i+h)%i):r(h)}function a(){return o}function l(h){return o=s(h),d}function c(h){return u().set(a()+h)}function u(){return HH(t,a(),n)}const d={get:a,set:l,add:c,clone:u};return d}function Pne(t,e,n,r,i,o,s,a,l,c,u,d,h,f,p,v,b,y,x){const{cross:w,direction:A}=t,D=["INPUT","SELECT","TEXTAREA"],k={passive:!1},R=h1(),L=h1(),T=Qh(50,225).constrain(f.measure(20)),C={mouse:300,touch:400},P={mouse:500,touch:600},z=p?43:25;let H=!1,$=0,X=0,Z=!1,K=!1,O=!1,V=!1;function I(le){if(!x)return;function xe(Be){(Ek(x)||x(le,Be))&&ve(Be)}const Fe=e;R.add(Fe,"dragstart",Be=>Be.preventDefault(),k).add(Fe,"touchmove",()=>{},k).add(Fe,"touchend",()=>{}).add(Fe,"touchstart",xe).add(Fe,"mousedown",xe).add(Fe,"touchcancel",Ve).add(Fe,"contextmenu",Ve).add(Fe,"click",pt,!0)}function se(){R.clear(),L.clear()}function ye(){const le=V?n:e;L.add(le,"touchmove",Ae,k).add(le,"touchend",Ve).add(le,"mousemove",Ae,k).add(le,"mouseup",Ve)}function G(le){const xe=le.nodeName||"";return D.includes(xe)}function ae(){return(p?P:C)[V?"mouse":"touch"]}function _e(le,xe){const Fe=d.add(kk(le)*-1),Be=u.byDistance(le,!p).distance;return p||yr(le)<T?Be:b&&xe?Be*.5:u.byIndex(Fe.get(),0).distance}function ve(le){const xe=jH(le,r);V=xe,O=p&&xe&&!le.buttons&&H,H=xy(i.get(),s.get())>=2,!(xe&&le.button!==0)&&(G(le.target)||(Z=!0,o.pointerDown(le),c.useFriction(0).useDuration(0),i.set(s),ye(),$=o.readPoint(le),X=o.readPoint(le,w),h.emit("pointerDown")))}function Ae(le){const xe=o.readPoint(le),Fe=o.readPoint(le,w),Be=xy(xe,$),Re=xy(Fe,X);if(!K&&!V&&(!le.cancelable||(K=Be>Re,!K)))return Ve(le);const Ze=o.pointerMove(le);Be>v&&(O=!0),c.useFriction(.3).useDuration(1),a.start(),i.add(A(Ze)),le.preventDefault()}function Ve(le){const Fe=u.byDistance(0,!1).index!==d.get(),Be=o.pointerUp(le)*ae(),Re=_e(A(Be),Fe),Ze=Dne(Be,Re),Je=z-10*Ze,_t=y+Ze/50;K=!1,Z=!1,L.clear(),c.useDuration(Je).useFriction(_t),l.distance(Re,!p),V=!1,h.emit("pointerUp")}function pt(le){O&&(le.stopPropagation(),le.preventDefault(),O=!1)}function ke(){return Z}return{init:I,pointerDown:ke,destroy:se}}function Nne(t,e){let r,i;function o(d){return d.timeStamp}function s(d,h){const p=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(jH(d,e)?d:d.touches[0])[p]}function a(d){return r=d,i=d,s(d)}function l(d){const h=s(d)-s(i),f=o(d)-o(r)>170;return i=d,f&&(r=d),h}function c(d){if(!r||!i)return 0;const h=s(i)-s(r),f=o(d)-o(r),p=o(d)-o(i)>170,v=h/f;return f&&!p&&yr(v)>.1?v:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:s}}function Ine(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:o,offsetHeight:s}=n;return{top:r,right:i+o,bottom:r+s,left:i,width:o,height:s}}return{measure:t}}function One(t){function e(r){return t*(r/100)}return{measure:e}}function Fne(t,e,n,r,i,o,s){let a,l,c=[],u=!1;function d(v){return i.measureSize(s.measure(v))}function h(v){if(!o)return;l=d(t),c=r.map(d);function b(x){for(const w of x){const A=w.target===t,D=r.indexOf(w.target),k=A?l:c[D],R=d(A?t:r[D]);if(yr(R-k)>=.5){n.requestAnimationFrame(()=>{v.reInit(),e.emit("resize")});break}}}a=new ResizeObserver(x=>{u||(Ek(o)||o(v,x))&&b(x)}),[t].concat(r).forEach(x=>a.observe(x))}function f(){a&&a.disconnect(),u=!0}return{init:h,destroy:f}}function zne(t,e,n,r,i){let o=0,s=0,a=r,l=i,c=t.get(),u=0;function d(){const D=n.get()-t.get(),k=!a;let R=0;return k?(o=0,t.set(n),R=D):(o+=D/a,o*=l,c+=o,t.add(o),R=c-u),s=kk(R),u=c,A}function h(){const D=n.get()-e.get();return yr(D)<.001}function f(){return a}function p(){return s}function v(){return o}function b(){return x(r)}function y(){return w(i)}function x(D){return a=D,A}function w(D){return l=D,A}const A={direction:p,duration:f,velocity:v,seek:d,settled:h,useBaseFriction:y,useBaseDuration:b,useFriction:w,useDuration:x};return A}function Une(t,e,n,r,i){const o=i.measure(10),s=i.measure(50),a=Qh(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function u(f){if(!c())return;const p=t.reachedMin(e.get())?"min":"max",v=yr(t[p]-e.get()),b=n.get()-e.get(),y=a.constrain(v/s);n.subtract(b*y),!f&&yr(b)<o&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function d(f){l=!f}return{constrain:u,toggleActive:d}}function jne(t,e,n,r,i){const o=Qh(-e+t,0),s=d(),a=u(),l=h();function c(p,v){return xy(p,v)<1}function u(){const p=s[0],v=Ra(s),b=s.lastIndexOf(p),y=s.indexOf(v)+1;return Qh(b,y)}function d(){return n.map((p,v)=>{const{min:b,max:y}=o,x=o.constrain(p),w=!v,A=Tk(n,v);return w?y:A||c(b,x)?b:c(y,x)?y:x}).map(p=>parseFloat(p.toFixed(3)))}function h(){if(e<=t+i)return[o.max];if(r==="keepSnaps")return s;const{min:p,max:v}=a;return s.slice(p,v)}return{snapsContained:l,scrollContainLimit:a}}function Hne(t,e,n){const r=e[0],i=n?r-t:Ra(e);return{limit:Qh(i,r)}}function $ne(t,e,n,r){const o=e.min+.1,s=e.max+.1,{reachedMin:a,reachedMax:l}=Qh(o,s);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function u(h){if(!c(h))return;const f=t*(h*-1);r.forEach(p=>p.add(f))}return{loop:u}}function Gne(t){const{max:e,length:n}=t;function r(o){const s=o-e;return n?s/-n:0}return{get:r}}function Vne(t,e,n,r,i){const{startEdge:o,endEdge:s}=t,{groupSlides:a}=i,l=d().map(e.measure),c=h(),u=f();function d(){return a(r).map(v=>Ra(v)[s]-v[0][o]).map(yr)}function h(){return r.map(v=>n[o]-v[o]).map(v=>-yr(v))}function f(){return a(c).map(v=>v[0]).map((v,b)=>v+l[b])}return{snaps:c,snapsAligned:u}}function qne(t,e,n,r,i,o){const{groupSlides:s}=i,{min:a,max:l}=r,c=u();function u(){const h=s(o),f=!t||e==="keepSnaps";return n.length===1?[o]:f?h:h.slice(a,l).map((p,v,b)=>{const y=!v,x=Tk(b,v);if(y){const w=Ra(b[0])+1;return kL(w)}if(x){const w=K1(o)-Ra(b)[0]+1;return kL(w,Ra(b)[0])}return p})}return{slideRegistry:c}}function Kne(t,e,n,r,i){const{reachedAny:o,removeOffset:s,constrain:a}=r;function l(p){return p.concat().sort((v,b)=>yr(v)-yr(b))[0]}function c(p){const v=t?s(p):a(p),b=e.map((x,w)=>({diff:u(x-v,0),index:w})).sort((x,w)=>yr(x.diff)-yr(w.diff)),{index:y}=b[0];return{index:y,distance:v}}function u(p,v){const b=[p,p+n,p-n];if(!t)return b[0];if(!v)return l(b);const y=b.filter(x=>kk(x)===v);return y.length?l(y):Ra(b)-n}function d(p,v){const b=e[p]-i.get(),y=u(b,v);return{index:p,distance:y}}function h(p,v){const b=i.get()+p,{index:y,distance:x}=c(b),w=!t&&o(b);if(!v||w)return{index:y,distance:p};const A=e[y]-x,D=p+u(A,0);return{index:y,distance:D}}return{byDistance:h,byIndex:d,shortcut:u}}function Wne(t,e,n,r,i,o,s){function a(d){const h=d.distance,f=d.index!==e.get();o.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),f&&(n.set(e.get()),e.set(d.index),s.emit("select"))}function l(d,h){const f=i.byDistance(d,h);a(f)}function c(d,h){const f=e.clone().set(d),p=i.byIndex(f.get(),h);a(p)}return{distance:l,index:c}}function Xne(t,e,n,r,i,o){let s=0;function a(){o.add(document,"keydown",l,!1),e.forEach(c)}function l(d){d.code==="Tab"&&(s=new Date().getTime())}function c(d){const h=()=>{if(new Date().getTime()-s>10)return;t.scrollLeft=0;const v=e.indexOf(d),b=n.findIndex(y=>y.includes(v));Mk(b)&&(i.useDuration(0),r.index(b,0))};o.add(d,"focus",h,{passive:!0,capture:!0})}return{init:a}}function v_(t){let e=t;function n(){return e}function r(l){e=s(l)}function i(l){e+=s(l)}function o(l){e-=s(l)}function s(l){return Mk(l)?l:l.get()}return{get:n,set:r,add:i,subtract:o}}function $H(t,e){const n=t.scroll==="x"?o:s,r=e.style;let i=!1;function o(d){return`translate3d(${d}px,0px,0px)`}function s(d){return`translate3d(0px,${d}px,0px)`}function a(d){i||(r.transform=n(t.direction(d)))}function l(d){i=!d}function c(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:c,to:a,toggleActive:l}}function Jne(t,e,n,r,i,o,s,a,l){const u=u1(i),d=u1(i).reverse(),h=y().concat(x());function f(R,L){return R.reduce((T,C)=>T-i[C],L)}function p(R,L){return R.reduce((T,C)=>f(T,L)>0?T.concat([C]):T,[])}function v(R){return o.map((L,T)=>({start:L-r[T]+.5+R,end:L+e-.5+R}))}function b(R,L,T){const C=v(L);return R.map(P=>{const z=T?0:-n,H=T?n:0,$=T?"end":"start",X=C[P][$];return{index:P,loopPoint:X,slideLocation:v_(-1),translate:$H(t,l[P]),target:()=>a.get()>X?z:H}})}function y(){const R=s[0],L=p(d,R);return b(L,n,!1)}function x(){const R=e-s[0]-1,L=p(u,R);return b(L,-n,!0)}function w(){return h.every(({index:R})=>{const L=u.filter(T=>T!==R);return f(L,e)<=.1})}function A(){h.forEach(R=>{const{target:L,translate:T,slideLocation:C}=R,P=L();P!==C.get()&&(T.to(P),C.set(P))})}function D(){h.forEach(R=>R.translate.clear())}return{canLoop:w,clear:D,loop:A,loopPoints:h}}function Yne(t,e,n){let r,i=!1;function o(l){if(!n)return;function c(u){for(const d of u)if(d.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{i||(Ek(n)||n(l,u))&&c(u)}),r.observe(t,{childList:!0})}function s(){r&&r.disconnect(),i=!0}return{init:o,destroy:s}}function Zne(t,e,n,r){const i={};let o=null,s=null,a,l=!1;function c(){a=new IntersectionObserver(p=>{l||(p.forEach(v=>{const b=e.indexOf(v.target);i[b]=v}),o=null,s=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(p=>a.observe(p))}function u(){a&&a.disconnect(),l=!0}function d(p){return d1(i).reduce((v,b)=>{const y=parseInt(b),{isIntersecting:x}=i[y];return(p&&x||!p&&!x)&&v.push(y),v},[])}function h(p=!0){if(p&&o)return o;if(!p&&s)return s;const v=d(p);return p&&(o=v),p||(s=v),v}return{init:c,destroy:u,get:h}}function Qne(t,e,n,r,i,o){const{measureSize:s,startEdge:a,endEdge:l}=t,c=n[0]&&i,u=p(),d=v(),h=n.map(s),f=b();function p(){if(!c)return 0;const x=n[0];return yr(e[a]-x[a])}function v(){if(!c)return 0;const x=o.getComputedStyle(Ra(r));return parseFloat(x.getPropertyValue(`margin-${l}`))}function b(){return n.map((x,w,A)=>{const D=!w,k=Tk(A,w);return D?h[w]+u:k?h[w]+d:A[w+1][a]-x[a]}).map(yr)}return{slideSizes:h,slideSizesWithGaps:f,startGap:u,endGap:d}}function ere(t,e,n,r,i,o,s,a,l){const{startEdge:c,endEdge:u,direction:d}=t,h=Mk(n);function f(y,x){return u1(y).filter(w=>w%x===0).map(w=>y.slice(w,w+x))}function p(y){return y.length?u1(y).reduce((x,w,A)=>{const D=Ra(x)||0,k=D===0,R=w===K1(y),L=i[c]-o[D][c],T=i[c]-o[w][u],C=!r&&k?d(s):0,P=!r&&R?d(a):0,z=yr(T-P-(L+C));return A&&z>e+l&&x.push(w),R&&x.push(y.length),x},[]).map((x,w,A)=>{const D=Math.max(A[w-1]||0);return y.slice(D,x)}):[]}function v(y){return h?f(y,n):p(y)}return{groupSlides:v}}function tre(t,e,n,r,i,o,s){const{align:a,axis:l,direction:c,startIndex:u,loop:d,duration:h,dragFree:f,dragThreshold:p,inViewThreshold:v,slidesToScroll:b,skipSnaps:y,containScroll:x,watchResize:w,watchSlides:A,watchDrag:D}=o,k=2,R=Ine(),L=R.measure(e),T=n.map(R.measure),C=Bne(l,c),P=C.measureSize(L),z=One(P),H=Lne(a,P),$=!d&&!!x,X=d||!!x,{slideSizes:Z,slideSizesWithGaps:K,startGap:O,endGap:V}=Qne(C,L,T,n,X,i),I=ere(C,P,b,d,L,T,O,V,k),{snaps:se,snapsAligned:ye}=Vne(C,H,L,T,I),G=-Ra(se)+Ra(K),{snapsContained:ae,scrollContainLimit:_e}=jne(P,G,ye,x,k),ve=$?ae:ye,{limit:Ae}=Hne(G,ve,d),Ve=HH(K1(ve),u,d),pt=Ve.clone(),ke=u1(n),ee=({dragHandler:De,scrollBody:Qe,scrollBounds:Ie,options:{loop:et}})=>{et||Ie.constrain(De.pointerDown()),Qe.seek()},le=({scrollBody:De,translate:Qe,location:Ie,offsetLocation:et,scrollLooper:kt,slideLooper:vt,dragHandler:rt,animation:te,eventHandler:ge,options:{loop:We}},J)=>{const He=De.velocity(),Se=De.settled();Se&&!rt.pointerDown()&&(te.stop(),ge.emit("settle")),Se||ge.emit("scroll"),et.set(Ie.get()-He+He*J),We&&(kt.loop(De.direction()),vt.loop()),Qe.to(et.get())},xe=Rne(r,i,()=>ee(de),De=>le(de,De)),Fe=.68,Be=ve[Ve.get()],Re=v_(Be),Ze=v_(Be),Je=v_(Be),_t=zne(Re,Ze,Je,h,Fe),Q=Kne(d,ve,G,Ae,Je),U=Wne(xe,Ve,pt,_t,Q,Je,s),pe=Gne(Ae),Te=h1(),Oe=Zne(e,n,s,v),{slideRegistry:Ge}=qne($,x,ve,_e,I,ke),ce=Xne(t,n,Ge,U,_t,Te),de={ownerDocument:r,ownerWindow:i,eventHandler:s,containerRect:L,slideRects:T,animation:xe,axis:C,dragHandler:Pne(C,t,r,i,Je,Nne(C,i),Re,xe,U,_t,Q,Ve,s,z,f,p,y,Fe,D),eventStore:Te,percentOfView:z,index:Ve,indexPrevious:pt,limit:Ae,location:Re,offsetLocation:Ze,options:o,resizeHandler:Fne(e,s,i,n,C,w,R),scrollBody:_t,scrollBounds:Une(Ae,Ze,Je,_t,z),scrollLooper:$ne(G,Ae,Ze,[Re,Ze,Je]),scrollProgress:pe,scrollSnapList:ve.map(pe.get),scrollSnaps:ve,scrollTarget:Q,scrollTo:U,slideLooper:Jne(C,P,G,Z,K,se,ve,Ze,n),slideFocus:ce,slidesHandler:Yne(e,s,A),slidesInView:Oe,slideIndexes:ke,slideRegistry:Ge,slidesToScroll:I,target:Je,translate:$H(C,e)};return de}function nre(){const t={};let e;function n(l){e=l}function r(l){return t[l]||[]}function i(l){return r(l).forEach(c=>c(e,l)),a}function o(l,c){return t[l]=r(l).concat([c]),a}function s(l,c){return t[l]=r(l).filter(u=>u!==c),a}const a={init:n,emit:i,off:s,on:o};return a}const rre={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function ire(t){function e(o,s){return UH(o,s||{})}function n(o){const s=o.breakpoints||{},a=d1(s).filter(l=>t.matchMedia(l).matches).map(l=>s[l]).reduce((l,c)=>e(l,c),{});return e(o,a)}function r(o){return o.map(s=>d1(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function ore(t){let e=[];function n(o,s){return e=s.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(o,t)),s.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(o=>o.destroy())}return{init:n,destroy:r}}function ww(t,e,n){const r=t.ownerDocument,i=r.defaultView,o=ire(i),s=ore(o),a=h1(),l=nre(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:d}=o,{on:h,off:f,emit:p}=l,v=P;let b=!1,y,x=c(rre,ww.globalOptions),w=c(x),A=[],D,k,R;function L(){const{container:ee,slides:le}=w;k=(p5(ee)?t.querySelector(ee):ee)||t.children[0];const Fe=p5(le)?k.querySelectorAll(le):le;R=[].slice.call(Fe||k.children)}function T(ee){const le=tre(t,k,R,r,i,ee,l);if(ee.loop&&!le.slideLooper.canLoop()){const xe=Object.assign({},ee,{loop:!1});return T(xe)}return le}function C(ee,le){b||(x=c(x,ee),w=u(x),A=le||A,L(),y=T(w),d([x,...A.map(({options:xe})=>xe)]).forEach(xe=>a.add(xe,"change",P)),w.active&&(y.translate.to(y.location.get()),y.animation.init(),y.slidesInView.init(),y.slideFocus.init(),y.eventHandler.init(ke),y.resizeHandler.init(ke),y.slidesHandler.init(ke),y.options.loop&&y.slideLooper.loop(),k.offsetParent&&R.length&&y.dragHandler.init(ke),D=s.init(ke,A)))}function P(ee,le){const xe=se();z(),C(c({startIndex:xe},ee),le),l.emit("reInit")}function z(){y.dragHandler.destroy(),y.eventStore.clear(),y.translate.clear(),y.slideLooper.clear(),y.resizeHandler.destroy(),y.slidesHandler.destroy(),y.slidesInView.destroy(),y.animation.destroy(),s.destroy(),a.clear()}function H(){b||(b=!0,a.clear(),z(),l.emit("destroy"))}function $(ee,le,xe){!w.active||b||(y.scrollBody.useBaseFriction().useDuration(le===!0?0:w.duration),y.scrollTo.index(ee,xe||0))}function X(ee){const le=y.index.add(1).get();$(le,ee,-1)}function Z(ee){const le=y.index.add(-1).get();$(le,ee,1)}function K(){return y.index.add(1).get()!==se()}function O(){return y.index.add(-1).get()!==se()}function V(){return y.scrollSnapList}function I(){return y.scrollProgress.get(y.location.get())}function se(){return y.index.get()}function ye(){return y.indexPrevious.get()}function G(){return y.slidesInView.get()}function ae(){return y.slidesInView.get(!1)}function _e(){return D}function ve(){return y}function Ae(){return t}function Ve(){return k}function pt(){return R}const ke={canScrollNext:K,canScrollPrev:O,containerNode:Ve,internalEngine:ve,destroy:H,off:f,on:h,emit:p,plugins:_e,previousScrollSnap:ye,reInit:v,rootNode:Ae,scrollNext:X,scrollPrev:Z,scrollProgress:I,scrollSnapList:V,scrollTo:$,selectedScrollSnap:se,slideNodes:pt,slidesInView:G,slidesNotInView:ae};return C(e,n),setTimeout(()=>l.emit("init"),0),ke}ww.globalOptions=void 0;function Dk(t={},e=[]){const n=E.useRef(t),r=E.useRef(e),[i,o]=E.useState(),[s,a]=E.useState(),l=E.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return E.useEffect(()=>{if(kne()&&s){ww.globalOptions=Dk.globalOptions;const c=ww(s,n.current,r.current);return o(c),()=>c.destroy()}else o(void 0)},[s,o]),E.useEffect(()=>{Ck(n.current,t)||(n.current=t,l())},[t,l]),E.useEffect(()=>{Tne(r.current,e)||(r.current=e,l())},[e,l]),[a,i]}Dk.globalOptions=void 0;/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=(t,e)=>{const n=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...c},u)=>E.createElement("svg",{ref:u,...sre,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${are(t)}`,a].join(" "),...c},[...e.map(([d,h])=>E.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=GH("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=GH("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function VH(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VH(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VH(t))&&(r&&(r+=" "),r+=e);return r}var ure=Object.defineProperty,dre=Object.defineProperties,hre=Object.getOwnPropertyDescriptors,Sw=Object.getOwnPropertySymbols,qH=Object.prototype.hasOwnProperty,KH=Object.prototype.propertyIsEnumerable,TL=(t,e,n)=>e in t?ure(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oe=(t,e)=>{for(var n in e||(e={}))qH.call(e,n)&&TL(t,n,e[n]);if(Sw)for(var n of Sw(e))KH.call(e,n)&&TL(t,n,e[n]);return t},we=(t,e)=>dre(t,hre(e)),DL=t=>typeof t=="symbol"?t:t+"",Aw=(t,e)=>{var n={};for(var r in t)qH.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Sw)for(var r of Sw(t))e.indexOf(r)<0&&KH.call(t,r)&&(n[r]=t[r]);return n};function Do(t){return Array.isArray(t)}var fre={en:{"keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.menu":"Menu","tooltip.undo":"Undo","menu.borders":"Borders","menu.insert matrix":"Insert Matrix","menu.array.add row above":"Add Row Before","menu.array.add row below":"Add Row After","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Blackboard","tooltip.bold":"Bold","tooltip.italic":"Italic","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligraphic","tooltip.typewriter":"Typewriter","tooltip.roman-upright":"Roman Upright","tooltip.row-by-col":"%@  %@","menu.font-style":"Font Style","menu.accent":"Accent","menu.decoration":"Decoration","menu.color":"Color","menu.background-color":"Background","menu.evaluate":"Evaluate","menu.simplify":"Simplify","menu.solve":"Solve","menu.solve-for":"Solve for %@","menu.cut":"Cut","menu.copy":"Copy","menu.copy-as-latex":"Copy as LaTeX","menu.copy-as-ascii-math":"Copy as ASCII Math","menu.copy-as-mathml":"Copy as MathML","menu.paste":"Paste","menu.select-all":"Select All","color.red":"Red","color.orange":"Orange","color.yellow":"Yellow","color.lime":"Lime","color.green":"Green","color.teal":"Teal","color.cyan":"Cyan","color.blue":"Blue","color.indigo":"Indigo","color.purple":"Purple","color.magenta":"Magenta","color.black":"Black","color.dark-grey":"Dark Grey","color.grey":"Grey","color.light-grey":"Light Grey","color.white":"White"},ar:{"keyboard.tooltip.symbols":"  ","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"  ","tooltip.copy to clipboard":"  ","tooltip.cut to clipboard":"  ","tooltip.paste from clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"   ","menu.array.add row below":"  ","menu.array.add column after":"   ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":" ","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},de:{"keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Rmische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfgen","menu.borders":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufgen nach","menu.array.add row below":"Zeile hinzufgen vor","menu.array.add column after":"Spalte hinzufgen nach","menu.array.add column before":"Spalte hinzufgen vor","menu.array.delete row":"Zeile lschen","menu.array.delete rows":"Ausgewhlte Zeilen lschen","menu.array.delete column":"Spalte lschen","menu.array.delete columns":"Ausgewhlte Spalten lschen","menu.mode":"Modus","menu.mode-math":"Mathematik","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tafel","tooltip.bold":"Fett","tooltip.italic":"Kursiv","tooltip.fraktur":"Fraktur","tooltip.script":"Skript","tooltip.caligraphic":"Kalligraphie","tooltip.typewriter":"Schreibmaschine","tooltip.roman-upright":"Rmisch aufrecht","tooltip.row-by-col":"%@  %@","menu.font-style":"Schriftstil","menu.accent":"Akzent","menu.decoration":"Dekoration","menu.color":"Farbe","menu.background-color":"Hintergrund","menu.evaluate":"Auswerten","menu.simplify":"Vereinfachen","menu.solve":"Lsen","menu.solve-for":"Lsen fr %@","menu.cut":"Ausschneiden","menu.copy":"Kopieren","menu.copy-as-latex":"Als LaTeX kopieren","menu.copy-as-ascii-math":"Als ASCII Math kopieren","menu.copy-as-mathml":"Als MathML kopieren","menu.paste":"Einfgen","menu.select-all":"Alles auswhlen","color.red":"Rot","color.orange":"Orange","color.yellow":"Gelb","color.lime":"Limette","color.green":"Grn","color.teal":"Blaugrn","color.cyan":"Cyan","color.blue":"Blau","color.indigo":"Indigo","color.purple":"Lila","color.magenta":"Magenta","color.black":"Schwarz","color.dark-grey":"Dunkelgrau","color.grey":"Grau","color.light-grey":"Hellgrau","color.white":"Wei"},el:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":" ","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},es:{"keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Aadir Matriz","menu.borders":"Delimitadores de Matriz","menu.array.add row above":"Aadir Lnea Antes","menu.array.add row below":"Aadir Lnea Despues","menu.array.add column after":"Aadir Columna Despues","menu.array.add column before":"Aadir Columna Antes","menu.array.delete row":"Borrar Lnea","menu.array.delete rows":"Borrar Lneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","menu.mode":"Modo","menu.mode-math":"Matemticas","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Pizarra","tooltip.bold":"Negrita","tooltip.italic":"Cursiva","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrfico","tooltip.typewriter":"Mquina de escribir","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@  %@","menu.font-style":"Estilo de fuente","menu.accent":"Acento","menu.decoration":"Decoracin","menu.color":"Color","menu.background-color":"Fondo","menu.evaluate":"Evaluar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Cortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Pegar","menu.select-all":"Seleccionar todo","color.red":"Rojo","color.orange":"Naranja","color.yellow":"Amarillo","color.lime":"Lima","color.green":"Verde","color.teal":"Verde azulado","color.cyan":"Cian","color.blue":"Azul","color.indigo":"ndigo","color.purple":"Morado","color.magenta":"Magenta","color.black":"Negro","color.dark-grey":"Gris oscuro","color.grey":"Gris","color.light-grey":"Gris claro","color.white":"Blanco"},fr:{"keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.numeric":"Numrique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.menu":"Menu","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rtablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insrer une Matrice","menu.borders":"Bords","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Aprs","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Aprs","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Slectiones","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Slectiones","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tableau noir","tooltip.bold":"Gras","tooltip.italic":"Italique","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligraphique","tooltip.typewriter":"Machine  crire","tooltip.roman-upright":"Romain droit","tooltip.row-by-col":"%@  %@","menu.font-style":"Style de police","menu.accent":"Accent","menu.decoration":"Dcoration","menu.color":"Couleur","menu.background-color":"Arrire-plan","menu.evaluate":"valuer","menu.simplify":"Simplifier","menu.solve":"Rsoudre","menu.solve-for":"Rsoudre pour %@","menu.cut":"Couper","menu.copy":"Copier","menu.copy-as-latex":"Copier en LaTeX","menu.copy-as-ascii-math":"Copier en ASCII Math","menu.copy-as-mathml":"Copier en MathML","menu.paste":"Coller","menu.select-all":"Slectionner tout","color.red":"Rouge","color.orange":"Orange","color.yellow":"Jaune","color.lime":"Citron vert","color.green":"Vert","color.teal":"Turquoise","color.cyan":"Cyan","color.blue":"Bleu","color.indigo":"Indigo","color.purple":"Violet","color.magenta":"Magenta","color.black":"Noir","color.dark-grey":"Gris fonc","color.grey":"Gris","color.light-grey":"Gris clair","color.white":"Blanc"},he:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":" ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":" ","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":" ","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},it:{"keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.borders":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","menu.mode":"Modalit","menu.mode-math":"Matematica","menu.mode-text":"Testo","menu.mode-latex":"LaTeX","tooltip.blackboard":"Lavagna","tooltip.bold":"Grassetto","tooltip.italic":"Corsivo","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrafico","tooltip.typewriter":"Macchina da scrivere","tooltip.roman-upright":"Romano dritto","tooltip.row-by-col":"%@  %@","menu.font-style":"Stile del carattere","menu.accent":"Accento","menu.decoration":"Decorazione","menu.color":"Colore","menu.background-color":"Sfondo","menu.evaluate":"Valuta","menu.simplify":"Semplifica","menu.solve":"Risolvi","menu.solve-for":"Risolvi per %@","menu.cut":"Taglia","menu.copy":"Copia","menu.copy-as-latex":"Copia come LaTeX","menu.copy-as-ascii-math":"Copia come ASCII Math","menu.copy-as-mathml":"Copia come MathML","menu.paste":"Incolla","menu.select-all":"Seleziona tutto","color.red":"Rosso","color.orange":"Arancione","color.yellow":"Giallo","color.lime":"Lime","color.green":"Verde","color.teal":"Verde acqua","color.cyan":"Ciano","color.blue":"Blu","color.indigo":"Indaco","color.purple":"Viola","color.magenta":"Magenta","color.black":"Nero","color.dark-grey":"Grigio scuro","color.grey":"Grigio","color.light-grey":"Grigio chiaro","color.white":"Bianco"},ja:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.menu":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"%@ ","menu.cut":"","menu.copy":"","menu.copy-as-latex":"LaTeX","menu.copy-as-ascii-math":"ASCII Math","menu.copy-as-mathml":"MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""},ko:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"  ","tooltip.undo":" ","menu.insert matrix":" ","menu.borders":"  ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"%@  ","menu.cut":"","menu.copy":"","menu.copy-as-latex":"LaTeX ","menu.copy-as-ascii-math":"ASCII Math ","menu.copy-as-mathml":"MathML ","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},pl:{"keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywr","tooltip.toggle virtual keyboard":"Przecz wirtualn klawiatur","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.borders":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumn po","menu.array.add column before":"Dodaj kolumn przed","menu.array.delete row":"Usu wiersz","menu.array.delete rows":"Usu wybrane wiersze","menu.array.delete column":"Usu kolumn","menu.array.delete columns":"Usu wybrane kolumny","menu.mode":"Tryb","menu.mode-math":"Formua","menu.mode-text":"Tekst","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tablica","tooltip.bold":"Pogrubienie","tooltip.italic":"Kursywa","tooltip.fraktur":"Fraktura","tooltip.script":"Skrypt","tooltip.caligraphic":"Kaligraficzny","tooltip.typewriter":"Maszynowy","tooltip.roman-upright":"Rzymski prosto","tooltip.row-by-col":"%@  %@","menu.font-style":"Styl czcionki","menu.accent":"Akcent","menu.decoration":"Dekoracja","menu.color":"Kolor","menu.background-color":"To","menu.evaluate":"Oblicz","menu.simplify":"Upro","menu.solve":"Rozwi","menu.solve-for":"Rozwi dla %@","menu.cut":"Wytnij","menu.copy":"Kopiuj","menu.copy-as-latex":"Kopiuj jako LaTeX","menu.copy-as-ascii-math":"Kopiuj jako ASCII Math","menu.copy-as-mathml":"Kopiuj jako MathML","menu.paste":"Wklej","menu.select-all":"Zaznacz wszystko","color.red":"Czerwony","color.orange":"Pomaraczowy","color.yellow":"ty","color.lime":"Limetkowy","color.green":"Zielony","color.teal":"Turkusowy","color.cyan":"Cyjan","color.blue":"Niebieski","color.indigo":"Indygo","color.purple":"Fioletowy","color.magenta":"Magenta","color.black":"Czarny","color.dark-grey":"Ciemnoszary","color.grey":"Szary","color.light-grey":"Jasnoszary","color.white":"Biay"},pt:{"keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para rea de transferncia","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.borders":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","menu.mode":"Modo","menu.mode-math":"Frmula","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Quadro Negro","tooltip.bold":"Negrito","tooltip.italic":"Itlico","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrfico","tooltip.typewriter":"Mquina de Escrever","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@  %@","menu.font-style":"Estilo da Fonte","menu.accent":"Acento","menu.decoration":"Decorao","menu.color":"Cor","menu.background-color":"Cor de Fundo","menu.evaluate":"Avaliar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Recortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Colar","menu.select-all":"Selecionar Tudo","color.red":"Vermelho","color.orange":"Laranja","color.yellow":"Amarelo","color.lime":"Verde Lima","color.green":"Verde","color.teal":"Verde-azulado","color.cyan":"Ciano","color.blue":"Azul","color.indigo":"ndigo","color.purple":"Roxo","color.magenta":"Magenta","color.black":"Preto","color.dark-grey":"Cinza Escuro","color.grey":"Cinza","color.light-grey":"Cinza Claro","color.white":"Branco"},uk:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":" ","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"  ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"-","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"-","color.grey":"","color.light-grey":"-","color.white":""},zh_cn:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"r","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"Fraktur","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":" %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""},zh_tw:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"Fraktur","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":" %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""}};function oa(){return"window"in globalThis&&"document"in globalThis}function pre(){return"matchMedia"in window?window.matchMedia("(pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0}function WH(){return typeof navigator.vibrate=="function"}function m0(){var t,e;if(!oa())return"other";let n=(e=(t=navigator.userAgentData)==null?void 0:t.platform)!=null?e:navigator.platform;return/^mac/i.test(n)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(n)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function mre(){if(!oa())return!0;if(/firefox/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/firefox\/(\d+)/i);return t?parseInt(t[1])>=78:!1}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/edg\/(\d+)/i);return t?parseInt(t[1])>=79:!1}return!0}function LL(){return HTMLElement.prototype.hasOwnProperty("popover")}var Zt={strings:fre,_locale:"",_dirty:!1,_subscribers:[],_numberFormatter:void 0,get locale(){return Zt._locale||(Zt._locale=oa()?navigator.language.slice(0,5):"en-US"),Zt._locale},set locale(t){Zt._locale=t,Zt._numberFormatter=void 0,Zt.dirty=!0},get numberFormatter(){return Zt._numberFormatter||(Zt._numberFormatter=new Intl.NumberFormat(Zt.locale)),Zt._numberFormatter},merge(t,e){if(typeof t=="string"&&e)Zt.strings[t]=oe(oe({},Zt.strings[t]),e),Zt.dirty=!0;else for(let n of Object.keys(t))Zt.merge(n,t[n])},get dirty(){return Zt._dirty},set dirty(t){Zt._dirty||Zt._dirty===t||(Zt._dirty=!0,setTimeout(()=>{Zt._dirty=!1,this._subscribers.forEach(e=>e==null?void 0:e())},0))},subscribe(t){return Zt._subscribers.push(t),Zt._subscribers.length-1},unsubscribe(t){t<0||t>=Zt._subscribers.length||(Zt._subscribers[t]=void 0)},update(t){let e=t.querySelectorAll("[data-l10n-tooltip]");for(let n of e){let r=n.getAttribute("data-l10n-tooltip");if(r){let i=qt(r);i&&n.setAttribute("data-tooltip",i)}}e=t.querySelectorAll("[data-l10n-arial-label]");for(let n of e){let r=n.getAttribute("data-l10n-arial-label");if(r){let i=qt(r);i&&n.setAttribute("aria-label",i)}}}};function qt(t,...e){if(t===void 0)return;let n="",r=Zt.locale;Zt.strings[r]&&(n=Zt.strings[r][t]);let i=r.slice(0,2);if(!n&&Zt.strings[i]&&(n=Zt.strings[i][t]),n||(n=Zt.strings.en[t]),!n)return;let o=/(%@|%([0-9]+)\$@)/g,s=o.exec(n),a=0;for(;s;){if(e[a++]){let l=s[2]?parseInt(s[2],10)-1:a-1,c=e[l];typeof c=="number"&&(c=Zt.numberFormatter.format(c)),n=n.replace(s[1],c)}s=o.exec(n)}return n=n.replace(/%%/g,"%"),n}var gre={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},yre={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},Ih={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",cyan:"#b8e5c9",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},Oh={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",cyan:"#13a7ec",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},XH={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},vre={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function k3(t){var e,n,r,i,o,s;let a=t.split("!"),l,c,u,d=255,h=255,f=255,p=-1,v=a.length>0&&a[0].startsWith("-");v&&(a[0]=a[0].slice(1));for(let b=0;b<a.length;b++){l=d,c=h,u=f;let y=(e=a[b].trim().match(/^([A-Za-z\d-]+)/))==null?void 0:e[1],x=y==null?void 0:y.toLowerCase(),w=y&&(s=(o=(i=(r=(n=Oh[x])!=null?n:Oh[XH[y]])!=null?r:yre[y])!=null?i:vre[y])!=null?o:gre[y])!=null?s:a[b].trim(),A=w.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(A!=null&&A[1]&&A[2]&&A[3])d=Math.max(0,Math.min(255,Number.parseInt(A[1],16))),h=Math.max(0,Math.min(255,Number.parseInt(A[2],16))),f=Math.max(0,Math.min(255,Number.parseInt(A[3],16)));else if(A=w.match(/^#([\da-f]{3})$/i),A!=null&&A[1]){let D=Number.parseInt(A[1][0],16),k=Number.parseInt(A[1][1],16),R=Number.parseInt(A[1][2],16);d=Math.max(0,Math.min(255,D*16+D)),h=Math.max(0,Math.min(255,k*16+k)),f=Math.max(0,Math.min(255,R*16+R))}else if(A=w.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),A!=null&&A[1]&&A[2]&&A[3])d=Math.max(0,Math.min(255,Number.parseInt(A[1]))),h=Math.max(0,Math.min(255,Number.parseInt(A[2]))),f=Math.max(0,Math.min(255,Number.parseInt(A[3])));else return;p>=0&&(d=(1-p)*d+p*l,h=(1-p)*h+p*c,f=(1-p)*f+p*u,p=-1),b+1<a.length&&(p=Math.max(0,Math.min(100,Number.parseInt(a[++b])))/100)}return p>=0&&(d=p*d+(1-p)*l,h=p*h+(1-p)*c,f=p*f+(1-p)*u),v&&(d=255-d,h=255-h,f=255-f),"#"+("00"+Math.round(d).toString(16)).slice(-2)+("00"+Math.round(h).toString(16)).slice(-2)+("00"+Math.round(f).toString(16)).slice(-2)}function Rk(t){var e,n;return t=t.trim(),(n=(e=Ih[t.toLowerCase()])!=null?e:Ih[XH[t]])!=null?n:k3(t)}function bre(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&e.a===void 0&&(e.a=1),e}function RA(t,e,n){return n<0&&(n+=6),n>=6&&(n-=6),n<1?(e-t)*n+t:n<3?e:n<4?(e-t)*(4-n)+t:t}function xre(t){let[e,n,r]=[t.h,t.s,t.l];e=(e+360)%360/60,r=Math.max(0,Math.min(r,1)),n=Math.max(0,Math.min(n,1));let i=r<=.5?r*(n+1):r+n-r*n,o=r*2-i;return{r:Math.round(255*RA(o,i,e+2)),g:Math.round(255*RA(o,i,e)),b:Math.round(255*RA(o,i,e-2))}}function BA(t){return t<0?0:t>255?255:Math.round(t)}function _re(t){let{r:e,g:n,b:r}=t,i=((1<<24)+(BA(e)<<16)+(BA(n)<<8)+BA(r)).toString(16).slice(1);return i[0]===i[1]&&i[2]===i[3]&&i[4]===i[5]&&i[6]===i[7]&&(i=i[0]+i[2]+i[4]),"#"+i}function wre(t){let{r:e,g:n,b:r}=t;e=e/255,n=n/255,r=r/255;let i=Math.min(e,n,r),o=Math.max(e,n,r),s=o-i,a,l;o===i?a=0:e===o?a=(n-r)/s:n===o?a=2+(r-e)/s:r===o&&(a=4+(e-n)/s),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+o)/2;return o===i?l=0:c<=.5?l=s/(o+i):l=s/(2-o-i),{h:a,s:l,l:c}}function Sre(t){let e=bre(t);if(!e)return t;let{h:n,s:r,l:i}=wre(e);return r+=.1,i-=.1,_re(xre({h:n,s:r,l:i}))}var JH={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},m5={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},YH=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];function ZH(t,e,n){if(!/[A-Za-z\d]/.test(t)||(n==="up"&&(n=void 0),!e&&!n))return t;let r=t.codePointAt(0);if(r===void 0)return t;for(let i of YH)if((!e||i.variant===e)&&(!n||i.style===n)&&r>=i.offset&&r<i.offset+i.len){let o=i.start+r-i.offset;return String.fromCodePoint(m5[o]||o)}return t}function Are(t){var e;if((t<119808||t>120831)&&(t<8448||t>8527))return{char:String.fromCodePoint(t)};for(let n in m5)if(m5[n]===t){t=(e=n.codePointAt(0))!=null?e:0;break}for(let n of YH)if(t>=n.start&&t<n.start+n.len)return{char:String.fromCodePoint(t-n.start+n.offset),variant:n.variant,style:n.style};return{char:String.fromCodePoint(t)}}function Cre(t){var e;if("{}<>[]$&*#^_%:'".includes(t)||t.length>1)return;let n=(e=t.codePointAt(0))!=null?e:0,r=JH[n];if(r)return r;let{char:i,variant:o,style:s}=Are(n);if(!(!o&&!s)){switch(r=i,o){case"double-struck":r=`\\mathbb{${r}}`;break;case"fraktur":r=`\\mathfrak{${r}}`;break;case"script":r=`\\mathscr{${r}}`;break;case"sans-serif":r=`\\mathsf{${r}}`;break;case"monospace":r=`\\mathtt{${r}}`;break;case"calligraphic":r=`\\mathcal{${r}}`;break}switch(s){case"bold":r=`\\mathbf{${r}}`;break;case"italic":r=`\\mathit{${r}}`;break;case"bolditalic":r=`\\mathbfit{${r}}`;break}return r}}function lt(t){return t?Array.isArray(t)?t:typeof t=="object"&&"group"in t?t.group:[]:[]}var f1={},Cw=oe({},JH),mm={},Bk={},Mre={darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",weierp:"\\wp",Zeta:"\\mathrm{Z}"},Ere={varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},kre={bra:{def:"\\mathinner{\\langle{#1}|}",args:1,captureSelection:!1},ket:{def:"\\mathinner{|{#1}\\rangle}",args:1,captureSelection:!1},braket:{def:"\\mathinner{\\langle{#1}\\rangle}",args:1,captureSelection:!1},set:{def:"\\mathinner{\\lbrace #1 \\rbrace}",args:1,captureSelection:!1},Bra:{def:"\\left\\langle #1\\right|",args:1,captureSelection:!1},Ket:{def:"\\left|#1\\right\\rangle",args:1,captureSelection:!1},Braket:{def:"\\left\\langle{#1}\\right\\rangle",args:1,captureSelection:!1},Set:{def:"\\left\\lbrace #1 \\right\\rbrace",args:1,captureSelection:!1}},Tre={iff:{primitive:!0,captureSelection:!0,def:'\\;\\char"27FA\\;'},nicefrac:"^{#1}\\!\\!/\\!_{#2}",phase:{def:"\\enclose{phasorangle}{#1}",args:1,captureSelection:!1},rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},angl:"\\enclose{actuarial}{#1}",angln:"\\enclose{actuarial}{n}",anglr:"\\enclose{actuarial}{r}",anglk:"\\enclose{actuarial}{k}",mathtools:{primitive:!0,package:{ordinarycolon:":",vcentcolon:"\\mathrel{\\mathop\\ordinarycolon}",dblcolon:'{\\mathop{\\char"2237}}',coloneqq:'{\\mathop{\\char"2254}}',Coloneqq:'{\\mathop{\\char"2237\\char"3D}}',coloneq:'{\\mathop{\\char"3A\\char"2212}}',Coloneq:'{\\mathop{\\char"2237\\char"2212}}',eqqcolon:'{\\mathop{\\char"2255}}',Eqqcolon:'{\\mathop{\\char"3D\\char"2237}}',eqcolon:'{\\mathop{\\char"2239}}',Eqcolon:'{\\mathop{\\char"2212\\char"2237}}',colonapprox:'{\\mathop{\\char"003A\\char"2248}}',Colonapprox:'{\\mathop{\\char"2237\\char"2248}}',colonsim:'{\\mathop{\\char"3A\\char"223C}}',Colonsim:'{\\mathop{\\char"2237\\char"223C}}',colondash:"\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",Colondash:"\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"}},ratio:"\\vcentcolon",coloncolon:"\\dblcolon",colonequals:"\\coloneq",coloncolonequals:"\\Coloneq",equalscolon:"\\eqcolon",equalscoloncolon:"\\Eqcolon",colonminus:"\\colondash",coloncolonminus:"\\Colondash",minuscolon:"\\dashcolon",minuscoloncolon:"\\Dashcolon",coloncolonapprox:"\\Colonapprox",coloncolonsim:"\\Colonsim",simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",simcoloncolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcoloncolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",notni:"\\mathrel{\\char`}",limsup:"\\operatorname*{lim\\,sup}",liminf:"\\operatorname*{lim\\,inf}",injlim:"\\operatorname*{inj\\,lim}",projlim:"\\operatorname*{proj\\,lim}",varlimsup:"\\operatorname*{\\overline{lim}}",varliminf:"\\operatorname*{\\underline{lim}}",varinjlim:"\\operatorname*{\\underrightarrow{lim}}",varprojlim:"\\operatorname*{\\underleftarrow{lim}}",argmin:"\\operatorname*{arg\\,min}",argmax:"\\operatorname*{arg\\,max}",plim:"\\mathop{\\operatorname{plim}}\\limits",tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:kre},"amsmath.sty":{package:Ere,primitive:!0},"texvc.sty":{package:Mre,primitive:!1}},Yp={" ":32,"\\!":33,"\\#":35,"\\$":36,"\\%":37,"\\&":38,"\\_":95,"-":45,"\\textunderscore":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\textbraceleft":123,"\\textbraceright":125,"\\lbrace":123,"\\rbrace":125,"\\lbrack":91,"\\rbrack":93,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"":8211,"":8212,"":8216,"":8217,"":8220,"":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},Dre=/[\w!@*()-=+{}\[\]\\';:?/.,~<>`|$%#&^" ]/,g5,p1;mre()?(g5=new RegExp("\\p{Letter}","u"),p1=new RegExp("[0-9\\p{Letter}]","u")):(g5=/[a-zA-Z]/,p1=/[\da-zA-Z]/);function y5(t,e,n="mord",r){e!==void 0&&(f1[t]={definitionType:"symbol",type:n,variant:r,codepoint:e},Cw[e]||(Cw[e]=t))}function hi(t,e,n){if(typeof t=="string"){for(let r=0;r<t.length;r++){let i=t.charAt(r);y5(i,i.codePointAt(0))}return}for(let[r,i,o,s]of t)y5(r,i,o??e,s??n)}function QH(t,e){for(let n=t;n<=e;n++)y5(String.fromCodePoint(n),n)}function Lre(t){var e;return(e=Bk[t])!=null?e:null}function Rre(t,e){var n,r;if(e.length===0||e==="\\"||!e.startsWith("\\"))return[];let i=[];for(let s in mm)s.startsWith(e)&&!mm[s].infix&&i.push({match:s,frequency:(n=mm[s].frequency)!=null?n:0});for(let s in f1)s.startsWith(e)&&i.push({match:s,frequency:(r=f1[s].frequency)!=null?r:0});let o=e.substring(1);for(let s of Object.keys(t.options.macros))s.startsWith(o)&&i.push({match:"\\"+s,frequency:0});return i.sort((s,a)=>{var l,c;return s.frequency===a.frequency?s.match.length===a.match.length?s.match<a.match?-1:1:s.match.length-a.match.length:((l=a.frequency)!=null?l:0)-((c=s.frequency)!=null?c:0)}),i.map(s=>s.match)}function RL(t){let e="auto",n=t.match(/:([^=]+)/);return n&&(e=n[1].trim()),e}function Mw(t){if(!t)return[];let e=[],n=t.split("]");if(n[0].startsWith("[")){e.push({isOptional:!0,type:RL(n[0].slice(1))});for(let r=1;r<=n.length;r++)e.push(...Mw(n[r]))}else if(n=t.split("}"),n[0].startsWith("{")){e.push({isOptional:!1,type:RL(n[0].slice(1))});for(let r=1;r<=n.length;r++)e.push(...Mw(n[r]))}return e}function e$(t){if(!t)return"";let e="",n=!0;for(let r of t)typeof r.value=="string"?e+=r.value:n=!1;return n?e:""}function t$(t,e){typeof t=="string"&&(t=[t]);let n={tabular:!1,params:[],createAtom:e};for(let r of t)Bk[r]=n}function Pc(t,e,n){typeof t=="string"&&(t=[t]);let r={tabular:!0,params:Mw(e),createAtom:n};for(let i of t)Bk[i]=r}function Ue(t,e,n){var r,i;n||(n={});let o={definitionType:"function",params:Mw(e),ifMode:n.ifMode,isFunction:(r=n.isFunction)!=null?r:!1,applyMode:n.applyMode,infix:(i=n.infix)!=null?i:!1,parse:n.parse,createAtom:n.createAtom,applyStyle:n.applyStyle,serialize:n.serialize,render:n.render};if(typeof t=="string")mm["\\"+t]=o;else for(let s of t)mm["\\"+s]=o}var $b;function Pk(t){return $b||($b=v5(Tre)),t?v5(oe(oe({},$b),t)):$b}function BL(t,e){var n,r,i,o;if(typeof t=="string"){let s=0,a=t;return/(^|[^\\])#1/.test(a)&&(s=1),/(^|[^\\])#2/.test(a)&&(s=2),/(^|[^\\])#3/.test(a)&&(s=3),/(^|[^\\])#4/.test(a)&&(s=4),/(^|[^\\])#5/.test(a)&&(s=5),/(^|[^\\])#6/.test(a)&&(s=6),/(^|[^\\])#7/.test(a)&&(s=7),/(^|[^\\])#8/.test(a)&&(s=8),/(^|[^\\])#9/.test(a)&&(s=9),{expand:(n=e==null?void 0:e.expand)!=null?n:!0,captureSelection:(r=e==null?void 0:e.captureSelection)!=null?r:!0,args:s,def:a}}return oe({expand:(i=e==null?void 0:e.expand)!=null?i:!0,captureSelection:(o=e==null?void 0:e.captureSelection)!=null?o:!0,args:0},t)}function v5(t){if(!t)return{};let e={};for(let n of Object.keys(t)){let r=t[n];if(r==null)delete e[n];else if(typeof r=="object"&&"package"in r)for(let i of Object.keys(r.package))e[i]=BL(r.package[i],{expand:!r.primitive,captureSelection:r.captureSelection});else e[n]=BL(r)}return e}function Pi(t,e="math"){if(!t||t.length===0)return null;let n=null;if(t.startsWith("\\")){if(n=mm[t],n)return!n.ifMode||n.ifMode===e?n:null;e==="math"?n=f1[t]:Yp[t]&&(n={definitionType:"symbol",type:"mord",codepoint:Yp[t]})}else if(e==="math"){if(n=f1[t],!n&&t.length===1){let r=r$("math",t.codePointAt(0));return r.startsWith("\\")?we(oe({},Pi(r,"math")),{command:r}):null}}else Yp[t]?n={definitionType:"symbol",type:"mord",codepoint:Yp[t]}:e==="text"&&(n={definitionType:"symbol",type:"mord",codepoint:t.codePointAt(0)});return n??null}function n$(t,e){if(!t.startsWith("\\"))return null;let n=t.slice(1);return e[n]}function r$(t,e){return e===void 0?"":t==="math"&&Cw[e]?Cw[e]:t==="text"&&Object.keys(Yp).find(r=>Yp[r]===e)||String.fromCodePoint(e)}var Os=[0,.68889,0,0,.72222],Md=[0,.68889,0,0,.66667],PA=[0,.68889,0,0,.77778],Gb=[0,.68889,0,0,.61111],PL=[.16667,.68889,0,0,.77778],Q0=[0,.68889,0,0,.55556],bn=[0,0,0,0,.25],NL=[0,.825,0,0,2.33334],IL=[0,.9,0,0,2.33334],Vb=[0,.68889,0,0,.54028],NA=[-.03598,.46402,0,0,.5],Wi=[-.13313,.36687,0,0,1],qb=[.01354,.52239,0,0,1],OL=[.01354,.52239,0,0,1.11111],FL=[0,.54986,0,0,1],Kb=[0,.69224,0,0,.5],IA=[0,.43056,0,0,1],Zc=[.08198,.58198,0,0,.77778],Wb=[.19444,.69224,0,0,.41667],Xb=[.1808,.675,0,0,1],zL=[.19444,.69224,0,0,.83334],UL=[.13667,.63667,0,0,1],jL=[-.064,.437,0,0,1.334],Qc=[.08167,.58167,0,0,.77778],eg=[0,.69224,0,0,.72222],OA=[0,.69224,0,0,.66667],Jb=[-.13313,.36687,0,0,.77778],HL=[.06062,.54986,0,0,.77778],Yb=[0,.69224,0,0,.77778],Uf=[.25583,.75583,0,0,.77778],nl=[.25142,.75726,0,0,.77778],jf=[.20576,.70576,0,0,.77778],fa=[.30274,.79383,0,0,.77778],tg=[.22958,.72958,0,0,.77778],$L=[.1808,.675,0,0,.77778],rl=[.13667,.63667,0,0,.77778],zo=[.13597,.63597,0,0,.77778],eu=[.03517,.54986,0,0,.77778],Hf=[0,.675,0,0,.77778],GL=[.19444,.69224,0,0,.61111],VL=[0,.54986,0,0,.76042],qL=[0,.54986,0,0,.66667],tu=[.0391,.5391,0,0,.77778],KL=[.03517,.54986,0,0,1.33334],WL=[.38569,.88569,0,0,.77778],Zb=[.23222,.74111,0,0,.77778],XL=[.19444,.69224,0,0,.77778],JL=[0,.37788,0,0,.5],Qb=[0,.54986,0,0,.72222],YL=[0,.69224,0,0,.83334],ZL=[.11111,.69224,0,0,.66667],$f=[.26167,.75726,0,0,.77778],QL=[.48256,.98256,0,0,.77778],eR=[.28481,.79383,0,0,.77778],tR=[.08167,.58167,0,0,.22222],nR=[.08167,.58167,0,0,.38889],rR=[0,.43056,.04028,0,.66667],iR=[.41951,.91951,0,0,.77778],oR=[.24982,.74947,0,0,.38865],sR=[.08319,.58283,0,0,.75623],aR=[0,.10803,0,0,.27764],FA=[0,.47534,0,0,.50181],ng=[.18906,.47534,0,0,.50181],lR=[0,.69141,0,0,.50181],cR=[.24982,.74947,0,0,.27764],zA=[0,.69141,0,0,.21471],ex=[.25,.75,0,0,.44722],Fs=[0,.64444,0,0,.575],Gf=[.08556,.58556,0,0,.89444],tx=[0,.69444,0,0,.89444],nx=[0,.68611,0,0,.9],UA=[0,.68611,0,0,.86944],nu=[.25,.75,0,0,.575],rx=[.25,.75,0,0,.31944],Ed=[0,.69444,0,0,.63889],Vf=[0,.69444,0,0,.31944],uR=[0,.44444,0,0,.63889],dR=[0,.44444,0,0,.51111],ru=[0,.69444,0,0,.575],pa=[.13333,.63333,0,0,.89444],hR=[0,.44444,0,0,.31944],fR=[0,.69444,0,0,.86944],pR=[0,.68611,0,0,.69166],ix=[0,.68611,0,0,.83055],jA=[0,.68611,0,0,.89444],HA=[0,.69444,0,0,.60278],mR=[.19444,.69444,0,0,.51111],gR=[0,.69444,0,0,.83055],il=[-.10889,.39111,0,0,1.14999],yR=[.19444,.69444,0,0,.575],rg=[.19444,.69444,0,0,1.14999],vR=[.19444,.69444,0,0,.70277],bR=[.05556,.75,0,0,.575],$A=[0,.68611,0,0,.95833],xR=[.08556,.58556,0,0,.76666],GA=[-.02639,.47361,0,0,.575],_R=[0,.44444,0,0,.89444],kd=[0,.55556,0,0,.76666],wR=[-.10889,.39111,0,0,.89444],VA=[.00222,.50222,0,0,.89444],iu=[.19667,.69667,0,0,.89444],SR=[.08556,.58556,0,0,1.14999],qA=[0,.69444,0,0,.70277],ox=[-.02778,.47222,0,0,.575],sx=[.25,.75,0,0,.51111],AR=[-.13889,.36111,0,0,1.14999],CR=[.19444,.69444,0,0,1.02222],ax=[.12963,.69444,0,0,.89444],MR=[.19444,.69444,0,0,.44722],ou=[0,.64444,.13167,0,.59111],ER=[.19444,.64444,.13167,0,.59111],KA=[0,.68611,.17208,0,.8961],kR=[.19444,.44444,.105,0,.53222],TR=[0,.44444,.085,0,.82666],DR=[0,.69444,.06709,0,.59111],lx=[0,.69444,.12945,0,.35555],LR=[0,.69444,0,0,.94888],WA=[0,.69444,.11472,0,.59111],RR=[0,.68611,.10778,0,.88555],BR=[0,.69444,.07939,0,.62055],cx=[0,.69444,.12417,0,.30667],su=[0,.64444,.13556,0,.51111],PR=[.19444,.64444,.13556,0,.51111],ux=[0,.68333,.16389,0,.74333],NR=[.19444,.43056,.08847,0,.46],IR=[0,.43056,.07514,0,.71555],OR=[0,.69444,.06646,0,.51111],FR=[0,.69444,0,0,.83129],zR=[0,.69444,.1225,0,.51111],UR=[0,.68333,.09403,0,.76666],jR=[0,.68333,.11111,0,.76666],HR=[0,.69444,.06961,0,.51444],Ul=[0,.69444,0,0,.27778],qf=[.25,.75,0,0,.38889],zs=[0,.64444,0,0,.5],Td=[0,.69444,0,0,.77778],Dd=[0,.68333,0,0,.75],ig=[0,.68333,0,0,.77778],$R=[0,.68333,0,0,.68056],og=[0,.68333,0,0,.72222],jl=[.25,.75,0,0,.5],dx=[.25,.75,0,0,.27778],Wr=[0,.69444,0,0,.5],Kf=[0,.69444,0,0,.55556],XA=[0,.43056,0,0,.44445],sg=[0,.43056,0,0,.5],GR=[.19444,.43056,0,0,.55556],VR=[0,.43056,0,0,.55556],Us=[.08333,.58333,0,0,.77778],qR=[0,.43056,0,0,.27778],KR=[0,.66786,0,0,.27778],WR=[0,.69444,0,0,.75],XR=[0,.66786,0,0,.5],JR=[0,.68333,0,0,.625],JA=[.19444,.69444,0,0,.44445],ag=[0,.69444,0,0,.72222],YR=[.19444,.69444,0,0,.5],lg=[.19444,.69444,0,0,1],ZR=[.011,.511,0,0,1.126],YA=[.19444,.69444,0,0,.61111],ZA=[.05556,.75,0,0,.5],QR=[0,.68333,0,0,.83334],eB=[.0391,.5391,0,0,.66667],QA=[-.05555,.44445,0,0,.5],tB=[0,.43056,0,0,.77778],Ld=[0,.55556,0,0,.66667],hx=[-.03625,.46375,0,0,.77778],nB=[-.01688,.48312,0,0,.77778],rB=[.0391,.5391,0,0,1],au=[0,.69444,0,0,.61111],fx=[-.03472,.46528,0,0,.5],px=[.25,.75,0,0,.44445],iB=[-.14236,.35764,0,0,1],mx=[.244,.744,0,0,.412],oB=[.19444,.69444,0,0,.88889],gx=[.12963,.69444,0,0,.77778],sB=[.19444,.69444,0,0,.38889],aB=[.011,.511,0,0,1.638],lB=[.19444,.69444,0,0,0],yx=[0,.44444,0,0,.575],cg=[.19444,.44444,0,0,.575],cB=[0,.68611,0,0,.75555],uB=[0,.69444,0,0,.66759],dB=[0,.68611,0,0,.80555],hB=[0,.68611,.08229,0,.98229],fB=[0,.68611,0,0,.76666],pB=[0,.44444,0,0,.58472],mB=[.19444,.44444,0,0,.6118],ug=[.19444,.43056,0,0,.5],gB=[0,.68333,.02778,.08334,.76278],yB=[0,.68333,.08125,.05556,.83125],vB=[0,.43056,0,.05556,.48472],bB=[.19444,.43056,0,.08334,.51702],xB=[.25,.75,0,0,.42778],Di=[0,.69444,0,0,.55],Hl=[0,.69444,0,0,.73334],lu=[0,.69444,0,0,.79445],_B=[0,.69444,0,0,.51945],eC=[0,.69444,0,0,.70278],wB=[0,.69444,0,0,.76389],SB=[.25,.75,0,0,.34306],tC=[0,.69444,0,0,.56111],AB=[0,.69444,0,0,.25556],CB=[.19444,.45833,0,0,.56111],MB=[0,.45833,0,0,.56111],vx=[0,.69444,0,0,.30556],EB=[0,.69444,0,0,.58056],kB=[0,.69444,0,0,.67223],nC=[0,.69444,0,0,.85556],rC=[0,.69444,0,0,.55834],ol=[0,.65556,.11156,0,.5],iC=[0,.69444,.08094,0,.70834],oC=[.17014,0,0,0,.44445],TB=[0,.69444,.0799,0,.5],DB=[0,.69444,0,0,.73752],LB=[0,.69444,.09205,0,.5],RB=[0,.69444,.09031,0,.77778],sC=[0,.69444,.07816,0,.27778],BB=[0,.69444,.00316,0,.5],PB=[.19444,.69444,0,0,.83334],NB=[.05556,.75,0,0,.83334],IB=[0,.75,0,0,.5],OB=[.125,.08333,0,0,.27778],FB=[0,.08333,0,0,.27778],sl=[0,.65556,0,0,.5],aC=[0,.69444,0,0,.47222],$l=[0,.69444,0,0,.66667],zB=[0,.69444,0,0,.59722],lC=[0,.69444,0,0,.54167],cC=[0,.69444,0,0,.70834],UB=[.25,.75,0,0,.28889],uC=[0,.69444,0,0,.51667],jB=[0,.44444,0,0,.44445],HB=[.19444,.44444,0,0,.51667],$B=[0,.44444,0,0,.38333],GB=[0,.44444,0,0,.51667],VB=[0,.69444,0,0,.83334],qB=[.35001,.85,0,0,.45834],KB=[.35001,.85,0,0,.57778],WB=[.35001,.85,0,0,.41667],XB=[.35001,.85,0,0,.58334],bx=[0,.72222,0,0,.55556],JB=[1e-5,.6,0,0,.66667],YB=[1e-5,.6,0,0,.77778],ZB=[.25001,.75,0,0,.94445],QB=[.306,.805,.19445,0,.47222],eP=[.30612,.805,.19445,0,.47222],Wf=[.25001,.75,0,0,.83334],Xf=[.35001,.85,0,0,.47222],dC=[.25001,.75,0,0,1.11111],tP=[.65002,1.15,0,0,.59722],nP=[.65002,1.15,0,0,.81111],rP=[.65002,1.15,0,0,.47222],iP=[.65002,1.15,0,0,.66667],xx=[0,.75,0,0,1],oP=[.55001,1.05,0,0,1.27778],sP=[.862,1.36,.44445,0,.55556],aP=[.86225,1.36,.44445,0,.55556],Jf=[.55001,1.05,0,0,1.11111],_x=[.65002,1.15,0,0,.52778],lP=[.65002,1.15,0,0,.61111],hC=[.55001,1.05,0,0,1.51112],cP=[.95003,1.45,0,0,.73611],uP=[.95003,1.45,0,0,1.04445],dP=[.95003,1.45,0,0,.52778],wx=[.95003,1.45,0,0,.75],Sx=[0,.75,0,0,1.44445],Ax=[.95003,1.45,0,0,.58334],hP=[1.25003,1.75,0,0,.79167],fP=[1.25003,1.75,0,0,1.27778],pP=[1.25003,1.75,0,0,.58334],Cx=[1.25003,1.75,0,0,.80556],Mx=[0,.825,0,0,1.8889],Ex=[1.25003,1.75,0,0,.63889],kx=[.64502,1.155,0,0,.875],mP=[1e-5,.6,0,0,.875],fC=[-99e-5,.601,0,0,.66667],Tx=[.64502,1.155,0,0,.66667],gP=[1e-5,.9,0,0,.88889],yP=[.65002,1.15,0,0,.88889],vP=[.90001,0,0,0,.88889],bP=[-.00499,.605,0,0,1.05556],Dx=[0,.12,0,0,.45],ht=[0,.61111,0,0,.525],ma=[.08333,.69444,0,0,.525],xP=[-.08056,.53055,0,0,.525],_P=[-.05556,.55556,0,0,.525],po=[0,.43056,0,0,.525],dg=[.22222,.43056,0,0,.525],wP=[0,0,0,0,.525],Bre={"AMS-Regular":{32:bn,65:Os,66:Md,67:Os,68:Os,69:Md,70:Gb,71:PA,72:PA,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:PA,76:Md,77:[0,.68889,0,0,.94445],78:Os,79:PL,80:Gb,81:PL,82:Os,83:Q0,84:Md,85:Os,86:Os,87:[0,.68889,0,0,1],88:Os,89:Os,90:Md,107:Q0,160:bn,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:Q0,295:Vb,710:NL,732:IL,770:NL,771:IL,989:Qc,1008:rR,8245:[0,.54986,0,0,.275],8463:Vb,8487:Os,8498:Q0,8502:Md,8503:[0,.68889,0,0,.44445],8504:Md,8513:[0,.68889,0,0,.63889],8592:NA,8594:NA,8602:Wi,8603:Wi,8606:qb,8608:qb,8610:OL,8611:OL,8619:FL,8620:FL,8621:[-.13313,.37788,0,0,1.38889],8622:Wi,8624:Kb,8625:Kb,8630:IA,8631:IA,8634:Zc,8635:Zc,8638:Wb,8639:Wb,8642:Wb,8643:Wb,8644:Xb,8646:Xb,8647:Xb,8648:zL,8649:Xb,8650:zL,8651:qb,8652:qb,8653:Wi,8654:Wi,8655:Wi,8666:UL,8667:UL,8669:[-.13313,.37788,0,0,1],8672:jL,8674:jL,8705:[0,.825,0,0,.5],8708:Q0,8709:Qc,8717:[0,.43056,0,0,.42917],8722:NA,8724:[.08198,.69224,0,0,.77778],8726:Qc,8733:Yb,8736:eg,8737:eg,8738:[.03517,.52239,0,0,.72222],8739:tR,8740:[.25142,.74111,0,0,.27778],8741:nR,8742:[.25142,.74111,0,0,.5],8756:OA,8757:OA,8764:Jb,8765:[-.13313,.37788,0,0,.77778],8769:Jb,8770:hx,8774:fa,8776:nB,8778:Qc,8782:HL,8783:HL,8785:Zc,8786:Zc,8787:Zc,8790:Yb,8791:tg,8796:[.08198,.91667,0,0,.77778],8806:Uf,8807:Uf,8808:nl,8809:nl,8812:[.25583,.75583,0,0,.5],8814:jf,8815:jf,8816:fa,8817:fa,8818:tg,8819:tg,8822:$L,8823:$L,8828:rl,8829:rl,8830:tg,8831:tg,8832:jf,8833:jf,8840:fa,8841:fa,8842:zo,8843:zo,8847:eu,8848:eu,8858:Zc,8859:Zc,8861:Zc,8862:Hf,8863:Hf,8864:Hf,8865:Hf,8872:[0,.69224,0,0,.61111],8873:eg,8874:[0,.69224,0,0,.88889],8876:Gb,8877:Gb,8878:Os,8879:Os,8882:eu,8883:eu,8884:rl,8885:rl,8888:[0,.54986,0,0,1.11111],8890:GR,8891:GL,8892:GL,8901:[0,.54986,0,0,.27778],8903:Qc,8905:Qc,8906:Qc,8907:Yb,8908:Yb,8909:[-.03598,.46402,0,0,.77778],8910:VL,8911:VL,8912:eu,8913:eu,8914:qL,8915:qL,8916:OA,8918:tu,8919:tu,8920:KL,8921:KL,8922:WL,8923:WL,8926:rl,8927:rl,8928:fa,8929:fa,8934:Zb,8935:Zb,8936:Zb,8937:Zb,8938:jf,8939:jf,8940:fa,8941:fa,8994:XL,8995:XL,9416:[.15559,.69224,0,0,.90222],9484:Kb,9488:Kb,9492:JL,9496:JL,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:Hf,9633:Hf,9650:Qb,9651:Qb,9654:eu,9660:Qb,9661:Qb,9664:eu,9674:ZL,9733:[.19444,.69224,0,0,.94445],10003:YL,10016:YL,10731:ZL,10846:[.19444,.75583,0,0,.61111],10877:rl,10878:rl,10885:Uf,10886:Uf,10887:zo,10888:zo,10889:$f,10890:$f,10891:QL,10892:QL,10901:rl,10902:rl,10933:nl,10934:nl,10935:$f,10936:$f,10937:$f,10938:$f,10949:Uf,10950:Uf,10955:eR,10956:eR,57350:tR,57351:nR,57352:Qc,57353:rR,57356:nl,57357:nl,57358:iR,57359:fa,57360:fa,57361:iR,57366:nl,57367:nl,57368:nl,57369:nl,57370:zo,57371:zo},"Caligraphic-Regular":{32:bn,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:bn},"Fraktur-Regular":{32:bn,33:[0,.69141,0,0,.29574],34:zA,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:oR,41:oR,42:[0,.62119,0,0,.27764],43:sR,44:aR,45:sR,46:aR,47:[.24982,.74947,0,0,.50181],48:FA,49:FA,50:FA,51:ng,52:ng,53:ng,54:lR,55:ng,56:lR,57:ng,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:cR,93:cR,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:bn,8216:zA,8217:zA,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:bn,33:[0,.69444,0,0,.35],34:HA,35:[.19444,.69444,0,0,.95833],36:bR,37:[.05556,.75,0,0,.95833],38:tx,39:Vf,40:ex,41:ex,42:[0,.75,0,0,.575],43:pa,44:[.19444,.15556,0,0,.31944],45:$B,46:[0,.15556,0,0,.31944],47:nu,48:Fs,49:Fs,50:Fs,51:Fs,52:Fs,53:Fs,54:Fs,55:Fs,56:Fs,57:Fs,58:hR,59:[.19444,.44444,0,0,.31944],60:Gf,61:wR,62:Gf,63:[0,.69444,0,0,.54305],64:tx,65:UA,66:[0,.68611,0,0,.81805],67:ix,68:[0,.68611,0,0,.88194],69:cB,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:nx,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:pR,77:[0,.68611,0,0,1.09166],78:nx,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:UA,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:rx,92:nu,93:rx,94:ru,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:Ed,99:dR,100:Ed,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:Ed,105:Vf,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:Vf,109:[0,.44444,0,0,.95833],110:uR,111:yx,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:uR,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:dR,123:nu,124:rx,125:nu,126:[.35,.34444,0,0,.575],160:bn,163:[0,.69444,0,0,.86853],168:ru,172:[0,.44444,0,0,.76666],176:fR,177:pa,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:pa,216:[.04861,.73472,0,0,.89444],223:zB,230:[0,.44444,0,0,.83055],247:pa,248:[.09722,.54167,0,0,.575],305:hR,338:[0,.68611,0,0,1.16944],339:_R,567:[.19444,.44444,0,0,.35139],710:ru,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:ru,715:ru,728:ru,729:Vf,730:fR,732:ru,733:ru,915:pR,916:$A,920:jA,923:dB,926:fB,928:nx,931:ix,933:jA,934:ix,936:jA,937:ix,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:Vf,8217:Vf,8220:HA,8221:HA,8224:mR,8225:mR,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:uB,8465:gR,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:gR,8501:qA,8592:il,8593:yR,8594:il,8595:yR,8596:il,8597:nu,8598:rg,8599:rg,8600:rg,8601:rg,8636:il,8637:il,8640:il,8641:il,8656:il,8657:vR,8658:il,8659:vR,8660:il,8661:[.25,.75,0,0,.70277],8704:Ed,8706:[0,.69444,.06389,0,.62847],8707:Ed,8709:bR,8711:$A,8712:xR,8715:xR,8722:pa,8723:pa,8725:nu,8726:nu,8727:ox,8728:GA,8729:GA,8730:[.18,.82,0,0,.95833],8733:_R,8734:[0,.44444,0,0,1.14999],8736:eg,8739:rx,8741:nu,8743:kd,8744:kd,8745:kd,8746:kd,8747:[.19444,.69444,.12778,0,.56875],8764:wR,8768:[.19444,.69444,0,0,.31944],8771:VA,8776:[.02444,.52444,0,0,.89444],8781:VA,8801:VA,8804:iu,8805:iu,8810:SR,8811:SR,8826:Gf,8827:Gf,8834:Gf,8835:Gf,8838:iu,8839:iu,8846:kd,8849:iu,8850:iu,8851:kd,8852:kd,8853:pa,8854:pa,8855:pa,8856:pa,8857:pa,8866:qA,8867:qA,8868:tx,8869:tx,8900:GA,8901:[-.02639,.47361,0,0,.31944],8902:ox,8968:sx,8969:sx,8970:sx,8971:sx,8994:AR,8995:AR,9651:CR,9657:ox,9661:CR,9667:ox,9711:rg,9824:ax,9825:ax,9826:ax,9827:ax,9837:[0,.75,0,0,.44722],9838:MR,9839:MR,10216:ex,10217:ex,10815:nx,10927:iu,10928:iu,57376:lB},"Main-BoldItalic":{32:bn,33:[0,.69444,.11417,0,.38611],34:BR,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:lx,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:ou,49:ou,50:ou,51:ou,52:ER,53:ou,54:ou,55:ER,56:ou,57:ou,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:WA,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:KA,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:KA,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:DR,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:kR,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:kR,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:bn,168:[0,.69444,.11473,0,.59111],176:LR,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:TR,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:TR,567:[.19444,.44444,.04611,0,.385],710:DR,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:lx,730:LR,732:WA,733:WA,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:KA,931:[0,.68611,.11431,0,.82666],933:RR,934:[0,.68611,.05632,0,.82666],936:RR,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:lx,8217:lx,8220:[0,.69444,.16772,0,.62055],8221:BR},"Main-Italic":{32:bn,33:cx,34:HR,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:cx,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:su,49:su,50:su,51:su,52:PR,53:su,54:su,55:PR,56:su,57:su,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:zR,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:ux,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:ux,79:UR,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:ux,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:OR,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:NR,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:NR,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:bn,168:[0,.66786,.10474,0,.51111],176:FR,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:IR,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:IR,710:OR,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:FR,732:[0,.66786,.11585,0,.51111],733:zR,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:UR,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:ux,931:[0,.68333,.12028,0,.71555],933:jR,934:[0,.68333,.05986,0,.71555],936:jR,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:cx,8217:cx,8220:[0,.69444,.1685,0,.51444],8221:HR,8463:Vb},"Main-Regular":{32:bn,33:Ul,34:Wr,35:PB,36:ZA,37:NB,38:Td,39:Ul,40:qf,41:qf,42:IB,43:Us,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:jl,48:zs,49:zs,50:zs,51:zs,52:zs,53:zs,54:zs,55:zs,56:zs,57:zs,58:qR,59:[.19444,.43056,0,0,.27778],60:tu,61:Jb,62:tu,63:aC,64:Td,65:Dd,66:[0,.68333,0,0,.70834],67:og,68:[0,.68333,0,0,.76389],69:$R,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:Dd,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:ig,76:JR,77:[0,.68333,0,0,.91667],78:Dd,79:ig,80:$R,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:og,85:Dd,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:Dd,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:dx,92:jl,93:dx,94:Wr,95:[.31,.12056,.02778,0,.5],97:sg,98:Kf,99:XA,100:Kf,101:XA,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:Kf,105:KR,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:Ul,109:[0,.43056,0,0,.83334],110:VR,111:sg,112:GR,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:VR,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:XA,123:jl,124:dx,125:jl,126:[.35,.31786,0,0,.5],160:bn,163:[0,.69444,0,0,.76909],167:JA,168:XR,172:[0,.43056,0,0,.66667],176:WR,177:Us,182:YA,184:oC,198:[0,.68333,0,0,.90278],215:Us,216:[.04861,.73194,0,0,.77778],223:Wr,230:[0,.43056,0,0,.72222],247:Us,248:[.09722,.52778,0,0,.5],305:qR,338:[0,.68333,0,0,1.01389],339:tB,567:[.19444,.43056,0,0,.30556],710:Wr,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:Wr,715:Wr,728:Wr,729:KR,730:WR,732:XR,733:Wr,915:JR,916:QR,920:ig,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:Dd,931:og,933:ig,934:og,936:ig,937:og,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:Ul,8217:Ul,8220:Wr,8221:Wr,8224:JA,8225:JA,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:Vb,8465:ag,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:ag,8501:au,8592:Wi,8593:YR,8594:Wi,8595:YR,8596:Wi,8597:jl,8598:lg,8599:lg,8600:lg,8601:lg,8614:[.011,.511,0,0,1],8617:ZR,8618:ZR,8636:Wi,8637:Wi,8640:Wi,8641:Wi,8652:[.011,.671,0,0,1],8656:Wi,8657:YA,8658:Wi,8659:YA,8660:Wi,8661:[.25,.75,0,0,.61111],8704:Kf,8706:[0,.69444,.05556,.08334,.5309],8707:Kf,8709:ZA,8711:QR,8712:eB,8715:eB,8722:Us,8723:Us,8725:jl,8726:jl,8727:fx,8728:QA,8729:QA,8730:[.2,.8,0,0,.83334],8733:tB,8734:IA,8736:eg,8739:dx,8741:jl,8743:Ld,8744:Ld,8745:Ld,8746:Ld,8747:[.19444,.69444,.11111,0,.41667],8764:Jb,8768:[.19444,.69444,0,0,.27778],8771:hx,8773:[-.022,.589,0,0,1],8776:nB,8781:hx,8784:[-.133,.67,0,0,.778],8801:hx,8804:zo,8805:zo,8810:rB,8811:rB,8826:tu,8827:tu,8834:tu,8835:tu,8838:zo,8839:zo,8846:Ld,8849:zo,8850:zo,8851:Ld,8852:Ld,8853:Us,8854:Us,8855:Us,8856:Us,8857:Us,8866:au,8867:au,8868:Td,8869:Td,8872:[.249,.75,0,0,.867],8900:QA,8901:[-.05555,.44445,0,0,.27778],8902:fx,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:px,8969:px,8970:px,8971:px,8994:iB,8995:iB,9136:mx,9137:mx,9651:oB,9657:fx,9661:oB,9667:fx,9711:lg,9824:gx,9825:gx,9826:gx,9827:gx,9837:[0,.75,0,0,.38889],9838:sB,9839:sB,10216:qf,10217:qf,10222:mx,10223:mx,10229:[.011,.511,0,0,1.609],10230:aB,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:aB,10815:Dd,10927:zo,10928:zo,57376:lB},"Math-BoldItalic":{32:bn,48:yx,49:yx,50:yx,51:cg,52:cg,53:cg,54:Fs,55:cg,56:Fs,57:cg,65:UA,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:hB,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:cB,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:uB,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:pB,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:bn,915:[0,.68611,.15972,0,.65694],916:$A,920:[0,.68611,.03194,0,.86722],923:dB,926:[0,.68611,.07458,0,.84125],928:hB,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:fB,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:pB,960:[0,.44444,.03704,0,.68241],961:mB,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:mB,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:bn,48:sg,49:sg,50:sg,51:ug,52:ug,53:ug,54:zs,55:ug,56:zs,57:ug,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:yB,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:gB,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:vB,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:bn,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:gB,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:yB,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:vB,960:[0,.43056,.03588,0,.57003],961:bB,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:bB,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:bn,33:[0,.69444,0,0,.36667],34:rC,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:vx,40:xB,41:xB,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:Di,49:Di,50:Di,51:Di,52:Di,53:Di,54:Di,55:Di,56:Di,57:Di,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:_B,64:Hl,65:Hl,66:Hl,67:eC,68:lu,69:[0,.69444,0,0,.64167],70:au,71:Hl,72:lu,73:[0,.69444,0,0,.33056],74:_B,75:wB,76:EB,77:[0,.69444,0,0,.97778],78:lu,79:lu,80:eC,81:[.10556,.69444,0,0,.79445],82:eC,83:au,84:Hl,85:wB,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:Hl,89:[0,.69444,.0275,0,.73334],90:kB,91:SB,93:SB,94:Di,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:tC,99:[0,.45833,0,0,.48889],100:tC,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:tC,105:AB,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:AB,109:[0,.45833,0,0,.86667],110:MB,111:[0,.45833,0,0,.55],112:CB,113:CB,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:MB,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:bn,168:Di,176:Hl,180:Di,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:Di,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:Di,729:vx,730:Hl,732:Di,733:Di,915:EB,916:[0,.69444,0,0,.91667],920:nC,923:kB,926:Hl,928:lu,931:lu,933:nC,934:lu,936:nC,937:lu,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:vx,8217:vx,8220:rC,8221:rC},"SansSerif-Italic":{32:bn,33:[0,.69444,.05733,0,.31945],34:BB,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:sC,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:OB,45:[0,.44444,.01946,0,.33333],46:FB,47:[.25,.75,.13164,0,.5],48:ol,49:ol,50:ol,51:ol,52:ol,53:ol,54:ol,55:ol,56:ol,57:ol,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:$l,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:iC,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:lC,77:[0,.69444,.08094,0,.875],78:iC,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:TB,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:bn,168:[0,.67937,.06385,0,.5],176:DB,184:oC,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:TB,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:LB,715:Wr,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:DB,732:[0,.67659,.08826,0,.5],733:LB,915:[0,.69444,.13372,0,.54167],916:VB,920:[0,.69444,.07555,0,.77778],923:au,926:[0,.69444,.12816,0,.66667],928:iC,931:[0,.69444,.11983,0,.72222],933:RB,934:[0,.69444,.04603,0,.72222],936:RB,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:sC,8217:sC,8220:[0,.69444,.14205,0,.5],8221:BB},"SansSerif-Regular":{32:bn,33:[0,.69444,0,0,.31945],34:Wr,35:PB,36:ZA,37:NB,38:[0,.69444,0,0,.75834],39:Ul,40:qf,41:qf,42:IB,43:Us,44:OB,45:[0,.44444,0,0,.33333],46:FB,47:jl,48:sl,49:sl,50:sl,51:sl,52:sl,53:sl,54:sl,55:sl,56:sl,57:sl,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:aC,64:$l,65:$l,66:$l,67:Ed,68:[0,.69444,0,0,.72223],69:zB,70:[0,.69444,0,0,.56945],71:$l,72:cC,73:Ul,74:aC,75:[0,.69444,0,0,.69445],76:lC,77:[0,.69444,0,0,.875],78:cC,79:[0,.69444,0,0,.73611],80:Ed,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:Kf,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:$l,89:[0,.69444,.025,0,.66667],90:au,91:UB,93:UB,94:Wr,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:uC,99:jB,100:uC,101:jB,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:uC,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:GB,111:[0,.44444,0,0,.5],112:HB,113:HB,114:[0,.44444,.01389,0,.34167],115:$B,116:[0,.57143,0,0,.36111],117:GB,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:bn,168:[0,.67937,0,0,.5],176:$l,184:oC,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:Wr,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:Wr,715:Wr,728:Wr,729:[0,.67937,0,0,.27778],730:$l,732:[0,.67659,0,0,.5],733:Wr,915:lC,916:VB,920:Td,923:au,926:$l,928:cC,931:ag,933:Td,934:ag,936:Td,937:ag,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:Ul,8217:Ul,8220:Wr,8221:Wr},"Script-Regular":{32:bn,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:bn},"Size1-Regular":{32:bn,40:qB,41:qB,47:KB,91:WB,92:KB,93:WB,123:XB,125:XB,160:bn,710:bx,732:bx,770:bx,771:bx,8214:[-99e-5,.601,0,0,.77778],8593:JB,8595:JB,8657:YB,8659:YB,8719:ZB,8720:ZB,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:eP,8748:QB,8749:QB,8750:eP,8896:Wf,8897:Wf,8898:Wf,8899:Wf,8968:Xf,8969:Xf,8970:Xf,8971:Xf,9168:fC,10216:Xf,10217:Xf,10752:dC,10753:dC,10754:dC,10756:Wf,10758:Wf},"Size2-Regular":{32:bn,40:tP,41:tP,47:nP,91:rP,92:nP,93:rP,123:iP,125:iP,160:bn,710:xx,732:xx,770:xx,771:xx,8719:oP,8720:oP,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:aP,8748:sP,8749:sP,8750:aP,8896:Jf,8897:Jf,8898:Jf,8899:Jf,8968:_x,8969:_x,8970:_x,8971:_x,10216:lP,10217:lP,10752:hC,10753:hC,10754:hC,10756:Jf,10758:Jf},"Size3-Regular":{32:bn,40:cP,41:cP,47:uP,91:dP,92:uP,93:dP,123:wx,125:wx,160:bn,710:Sx,732:Sx,770:Sx,771:Sx,8730:[.95003,1.45,0,0,1],8968:Ax,8969:Ax,8970:Ax,8971:Ax,10216:wx,10217:wx},"Size4-Regular":{32:bn,40:hP,41:hP,47:fP,91:pP,92:fP,93:pP,123:Cx,125:Cx,160:bn,710:Mx,732:Mx,770:Mx,771:Mx,8730:[1.25003,1.75,0,0,1],8968:Ex,8969:Ex,8970:Ex,8971:Ex,9115:kx,9116:mP,9117:kx,9118:kx,9119:mP,9120:kx,9121:Tx,9122:fC,9123:Tx,9124:Tx,9125:fC,9126:Tx,9127:gP,9128:yP,9129:vP,9130:[0,.3,0,0,.88889],9131:gP,9132:yP,9133:vP,9143:[.88502,.915,0,0,1.05556],10216:Cx,10217:Cx,57344:bP,57345:bP,57680:Dx,57681:Dx,57682:Dx,57683:Dx},"Typewriter-Regular":{32:wP,33:ht,34:ht,35:ht,36:ma,37:ma,38:ht,39:ht,40:ma,41:ma,42:[0,.52083,0,0,.525],43:xP,44:[.13889,.125,0,0,.525],45:xP,46:[0,.125,0,0,.525],47:ma,48:ht,49:ht,50:ht,51:ht,52:ht,53:ht,54:ht,55:ht,56:ht,57:ht,58:po,59:[.13889,.43056,0,0,.525],60:_P,61:[-.19549,.41562,0,0,.525],62:_P,63:ht,64:ht,65:ht,66:ht,67:ht,68:ht,69:ht,70:ht,71:ht,72:ht,73:ht,74:ht,75:ht,76:ht,77:ht,78:ht,79:ht,80:ht,81:[.13889,.61111,0,0,.525],82:ht,83:ht,84:ht,85:ht,86:ht,87:ht,88:ht,89:ht,90:ht,91:ma,92:ma,93:ma,94:ht,95:[.09514,0,0,0,.525],96:ht,97:po,98:ht,99:po,100:ht,101:po,102:ht,103:dg,104:ht,105:ht,106:[.22222,.61111,0,0,.525],107:ht,108:ht,109:po,110:po,111:po,112:dg,113:dg,114:po,115:po,116:[0,.55358,0,0,.525],117:po,118:po,119:po,120:po,121:dg,122:po,123:ma,124:ma,125:ma,126:ht,127:ht,160:wP,176:ht,184:[.19445,0,0,0,.525],305:po,567:dg,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:ht,715:ht,728:ht,730:ht,770:ht,771:ht,776:ht,915:ht,916:ht,920:ht,923:ht,926:ht,928:ht,931:ht,933:ht,934:ht,936:ht,937:ht,8216:ht,8217:ht,8242:ht,9251:[.11111,.21944,0,0,.525]}},Pre=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,Xm=10,Ba=.25,Nre=1.2,Xu=.431,SP={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[Xu,Xu,Xu],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[Ba,Ba,Ba],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},b5=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Nk=5,AP={"":" ","":" ",:"A",:"C",:"D",:"o",:"a",:"c",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Zp(t,e){t===void 0&&(t=77);let n=Bre[e][t];if(n)return{defaultMetrics:!1,depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]};if(t===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let r=String.fromCodePoint(t);if(r in AP)t=AP[r].codePointAt(0);else if(Pre.test(r))return t=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}var x5={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},_5={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},CP={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};function Ire(t){if(_5[t]){let[c,u,d]=_5[t],h=`<span class="ML__stretchy" style="height:${d}em"><svg width="100%" height="${d}em" viewBox="0 0 ${c} ${u}" preserveAspectRatio="none" ><path fill="currentcolor" d="${CP[t]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Math.floor(100*d/2)/100}em;min-width:0">${h}</span>`}let[e,n,r,i]=x5[t],o,s,a=r/1e3;e.length===3?(o=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],s=["xMinYMin","xMidYMin","xMaxYMin"]):e.length===2?(o=["slice-1-of-2","slice-2-of-2"],s=["xMinYMin","xMaxYMin"]):(o=["slice-1-of-1"],s=[i]);let l=e.map((c,u)=>`<span class="${o[u]}" style=height:${a}em><svg width=400em height=${a}em viewBox="0 0 400000 ${r}" preserveAspectRatio="${s[u]} slice"><path fill="currentcolor" d="${CP[c]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${a}em;min-width:${n}em;">${l}</span>`}function Ore(t){return x5[t]?x5[t][2]/1e3:_5[t][2]}function Fre(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r===13&&t.charCodeAt(n+1)===10&&(r=10,n++),(r===13||r===12)&&(r=10),r===0&&(r=65533),r>=55296&&r<=56319){let i=t.charCodeAt(n+1);if(i>=56320&&i<=57343){let o=r-55296,s=i-56320;r=2**16+o*2**10+s,n++}}e.push(r)}return e}var b_=8205,zre=[[b_,1],[65038,2],[127995,5],[129456,4],[917536,96]],Lx,MP=[127462,127487];function EP(t){var e;if(Lx===void 0){Lx={};for(let n of zre)for(let r=n[0];r<=n[0]+n[1]-1;r++)Lx[r]=!0}return(e=Lx[t])!=null?e:!1}function Ure(t){return t>=MP[0]&&t<=MP[1]}function i$(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;let e=[],n=Fre(t),r=0;for(;r<n.length;){let i=n[r++],o=n[r];if(o===b_){let s=r-1;for(r+=2;n[r]===b_;)r+=2;e.push(String.fromCodePoint(...n.slice(s,r-s+1)))}else if(EP(o)){let s=r-1;for(;EP(n[r]);)r+=n[r]===b_?2:1;e.push(String.fromCodePoint(...n.slice(s,2*r-s-1)))}else Ure(i)?(r+=1,e.push(String.fromCodePoint(...n.slice(r-2,2)))):e.push(String.fromCodePoint(i))}return e}var jre=class{constructor(t){this.obeyspaces=!1,this.pos=0,this.s=i$(t)}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(t){let e=typeof this.s=="string"?t.exec(this.s.slice(this.pos)):t.exec(this.s.slice(this.pos).join(""));return e!=null&&e[0]?(this.pos+=e[0].length,e[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let t=this.get();if(t==="\\"){if(!this.end()){let e=this.match(/^[a-zA-Z\*]+/);return e?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):e=this.get(),"\\"+e}}else{if(t==="{")return"<{>";if(t==="}")return"<}>";if(t==="^"){if(this.peek()==="^"){this.get();let e=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(e)return String.fromCodePoint(Number.parseInt(e.slice(e.lastIndexOf("^")+1),16))}return t}else if(t==="#"){if(!this.end()){let e=!1;if(/[\d?@]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){let n=this.s[this.pos+1];e=/[^\dA-Za-z]/.test(n)}return e?"#"+this.get():"#"}}else if(t==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return t}};function Hre(t,e){var n,r,i,o;let s=[],a=t.next();if(a&&a!=="\\relax"){if(a==="\\noexpand")a=t.next(),a&&s.push(a);else if(a==="\\obeyspaces")t.obeyspaces=!0;else if(a==="\\bgroup")s.push("<{>");else if(a==="\\egroup")s.push("<}>");else if(a==="\\string"){if(a=t.next(),a)if(a.startsWith("\\"))for(let l of a)s.push(l==="\\"?"\\backslash":l);else a==="<{>"?s.push("\\{"):a==="<space>"?s.push("~"):a==="<}>"&&s.push("\\}")}else if(a==="\\csname"){for(;t.peek()==="<space>";)t.next();let l="",c=!1,u=[];do{if(u.length===0)if(/^#[\d?@]$/.test(t.peek())){let d=t.get().slice(1);u=m1((r=(n=e==null?void 0:e(d))!=null?n:e==null?void 0:e("?"))!=null?r:"\\placeholder{}",e),a=u[0]}else a=t.next(),u=a?[a]:[];c=u.length===0,!c&&a==="\\endcsname"&&(c=!0,u.shift()),c||(c=a==="<$>"||a==="<$$>"||a==="<{>"||a==="<}>"||typeof a=="string"&&a.length>1&&a.startsWith("\\")),c||(l+=u.shift())}while(!c);l&&s.push("\\"+l),s.push(...u)}else if(a!=="\\endcsname")if(a.length>1&&a.startsWith("#")){let l=a.slice(1);s.push(...m1((o=(i=e==null?void 0:e(l))!=null?i:e==null?void 0:e("?"))!=null?o:"\\placeholder{}",e))}else s.push(a)}return s}function m1(t,e=null){let n=[],r="";for(let s of t.toString().split(/\r?\n/)){r&&n.push(r),r=" ";let a=s.match(/((?:\\%)|[^%])*/);a!==null&&n.push(a[0])}let i=new jre(n.join("")),o=[];do o.push(...Hre(i,e));while(!i.end());return o}function ln(t){let e="",n=[];for(let r of t)r&&(e&&/^[a-zA-Z\*]/.test(r)&&n.push(e),n.push(r),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(r)&&n.push(" "),e=/\\[a-zA-Z]+\*?$/.test(r)?" ":"");return n.join("")}function Vn(t,...e){return t.startsWith("\\"),e.length===0?t:ln([t,...e.map(n=>`{${n}}`)])}function Rd(t){return ln(t.map(e=>{var n;return(n={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])!=null?n:e}))}var o$=class ry{constructor(e){ry._registry[e]=this}static createAtom(e,n,r){return ry._registry[e].createAtom(n,Pi(n,e),r)}static serialize(e,n){var r;if(!e||e.length===0)return"";if((r=n.skipStyles)!=null&&r){let i=[];for(let o of s$(e)){let s=ry._registry[o[0].mode];i.push(...s.serialize(o,n))}return ln(i)}return ln(Gre(e,n))}static getFont(e,n,r){return ry._registry[e].getFont(n,r)}};o$._registry={};var fs=o$;function s$(t){let e=[],n=[],r="NONE";for(let i of t)i.type!=="first"&&(i.mode!==r?(n.length>0&&e.push(n),n=[i],r=i.mode):n.push(i));return n.length>0&&e.push(n),e}function ud(t,e){let n=[],r=[],i;for(let o of t)if(o.type!=="first"&&o.style){let s;e==="variant"?(s=o.style.variant,o.style.variantStyle&&o.style.variantStyle!=="up"&&(s+="-"+o.style.variantStyle)):s=o.style[e],s===i?r.push(o):(r.length>0&&n.push(r),r=[o],i=s)}return r.length>0&&n.push(r),n}function kP(t,e){var n;let{parent:r}=t[0],i=r==null?void 0:r.computedStyle.color,o=[];for(let s of s$(t)){let a=e.defaultMode;for(let l of ud(s,"color")){let c=l[0].computedStyle,u=fs._registry[l[0].mode].serialize(l,we(oe({},e),{defaultMode:a==="text"?"text":"math"}));!e.skipStyles&&c.color&&c.color!=="none"&&(!r||i!==c.color)?o.push(Vn("\\textcolor",(n=c.verbatimColor)!=null?n:c.color,ln(u))):o.push(ln(u))}}return o}function $re(t,e){let{parent:n}=t[0],r=n==null?void 0:n.computedStyle.backgroundColor;return ud(t,"backgroundColor").map(i=>{var o;if(i.length>0||i[0].type!=="box"){let s=i[0].computedStyle;if(s.backgroundColor&&s.backgroundColor!=="none"&&(!n||r!==s.backgroundColor))return Vn("\\colorbox",(o=s.verbatimBackgroundColor)!=null?o:s.backgroundColor,ln(kP(i,we(oe({},e),{defaultMode:"text"}))))}return ln(kP(i,e))})}function Gre(t,e){if(t.length===0)return[];let{parent:n}=t[0],r=n==null?void 0:n.computedStyle.fontSize,i=[];for(let o of ud(t,"fontSize")){let s=o[0].computedStyle.fontSize,a=$re(o,e);a&&(s&&s!=="auto"&&(!n||r!==s)?i.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][s],...a):i.push(...a))}return i}function w5(t){return t?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[t]:void 0}function W1(t){if(t.length===0)return"ord";let e=w5(t[0].type),n=w5(t[t.length-1].type);return e&&e===n?e:"ord"}function hg(t,e){if(typeof t=="string")return t;if(typeof t=="number"){let n=Math.ceil(100*t)/100;return n===0?"0":n.toString()+(e??"")}return""}var Ye=class a${constructor(e,n){var r,i,o,s,a;if(typeof e=="number"?this.value=String.fromCodePoint(e):typeof e=="string"?this.value=e:Do(e)?this.children=e.filter(c=>c!==null):e&&e instanceof a$&&(this.children=[e]),this.children)for(let c of this.children)c.parent=this;this.type=(r=n==null?void 0:n.type)!=null?r:"ignore",this.isSelected=(n==null?void 0:n.isSelected)===!0,n!=null&&n.caret&&(this.caret=n.caret),this.classes=(i=n==null?void 0:n.classes)!=null?i:"",this.isTight=(o=n==null?void 0:n.isTight)!=null?o:!1,n!=null&&n.attributes&&(this.attributes=n.attributes);let l=n==null?void 0:n.fontFamily;n!=null&&n.style&&this.value&&(l=(a=fs.getFont((s=n.mode)!=null?s:"math",this,we(oe({variant:"normal"},n.style),{letterShapeStyle:n.letterShapeStyle})))!=null?a:void 0),l||(l="Main-Regular"),this._height=0,this._depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,(n==null?void 0:n.maxFontSize)!==void 0&&(this.maxFontSize=n.maxFontSize),Vre(this,l)}set atomID(e){e===void 0||e.length===0||(this.id=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(let n of this.children)n.selected(e)}setStyle(e,n,r){if(n===void 0)return;let i=hg(n,r);i.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=i)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=hg(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return(e=this.cssProperties)!=null&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=hg(e,"em")))}set right(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=hg(e,"em")))}set bottom(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-bottom"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-bottom"]=hg(e,"em")))}get width(){return this._width*this.scale}set width(e){this._width=e,this.hasExplicitWidth=!0}set softWidth(e){}get height(){return this._height*this.scale}set height(e){this._height=e}get depth(){return this._depth*this.scale}set depth(e){this._depth=e}wrap(e){let n=e.parent;if(!n)return this;e.isPhantom&&this.setStyle("opacity",0);let r=e.color;r&&r!==n.color&&this.setStyle("color",r);let i=e.backgroundColor;this.isSelected&&(i=Sre(i)),i&&i!==n.backgroundColor&&(this.setStyle("background-color",i),this.setStyle("display","inline-block"));let o=e.scalingFactor;return this.scale=o,this.skew*=o,this.italic*=o,this}toMarkup(){var e,n,r,i;let o=(e=this.value)!=null?e:"";if(this.children)for(let f of this.children)o+=f.toMarkup();let s="";if(this.svgBody)s=Ire(this.svgBody);else if(this.svgOverlay){s='<span style="',s+="display: inline-block;",s+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`,s+=`vertical-align:${Math.floor(100*this.depth)/100}em;`,s+='">',s+=o,s+="</span>",s+='<svg style="position:absolute;overflow:visible;',s+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`;let f=(n=this.cssProperties)==null?void 0:n.padding;f?(s+=`top:${f};`,s+=`left:${f};`,s+=`width:calc(100% - 2 * ${f} );`):s+="top:0;left:0;width:100%;",s+="z-index:2;",s+='"',this.svgStyle&&(s+=this.svgStyle),s+=` viewBox="0 0 ${Math.floor(100*this.width)/100} ${Math.floor(100*(this.height+this.depth))/100}"`,s+=`>${this.svgOverlay}</svg>`}let a="",l=this.classes.split(" ");l.push((r={latex:"ML__raw-latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!=null?r:""),this.caret==="latex"&&l.push("ML__latex-caret"),this.isSelected&&l.push("ML__selected");let c=l.length===1?l[0]:l.filter((f,p,v)=>f.length>0&&v.indexOf(f)===p).join(" ");if(c.length>0&&(a+=` class="${c}"`),this.id&&(a+=` data-atom-id=${this.id}`),this.cssId&&(a+=` id="${this.cssId.replace(/ /g,"-")}" `),this.attributes&&(a+=" "+Object.keys(this.attributes).map(f=>`${f}="${this.attributes[f]}"`).join(" ")),this.htmlData){let f=this.htmlData.split(",");for(let p of f){let v=p.match(/([^=]+)=(.+$)/);if(v){let b=v[1].trim().replace(/ /g,"-");b&&(a+=` data-${b}="${v[2]}" `)}else{let b=p.trim().replace(/ /g,"-");b&&(a+=` data-${b} `)}}}let u=(i=this.cssProperties)!=null?i:{};this.hasExplicitWidth&&u.width===void 0&&(u.width=`${Math.ceil(this._width*100)/100}em`);let d=Object.keys(u).map(f=>`${f}:${u[f]}`);if(this.scale!==void 0&&this.scale!==1&&(o.length>0||s.length>0)&&d.push(`font-size: ${Math.ceil(this.scale*1e4)/100}%`),this.htmlStyle){let f=this.htmlStyle.split(";"),p="";for(let v of f){let b=v.match(/([^=]+):(.+$)/);if(b){let y=b[1].trim().replace(/ /g,"-");y&&(p+=`${y}:${b[2]};`)}}p&&(a+=` style="${p}"`)}d.length>0&&(a+=` style="${d.join(";")}"`);let h="";return a.length>0||s.length>0?h=`<span${a}>${o}${s}</span>`:h=o,this.caret==="text"?h+='<span class="ML__text-caret"></span>':this.caret==="math"&&(h+='<span class="ML__caret"></span>'),h}tryCoalesceWith(e){if(this.svgBody||!this.value||e.svgBody||!e.value)return!1;let n=this.children&&this.children.length>0,r=e.children&&e.children.length>0;if(n||r)return!1;if(e.cssProperties||this.cssProperties){for(let l of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(e.cssProperties&&l in e.cssProperties||this.cssProperties&&l in this.cssProperties)return!1}let i=this.cssProperties?Object.keys(this.cssProperties).length:0,o=e.cssProperties?Object.keys(e.cssProperties).length:0;if(i!==o)return!1;if(i>0){for(let l of Object.keys(this.cssProperties))if(this.cssProperties[l]!==e.cssProperties[l])return!1}let s=this.classes.trim().replace(/\s+/g," ").split(" "),a=e.classes.trim().replace(/\s+/g," ").split(" ");if(s.length!==a.length)return!1;s.sort(),a.sort();for(let[l,c]of s.entries())if(c==="ML__vertical-separator"||c!==a[l])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this._width=this._width+e._width,this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}};function S5(t){if(!t||t.length===0)return[];t[0].children=S5(t[0].children);let e=[t[0]];for(let n=1;n<t.length;n++)e[e.length-1].tryCoalesceWith(t[n])||(t[n].children=S5(t[n].children),e.push(t[n]));return e}function T3(t){return t.children&&(t.children=S5(t.children)),t}function D3(t,e){if(!t)return new Ye(null,e);let n=new Ye(null,{classes:"ML__strut",type:"ignore"});n.setStyle("height",Math.max(0,t.height),"em");let r=[n];if(t.depth!==0){let i=new Ye(null,{classes:"ML__strut--bottom",type:"ignore"});i.setStyle("height",t.height+t.depth,"em"),i.setStyle("vertical-align",-t.depth,"em"),r.push(i)}return r.push(t),new Ye(r,we(oe({},e),{type:"lift"}))}function x_(t){let e=Ore(t)/2,n=new Ye(null,{maxFontSize:0});return n.height=e+.166,n.depth=e-.166,n.svgBody=t,n}function Vre(t,e){var n;if(t.type==="latex"){t.height=.9,t.depth=.2,t._width=1;return}if(t.value){t.height=-1/0,t.depth=-1/0,t._width=0,t.skew=-1/0,t.italic=-1/0;for(let r=0;r<t.value.length;r++){let i=Zp(t.value.codePointAt(r),e);t.height=Math.max(t.height,i.height),t.depth=Math.max(t.depth,i.depth),t._width+=i.width,t.skew=i.skew,t.italic=i.italic}return}if(t.children&&t.children.length>0){let r=-1/0,i=-1/0,o=0;for(let s of t.children)s.height>r&&(r=s.height),s.depth>i&&(i=s.depth),o=Math.max(o,(n=s.maxFontSize)!=null?n:0);t.height=r,t.depth=i,t._width=t.children.reduce((s,a)=>s+a.width,0),t.maxFontSize=o}}function qre(t){if("individualShift"in t){let e=t.individualShift,n=e[0];if(n==null)return[null,0];let r=[n],i=-n.shift-n.box.depth,o=i;for(let s=1;s<e.length;s++){let a=e[s],l=-a.shift-o-a.box.depth,c=l-(n.box.height+n.box.depth);o=o+l,r.push(c),r.push(a),n=a}return[r,i]}if("top"in t){let e=t.top;for(let n of t.children)e-=typeof n=="number"?n:n.box.height+n.box.depth;return[t.children,e]}else{if("bottom"in t)return[t.children,-t.bottom];if("firstBaseline"in t){let e=t.firstBaseline[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.firstBaseline,-e.box.depth]}else if("shift"in t){let e=t.children[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.children,-e.box.depth-t.shift]}}return[null,0]}function Kre(t){var e;let[n,r]=qre(t);if(!n)return[[],0,0];let i=new Ye(null,{classes:"ML__pstrut"}),o=0;for(let p of n)if(typeof p!="number"){let v=p.box;o=Math.max(o,v.maxFontSize,v.height)}o+=2,i.height=o,i.setStyle("height",o,"em");let s=[],a=r,l=r,c=r,u=0;for(let p of n){if(typeof p=="number")c+=p;else{let v=p.box,b=(e=p.classes)!=null?e:[],y=new Ye([i,v],{classes:b.join(" "),style:p.style});v.setStyle("height",v.height+v.depth,"em"),v.setStyle("display","inline-block"),y.setStyle("top",-o-c-v.depth,"em"),p.marginLeft&&y.setStyle("margin-left",p.marginLeft,"em"),p.marginRight&&y.setStyle("margin-right",p.marginRight,"em"),s.push(y),c+=v.height+v.depth,u=Math.max(u,y.width)}a=Math.min(a,c),l=Math.max(l,c)}s.forEach(p=>{p.softWidth=u});let d=new Ye(s,{classes:"ML__vlist"});if(d.softWidth=u,d.height=l,d.setStyle("height",l,"em"),a>=0)return[[new Ye(d,{classes:"ML__vlist-r"})],l,-a];let h=new Ye(new Ye(null),{classes:"ML__vlist"});h.height=-a,h.setStyle("height",-a,"em");let f=new Ye(8203,{classes:"ML__vlist-s",maxFontSize:0});return f.softWidth=0,f.height=0,f.depth=0,[[new Ye([d,f],{classes:"ML__vlist-r"}),new Ye(h,{classes:"ML__vlist-r"})],l,-a]}var Hr=class extends Ye{constructor(e,n){var r;let[i,o,s]=Kre(e);super(i.length===1?i[0]:i,{type:n==null?void 0:n.type,classes:((r=n==null?void 0:n.classes)!=null?r:"")+" ML__vlist-t"+(i.length===2?" ML__vlist-t2":"")}),this.height=o,this.depth=s,this.softWidth=i.reduce((a,l)=>Math.max(a,l.width),0)}};function Wre(t,e){var n,r,i,o,s;let a=t.metrics,l=new Ye(e.base),c=(n=e.baseShift)!=null?n:0,u=(r=e.slant)!=null?r:0,d=0,h=0;e.above&&(d=(i=e.aboveShift)!=null?i:Math.max(a.bigOpSpacing1,a.bigOpSpacing3-e.above.depth)),e.below&&(h=(o=e.belowShift)!=null?o:Math.max(a.bigOpSpacing2,a.bigOpSpacing4-e.below.height));let f=null;if(e.below&&e.above){let p=a.bigOpSpacing5+e.below.height+e.below.depth+h+l.depth+c;f=new Hr({bottom:p,children:[a.bigOpSpacing5,{box:e.below,marginLeft:-u,classes:["ML__center"]},h,{box:l,classes:["ML__center"]},d,{box:e.above,marginLeft:u,classes:["ML__center"]},a.bigOpSpacing5]}).wrap(t)}else if(e.below&&!e.above)f=new Hr({top:l.height-c,children:[a.bigOpSpacing5,{box:e.below,marginLeft:-u,classes:["ML__center"]},h,{box:l,classes:["ML__center"]}]}).wrap(t);else if(!e.below&&e.above){let p=l.depth+c;f=new Hr({bottom:p,children:[{box:l,classes:["ML__center"]},d,{box:e.above,marginLeft:u,classes:["ML__center"]},a.bigOpSpacing5]}).wrap(t)}else{let p=l.depth+c;f=new Hr({bottom:p,children:[{box:l},a.bigOpSpacing5]}).wrap(t)}return new Ye(f,{type:(s=e.type)!=null?s:"op"})}var Ik=7,Ew=6,L3=5,dh=4,gm=3,us=2,Sh=1,Qi=0,cu=class{constructor(t,e,n){this.id=t,this.sizeDelta=e,this.cramped=n;let r={"-4":2,"-3":1,0:0}[e];this.metrics=Object.keys(SP).reduce((i,o)=>we(oe({},i),{[o]:SP[o][r]}),{})}getFontSize(t){return Math.max(1,t+this.sizeDelta)}get sup(){return ml[[Qi,Sh,Qi,Sh,us,gm,us,gm][this.id]]}get sub(){return ml[[Qi,Qi,Qi,Qi,us,us,us,us][this.id]]}get fracNum(){return ml[[Qi,Sh,Qi,Sh,us,gm,dh,L3][this.id]]}get fracDen(){return ml[[Qi,Qi,Qi,Qi,us,us,dh,dh][this.id]]}get cramp(){return ml[[Qi,Qi,us,us,dh,dh,Ew,Ew][this.id]]}get isTight(){return this.sizeDelta<0}},fg={7:new cu(Ik,0,!1),6:new cu(Ew,0,!0),5:new cu(L3,0,!1),4:new cu(dh,0,!0),3:new cu(gm,-3,!1),2:new cu(us,-3,!0),1:new cu(Sh,-4,!1),0:new cu(Qi,-4,!0)},ml=we(oe({},fg),{displaystyle:fg[Ik],textstyle:fg[L3],scriptstyle:fg[gm],scriptscriptstyle:fg[Sh]});function l$(t,e){var n;if(!t)return 0;let r={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:Xm,bp:803/800,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(n=t.unit)!=null?n:"pt"];if(Number.isFinite(e)){let i=10**e;return Math.round(t.dimension/Xm*r*i)/i}return t.dimension*r}function c$(t,e){if(t===null)return 0;let n=l$(t)/Xm;if(Number.isFinite(e)){let r=10**e;return Math.round(n*r)/r}return n}function pC(t){var e;return`${t.dimension}${(e=t.unit)!=null?e:"pt"}`}function Xre(t){let e=pC(t.glue);return t.grow&&t.grow.dimension!==0&&(e+=` plus ${pC(t.grow)}`),t.shrink&&t.shrink.dimension!==0&&(e+=` minus ${pC(t.shrink)}`),e}function Si(t){var e,n;if(t==null)return null;let r="";if("dimension"in t&&(r=`${t.dimension}${(e=t.unit)!=null?e:"pt"}`),"glue"in t&&(r=Xre(t)),"number"in t)if(!("base"in t)||t.base==="decimal")r=Number(t.number).toString();else if(t.base==="alpha")r=`\`${String.fromCodePoint(t.number)}`;else{let i=Math.round(t.number)>>>0;t.base==="hexadecimal"?(r=Number(i).toString(16).toUpperCase(),i<=255?r=r.padStart(2,"0"):i<=65535?r=r.padStart(4,"0"):i<=16777215?r=r.padStart(6,"0"):r=r.padStart(8,"0"),r=`"${r}`):t.base==="octal"&&(r=Number(i).toString(8),i<=63?r=r.padStart(2,"0"):i<=30583?r=r.padStart(4,"0"):r=r.padStart(8,"0"),r=`'${r}`)}return"register"in t&&("factor"in t&&(t.factor===-1?r="-":t.factor!==1&&(r=Number(t.factor).toString())),"global"in t&&t.global&&(r+="\\global"),r+=`\\${t.register}`),"string"in t&&(r=t.string),(n=t.relax)!=null&&n&&(r+="\\relax"),r}function ll(t,e){return t==null?null:"number"in t?we(oe({},t),{number:t.number*e}):"register"in t?"factor"in t&&t.factor?we(oe({},t),{factor:t.factor*e}):we(oe({},t),{factor:e}):"dimension"in t?we(oe({},t),{dimension:t.dimension*e}):"glue"in t?t.shrink&&t.grow?{glue:ll(t.glue,e),shrink:ll(t.shrink,e),grow:ll(t.grow,e)}:t.shrink?{glue:ll(t.glue,e),shrink:ll(t.shrink,e)}:t.grow?{glue:ll(t.glue,e),grow:ll(t.grow,e)}:{glue:ll(t.glue,e)}:null}var Jre={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};function u$(){return oe({},Jre)}function d$(){return{registers:u$(),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"",letterShapeStyle:Zt.locale.startsWith("fr")?"french":"tex",minFontScale:0,colorMap:k3,backgroundColorMap:Rk,getMacro:t=>n$(t,Pk())}}var an=class h${constructor(e,n){var r,i,o,s,a,l,c,u,d,h,f,p,v,b,y;let x;e!=null&&e.parent?(this.parent=e.parent,x=e.parent,this.registers={}):(x=oe(oe({},d$()),(r=e==null?void 0:e.from)!=null?r:{}),this.registers=x.registers),x.atomIdsSettings&&(this.atomIdsSettings=oe({},x.atomIdsSettings)),this.renderPlaceholder=x.renderPlaceholder,this.isPhantom=(s=(o=e==null?void 0:e.isPhantom)!=null?o:(i=this.parent)==null?void 0:i.isPhantom)!=null?s:!1,this.letterShapeStyle=x.letterShapeStyle,this.minFontScale=x.minFontScale,n!=null&&n.color&&n.color!=="none"?this.color=n.color:this.color=(l=(a=this.parent)==null?void 0:a.color)!=null?l:"",n!=null&&n.backgroundColor&&n.backgroundColor!=="none"?this.backgroundColor=n.backgroundColor:this.backgroundColor=(u=(c=this.parent)==null?void 0:c.backgroundColor)!=null?u:"",n!=null&&n.fontSize&&n.fontSize!=="auto"&&n.fontSize!==((d=this.parent)==null?void 0:d.size)?this.size=n.fontSize:this.size=(f=(h=this.parent)==null?void 0:h.size)!=null?f:Nk;let w=(v=(p=this.parent)==null?void 0:p.mathstyle)!=null?v:ml.displaystyle;if(typeof(e==null?void 0:e.mathstyle)=="string"){if(x instanceof h$)switch(e.mathstyle){case"cramp":w=w.cramp;break;case"superscript":w=w.sup;break;case"subscript":w=w.sub;break;case"numerator":w=w.fracNum;break;case"denominator":w=w.fracDen;break}switch(e.mathstyle){case"textstyle":w=ml.textstyle;break;case"displaystyle":w=ml.displaystyle;break;case"scriptstyle":w=ml.scriptstyle;break;case"scriptscriptstyle":w=ml.scriptscriptstyle;break}}this.mathstyle=w,this.smartFence=x.smartFence,this.placeholderSymbol=x.placeholderSymbol,this.colorMap=(b=x.colorMap)!=null?b:A=>A,this.backgroundColorMap=(y=x.backgroundColorMap)!=null?y:A=>A,this.getMacro=x.getMacro,this.parent!==void 0||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return`${Date.now().toString(36).slice(-2)}${Math.floor(Math.random()*1e5).toString(36)}`;let e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===Ik||this.mathstyle.id===Ew}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(b5[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(e){var n;if((n=this.registers)!=null&&n[e])return this.registers[e];if(this.parent)return this.parent.getRegister(e)}getRegisterAsNumber(e){let n=this.getRegister(e);if(typeof n=="number")return n;if(typeof n=="string")return Number(n)}getRegisterAsGlue(e){var n;if((n=this.registers)!=null&&n[e]){let r=this.registers[e];return typeof r=="object"&&"glue"in r?r:typeof r=="object"&&"dimension"in r?{glue:{dimension:r.dimension}}:typeof r=="number"?{glue:{dimension:r}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e,n){return c$(this.getRegisterAsDimension(e),n)}getRegisterAsDimension(e){var n;if((n=this.registers)!=null&&n[e]){let r=this.registers[e];return typeof r=="object"&&"glue"in r?r.glue:typeof r=="object"&&"dimension"in r?r:typeof r=="number"?{dimension:r}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,n){if(n===void 0){delete this.registers[e];return}this.registers[e]=n}evaluate(e){if(!e||!("register"in e))return e;let n=this;if("global"in e&&e.global)for(;n.parent;)n=n.parent;let r=1;"factor"in e&&e.factor!==1&&e.factor!==void 0&&(r=e.factor);let i=n.getRegister(e.register);if(i===void 0)return;if(typeof i=="string")return{string:Number(i).toString()+i};if(typeof i=="number")return{number:r*i};let o=n.evaluate(i);if(o!==void 0)return"string"in o?{string:Number(i).toString()+o.string}:"number"in o?{number:r*o.number}:"dimension"in o?we(oe({},o),{dimension:r*o.dimension}):"glue"in o?we(oe({},o),{glue:we(oe({},o.glue),{dimension:r*o.glue.dimension}),shrink:o.shrink?we(oe({},o.shrink),{dimension:r*o.shrink.dimension}):void 0,grow:o.grow?we(oe({},o.grow),{dimension:r*o.grow.dimension}):void 0}):e}toDimension(e){let n=this.evaluate(e);return n===void 0?null:"dimension"in n?n:"glue"in n?n.glue:"number"in n?{dimension:n.number}:null}toEm(e,n){if(e===null)return 0;let r=this.toDimension(e);return r===null?0:l$(r,n)/Xm}toNumber(e){if(e===null)return null;let n=this.evaluate(e);return n===void 0?null:"number"in n?n.number:"dimension"in n?n.dimension:"glue"in n?n.glue.dimension:"string"in n?Number(n.string):null}toColor(e){var n,r;if(e===null)return null;let i=this.evaluate(e);return i===void 0?null:"string"in i?(r=(n=this.colorMap)==null?void 0:n.call(this,i.string))!=null?r:i.string:null}toBackgroundColor(e){var n,r;if(e===null)return null;let i=this.evaluate(e);return i===void 0?null:"string"in i?(r=(n=this.backgroundColorMap)==null?void 0:n.call(this,i.string))!=null?r:i.string:null}},Jm=["body","above","below","superscript","subscript"];function rh(t){return typeof t=="string"&&Jm.includes(t)}function kw(t){return t!==void 0&&Array.isArray(t)&&t.length===2}var Pe=class ec{constructor(e){var n,r,i,o,s,a;this.type=e.type,typeof e.value=="string"&&(this.value=e.value),this.command=(r=(n=e.command)!=null?n:this.value)!=null?r:"",this.mode=(i=e.mode)!=null?i:"math",e.isFunction&&(this.isFunction=!0),e.limits&&(this.subsupPlacement=e.limits),this.style=oe({},e.style),this.displayContainsHighlight=(o=e.displayContainsHighlight)!=null?o:!1,this.captureSelection=(s=e.captureSelection)!=null?s:!1,this.skipBoundary=(a=e.skipBoundary)!=null?a:!1,e.verbatimLatex!==void 0&&e.verbatimLatex!==null&&(this.verbatimLatex=e.verbatimLatex),e.args&&(this.args=e.args),e.body&&(this.body=e.body),this._changeCounter=0}static createBox(e,n,r){var i;if(!n)return null;let o=Yre(n),s=[];for(let l of o){let c=l[0].style,u=Zre(e,l,{style:{color:c.color,backgroundColor:c.backgroundColor,fontSize:c.fontSize}});u&&s.push(u)}if(s.length===0)return null;let a=((i=r==null?void 0:r.classes)!=null?i:"").trim();return s.length===1&&!a&&!(r!=null&&r.type)?s[0].wrap(e):new Ye(s,{classes:a,type:r==null?void 0:r.type}).wrap(e)}static serialize(e,n){return fs.serialize(e,n)}static commonAncestor(e,n){if(e===n||e.parent===n.parent)return e.parent;let r=new WeakSet,{parent:i}=e;for(;i;)r.add(i),i=i.parent;for(i=n.parent;i;){if(r.has(i))return i;i=i.parent}}static fromJson(e){return typeof e=="string"?new ec({type:"mord",value:e,mode:"math"}):new ec(e)}get latexMode(){return this.mode==="math"?"math":"text"}toJson(){let e={};if(this.type&&(e.type=this.type),this.mode!=="math"&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),this.value!==void 0&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style=oe({},this.style)),this.verbatimLatex!==void 0&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.isExtensibleSymbol&&(e.isExtensibleSymbol=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this.args&&(e.args=Qre(this.args)),this._branches)for(let n of Object.keys(this._branches))this._branches[n]&&(e[n]=this._branches[n].filter(r=>r.type!=="first").map(r=>r.toJson()));return e.type==="mord"&&Object.keys(e).length===2&&"value"in e?e.value:e}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(e){if(e){this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0;let{parent:n}=this;for(;n;)n.parent||n._changeCounter++,"verbatimLatex"in n&&(n.verbatimLatex=void 0),n._children=void 0,n=n.parent}}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Pi(this.command,this.mode);return n!=null&&n.serialize?n.serialize(this,e):this.body&&this.command?ln([Vn(this.command,this.bodyToLatex(e)),this.supsubToLatex(e)]):this.body?ln([this.bodyToLatex(e),this.supsubToLatex(e)]):!this.value||this.value===""?"":this.command}bodyToLatex(e){var n;return fs.serialize(this.body,we(oe({},e),{defaultMode:(n=e.defaultMode)!=null?n:this.latexMode}))}aboveToLatex(e){return fs.serialize(this.above,e)}belowToLatex(e){return fs.serialize(this.below,e)}supsubToLatex(e){let n="";if(e=we(oe({},e),{defaultMode:"math"}),this.branch("subscript")!==void 0){let r=fs.serialize(this.subscript,e);r.length===0?n+="_{}":r.length===1?/^[0-9]$/.test(r)?n+=`_${r}`:n+=`_{${r}}`:n+=`_{${r}}`}if(this.branch("superscript")!==void 0){let r=fs.serialize(this.superscript,e);r.length===0?n+="^{}":r.length===1?r===""?n+="^\\prime ":r===""?n+="^\\doubleprime ":/^[0-9]$/.test(r)?n+=`^${r}`:n+=`^{${r}}`:n+=`^{${r}}`}return n}get treeDepth(){let e=1,n=this.parent;for(;n;)n=n.parent,e+=1;return e}get inCaptureSelection(){let e=this;for(;e;){if(e.captureSelection)return!0;e=e.parent}return!1}get parentPrompt(){let e=this.parent;for(;e;){if(e.type==="prompt"&&!e.captureSelection)return e;e=e.parent}return null}branch(e){if(rh(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];let e=[];for(let n of Jm)this._branches[n]&&e.push(n);return e}createBranch(e){return rh(e),rh(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return kw(this.parentBranch)?this.parentBranch[0]:-1}get col(){return kw(this.parentBranch)?this.parentBranch[1]:-1}get body(){var e;return(e=this._branches)==null?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return(e=this._branches)==null?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return(e=this._branches)==null?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return(e=this._branches)==null?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return(e=this._branches)==null?void 0:e.below}set below(e){this.setChildren(e,"below")}get computedStyle(){var e,n;let r=typeof this.style.verbatimColor=="string",i=typeof this.style.verbatimBackgroundColor=="string",o=oe(oe({},(n=(e=this.parent)==null?void 0:e.computedStyle)!=null?n:{}),this.style);return delete o.variant,delete o.variantStyle,i||delete o.verbatimBackgroundColor,r||delete o.verbatimColor,o}applyStyle(e){this.isDirty=!0,this.style=oe(oe({},this.style),e),this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(let n of this.children)n.applyStyle(e)}getInitialBaseElement(){var e,n,r;return this.hasEmptyBranch("body")?this:((e=this.body)==null||e[0].type,(r=(n=this.body[1])==null?void 0:n.getInitialBaseElement())!=null?r:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return this.type==="leftright"||this.type==="genfrac"||this.type==="subsup"||this.type==="delim"||this.type==="array"||this.type==="surd"?!1:this.getFinalBaseElement().type==="mord"}hasEmptyBranch(e){let n=this.branch(e);return n?(n.length>0,n[0].type,n.length===1):!0}setChildren(e,n){var r;if(!e||(rh(n),!rh(n)))return;(r=e[0])==null||r.type;let i=[this.makeFirstAtom(n),...e];this._branches?this._branches[n]=i:this._branches={[n]:i};for(let o of e)o.parent=this,o.parentBranch=n;this.isDirty=!0}makeFirstAtom(e){let n=new ec({type:"first",mode:this.mode});return n.parent=this,n.parentBranch=e,n}addChild(e,n){e.type,this.createBranch(n).push(e),this.isDirty=!0,e.parent=this,e.parentBranch=n}addChildBefore(e,n){n.parentBranch;let r=this.createBranch(n.parentBranch);r.splice(r.indexOf(n),0,e),this.isDirty=!0,e.parent=this,e.parentBranch=n.parentBranch}addChildAfter(e,n){n.parentBranch;let r=this.createBranch(n.parentBranch);r.splice(r.indexOf(n)+1,0,e),this.isDirty=!0,e.parent=this,e.parentBranch=n.parentBranch}addChildren(e,n){let r=this.createBranch(n);for(let i of e)i.parent=this,i.parentBranch=n,r.push(i);this.isDirty=!0}addChildrenAfter(e,n){e.length===0||e[0].type,n.parentBranch;let r=this.createBranch(n.parentBranch);r.splice(r.indexOf(n)+1,0,...e),this.isDirty=!0;for(let i of e)i.parent=this,i.parentBranch=n.parentBranch;return e[e.length-1]}removeBranch(e){let n=this.branch(e);if(rh(e)&&(this._branches[e]=void 0),!n)return[];for(let r of n)r.parent=void 0,r.parentBranch=void 0;return n[0].type,n.shift(),this.isDirty=!0,n}removeChild(e){if(e.parent,e.type==="first")return;let n=this.branch(e.parentBranch),r=n.indexOf(e);n.splice(r,1),this.isDirty=!0,e.parent=void 0,e.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)-1]}get rightSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let e=[];for(let n of Jm)if(this._branches[n])for(let r of this._branches[n])e.push(...r.children),e.push(r);return this._children=e,e}render(e){if(this.type==="first"&&!e.atomIdsSettings)return null;let n=Pi(this.command,this.mode);if(n!=null&&n.render)return n.render(this,e);let r=new an({parent:e},this.style),i=this.createBox(r,{classes:this.parent?"":"ML__base"});return i?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(i=this.attachSupsub(r,{base:i})),i.wrap(r)):null}attachSupsub(e,n){var r;let i=n.base,o=this.superscript,s=this.subscript;if(!o&&!s)return i;let a=null,l=null,c=(r=n.isCharacterBox)!=null?r:this.isCharacterBox(),u=0;if(o){let v=new an({parent:e,mathstyle:"superscript"});a=ec.createBox(v,o),c||(u=i.height-e.metrics.supDrop*v.scalingFactor)}let d=0;if(s){let v=new an({parent:e,mathstyle:"subscript"});l=ec.createBox(v,s),c||(d=i.depth+e.metrics.subDrop*v.scalingFactor)}let h;e.isDisplayStyle?h=e.metrics.sup1:e.isCramped?h=e.metrics.sup3:h=e.metrics.sup2;let f=.5/Xm/e.scalingFactor,p=null;if(l&&a){u=Math.max(u,h,a.depth+.25*e.metrics.xHeight),d=Math.max(d,e.metrics.sub2);let v=e.metrics.defaultRuleThickness;if(u-a.depth-(l.height-d)<4*v){d=4*v-(u-a.depth)+l.height;let y=.8*e.metrics.xHeight-(u-a.depth);y>0&&(u+=y,d-=y)}let b=this.isExtensibleSymbol&&i.italic?-i.italic:0;p=new Hr({individualShift:[{box:l,shift:d,marginLeft:b},{box:a,shift:-u}]}).wrap(e)}else l&&!a?(d=Math.max(d,e.metrics.sub1,l.height-.8*Xu),p=new Hr({shift:d,children:[{box:l,marginRight:f,marginLeft:this.isCharacterBox()?-i.italic:0}]})):!l&&a&&(u=Math.max(u,h,a.depth+.25*Xu),p=new Hr({shift:-u,children:[{box:a,marginRight:f}]}));return new Ye([i,new Ye(p,{caret:this.caret,isSelected:this.isSelected,classes:"ML__msubsup"})],{type:n.type})}attachLimits(e,n){let r=this.superscript?ec.createBox(new an({parent:e,mathstyle:"superscript"},this.style),this.superscript):null,i=this.subscript?ec.createBox(new an({parent:e,mathstyle:"subscript"},this.style),this.subscript):null;return!r&&!i?n.base.wrap(e):Wre(e,we(oe({},n),{above:r,below:i}))}bind(e,n){if(!n||e.isPhantom||this.value==="")return n;let r=this.parent;for(;r&&!r.captureSelection;)r=r.parent;return r!=null&&r.captureSelection||(this.id||(this.id=e.makeID()),n.atomID=this.id),n}createBox(e,n){var r,i,o,s;let a=(r=this.value)!=null?r:this.body,l=(i=n==null?void 0:n.boxType)!=null?i:w5(this.type),c=(o=n==null?void 0:n.classes)!=null?o:"";this.mode==="text"&&(c+=" ML__text");let u=typeof a=="string"||a===void 0?new Ye(a??null,{type:l,isSelected:this.isSelected,mode:this.mode,maxFontSize:e.scalingFactor,style:we(oe({variant:"normal"},this.style),{fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)}),letterShapeStyle:e.letterShapeStyle,classes:c}):(s=ec.createBox(e,a,{type:l,classes:c}))!=null?s:new Ye(null);return e.isTight&&(u.isTight=!0),(this.mode!=="math"||this.style.variant==="main")&&(u.italic=0),u.right=u.italic,this.bind(e,u),this.caret&&!this.superscript&&!this.subscript&&(u.caret=this.caret),u}isDigit(){var e;return this.type==="mord"&&this.value?/^[\d,\.]$/.test(this.value):this.type==="group"&&((e=this.body)==null?void 0:e.length)===2?this.body[0].type==="first"&&this.body[1].value===",":!1}asDigit(){var e;return this.type==="mord"&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:this.type==="group"&&((e=this.body)==null?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}};function Yre(t){let e,n=[],r=[];for(let i of t)if(!e&&!i.style)r.push(i);else{let o=i.computedStyle;e&&o.color===e.color&&o.backgroundColor===e.backgroundColor&&o.fontSize===e.fontSize?r.push(i):(r.length>0&&n.push(r),r=[i],e=o)}return r.length>0&&n.push(r),n}function Zre(t,e,n){var r,i,o,s,a;if(!e||e.length===0)return null;let l=new an({parent:t},n.style),c=!((r=l.atomIdsSettings)!=null&&r.groupNumbers),u=[];if(e.length===1){let h=e[0],f=h.render(l);f&&(c&&h.isSelected&&f.selected(!0),u=[f])}else{let h="",f=!0;for(let p of e){(i=l.atomIdsSettings)!=null&&i.groupNumbers&&h&&(f&&p.isDigit()||!f&&mC(p))&&(l.atomIdsSettings.overrideID=h);let v=p.render(l);l.atomIdsSettings&&(l.atomIdsSettings.overrideID=void 0),v&&((o=l.atomIdsSettings)!=null&&o.groupNumbers&&((p.isDigit()||mC(p))&&(!h||f!==p.isDigit())&&(f=p.isDigit(),h=(s=p.id)!=null?s:""),h&&(!(p.isDigit()||mC(p))||!p.hasEmptyBranch("superscript")||!p.hasEmptyBranch("subscript"))&&(h="")),c&&p.isSelected&&v.selected(!0),u.push(v))}}if(u.length===0)return null;let d=new Ye(u,we(oe({isTight:l.isTight},n),{type:(a=n.type)!=null?a:"lift"}));return d.isSelected=u.every(h=>h.isSelected),d.wrap(l)}function mC(t){return t.mode==="text"}function Qre(t){return t.map(e=>e===null?"<null>":Array.isArray(e)&&e[0]instanceof Pe?{atoms:e.map(n=>n.toJson())}:typeof e=="object"&&"group"in e?{group:e.group.map(n=>n.toJson())}:e)}var X1=class f$ extends Pe{constructor(e,n,r){super({type:"text",command:e,mode:"text",displayContainsHighlight:!0}),this.value=n,this.verbatimLatex=n,this.applyStyle(r)}static fromJson(e){return new f$(e.command,e.value,e.style)}render(e){let n=this.createBox(e);return this.caret&&(n.caret=this.caret),n}_serialize(e){var n;return(n=this.verbatimLatex)!=null?n:r$("text",this.value.codePointAt(0))}};function eie(t,e){if(t.direction===e.direction){let n=t.ranges.length;if(e.ranges.length===n){let r=0;for(;r<n&&tie(t.ranges[r],e.ranges[r])==="equal";)r++;return r===n?"equal":"different"}}return"different"}function tie(t,e){return t[0]===e[0]&&t[1]===e[1]?"equal":"different"}function Oi(t){let e=1/0,n=-1/0;for(let r of t.ranges)e=Math.min(e,r[0],r[1]),n=Math.max(n,r[0],r[1]);return[e,n]}function Du(t){return typeof t=="number"&&!Number.isNaN(t)}function Tw(t){return Array.isArray(t)&&t.length===2}function __(t){return t!=null&&typeof t=="object"&&"ranges"in t&&Array.isArray(t.ranges)}function nie(t,e){let n=t.at(e),r;if(n){r=n.mode;let i=n.parent;for(;!r&&i;)i&&(r=i.mode),i=i.parent}return r}function rie(t,e){if(!e)return"";if(typeof e=="string")return e;if(!t||e.after===void 0)return e.value;let n=!1,r=!1,i=!1,o=!1,s=!1,a=!1,l=!1,c=!1,u=!1,d=!1,h=!1,f=!1,p=!1,v=!1,b=!1,y=t[0],x=0;for(;y!=null&&y.type&&/^(subsup|placeholder)$/.test(y.type);)x+=1,y=t[x];return n=!y||y.type==="first",y&&(v=y.mode==="text",r=!v&&y.type==="mord"&&g5.test(y.value),i=!v&&y.type==="mord"&&/\d+$/.test(y.value),o=!v&&y.isFunction,s=y.type==="genfrac",a=y.type==="surd",l=y.type==="mbin",c=y.type==="mrel",u=y.type==="mop"||y.type==="operator"||y.type==="extensible-symbol",d=y.type==="mpunct"||y.type==="minner",h=y.type==="array",f=y.type==="mopen",p=y.type==="mclose"||y.type==="leftright",b=y.type==="space"),e.after.includes("nothing")&&n||e.after.includes("letter")&&r||e.after.includes("digit")&&i||e.after.includes("function")&&o||e.after.includes("frac")&&s||e.after.includes("surd")&&a||e.after.includes("binop")&&l||e.after.includes("relop")&&c||e.after.includes("operator")&&u||e.after.includes("punct")&&d||e.after.includes("array")&&h||e.after.includes("openfence")&&f||e.after.includes("closefence")&&p||e.after.includes("text")&&v||e.after.includes("space")&&b?e.value:""}function Ok(t,e,n){return n?rie(t,n[e]):""}var p$={"&":"\\&","%":"\\%",$:"\\$","''":"^{\\doubleprime}","'''":"^{\\prime\\prime\\prime}","''''":"^{\\prime\\prime\\prime\\prime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","":"\\differentialD","":"\\differentialD",arcsin:"\\arcsin",arccos:"\\arccos",arctan:"\\arctan",arcsec:"\\arcsec",arccsc:"\\arccsc",arsinh:"\\arsinh",arcosh:"\\arcosh",artanh:"\\artanh",arcsech:"\\arcsech",arccsch:"\\arccsch",arg:"\\arg",ch:"\\ch",cosec:"\\cosec",cosh:"\\cosh",cot:"\\cot",cotg:"\\cotg",coth:"\\coth",csc:"\\csc",ctg:"\\ctg",cth:"\\cth",sec:"\\sec",sinh:"\\sinh",sh:"\\sh",tanh:"\\tanh",tg:"\\tg",th:"\\th",sin:"\\sin",cos:"\\cos",tan:"\\tan",lg:"\\lg",lb:"\\lb",log:"\\log",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},sint:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\sin t"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",xx:"\\times","+-":"\\pm","":"\\ne","!=":"\\ne","":"\\ge",">=":"\\ge","":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","":"\\approx","?=":"\\questeq","":"\\div","":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\bmod{#?}","(mod":"\\pmod{#?}",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\operatorname{gcd}",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","-->...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function A5(t,e){var n;let r=(n=e==null?void 0:e.format)!=null?n:"auto";return r==="auto"&&([r,t]=iie(t)),r==="ascii-math"?(t=t.replace(/\u2061/gu,""),t=t.replace(/\u3016/gu,"{"),t=t.replace(/\u3017/gu,"}"),t=t.replace(/([^\\])sinx/g,"$1\\sin x"),t=t.replace(/([^\\])cosx/g,"$1\\cos x "),t=t.replace(/\u2013/g,"-"),["ascii-math",bo(t,{inlineShortcuts:e==null?void 0:e.inlineShortcuts})]):["latex",t]}function bo(t,e){var n;if(t=t.trim(),!t)return"";let r=(n=e.inlineShortcuts)!=null?n:p$;if(t.startsWith("^")||t.startsWith("_")){let{match:a,rest:l}=Bd(t.slice(1),{inlineShortcuts:r,noWrap:!0});return`${t[0]}{${a}}${bo(l,e)}`}let i=t.match(/^(sqrt|\u221A)(.*)/);if(i){let{match:a,rest:l}=Bd(i[2],{inlineShortcuts:r,noWrap:!0});return`\\sqrt{${a??"\\placeholder{}"}}${bo(l,e)}`}if(i=t.match(/^(\\cbrt|\u221B)(.*)/),i){let{match:a,rest:l}=Bd(i[2],{inlineShortcuts:r,noWrap:!0});return`\\sqrt[3]{${a??"\\placeholder{}"}}${bo(l,e)}`}if(i=t.match(/^abs(.*)/),i){let{match:a,rest:l}=Bd(i[1],{inlineShortcuts:r,noWrap:!0});return`\\left|${a??"\\placeholder{}"}\\right|${bo(l,e)}`}if(i=t.match(/^["](.*?)["](.*)/),i)return`\\text{${i[1]}}${bo(i[2],e)}`;if(i=t.match(/^([^a-zA-Z\(\{\[\_\^\\\s"]+)(.*)/),i)return`${TP(i[1],r)}${bo(i[2],e)}`;if(/^([fgh])[^a-zA-Z]/.test(t)){let{rest:a,match:l}=Bd(t.slice(1),{inlineShortcuts:r,noWrap:!0}),c="";return t[1]==="("?c=`${t[0]}\\left(${l}\\right)`:c=t[0]+l,c+bo(a,e)}if(i=t.match(/^([a-zA-Z]+)(.*)/),i)return TP(i[1],r)+bo(i[2],e);let{match:o,rest:s}=Bd(t,{inlineShortcuts:r,noWrap:!0});if(o&&s[0]==="/"){let a=Bd(s.slice(1),{inlineShortcuts:r,noWrap:!0});if(a.match)return`\\frac{${o}}{${a.match}}${bo(a.rest,e)}`}else if(o)return t.startsWith("(")?"\\left("+o+"\\right)"+bo(s,e):o+bo(s,e);return i=t.match(/^(\s+)(.*)$/),i?" "+bo(i[2],e):t}function Bd(t,e){let n="";t=t.trim();let r=t,i=t.charAt(0),o={"(":")","{":"}","[":"]"}[i];if(o){let s=1,a=1;for(;a<t.length&&s>0;)t[a]===i&&s++,t[a]===o&&s--,a++;s===0?(e.noWrap&&i==="("?n=bo(t.substring(1,a-1),e):(i==="{"&&o==="}"&&(i="\\{",o="\\}"),n="\\left"+i+bo(t.substring(1,a-1),e)+"\\right"+o),r=t.slice(Math.max(0,a))):(n=t.substring(1,a),r="")}else{let s=t.match(/^([a-zA-Z]+)/);if(s){let a=Ok(null,t,e.inlineShortcuts);if(a)return a=a.replace("_{#?}",""),a=a.replace("^{#?}",""),{match:a,rest:t.slice(a.length)}}if(s=t.match(/^([a-zA-Z])/),s)return{match:s[1],rest:t.slice(1)};if(s=t.match(/^(-)?\d+(\.\d*)?/),s)return{match:s[0],rest:t.slice(s[0].length)};/^\\(left|right)/.test(t)||(s=t.match(/^(\\[a-zA-Z]+)/),s&&(r=t.slice(s[1].length),n=s[1]))}return{match:n,rest:r}}function TP(t,e){let n=Ok(null,t,e);return n?(n=n.replace("_{#?}",""),n=n.replace("^{#?}",""),n+=" "):n=t,n}var m$=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function Fk(t){let e=t.trim();for(let n of m$)if(e.startsWith(n[0])&&e.endsWith(n[1]))return[!0,e.substring(n[0].length,e.length-n[1].length)];return[!1,t]}function iie(t){if(t=t.trim(),t.length<=1)return["latex",t];let e;return[e,t]=Fk(t),e?["latex",t]:t.startsWith("`")&&t.endsWith("`")?(t=t.substring(1,t.length-1),["ascii-math",t]):t.includes("\\")?["latex",t]:/\$.+\$/.test(t)?["latex",`\\text{${t}}`]:[void 0,t]}var oie="$$",sie="$$",aie=(t,e,n)=>(m$.some(r=>e.startsWith(r[0])&&e.endsWith(r[1]))||(e=`${oie} ${e} ${sie}`),e),g$=class w_{constructor(e){w_._modes[e]=this}static onPaste(e,n,r){var i;if(!n.contentEditable&&n.userSelect==="none")return n.model.announce("plonk"),!1;if(typeof r=="string"){let s=new DataTransfer;s.setData("text/plain",r),r=s}let o=new ClipboardEvent("paste",{clipboardData:r,cancelable:!0});return(i=n.host)!=null&&i.dispatchEvent(o)?w_._modes[e].onPaste(n,r):!1}static copyToClipboard(e,n){if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let r=e.model,i=r.selectionIsCollapsed?[0,r.lastOffset]:Oi(r.selection),o=r.getValue(i,n);navigator.clipboard.writeText(o).then(()=>{},()=>e.model.announce("plonk"))}static onCopy(e,n){var r;if(!n.clipboardData)return;if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let i=e.model,o=i.selectionIsCollapsed?[0,i.lastOffset]:Oi(i.selection),s=i.getAtoms(o);if(s.every(a=>a.mode==="text"||!a.mode))n.clipboardData.setData("text/plain",s.filter(a=>a instanceof X1).map(a=>a.value).join(""));else if(s.every(a=>a.mode==="latex"))n.clipboardData.setData("text/plain",i.getAtoms(o,{includeChildren:!0}).map(a=>{var l;return(l=a.value)!=null?l:""}).join(""));else{let a;s.length===1&&s[0].verbatimLatex!==void 0?a=s[0].verbatimLatex:a=i.getValue(o,"latex-expanded"),n.clipboardData.setData("application/x-latex",a);try{n.clipboardData.setData("text/plain",e.options.onExport(e,a,o))}catch{}if(s.length===1){let l=s[0];(l.type==="root"||l.type==="group")&&(s=l.body.filter(c=>c.type!=="first"))}try{n.clipboardData.setData("application/json+mathlive",JSON.stringify(s.map(l=>l.toJson())))}catch{}if((r=window[Symbol.for("io.cortexjs.compute-engine")])!=null&&r.ComputeEngine){let l=globalThis.MathfieldElement.computeEngine;if(l)try{let c=l.jsonSerializationOptions;l.jsonSerializationOptions={metadata:["latex"]};let u=l.parse(i.getValue(o,"latex-unstyled"));l.jsonSerializationOptions=c;let d=JSON.stringify(u.json);d&&n.clipboardData.setData("application/json",d)}catch{}}}n.preventDefault()}static insert(e,n,r={}){var i;let o=r.mode==="auto"?e.mode:(i=r.mode)!=null?i:e.mode;return w_._modes[o].insert(e,n,r)}onPaste(e,n){return!1}insert(e,n,r){return!1}};g$._modes={};var Gn=g$,lie=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",command:"moveToNextGroup"},{key:"shift+[Tab]",command:"moveToPreviousGroup"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"cmd+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"ctrl+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"cmd+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"ctrl+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"cmd+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleContextMenu"},{key:"alt+shift+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math","",""]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+shift+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]},{key:"[Backquote]",ifLayout:["windows.german","linux.german"],ifMode:"math",command:["insert","^"]},{key:"[IntlBackslash]",ifLayout:["apple.german"],ifMode:"math",command:["insert","^"]}],cie={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function hh(t){var e;return((e=t.element)==null?void 0:e.mathfield)===t}function uie(t){var e,n;return(n=(e=t.querySelector(".ML__caret"))!=null?e:t.querySelector(".ML__text-caret"))!=null?n:t.querySelector(".ML__latex-caret")}function iy(t){let e=uie(t);if(!e)return null;let n=e.getBoundingClientRect();return{x:n.right,y:n.bottom,height:n.height}}function die(t){var e;if(!t.parent)return"root";let n=(e=t.parent.id)!=null?e:"";return n+=typeof t.parentBranch=="string"?"-"+t.parentBranch:`-${t.parentBranch[0]}/${t.parentBranch[0]}`,n}function y$(t,e,n){if(!e)return null;let r=t.field.getBoundingClientRect(),i=e.right-e.left,o=e.bottom-e.top,s=Math.ceil(e.left-r.left+t.field.scrollLeft*n),a=Math.ceil(e.top-r.top);return{left:s,right:s+i,top:a,bottom:a+o}}function v$(t){let e=t.getBoundingClientRect(),n=parseInt(getComputedStyle(t).marginRight),r={top:e.top-1,bottom:e.bottom,left:e.left,right:e.right-1+n};if(t.children.length===0||t.tagName.toUpperCase()==="SVG")return r;for(let i of t.children)if(i.nodeType===1&&"atomId"in i.dataset&&!i.classList.contains("ML__pstrut")){let o=v$(i);r.left=Math.min(r.left,o.left),r.right=Math.max(r.right,o.right),r.top=Math.min(r.top,o.top),r.bottom=Math.max(r.bottom,o.bottom)}return r}function J1(t,e){var n,r;if(!e.id)return null;let i=(r=(n=t.atomBoundsCache)==null?void 0:n.get(e.id))!=null?r:null;if(i!==null)return i;let o=t.field.querySelector(`[data-atom-id="${e.id}"]`);return i=o?v$(o):null,t.atomBoundsCache&&(i?t.atomBoundsCache.set(e.id,i):t.atomBoundsCache.delete(e.id)),i??null}function hie(t,e,n){let r=new Map;for(let i of t.model.getAtoms(e,{includeChildren:!0})){if(n!=null&&n.excludeAtomsWithBackground&&i.style.backgroundColor)continue;let o=t.field,s=o.offsetWidth,a=Math.floor(o.getBoundingClientRect().width)/s;a=isNaN(a)?1:a;let l=y$(t,J1(t,i),a);if(l){let c=die(i);if(r.has(c)){let u=r.get(c);r.set(c,{left:Math.min(u.left,l.left),right:Math.max(u.right,l.right),top:Math.min(u.top,l.top),bottom:Math.max(u.bottom,l.bottom)})}else r.set(c,l)}}return[...r.values()]}function b$(t,e){return t.model.selection.ranges.reduce((n,r)=>n.concat(...hie(t,r,e)),[])}function zk(t,e){return t==="*"||e==="none"?!0:e==="same-origin"?!window.origin||t===window.origin:typeof e=="function"?e(t):!1}function x$(t){let e=0,n=0,r=t.offsetWidth,i=t.offsetHeight;for(;t instanceof HTMLElement;)e+=t.offsetTop,n+=t.offsetLeft,t=t.offsetParent;return new DOMRect(n,e,r,i)}var fie=`@keyframes ML__caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}
.ML__container {
  display: inline-flex;
  flex-flow: row;
  justify-content: space-between;
  align-items: flex-end;
  min-height: 39px;
  /* Need some room for the virtual keyboard toggle */
  width: 100%;
  /* Encourage browsers to consider allocating a hardware accelerated
   layer for this element. */
  isolation: isolate;
  /* Prevent the browser from trying to interpret touch gestures in the field */
  /* "Disabling double-tap to zoom removes the need for browsers to
        delay the generation of click events when the user taps the screen." */
  touch-action: none;
  --_caret-color: var(--caret-color, hsl(var(--_hue), 40%, 49%));
  --_selection-color: var(--selection-color, #000);
  --_selection-background-color: var(--selection-background-color, hsl(var(--_hue), 70%, 85%));
  --_text-highlight-background-color: var(--highlight-text, hsla(var(--_hue), 40%, 50%, 0.1));
  --_contains-highlight-background-color: var(--contains-highlight-background-color, hsl(var(--_hue), 40%, 95%));
  --_smart-fence-color: var(--smart-fence-color, currentColor);
  --_smart-fence-opacity: var(--smart-fence-opacity, 0.5);
  --_latex-color: var(--latex-color, hsl(var(--_hue), 80%, 40%));
  --_correct-color: var(--correct-color, #10a000);
  --_incorrect-color: var(--incorrect-color, #a01b00);
  --_composition-background-color: var(--composition-background-color, #fff1c2);
  --_composition-text-color: var(--composition-text-color, black);
  --_composition-underline-color: var(--composition-underline-color, transparent);
}
/* This is the actual field content (formula) */
.ML__content {
  display: flex;
  align-items: center;
  align-self: center;
  position: relative;
  overflow: hidden;
  padding: 2px 3px 2px 1px;
  width: 100%;
}
.ML__virtual-keyboard-toggle,
.ML__menu-toggle {
  box-sizing: border-box;
  display: flex;
  align-self: center;
  align-items: center;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  width: 34px;
  height: 34px;
  padding: 0;
  margin-right: 4px;
  cursor: pointer;
  /* Avoid some weird blinking with :hover */
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  color: hsl(var(--_hue), 40%, 50%);
  fill: currentColor;
  background: transparent;
}
.ML__virtual-keyboard-toggle:hover,
.ML__menu-toggle:hover {
  background: hsla(0, 0%, 70%, 0.3);
  color: #333;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle > span,
.ML__menu-toggle > span {
  display: flex;
  align-self: center;
  align-items: center;
}
/* The invisible element used to capture keyboard events. We're just trying
 really hard to make sure it doesn't show. */
.ML__keyboard-sink {
  display: inline-block;
  resize: none;
  outline: none;
  border: none;
  /* Need these for Microsoft Edge */
  position: fixed;
  clip: rect(0 0 0 0);
  /* Need this to prevent iOS Safari from auto-zooming */
  font-size: 1em;
  font-family: KaTeX_Main;
  line-height: 0.5;
  /* On Chromium, if this is 0, no keyboard events are received */
}
[part="placeholder"] {
  color: var(--neutral-400);
}
.ML__composition {
  background: var(--_composition-background-color);
  color: var(--_composition-text-color);
  text-decoration: underline var(--_composition-underline-color);
}
.ML__caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__text-caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__latex-caret::after {
  content: '';
  visibility: hidden;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_latex-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.019em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__focused .ML__latex-caret::after,
.ML__focused .ML__text-caret::after,
.ML__focused .ML__caret::after {
  visibility: visible;
}
.ML__focused .ML__text {
  background: var(--_text-highlight-background-color);
}
/* When using smartFence, the anticipated closing fence is displayed
with this style */
.ML__smart-fence__close {
  opacity: var(--_smart-fence-opacity);
  color: var(--_smart-fence-color);
}
.ML__selected,
.ML__focused .ML__selected .ML__contains-caret,
.ML__focused .ML__selected .ML__smart-fence__close,
.ML__focused .ML__selected .ML__placeholder {
  color: var(--_selection-color);
  opacity: 1;
}
.ML__selection {
  box-sizing: border-box;
  background: var(--_selection-background-color) !important;
}
.ML__contains-caret.ML__close,
.ML__contains-caret.ML__open,
.ML__contains-caret > .ML__close,
.ML__contains-caret > .ML__open,
.ML__contains-caret .ML__sqrt-sign,
.ML__contains-caret .ML__sqrt-line {
  color: var(--_caret-color);
}
.ML__contains-highlight {
  box-sizing: border-box;
  background: transparent;
}
.ML__focused .ML__contains-highlight {
  background: var(--_contains-highlight-background-color);
}
.ML__raw-latex {
  font-family: 'Berkeley Mono', 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  font-weight: 400;
  font-size: 0.8em;
  letter-spacing: -0.05em;
  color: var(--_latex-color);
}
.ML__suggestion {
  color: var(--neutral-500);
}
.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle:focus {
  outline: none;
  border-radius: 8px;
  border: 2px solid hsl(var(--_hue), 40%, 50%);
}
.ML__virtual-keyboard-toggle.is-pressed,
.ML__virtual-keyboard-toggle.is-active:hover,
.ML__virtual-keyboard-toggle.is-active {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
/* Add an attribute 'data-tooltip' to automatically show a
   tooltip over a element on hover.
*/
[data-tooltip] {
  position: relative;
}
[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  display: block;
  z-index: 2;
  pointer-events: none;
  right: auto;
  top: calc(-100% - 4px);
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  border-radius: 4px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 13px;
  /* Phone */
  opacity: 0;
  transform: scale(0.5);
}
@media only screen and (max-width: 767px) {
  [data-tooltip]::after {
    padding: 8px 16px;
    font-size: 16px;
  }
}
menu [data-tooltip]::after {
  left: 100%;
  top: 0%;
}
menu .ML__base {
  cursor: default;
}
/** Don't display if we're tracking, i.e. have the pointer down */
.tracking [data-tooltip]:hover::after {
  /* Use visibility, not display. Display will remove the after from the DOM, and the override below will not work */
  visibility: hidden;
}
/** But do display if tracking and inside a menu */
.tracking menu li[data-tooltip]:hover::after,
[data-tooltip]:hover::after {
  visibility: visible;
  opacity: 1;
  transform: scale(1);
  transition-property: opacity, scale;
  transition-duration: 0.15s;
  transition-delay: 1s;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__prompt {
  border-radius: 2px;
}
.ML__editablePromptBox {
  outline: 1px solid #acacac;
  border-radius: 2px;
  z-index: -1;
}
.ML__focusedPromptBox {
  outline: highlight auto 1px;
}
.ML__lockedPromptBox {
  background-color: rgba(142, 142, 141, 0.4);
  z-index: -1;
}
.ML__correctPromptBox {
  outline: 1px solid var(--_correct-color);
  box-shadow: 0 0 5px var(--_correct-color);
}
.ML__incorrectPromptBox {
  outline: 1px solid var(--_incorrect-color);
  box-shadow: 0 0 5px var(--_incorrect-color);
}
.variant-submenu {
  display: flex;
  flex-direction: column;
  padding: 8px;
}
.variant-submenu [part=menu-item] {
  font-size: 2rem;
  text-align: center;
  margin: 0;
}
.insert-matrix-submenu {
  display: grid;
  padding: 8px;
  align-content: center;
  justify-content: center;
  grid-template-columns: repeat(5, minmax(0, 1fr));
}
.insert-matrix-submenu [part=menu-item] {
  font-size: 21px;
  border: none;
  border-radius: 0;
  line-height: 21px;
  text-align: center;
  padding: 0;
  margin: 0;
}
.border-submenu [part=menu-item] {
  font-size: 2rem;
  line-height: 1.2;
  text-align: center;
}
.swatches-submenu {
  --_swatch-size: 2rem;
  --_columns: 4;
  display: flex;
  flex-flow: wrap;
  padding: 8px;
  max-width: calc(var(--_columns) * (var(--_swatch-size) + 18px) + 16px);
  box-sizing: border-box;
}
.menu-swatch {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: fit-content;
  height: fit-content;
  margin: 2px;
  padding: 0;
  background: var(--neutral-200);
}
.menu-swatch > .label {
  padding: 0;
  margin: 0;
  line-height: 0;
}
.menu-swatch > .label > span {
  display: inline-block;
  margin: 6px;
  min-width: var(--_swatch-size);
  min-height: var(--_swatch-size);
  border-radius: 50%;
}
.menu-swatch.active {
  background: var(--neutral-100);
  scale: 1.4;
}
.menu-swatch.active > .label > span {
  border-radius: 2px;
}
.menu-swatch .ui-checkmark,
.menu-swatch .ui-mixedmark {
  position: absolute;
  margin: 0;
  padding: 0;
  color: white;
}
.menu-swatch.dark-contrast .ui-checkmark,
.menu-swatch.dark-contrast .ui-mixedmark {
  color: #000;
}
`,pie=`.ML__container {
  min-height: auto !important;
  --_hue: var(--hue, 212);
  --_placeholder-color: var(--placeholder-color, hsl(var(--_hue), 40%, 49%));
  --_placeholder-opacity: var(--placeholder-opacity, 0.4);
  --_text-font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
}
.ML__sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}
.ML__is-inline {
  display: inline-block;
}
.ML__base {
  visibility: inherit;
  display: inline-block;
  position: relative;
  cursor: text;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  border: 0;
  outline: 0;
  vertical-align: baseline;
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-decoration: none;
  width: min-content;
}
.ML__strut,
.ML__strut--bottom {
  display: inline-block;
  min-height: 0.5em;
}
.ML__small-delim {
  font-family: KaTeX_Main;
}
/* Text mode */
.ML__text {
  font-family: var(--_text-font-family);
  white-space: pre;
}
/* Use cmr for 'math upright' */
.ML__cmr {
  font-family: KaTeX_Main;
  font-style: normal;
}
.ML__mathit {
  font-family: KaTeX_Math;
  /* The KaTeX_Math font is italic by default, so the font-style below is only 
     useful when a fallback font is used
  */
  font-style: italic;
}
.ML__mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
/* Lowercase greek symbols should stick to math font when \\mathbf is applied 
   to match TeX idiosyncratic behavior */
.lcGreek.ML__mathbf {
  font-family: KaTeX_Math;
  font-weight: normal;
}
.ML__mathbfit {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.ML__ams {
  font-family: KaTeX_AMS;
}
/* Blackboard */
.ML__bb {
  font-family: KaTeX_AMS;
}
.ML__cal {
  font-family: KaTeX_Caligraphic;
}
.ML__frak {
  font-family: KaTeX_Fraktur;
}
.ML__tt {
  font-family: KaTeX_Typewriter;
}
.ML__script {
  font-family: KaTeX_Script;
}
.ML__sans {
  font-family: KaTeX_SansSerif;
}
.ML__series_ul {
  font-weight: 100;
}
.ML__series_el {
  font-weight: 100;
}
.ML__series_l {
  font-weight: 200;
}
.ML__series_sl {
  font-weight: 300;
}
.ML__series_sb {
  font-weight: 500;
}
.ML__bold,
.ML__boldsymbol {
  font-weight: 700;
}
.ML__series_eb {
  font-weight: 800;
}
.ML__series_ub {
  font-weight: 900;
}
.ML__series_uc {
  font-stretch: ultra-condensed;
}
.ML__series_ec {
  font-stretch: extra-condensed;
}
.ML__series_c {
  font-stretch: condensed;
}
.ML__series_sc {
  font-stretch: semi-condensed;
}
.ML__series_sx {
  font-stretch: semi-expanded;
}
.ML__series_x {
  font-stretch: expanded;
}
.ML__series_ex {
  font-stretch: extra-expanded;
}
.ML__series_ux {
  font-stretch: ultra-expanded;
}
.ML__it {
  font-style: italic;
}
.ML__shape_ol {
  -webkit-text-stroke: 1px black;
  text-stroke: 1px black;
  color: transparent;
}
.ML__shape_sc {
  font-variant: small-caps;
}
.ML__shape_sl {
  font-style: oblique;
}
/* First level emphasis */
.ML__emph {
  color: #bc2612;
}
/* Second level emphasis */
.ML__emph .ML__emph {
  color: #0c7f99;
}
.ML__highlight {
  color: #007cb2;
  background: #edd1b0;
}
.ML__center {
  text-align: center;
}
.ML__left {
  text-align: left;
}
.ML__right {
  text-align: right;
}
.ML__label_padding {
  padding: 0 0.5em;
}
.ML__frac-line {
  width: 100%;
  min-height: 1px;
}
.ML__frac-line:after {
  content: '';
  display: block;
  margin-top: max(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  /* There's a bug since Chrome 62 where 
      sub-pixel border lines don't draw at some zoom 
      levels (110%, 90%). 
      Setting the min-height used to work around it, but that workaround
      broke in Chrome 84 or so.
      Setting the background (and the min-height) seems to work for now.
      */
  background: currentColor;
  box-sizing: content-box;
  /* Vuetify sets the box-sizing to inherit 
            causes the fraction line to not draw at all sizes (see #26) */
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt {
  display: inline-block;
}
.ML__sqrt-sign {
  display: inline-block;
  position: relative;
}
.ML__sqrt-line {
  display: inline-block;
  height: max(1px, 0.04em);
  width: 100%;
}
.ML__sqrt-line:before {
  content: '';
  display: block;
  margin-top: min(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  background: currentColor;
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt-line:after {
  border-bottom-width: 1px;
  content: ' ';
  display: block;
  margin-top: -0.1em;
}
.ML__sqrt-index {
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.ML__delim-size1 {
  font-family: KaTeX_Size1;
}
.ML__delim-size2 {
  font-family: KaTeX_Size2;
}
.ML__delim-size3 {
  font-family: KaTeX_Size3;
}
.ML__delim-size4 {
  font-family: KaTeX_Size4;
}
.ML__delim-mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.ML__delim-mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.ML__accent-body > span {
  font-family: KaTeX_Main;
  width: 0;
}
.ML__accent-vec {
  position: relative;
  left: 0.24em;
}
/** The markup for a LaTeX formula, either in an editable mathfield or 
    in a static display.
*/
.ML__latex {
  display: inline-block;
  direction: ltr;
  text-align: left;
  text-indent: 0;
  text-rendering: auto;
  font-family: KaTeX_Main, 'Times New Roman', serif;
  font-style: normal;
  font-size-adjust: none;
  font-stretch: normal;
  font-variant-caps: normal;
  letter-spacing: normal;
  line-height: 1.2;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  text-shadow: none;
  -webkit-user-select: none;
  user-select: none;
  width: min-content;
}
.ML__latex .style-wrap {
  position: relative;
}
.ML__latex .ML__mfrac {
  display: inline-block;
}
.ML__latex .ML__left-right {
  display: inline-block;
}
.ML__latex .ML__vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.ML__latex .ML__vlist-r {
  display: table-row;
}
.ML__latex .ML__vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.ML__latex .ML__vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.ML__latex .ML__vlist > span > span {
  display: inline-block;
}
.ML__latex .ML__vlist > span > .ML__pstrut {
  overflow: hidden;
  width: 0;
}
.ML__latex .ML__vlist-t2 {
  margin-right: -2px;
}
.ML__latex .ML__vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.ML__latex .ML__msubsup {
  text-align: left;
}
.ML__latex .ML__negativethinspace {
  display: inline-block;
  margin-left: -0.16667em;
  height: 0.71em;
}
.ML__latex .ML__thinspace {
  display: inline-block;
  width: 0.16667em;
  height: 0.71em;
}
.ML__latex .ML__mediumspace {
  display: inline-block;
  width: 0.22222em;
  height: 0.71em;
}
.ML__latex .ML__thickspace {
  display: inline-block;
  width: 0.27778em;
  height: 0.71em;
}
.ML__latex .ML__enspace {
  display: inline-block;
  width: 0.5em;
  height: 0.71em;
}
.ML__latex .ML__quad {
  display: inline-block;
  width: 1em;
  height: 0.71em;
}
.ML__latex .ML__qquad {
  display: inline-block;
  width: 2em;
  height: 0.71em;
}
.ML__latex .ML__llap,
.ML__latex .ML__rlap {
  width: 0;
  position: relative;
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner,
.ML__latex .ML__rlap > .ML__inner {
  position: absolute;
}
.ML__latex .ML__llap > .ML__fix,
.ML__latex .ML__rlap > .ML__fix {
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner {
  right: 0;
}
.ML__latex .ML__rlap > .ML__inner {
  left: 0;
}
.ML__latex .ML__rule {
  display: inline-block;
  border: solid 0;
  position: relative;
  box-sizing: border-box;
}
.ML__latex .overline .overline-line,
.ML__latex .underline .underline-line {
  width: 100%;
}
.ML__latex .overline .overline-line:before,
.ML__latex .underline .underline-line:before {
  content: '';
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  display: block;
}
.ML__latex .overline .overline-line:after,
.ML__latex .underline .underline-line:after {
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
  margin-top: -1px;
}
.ML__latex .ML__stretchy {
  display: block;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__stretchy:before,
.ML__latex .ML__stretchy:after {
  content: '';
}
.ML__latex .ML__stretchy svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.ML__latex .slice-1-of-2 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-2-of-2 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-1-of-3 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-2-of-3 {
  display: inline-flex;
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.ML__latex .slice-3-of-3 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-1-of-1 {
  display: inline-flex;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__nulldelimiter {
  display: inline-block;
}
.ML__latex .ML__op-group {
  display: inline-block;
}
.ML__latex .ML__op-symbol {
  position: relative;
}
.ML__latex .ML__op-symbol.ML__small-op {
  font-family: KaTeX_Size1;
}
.ML__latex .ML__op-symbol.ML__large-op {
  font-family: KaTeX_Size2;
}
.ML__latex .ML__mtable .ML__vertical-separator {
  display: inline-block;
  min-width: 1px;
  box-sizing: border-box;
}
.ML__latex .ML__mtable .ML__arraycolsep {
  display: inline-block;
}
.ML__latex .ML__mtable .col-align-m > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-c > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-l > .ML__vlist-t {
  text-align: left;
}
.ML__latex .ML__mtable .col-align-r > .ML__vlist-t {
  text-align: right;
}
.ML__error {
  display: inline-block;
  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);
  background-color: hsla(341, 100%, 40%, 0.1);
  background-repeat: repeat-x;
  background-size: 3px 3px;
  padding-bottom: 3px;
  background-position: 0 100%;
}
.ML__error > .ML__error {
  background: transparent;
  padding: 0;
}
.ML__placeholder {
  color: var(--_placeholder-color);
  opacity: var(--_placeholder-opacity);
  padding-left: 0.4ex;
  padding-right: 0.4ex;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}
.ML__notation {
  position: absolute;
  box-sizing: border-box;
  line-height: 0;
}
/* This class is used to implement the \`\\mathtip\` and \`\\texttip\` commands
   For UI elements, see \`[data-ML__tooltip]\`
*/
.ML__tooltip-container {
  position: relative;
  transform: scale(0);
}
.ML__tooltip-container .ML__tooltip-content {
  position: fixed;
  display: inline-table;
  visibility: hidden;
  z-index: 2;
  width: max-content;
  max-width: 400px;
  padding: 12px 12px;
  border-radius: 8px;
  background: #616161;
  --_selection-color: #fff;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  opacity: 0;
  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);
}
.ML__tooltip-container .ML__tooltip-content .ML__text {
  white-space: normal;
}
.ML__tooltip-container .ML__tooltip-content .ML__base {
  display: contents;
}
.ML__tooltip-container:hover .ML__tooltip-content {
  visibility: visible;
  opacity: 1;
  font-size: 0.75em;
  transform: scale(1) translate(0, 3em);
}
`,mie=`#mathlive-environment-popover.is-visible {
  visibility: visible;
}
#mathlive-environment-popover {
  --_environment-panel-height: var(--environment-panel-height, 70px);
  --_accent-color: var(--accent-color, #aaa);
  --_background: var(--environment-panel-background, #fff);
  --_button-background: var(--environment-panel-button-background, white);
  --_button-background-hover: var(--environment-panel-button-background-hover, #f5f5f7);
  --_button-background-active: var(--environment-panel-button-background-active, #f5f5f7);
  --_button-text: var(--environment-panel-button-text, #e3e4e8);
  position: absolute;
  width: calc(var(--_environment-panel-height) * 2);
  height: var(--_environment-panel-height);
  border-radius: 4px;
  border: 1.5px solid var(--_accent-color);
  background-color: var(--_background);
  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));
  pointer-events: all;
  visibility: hidden;
}
#mathlive-environment-popover .MLEP__array-buttons {
  height: calc(var(--_environment-panel-height) * 5/4);
  width: calc(var(--_environment-panel-height) * 5/4);
  margin-left: calc(0px - var(--_environment-panel-height) * 0.16);
  margin-top: calc(0px - var(--_environment-panel-height) * 0.19);
}
#mathlive-environment-popover .MLEP__array-buttons .font {
  fill: white;
}
#mathlive-environment-popover .MLEP__array-buttons circle {
  fill: #7f7f7f;
  transition: fill 300ms;
}
#mathlive-environment-popover .MLEP__array-buttons .MLEP__array-insert-background {
  fill-opacity: 1;
  fill: var(--_background);
  stroke: var(--_accent-color);
  stroke-width: 3px;
}
#mathlive-environment-popover .MLEP__array-buttons line {
  stroke: var(--_accent-color);
  stroke-opacity: 0;
  stroke-width: 40;
  pointer-events: none;
  transition: stroke-opacity 300ms;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover circle {
  fill: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover line {
  stroke-opacity: 1;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls {
  height: 100%;
  width: 50%;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options {
  width: var(--_environment-panel-height);
  height: var(--_environment-panel-height);
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-around;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg {
  pointer-events: all;
  margin-top: 2px;
  width: calc(var(--_environment-panel-height) / 3 * 28 / 24);
  height: calc(var(--_environment-panel-height) / 3 - 2px);
  border-radius: calc(var(--_environment-panel-height) / 25);
  background-color: var(--_button-background);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg:hover {
  background-color: var(--_button-background-hover);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg line {
  stroke: var(--_button-text);
  stroke-width: 2;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg rect,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path {
  fill-opacity: 0;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active {
  pointer-events: none;
  background-color: var(--_button-background-active);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active line {
  stroke: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active circle {
  fill: var(--_accent-color);
}
`,gie=`/* The element that display info while in latex mode */
#mathlive-suggestion-popover {
  background-color: rgba(97, 97, 97);
  color: #fff;
  text-align: center;
  border-radius: 8px;
  position: fixed;
  z-index: 1;
  display: none;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}
#mathlive-suggestion-popover.top-tip::after {
  content: '';
  position: absolute;
  top: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.bottom-tip::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.is-animated {
  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;
}
#mathlive-suggestion-popover.is-visible {
  display: flex;
}
@keyframes ML__fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/* The wrapper class for the entire content of the popover panel */
#mathlive-suggestion-popover ul {
  display: flex;
  flex-flow: column;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: flex-start;
  max-height: 400px;
  overflow-y: auto;
}
#mathlive-suggestion-popover li {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 8px;
  padding: 8px;
  width: calc(100% - 16px - 16px);
  column-gap: 1em;
  border-radius: 8px;
  cursor: pointer;
  /* Since the content can be clicked on, provide feedback on hover */
}
#mathlive-suggestion-popover li a {
  color: #5ea6fd;
  padding-top: 0.3em;
  margin-top: 0.4em;
  display: block;
}
#mathlive-suggestion-popover li a:hover {
  color: #5ea6fd;
  text-decoration: underline;
}
#mathlive-suggestion-popover li:hover,
#mathlive-suggestion-popover li.is-pressed,
#mathlive-suggestion-popover li.is-active {
  background: rgba(255, 255, 255, 0.1);
}
/* The command inside a popover (inside a #mathlive-suggestion-popover) */
.ML__popover__command {
  font-size: 1.6rem;
  font-family: KaTeX_Main;
}
.ML__popover__current {
  background: #5ea6fd;
  color: #fff;
}
.ML__popover__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  align-self: center;
}
/* The keyboard shortcuts for a symbol as displayed in the popover */
.ML__popover__keybinding {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 0.8em;
  opacity: 0.7;
}
/* Style for the character that joins the modifiers of a keyboard shortcut 
(usually a "+" sign)*/
.ML__shortcut-join {
  opacity: 0.5;
}
`,yie=`/* The element that displays the keys as the user type them */
#mathlive-keystroke-caption-panel {
  visibility: hidden;
  /*min-width: 160px;*/
  /*background-color: rgba(97, 97, 200, .95);*/
  background: var(--secondary, hsl(var(--_hue), 19%, 26%));
  border-color: var(--secondary-border, hsl(0, 0%, 91%));
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  text-align: center;
  border-radius: 6px;
  padding: 16px;
  position: absolute;
  z-index: 1;
  display: flex;
  flex-direction: row-reverse;
  justify-content: center;
  --keystroke: white;
  --on-keystroke: #555;
  --keystroke-border: #f7f7f7;
}
@media (prefers-color-scheme: dark) {
  body:not([theme='light']) #mathlive-keystroke-caption-panel {
    --keystroke: hsl(var(--_hue), 50%, 30%);
    --on-keystroke: hsl(0, 0%, 98%);
    --keystroke-border: hsl(var(--_hue), 50%, 25%);
  }
}
body[theme='dark'] #mathlive-keystroke-caption-panel {
  --keystroke: hsl(var(--_hue), 50%, 30%);
  --on-keystroke: hsl(0, 0%, 98%);
  --keystroke-border: hsl(var(--_hue), 50%, 25%);
}
#mathlive-keystroke-caption-panel > span {
  min-width: 14px;
  /*height: 8px;*/
  margin: 0 8px 0 0;
  padding: 4px;
  background-color: var(--keystroke);
  color: var(--on-keystroke);
  fill: currentColor;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid var(--keystroke-border);
  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/
}
`,vie=`.ML__keyboard {
  --_keyboard-height: 0;
  --_keyboard-zindex: var(--keyboard-zindex, 105);
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_padding-horizontal: var(--keyboard-padding-horizontal, 0px);
  --_padding-top: var(--keyboard-padding-top, 5px);
  --_padding-bottom: var(--keyboard-padding-bottom, 0px);
  --_row-padding-left: var(--keyboard-row-padding-left, 0px);
  --_row-padding-right: var(--keyboard-row-padding-right, 0px);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-text-active: var(--keyboard-toolbar-text-active, var(--_accent-color));
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_toolbar-font-size: var(--keyboard-toolbar-font-size, '135%');
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-primary-background: var(--keycap-primary-background, var(--_accent-color));
  --_keycap-primary-text: var(--keycap-primary-text, #ddd);
  --_keycap-primary-background-hover: var(--keycap-primary-background-hover, #0d80f2);
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_keycap-height: var(--keycap-height, 60px);
  /* Keycap width (incl. margin) */
  --_keycap-max-width: var(--keycap-max-width, 100px);
  --_keycap-gap: var(--keycap-gap, 8px);
  --_keycap-font-size: var(--keycap-font-size, clamp(16px, 4cqw, 24px));
  --_keycap-small-font-size: var(--keycap-small-font-size, calc(var(--keycap-font-size) * 0.8));
  --_keycap-extra-small-font-size: var(--keycap-extra-small-font-size, calc(var(--keycap-font-size) / 1.42));
  --_variant-panel-background: var(--variant-panel-background, #fff);
  --_variant-keycap-text: var(--variant-keycap-text, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
  --_variant-keycap-length: var(--variant-keycap-length, 70px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 30px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 12px);
  --_keycap-shift-font-size: var(--keycap-shift-font-size, 16px);
  --_keycap-shift-color: var(--keycap-shift-color, var(--_accent-color));
  --_box-placeholder-color: var(--box-placeholder-color, var(--_accent-color));
  --_box-placeholder-pressed-color: var(--box-placeholder-pressed-color, var(--keycap-text-pressed));
}
.is-math-mode .MLK__rows .if-text-mode,
.is-text-mode .MLK__rows .if-math-mode {
  display: none;
}
.if-can-undo,
.if-can-redo,
.if-can-copy,
.if-can-cut,
.if-can-paste {
  opacity: 0.4;
  pointer-events: none;
}
.can-undo .if-can-undo,
.can-redo .if-can-redo,
.can-copy .if-can-copy,
.can-cut .if-can-cut,
.can-paste .if-can-paste {
  opacity: 1;
  pointer-events: all;
}
body > .ML__keyboard {
  position: fixed;
  --_padding-bottom: calc(var(--keyboard-padding-bottom, 0px) + env(safe-area-inset-bottom, 0));
}
body > .ML__keyboard.is-visible > .MLK__backdrop {
  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);
  border-top: 1px solid var(--_border);
}
body > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {
  box-shadow: none;
  border: none;
}
body > .ML__keyboard.is-visible.animate > .MLK__backdrop {
  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__keyboard {
  position: relative;
  overflow: hidden;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: var(--_keyboard-zindex);
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
  pointer-events: none;
}
.ML__keyboard :where(div) {
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  transform: none;
}
.MLK__backdrop {
  position: absolute;
  bottom: calc(-1 * var(--_keyboard-height));
  width: 100%;
  height: var(--_keyboard-height);
  box-sizing: border-box;
  padding-top: var(--_padding-top);
  padding-bottom: var(--_padding-bottom);
  padding-left: var(--_padding-horizontal);
  padding-right: var(--_padding-horizontal);
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0);
  background: var(--_background);
}
.backdrop-is-transparent .MLK__backdrop {
  background: transparent;
}
/* If a custom layout has a custom container/backdrop
  (backdrop-is-transparent), make sure to let pointer event go through. */
.backdrop-is-transparent .MLK__plate {
  background: transparent;
  pointer-events: none;
}
/* If a custom layout has a custom container/backdrop, make sure to 
   allow pointer events on it. */
.backdrop-is-transparent .MLK__layer > div > div {
  pointer-events: all;
}
.ML__keyboard.is-visible > .MLK__backdrop {
  transform: translate(0, calc(-1 * var(--_keyboard-height)));
  opacity: 1;
  visibility: visible;
}
.caps-lock-indicator {
  display: none;
  width: 8px;
  height: 8px;
  background: #0cbc0c;
  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;
  border-radius: 8px;
  right: 8px;
  top: 8px;
  position: absolute;
}
.ML__keyboard.is-caps-lock .caps-lock-indicator {
  display: block;
}
.ML__keyboard.is-caps-lock .shift {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
}
.MLK__plate {
  position: absolute;
  top: var(--_padding-top);
  left: var(--_padding-horizontal);
  width: calc(100% - 2 * var(--_padding-horizontal));
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  container-type: inline-size;
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  pointer-events: all;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 16px;
  /* Size of toolbar labels */
  font-weight: 400;
  text-shadow: none;
}
.ML__box-placeholder {
  color: var(--_box-placeholder-color);
}
.MLK__tex {
  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__tex-math {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
  font-style: italic;
}
.MLK__layer {
  display: none;
  outline: none;
}
.MLK__layer.is-visible {
  display: flex;
  flex-flow: column;
}
/* Keyboard layouts are made or rows of keys... */
.MLK__rows {
  --_keycap-width: var(--keycap-width, min(var(--_keycap-max-width), 10cqw));
  display: flex;
  flex-flow: column;
  align-items: center;
  border-collapse: separate;
  clear: both;
  border: 0;
  margin: 0;
  margin-bottom: var(--_keycap-gap);
  gap: var(--_keycap-gap);
  /* If the styling include, e.g., some shadows, they will be
  cut off by the overflow. In that case, set the padding to 
  compensate. */
  padding-left: var(--_row-padding-left);
  padding-right: var(--_row-padding-right);
  overflow: visible;
  touch-action: none;
}
.MLK__rows > .MLK__row {
  display: flex;
  flex-flow: row;
  justify-content: center;
  width: 100%;
  gap: var(--_keycap-gap);
  margin: 0;
  padding: 0;
  /* For the alignment of the text on some modifiers (e.g. shift) */
  /* Extra spacing between two adjacent keys */
}
.MLK__rows > .MLK__row .tex {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .tex-math {
  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .big-op {
  font-size: calc(1.25 * var(--_keycap-font-size));
}
.MLK__rows > .MLK__row .small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__rows > .MLK__row .bottom {
  justify-content: flex-end;
}
.MLK__rows > .MLK__row .left {
  align-items: flex-start;
  padding-left: 12px;
}
.MLK__rows > .MLK__row .right {
  align-items: flex-end;
  padding-right: 12px;
}
.MLK__rows > .MLK__row .w0 {
  width: 0;
}
.MLK__rows > .MLK__row .w5 {
  width: calc(0.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w15 {
  width: calc(1.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w20 {
  width: calc(2 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w40 {
  width: calc(4 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w50 {
  width: calc(5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .MLK__keycap.w50 {
  font-size: 80%;
  padding-top: 10px;
  font-weight: 100;
}
.MLK__rows > .MLK__row .separator {
  background: transparent;
  border: none;
  pointer-events: none;
}
.MLK__rows > .MLK__row .horizontal-rule {
  height: 6px;
  margin-top: 3px;
  margin-bottom: 0;
  width: 100%;
  border-radius: 0;
  border-top: var(--_horizontal-rule);
}
.MLK__rows > .MLK__row .ghost {
  background: var(--_toolbar-background);
  border: none;
  color: var(--_toolbar-text);
}
.MLK__rows > .MLK__row .ghost:hover {
  background: var(--_toolbar-background-hover);
}
.MLK__rows > .MLK__row .bigfnbutton {
  font-size: var(--_keycap-extra-small-font-size);
}
.MLK__rows > .MLK__row .shift,
.MLK__rows > .MLK__row .action {
  color: var(--_keycap-secondary-text);
  background: var(--_keycap-secondary-background);
  border-color: var(--_keycap-secondary-border);
  border-bottom-color: var(--_keycap-secondary-border-bottom);
  line-height: 0.8;
  font-size: min(1rem, var(--_keycap-small-font-size));
  font-weight: 600;
  padding: 8px 12px 8px 12px;
}
.MLK__rows > .MLK__row .shift:hover,
.MLK__rows > .MLK__row .action:hover {
  background: var(--_keycap-secondary-background-hover);
}
.MLK__rows > .MLK__row .action.primary {
  background: var(--_keycap-primary-background);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .action.primary:hover {
  background: var(--_keycap-primary-background-hover);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .shift.selected,
.MLK__rows > .MLK__row .action.selected {
  color: var(--_toolbar-text-active);
}
.MLK__rows > .MLK__row .shift.selected.is-pressed,
.MLK__rows > .MLK__row .action.selected.is-pressed,
.MLK__rows > .MLK__row .shift.selected.is-active,
.MLK__rows > .MLK__row .action.selected.is-active {
  color: white;
}
.MLK__rows > .MLK__row .warning {
  background: #cd0030;
  color: white;
}
.MLK__rows > .MLK__row .warning svg.svg-glyph {
  width: 24px;
  height: 24px;
  min-height: 24px;
}
/** A regular keycap
 * Use the :where() pseudo-class to give it a very low specifity, 
 * so that it can be overriden by custom style.
 */
:where(.MLK__rows > .MLK__row  div) {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: space-evenly;
  width: calc(var(--_keycap-width) - var(--_keycap-gap));
  height: var(--_keycap-height);
  box-sizing: border-box;
  padding: 0;
  vertical-align: top;
  text-align: center;
  float: left;
  color: var(--_keycap-text);
  fill: currentColor;
  font-size: var(--_keycap-font-size);
  background: var(--_keycap-background);
  border: 1px solid var(--_keycap-border);
  border-bottom-color: var(--_keycap-border-bottom);
  border-radius: 6px;
  cursor: pointer;
  touch-action: none;
  /* Keys with a variants panel */
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
:where(.MLK__rows > .MLK__row  div):hover {
  overflow: visible;
  background: var(--_keycap-background-hover);
}
:where(.MLK__rows > .MLK__row  div) .ML__latex {
  pointer-events: none;
  touch-action: none;
}
:where(.MLK__rows > .MLK__row  div) svg.svg-glyph {
  margin: 8px 0;
  width: 20px;
  height: 20px;
  min-height: 20px;
}
:where(.MLK__rows > .MLK__row  div) svg.svg-glyph-lg {
  margin: 8px 0;
  width: 24px;
  height: 24px;
  min-height: 24px;
}
:where(.MLK__rows > .MLK__row  div).MLK__tex-math {
  font-size: 25px;
}
:where(.MLK__rows > .MLK__row  div).is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row  div).action.is-active,
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row  div).action.is-pressed {
  z-index: calc(var(--_keyboard-zindex) - 5);
}
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-active aside,
:where(.MLK__rows > .MLK__row  div).action.is-active aside,
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-pressed aside,
:where(.MLK__rows > .MLK__row  div).action.is-pressed aside {
  display: none;
}
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row  div).action.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-pressed .MLK__shift,
:where(.MLK__rows > .MLK__row  div).action.is-pressed .MLK__shift {
  display: none;
}
:where(.MLK__rows > .MLK__row  div).shift.is-pressed,
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row  div).action.is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
}
:where(.MLK__rows > .MLK__row  div).shift.is-active,
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row  div).action.is-active {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row  div) small {
  color: var(--_keycap-secondary-text);
}
:where(.MLK__rows > .MLK__row  div) aside {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 10px;
  line-height: 10px;
  color: var(--_keycap-secondary-text);
}
/* Add an attribute 'data-tooltip' to display a tooltip on hover.
Note there are a different set of tooltip rules for the keyboard toggle
(it's in a different CSS tree) */
.ML__keyboard [data-tooltip] {
  position: relative;
}
.ML__keyboard [data-tooltip]::after {
  position: absolute;
  display: inline-table;
  content: attr(data-tooltip);
  top: inherit;
  bottom: 100%;
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  background: #616161;
  color: #fff;
  text-align: center;
  z-index: 2;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;
  opacity: 0;
  transform: scale(0.5);
}
.ML__keyboard [data-tooltip]:hover {
  position: relative;
}
.ML__keyboard [data-tooltip]:hover::after {
  opacity: 1;
  transform: scale(1);
}
.MLK__toolbar {
  align-self: center;
  display: flex;
  flex-flow: row;
  justify-content: space-between;
  width: 100%;
  max-width: 996px;
  min-height: 32px;
  /* Icons for undo/redo, etc. */
}
.MLK__toolbar svg {
  height: 20px;
  width: 20px;
}
.MLK__toolbar > .left {
  position: relative;
  display: flex;
  justify-content: flex-start;
  flex-flow: row;
}
.MLK__toolbar > .right {
  display: flex;
  justify-content: flex-end;
  flex-flow: row;
}
.MLK__toolbar > div > div {
  /* "button" in the toolbar */
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--_toolbar-text);
  fill: currentColor;
  background: var(--_toolbar-background);
  font-size: var(--_toolbar-font-size);
  padding: 4px 15px;
  cursor: pointer;
  width: max-content;
  min-width: 42px;
  min-height: 34px;
  border: none;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 8px;
  padding-top: 8px;
  margin-top: 0;
  margin-bottom: 4px;
  margin-left: 4px;
  margin-right: 4px;
  border-radius: 8px;
  box-shadow: none;
  border-bottom: 2px solid transparent;
}
.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {
  background: var(--_toolbar-background-hover);
}
.MLK__toolbar > div > div.disabled svg,
.MLK__toolbar > div > div.disabled:hover svg,
.MLK__toolbar > div > div.disabled.is-pressed svg {
  color: var(--_toolbar-text);
  opacity: 0.2;
}
.MLK__toolbar > div > div:hover,
.MLK__toolbar > div > div:active,
.MLK__toolbar > div > div.is-pressed,
.MLK__toolbar > div > div.is-active {
  color: var(--_toolbar-text-active);
}
.MLK__toolbar > div > div.selected {
  color: var(--_toolbar-text-active);
  background: var(--_toolbar-background-selected);
  border-radius: 0;
  border-bottom-color: var(--_toolbar-text-active);
  padding-bottom: 4px;
  margin-bottom: 8px;
}
/* This is the element that displays variants on press+hold */
.MLK__variant-panel {
  visibility: hidden;
  position: fixed;
  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
  align-content: center;
  margin: 0;
  padding: 0;
  bottom: auto;
  top: 0;
  box-sizing: content-box;
  transform: none;
  z-index: calc(var(--_keyboard-zindex) + 1);
  touch-action: none;
  max-width: 350px;
  background: var(--_variant-panel-background);
  text-align: center;
  border-radius: 6px;
  padding: 6px;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
  transition: none;
}
.MLK__variant-panel.is-visible {
  visibility: visible;
}
.MLK__variant-panel.compact {
  --_variant-keycap-length: var(--variant-keycap-length, 50px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 10px);
}
.MLK__variant-panel .item {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  font-size: var(--_variant-keycap-font-size);
  height: var(--_variant-keycap-length);
  width: var(--_variant-keycap-length);
  margin: 0;
  box-sizing: border-box;
  border-radius: 5px;
  border: 1px solid transparent;
  background: transparent;
  pointer-events: all;
  cursor: pointer;
  color: var(--_variant-keycap-text);
  fill: currentColor;
}
@media (max-height: 412px) {
  .MLK__variant-panel .item {
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
.MLK__variant-panel .item .ML__latex {
  pointer-events: none;
}
.MLK__variant-panel .item.is-active {
  background: var(--_variant-keycap-background-active);
  color: var(--_variant-keycap-text-active);
}
.MLK__variant-panel .item.is-pressed {
  background: var(--_variant-keycap-background-pressed);
  color: var(--_variant-keycap-text-pressed);
}
.MLK__variant-panel .item.small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__variant-panel .item.swatch-button {
  box-sizing: border-box;
  background: #fbfbfb;
}
.MLK__variant-panel .item.swatch-button > span {
  display: inline-block;
  margin: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  border-radius: 50%;
}
.MLK__variant-panel .item.swatch-button:hover {
  background: #f0f0f0;
}
.MLK__variant-panel .item.swatch-button:hover > span {
  border-radius: 2px;
}
.MLK__variant-panel .item.box > div,
.MLK__variant-panel .item.box > span {
  border: 1px dashed rgba(0, 0, 0, 0.24);
}
.MLK__variant-panel .item .warning {
  min-height: 60px;
  min-width: 60px;
  background: #cd0030;
  color: white;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
}
.MLK__variant-panel .item .warning.is-pressed,
.MLK__variant-panel .item .warning.is-active {
  background: red;
}
.MLK__variant-panel .item .warning svg.svg-glyph {
  width: 50px;
  height: 50px;
}
.MLK__variant-panel .item aside {
  font-size: var(--_variant-keycap-aside-font-size);
  line-height: 12px;
  opacity: 0.78;
  padding-top: 2px;
}
.MLK__keycap {
  position: relative;
}
.MLK__shift {
  display: block;
  position: absolute;
  right: 4px;
  top: 4px;
  font-size: var(--_keycap-shift-font-size);
  color: var(--_keycap-shift-color);
}
.hide-shift .MLK__shift {
  display: none;
}
@media (max-width: 414px) {
  .MLK__variant-panel {
    max-width: 350px;
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
/* @xs breakpoint: iPhone 5 */
@container (max-width: 414px) {
  .MLK__rows {
    --_keycap-gap: max(var(--_keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--_keycap-height), 42px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width)), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    font-size: 100%;
    margin-left: 2px;
    margin-right: 2px;
  }
  .MLK__rows .shift,
  .MLK__rows .action {
    font-size: 65%;
  }
  .MLK__rows .warning svg.svg-glyph {
    width: 14px;
    height: 14px;
    min-height: 14px;
  }
}
@container (max-width: 744px) {
  .MLK__rows {
    --_keycap-gap: max(var(--keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--keycap-height, 52px), 52px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    padding-left: 0;
    padding-right: 0;
  }
  .MLK__tooltip::after {
    padding: 8px 16px;
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.fnbutton {
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.bigfnbutton {
    font-size: calc(var(--_keycap-extra-small-font-size) / 1.55);
  }
  .MLK__rows > .MLK__row > div.small {
    font-size: 13px;
  }
  .MLK__rows > .MLK__row > div > aside {
    display: none;
  }
  .MLK__shift {
    display: none;
  }
}
/* Medium breakpoint: larger phones */
@container (max-width: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@media (max-height: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@container (max-width: 1444px) {
  .MLK__rows .if-wide {
    display: none;
  }
}
@media (prefers-color-scheme: dark) {
  .ML__keyboard {
    --_accent-color: var(--keyboard-accent-color, #0b5c9c);
    --_background: var(--keyboard-background, #151515);
    --_border: var(--keyboard-border, transparent);
    --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
    --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
    --keyboard-toolbar-background-hover: #303030;
    --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
    --_keycap-background: var(--keycap-background, #1f2022);
    --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
    --_keycap-border: var(--_keycap-border, transparent);
    --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
    --_keycap-text: var(--keycap-text, #e3e4e8);
    --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
    --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
    --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
    --keycap-secondary-border: transparent;
    --keycap-secondary-border-bottom: transparent;
    --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
    --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
    --_variant-panel-background: var(--variant-panel-background, #303030);
    --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
  }
}
/* Same as the media query, but with a class */
[theme='dark'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0b5c9c);
  --_background: var(--keyboard-background, #151515);
  --_border: var(--keyboard-border, transparent);
  --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
  --keyboard-toolbar-background-hover: #303030;
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
  --_keycap-background: var(--keycap-background, #1f2022);
  --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
  --_keycap-border: var(--_keycap-border, transparent);
  --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
  --_keycap-text: var(--keycap-text, #e3e4e8);
  --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
  --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
  --keycap-secondary-border: transparent;
  --keycap-secondary-border-bottom: transparent;
  --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
  --_variant-panel-background: var(--variant-panel-background, #303030);
  --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
}
[theme='light'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--_keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--_keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_variant-panel-background: var(--variant-panel-background, #fff);
  --_variant-keycap-text: var(--variant-keycap-textvar, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
}
`,bie=`:host {
  --primary-color: #5898ff;
  --primary-color-dimmed: #c0c0f0;
  --primary-color-dark: var(--blue-500);
  --primary-color-light: var(--blue-100);
  --primary-color-reverse: #ffffff;
  --secondary-color: #ff8a65;
  --secondary-color-dimmed: #f0d5c5;
  --secondary-color-dark: var(--orange-500);
  --secondary-color-light: var(--orange-100);
  --secondary-color-reverse: #ffffff;
  --link-color: #5898ff;
  --link-color-dimmed: #c5c5c5;
  --link-color-dark: #121212;
  --link-color-light: #e2e2e2;
  --link-color-reverse: #ffffff;
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --neutral-100: #f5f5f5;
  --neutral-200: #eeeeee;
  --neutral-300: #e0e0e0;
  --neutral-400: #bdbdbd;
  --neutral-500: #9e9e9e;
  --neutral-600: #757575;
  --neutral-700: #616161;
  --neutral-800: #424242;
  --neutral-900: #212121;
  --red-25: #fff8f7;
  --red-50: #fff1ef;
  --red-100: #ffeae6;
  --red-200: #ffcac1;
  --red-300: #ffa495;
  --red-400: #ff7865;
  --red-500: #f21c0d;
  --red-600: #e50018;
  --red-700: #d30024;
  --red-800: #bd002c;
  --red-900: #a1002f;
  --orange-25: #fffbf8;
  --orange-50: #fff7f1;
  --orange-100: #fff3ea;
  --orange-200: #ffe1c9;
  --orange-300: #ffcca2;
  --orange-400: #ffb677;
  --orange-500: #fe9310;
  --orange-600: #f58700;
  --orange-700: #ea7c00;
  --orange-800: #dc6d00;
  --orange-900: #ca5b00;
  --brown-25: #fff8ef;
  --brown-50: #fff1df;
  --brown-100: #ffe9ce;
  --brown-200: #ebcca6;
  --brown-300: #cdaf8a;
  --brown-400: #af936f;
  --brown-500: #856a47;
  --brown-600: #7f5e34;
  --brown-700: #78511f;
  --brown-800: #6e4200;
  --brown-900: #593200;
  --yellow-25: #fffdf9;
  --yellow-50: #fffcf2;
  --yellow-100: #fffaec;
  --yellow-200: #fff2ce;
  --yellow-300: #ffe8ab;
  --yellow-400: #ffdf85;
  --yellow-500: #ffcf33;
  --yellow-600: #f1c000;
  --yellow-700: #dfb200;
  --yellow-800: #c9a000;
  --yellow-900: #ad8a00;
  --lime-25: #f4ffee;
  --lime-50: #e9ffdd;
  --lime-100: #ddffca;
  --lime-200: #a8fb6f;
  --lime-300: #94e659;
  --lime-400: #80d142;
  --lime-500: #63b215;
  --lime-600: #45a000;
  --lime-700: #268e00;
  --lime-800: #007417;
  --lime-900: #005321;
  --green-25: #f5fff5;
  --green-50: #ebffea;
  --green-100: #e0ffdf;
  --green-200: #a7ffa7;
  --green-300: #5afa65;
  --green-400: #45e953;
  --green-500: #17cf36;
  --green-600: #00b944;
  --green-700: #00a34a;
  --green-800: #008749;
  --green-900: #00653e;
  --teal-25: #f3ffff;
  --teal-50: #e6fffe;
  --teal-100: #d9fffe;
  --teal-200: #8dfffe;
  --teal-300: #57f4f4;
  --teal-400: #43e5e5;
  --teal-500: #17cfcf;
  --teal-600: #00c2c0;
  --teal-700: #00b5b1;
  --teal-800: #00a49e;
  --teal-900: #009087;
  --cyan-25: #f7fcff;
  --cyan-50: #eff8ff;
  --cyan-100: #e7f5ff;
  --cyan-200: #c2e6ff;
  --cyan-300: #95d5ff;
  --cyan-400: #61c4ff;
  --cyan-500: #13a7ec;
  --cyan-600: #069eda;
  --cyan-700: #0095c9;
  --cyan-800: #0088b2;
  --cyan-900: #0a7897;
  --blue-25: #f7faff;
  --blue-50: #eef5ff;
  --blue-100: #e5f1ff;
  --blue-200: #bfdbff;
  --blue-300: #92c2ff;
  --blue-400: #63a8ff;
  --blue-500: #0d80f2;
  --blue-600: #0077db;
  --blue-700: #006dc4;
  --blue-800: #0060a7;
  --blue-900: #005086;
  --indigo-25: #f8f7ff;
  --indigo-50: #f1efff;
  --indigo-100: #eae7ff;
  --indigo-200: #ccc3ff;
  --indigo-300: #ac99ff;
  --indigo-400: #916aff;
  --indigo-500: #63c;
  --indigo-600: #5a21b2;
  --indigo-700: #4e0b99;
  --indigo-800: #3b0071;
  --indigo-900: #220040;
  --purple-25: #fbf7ff;
  --purple-50: #f8f0ff;
  --purple-100: #f4e8ff;
  --purple-200: #e4c4ff;
  --purple-300: #d49aff;
  --purple-400: #c36aff;
  --purple-500: #a219e6;
  --purple-600: #9000c4;
  --purple-700: #7c009f;
  --purple-800: #600073;
  --purple-900: #3d0043;
  --magenta-25: #fff8fb;
  --magenta-50: #fff2f6;
  --magenta-100: #ffebf2;
  --magenta-200: #ffcddf;
  --magenta-300: #ffa8cb;
  --magenta-400: #ff7fb7;
  --magenta-500: #eb4799;
  --magenta-600: #da3689;
  --magenta-700: #c82179;
  --magenta-800: #b00065;
  --magenta-900: #8a004c;
}
@media (prefers-color-scheme: dark) {
  :host {
    --semantic-blue: var(--blue-700);
    --semantic-red: var(--red-400);
    --semantic-orange: var(--orange-400);
    --semantic-green: var(--green-700);
    --semantic-bg-blue: var(--blue-25);
    --semantic-bg-red: var(--red-25);
    --semantic-bg-orange: var(--orange-25);
    --semantic-bg-green: var(--green-25);
    --neutral-100: #121212;
    --neutral-200: #424242;
    --neutral-300: #616161;
    --neutral-400: #757575;
    --neutral-500: #9e9e9e;
    --neutral-600: #bdbdbd;
    --neutral-700: #e0e0e0;
    --neutral-800: #eeeeee;
    --neutral-900: #f5f5f5;
  }
}
:host([theme='dark']) {
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --semantic-bg-blue: var(--blue-25);
  --semantic-bg-red: var(--red-25);
  --semantic-bg-orange: var(--orange-25);
  --semantic-bg-green: var(--green-25);
  --neutral-100: #121212;
  --neutral-200: #424242;
  --neutral-300: #616161;
  --neutral-400: #757575;
  --neutral-500: #9e9e9e;
  --neutral-600: #bdbdbd;
  --neutral-700: #e0e0e0;
  --neutral-800: #eeeeee;
  --neutral-900: #f5f5f5;
}
/* @media (prefers-color-scheme: dark) {
  :host {
      --label-color: #fff;
      --active-label-color: #000;
      --menu-bg: #525252;
      --active-bg: #5898ff;
      --active-bg-dimmed: #5c5c5c;
  }
} */
:host {
  --ui-font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol';
  --ui-font-size: 14px;
  --ui-line-height: 1.5;
  --ui-letter-spacing: 0.007em;
  --mono-font-family: 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono',
    'Source Code Pro', Menlo, Monaco, 'Courier New', monospace;
  --ui-layer-1: var(--neutral-100);
  --ui-layer-2: var(--neutral-200);
  --ui-layer-3: var(--neutral-300);
  --ui-layer-4: var(--neutral-400);
  --ui-layer-5: var(--neutral-500);
  --ui-layer-6: var(--neutral-600);
  --ui-border-color: var(--primary-color);
  --ui-border-radius: 4px;
  --ui-text: var(--neutral-900);
  --ui-text-secondary: var(--neutral-700);
  --ui-text-placeholder: var(--neutral-500);
  --ui-text-muted: var(--neutral-300);
  /** A field is a UI element in which a user can type data, for
  * example an input or textarea element.
  */
  --ui-field-bg: var(--neutral-100);
  --ui-field-bg-hover: var(--neutral-100);
  --ui-field-bg-disabled: var(--neutral-300);
  --ui-field-bg-invalid: var(--red-100);
  --ui-field-bg-focus: var(--neutral-100);
  --ui-field-border: 0.5px solid var(--border-color);
  --ui-field-border-hover: 0.5px solid var(--border-color);
  --ui-field-border-disabled: 0.5px solid var(--border-color);
  --ui-field-border-invalid: 0.5px solid var(--border-color);
  --ui-field-border-focus: 0.5px solid var(--border-color);
  --ui-menu-bg: var(--neutral-100);
  --ui-menu-text: var(--neutral-900);
  --ui-menu-bg-hover: var(--neutral-200);
  --ui-menu-text-hover: var(--neutral-900);
  /** The \`active\` state is used for the state of menu items
  * when they are selected.
  */
  --ui-menu-bg-active: var(--primary-color);
  --ui-menu-text-active: var(--primary-color-reverse);
  /** The \`active-muted\` set is used for the state of
  * submenus when they are open.
  */
  --ui-menu-bg-active-muted: var(--neutral-300);
  --ui-menu-text-active-muted: var(--neutral-900);
  /* --ui-menu-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.302),
0 2px 6px 2px rgba(60, 64, 67, 0.149); */
  --ui-menu-shadow: 0 0 2px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 0, 0, 0.2);
  --ui-menu-divider: 0.5px solid #c7c7c7;
  /* var(--neutral-300); */
  --ui-menu-z-index: 10000;
  --page-bg: var(--neutral-100);
  --content-bg: var(--neutral-200);
}
@media (prefers-color-scheme: dark) {
  :host {
    --ui-menu-bg: var(--neutral-200);
  }
}
:host([theme='dark']) {
  --ui-menu-bg: var(--neutral-200);
}
/* PingFang SC is a macOS font. Microsoft Yahei is a Windows font. 
  Noto  is a Linux/Android font.
*/
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh) {
  --ui-font-family: -apple-system, system-ui, 'PingFang SC', 'Hiragino Sans GB',
    'Noto Sans CJK SC', 'Noto Sans SC', 'Noto Sans', 'Microsoft Yahei UI',
    'Microsoft YaHei New', 'Microsoft Yahei', '', SimSun, '',
    STXihei, '', sans-serif;
}
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans',
    'Microsoft JhengHei UI', 'Microsoft JhengHei', '', '',
    'PMingLiU', '', 'MingLiU', sans-serif;
}
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac) {
  --ui-font-family: -apple-system, system-ui, 'Hiragino Sans',
    'Hiragino Kaku Gothic ProN', 'Noto Sans CJK JP', 'Noto Sans JP', 'Noto Sans',
    '', '', YuGothic, 'Yu Gothic', '', Meiryo,
    ' ', 'MS PGothic', sans-serif;
}
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR',
    'Noto Sans', 'Malgun Gothic', ' ', 'Apple SD Gothic Neo',
    ' SD  Neo', 'Apple SD  Neo', '', Dotum, sans-serif;
}
:lang(ko-kr-apple) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR',
    'Noto Sans', 'Apple SD Gothic Neo', ' SD  Neo',
    'Apple SD  Neo', '', Dotum, sans-serif;
}
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh),
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo),
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac),
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std),
:lang(ko-kr-apple) {
  --ui-font-size: 1rem;
  --ui-line-height: 1.7;
  --ui-letter-spacing: 0;
}
:dir(rtl) {
  --ui-line-height: auto;
  --ui-letter-spacing: 0;
}
`,xie=`.ui-menu *,
.ui-menu ::before,
.ui-menu ::after {
  box-sizing: border-box;
}
.ui-menu {
  display: none;
  color-scheme: light dark;
  -webkit-user-select: none;
  /* Important: Safari iOS doesn't respect user-select */
  user-select: none;
  cursor: default;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: rgba(0 0 0 0);
  --active-label-color: #fff;
  /* ui-menu-text-active */
  --label-color: #121212;
  /* ui-menu-text */
  --menu-bg: #e2e2e2;
  /* ui-menu-background */
  --active-bg: #5898ff;
  /* ui-menu-background-active */
  --active-bg-dimmed: #c5c5c5;
  /* ui-menu-background-active-muted */
}
/** Use the :where pseudo selector to make the specificity of the
 * selector 0, so that it can be overridden by the user.
 */
:where(.ui-menu-container) {
  position: absolute;
  overflow: visible;
  width: auto;
  height: auto;
  z-index: 10000;
  border-radius: 8px;
  background: var(--ui-menu-bg);
  box-shadow: var(--ui-menu-shadow);
  list-style: none;
  padding: 6px 0 6px 0;
  margin: 0;
  user-select: none;
  cursor: default;
  color: var(--ui-menu-text);
  font-weight: normal;
  font-style: normal;
  text-shadow: none;
  text-transform: none;
  letter-spacing: 0;
  outline: none;
  opacity: 1;
  /* The [popover] elements have a 1px solid black border. Ugh. */
  border: none;
  width: fit-content;
  height: fit-content;
}
:where(.ui-menu-container > li) {
  display: flex;
  flex-flow: row;
  align-items: center;
  padding: 1px 7px 1px 7px;
  margin-top: 0;
  margin-left: 6px;
  margin-right: 6px;
  border-radius: 4px;
  white-space: nowrap;
  position: relative;
  outline: none;
  fill: currentColor;
  user-select: none;
  cursor: default;
  text-align: left;
  color: inherit;
  font-family: var(--ui-font-family);
  font-size: var(--ui-font-size);
  line-height: var(--ui-line-height);
  letter-spacing: var(--ui-letter-spacing);
}
:where(.ui-menu-container > li > .label) {
  appearance: none;
  background: none;
  outline: none;
  width: 100%;
  margin: 0;
  padding: 1px 2px 1px 1px;
  overflow: visible;
  border: 1px solid transparent;
  white-space: nowrap;
  text-align: start;
}
:where(.ui-menu-container > li:has(.heading)) {
  margin-top: 0.5em;
}
:where(.ui-menu-container > li > .label.heading) {
  font-weight: bold;
  opacity: 0.4;
}
:where(.ui-menu-container > li.indent > .label) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li > .label.indent) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li[role='divider']) {
  border-bottom: 1px solid var(--ui-menu-divider);
  border-radius: 0;
  padding: 0;
  margin-left: 15px;
  margin-right: 15px;
  padding-top: 5px;
  margin-bottom: 5px;
  width: calc(100% - 30px);
  /** 100% - (margin-left + margin-right) */
}
:where(.ui-menu-container > li[aria-disabled='true']) {
  opacity: 0.5;
}
:where(.ui-menu-container > li.active) {
  background: var(--ui-menu-bg-active);
  background: -apple-system-control-accent;
  color: var(--ui-menu-text-active);
}
:where(.ui-menu-container > li.active.is-submenu-open) {
  background: var(--ui-menu-bg-active-muted);
  color: inherit;
}
:where(.ui-menu-container > li[aria-haspopup='true'] > .label) {
  padding-inline-end: 0;
}
:where(.ui-menu-container > li[aria-haspopup='true'].active::after) {
  color: var(--ui-menu-text-active);
}
/** Keyboard shortcut */
:where(.ui-menu-container > li > kbd) {
  font-family: var(--ui-font-family);
  margin-inline-start: 12px;
  opacity: 0.4;
}
:where(.ui-menu-container > li.active > kbd) {
  opacity: 0.85;
}
.ui-trailing-chevron {
  display: flex;
  margin-inline-start: 24px;
  width: 10px;
  height: 10px;
  margin-bottom: 4px;
}
.ui-trailing-chevron:dir(rtl) {
  transform: scaleX(-1);
}
.ui-checkmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
.ui-mixedmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
`,ih;function fh(t){let e="";switch(t){case"mathfield-element":e=`
    :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px; padding:4px;}
    :host([hidden]) { display: none; }
    :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }
    :host(:focus), :host(:focus-within) {
      outline: Highlight auto 1px;    /* For Firefox */
      outline: -webkit-focus-ring-color auto 1px;
    }
    :host([readonly]:focus), :host([readonly]:focus-within),
    :host([read-only]:focus), :host([read-only]:focus-within) {
      outline: none;
    }
    @media (hover: none) and (pointer: coarse) {
      :host(:not(:focus)) :first-child { pointer-events: none !important; }
    }`;break;case"core":e=pie;break;case"mathfield":e=fie;break;case"environment-popover":e=mie;break;case"suggestion-popover":e=gie;break;case"keystroke-caption":e=yie;break;case"virtual-keyboard":e=vie;break;case"ui":e=bie;break;case"menu":e=xie;break}return e}function Bp(t){return ih||(ih={}),ih[t]||(ih[t]=new CSSStyleSheet,ih[t].replaceSync(fh(t))),ih[t]}var cc;function kc(t){var e;if(!("adoptedStyleSheets"in document)){if(window.document.getElementById(`mathlive-style-${t}`))return;let n=window.document.createElement("style");n.id=`mathlive-style-${t}`,n.append(window.document.createTextNode(fh(t))),window.document.head.appendChild(n);return}if(cc||(cc={}),((e=cc[t])!=null?e:0)!==0)cc[t]+=1;else{let n=Bp(t);document.adoptedStyleSheets=[...document.adoptedStyleSheets,n],cc[t]=1}}function nd(t){if("adoptedStyleSheets"in document&&cc!=null&&cc[t]&&(cc[t]-=1,cc[t]<=0)){let e=ih[t];document.adoptedStyleSheets=document.adoptedStyleSheets.filter(n=>n!==e)}}var R3=class _$ extends Pe{constructor(e){var n;super(we(oe({},e),{type:"accent",body:(n=e.body)!=null?n:void 0})),e.accentChar?this.accent=e.accentChar:this.svgAccent=e==null?void 0:e.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(e){return new _$(e)}toJson(){return we(oe({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(e){var n;let r=new an({parent:e,mathstyle:"cramp"},this.style),i=(n=Pe.createBox(r,this.body))!=null?n:new Ye("",{style:this.style}),o=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(o=i.skew);let s=Math.min(i.height,Xu),a;if(this.svgAccent)a=x_(this.svgAccent),s=r.metrics.bigOpSpacing1-s;else if(this.accent){let c=new Ye(this.accent,{fontFamily:"Main-Regular"});c.italic=0;let u=this.accent===8407?" ML__accent-vec":"";a=new Ye(new Ye(c),{classes:"ML__accent-body"+u})}a=new Hr({shift:0,children:[{box:new Ye(i)},-s,{box:a,marginLeft:i.left+2*o,classes:["ML__center"]}]});let l=new Ye(a,{type:"lift"});return this.caret&&(l.caret=this.caret),this.bind(r,l.wrap(r)),this.attachSupsub(r,{base:l})}},B3={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},Dw=Object.fromEntries(Object.entries(B3).map(([t,e])=>[e,t]));function P3(t){var e;return(e={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"":8739,"":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[t])!=null?e:t.codePointAt(0)}function _ie(t,e,n,r){var i;let o=new Ye(P3(t),{fontFamily:"Main-Regular",isSelected:r.isSelected,classes:"ML__small-delim "+((i=r.classes)!=null?i:"")}).wrap(e);return n&&o.setTop((1-e.scalingFactor)*Ba),o}function w$(t,e,n,r,i){var o,s;let a=new an({parent:r,mathstyle:"textstyle"},i==null?void 0:i.style),l=new Ye(P3(t),{fontFamily:`Size${e}-Regular`,isSelected:i.isSelected,classes:((o=i.classes)!=null?o:"")+` ML__delim-size${e}`,type:(s=i.type)!=null?s:"ignore"}).wrap(a);return n&&l.setTop((1-a.scalingFactor)*Ba),l}function S$(t,e,n,r,i){var o;let s,a,l,c;s=l=c=P3(t),a=null;let u="Size1-Regular";t==="\\vert"||t==="\\lvert"||t==="\\rvert"||t==="\\mvert"||t==="\\mid"?l=s=c=8739:t==="\\Vert"||t==="\\lVert"||t==="\\rVert"||t==="\\mVert"||t==="\\|"?l=s=c=8741:t==="\\uparrow"?l=c=9168:t==="\\Uparrow"?l=c=8214:t==="\\downarrow"?s=l=9168:t==="\\Downarrow"?s=l=8214:t==="\\updownarrow"?(s=8593,l=9168,c=8595):t==="\\Updownarrow"?(s=8657,l=8214,c=8659):t==="["||t==="\\lbrack"?(s=9121,l=9122,c=9123,u="Size4-Regular"):t==="]"||t==="\\rbrack"?(s=9124,l=9125,c=9126,u="Size4-Regular"):t==="\\lfloor"||t===""?(l=s=9122,c=9123,u="Size4-Regular"):t==="\\lceil"||t===""?(s=9121,l=c=9122,u="Size4-Regular"):t==="\\rfloor"||t===""?(l=s=9125,c=9126,u="Size4-Regular"):t==="\\rceil"||t===""?(s=9124,l=c=9125,u="Size4-Regular"):t==="("||t==="\\lparen"?(s=9115,l=9116,c=9117,u="Size4-Regular"):t===")"||t==="\\rparen"?(s=9118,l=9119,c=9120,u="Size4-Regular"):t==="\\{"||t==="\\lbrace"?(s=9127,a=9128,c=9129,l=9130,u="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(s=9131,a=9132,c=9133,l=9130,u="Size4-Regular"):t==="\\lgroup"||t===""?(s=9127,c=9129,l=9130,u="Size4-Regular"):t==="\\rgroup"||t===""?(s=9131,c=9133,l=9130,u="Size4-Regular"):t==="\\lmoustache"||t===""?(s=9127,c=9133,l=9130,u="Size4-Regular"):t==="\\rmoustache"||t===""?(s=9131,c=9129,l=9130,u="Size4-Regular"):t==="\\surd"?(s=57345,c=9143,l=57344,u="Size4-Regular"):t==="\\ulcorner"?(s=9484,l=c=32):t==="\\urcorner"?(s=9488,l=c=32):t==="\\llcorner"?(c=9492,l=s=32):t==="\\lrcorner"&&(s=9496,l=s=32);let d=Zp(s,u),h=d.height+d.depth,f=Zp(l,u),p=f.height+f.depth,v=Zp(c,u),b=v.height+v.depth,y=0,x=1;if(a!==null){let H=Zp(a,u);y=H.height+H.depth,x=2}let w=h+b+y,A=Math.max(0,Math.ceil((e-w)/(x*p))),D=w+A*x*p,k=Ba;n&&(k=k*r.scalingFactor);let R=D/2-k,L=.008,T=[];T.push({box:new Ye(c,{fontFamily:u})}),T.push(-L);let C=new Ye(l,{fontFamily:u});if(a===null)for(let H=0;H<A;H++)T.push({box:C});else{for(let H=0;H<A;H++)T.push({box:C});T.push(-L),T.push({box:new Ye(a,{fontFamily:u})}),T.push(-L);for(let H=0;H<A;H++)T.push({box:C})}T.push(-L),T.push({box:new Ye(s,{fontFamily:u})});let P="";u==="Size1-Regular"?P=" delim-size1":u==="Size4-Regular"&&(P=" delim-size4");let z=new Hr({bottom:R,children:T},{classes:P});return new Ye(z,we(oe({},i??{}),{classes:((o=i==null?void 0:i.classes)!=null?o:"")+" ML__delim-mult"}))}var A$=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","","","",""]),wie=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","","","",""]),C$=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),Sie=[0,1.2,1.8,2.4,3];function Aie(t,e,n,r){return t===void 0||t==="."?ef(n,r.classes):(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),A$.has(t)||C$.has(t)?w$(t,e,!1,n,r):wie.has(t)?S$(t,Sie[e],!1,n,r):null)}var Cie=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Mie=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],Eie=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function kie(t){return t.type==="small"?"Main-Regular":t.type==="large"?"Size"+t.size+"-Regular":(t.type,"Size4-Regular")}function Tie(t,e,n,r){let i={"-4":0,"-3":1,0:2}[r.mathstyle.sizeDelta];for(let o=i;o<n.length&&n[o].type!=="stack";o++){let s=Zp(t,kie(n[o]));if(s.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let a=s.height+s.depth;if(n[o].type==="small"&&(n[o].mathstyle==="scriptscriptstyle"?a*=Math.max(b5[Math.max(1,r.size-2)],r.minFontScale):n[o].mathstyle==="scriptstyle"&&(a*=Math.max(b5[Math.max(1,r.size-1)],r.minFontScale))),a>e)return n[o]}return n[n.length-1]}function Lw(t,e,n,r,i,o){if(!e||e.length===0||e===".")return ef(i);e==="<"||e==="\\lt"?e="\\langle":(e===">"||e==="\\gt")&&(e="\\rangle");let s;C$.has(e)?s=Cie:A$.has(e)?s=Eie:s=Mie;let a=Tie(P3(e),n,s,i),l=new an({parent:i,mathstyle:a.mathstyle},o==null?void 0:o.style);return a.type==="small"?_ie(e,l,r,we(oe({},o),{type:t})):a.type==="large"?w$(e,a.size,r,l,we(oe({},o),{type:t})):(a.type,S$(e,n,r,l,we(oe({},o),{type:t})))}function g1(t,e,n,r,i,o){if(e===".")return ef(i,o==null?void 0:o.classes);let s=Ba*i.scalingFactor,a=901,l=5/Xm,c=Math.max(n-s,r+s),u=Math.max(c/500*a,2*c-l);return Lw(t,e,u,!0,i,o)}function ef(t,e){let n=new Ye(null,{classes:" ML__nulldelimiter "+(e??""),type:"ignore"});return n.width=t.getRegisterAsEm("nulldelimiterspace"),n.wrap(new an({parent:t,mathstyle:"textstyle"}))}var Oa=class M$ extends Pe{constructor(e){var n;super({type:"placeholder",command:"\\placeholder",mode:(n=e==null?void 0:e.mode)!=null?n:"math",style:e==null?void 0:e.style}),this.captureSelection=!0}static fromJson(e){return new M$(e)}toJson(){return super.toJson()}render(e){let n;return this.value=e.placeholderSymbol,typeof e.renderPlaceholder=="function"?n=e.renderPlaceholder(e):n=this.createBox(e),this.caret&&(n.classes+=" ML__placeholder-selected"),n}_serialize(e){return e.skipPlaceholders?"":"\\placeholder{}"}},E$=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],k$=["cases","dcases","rcases"],T$=["align","align*","aligned","gather","gather*","gathered","split"],Die=["array","subequations","eqnarray"];function Lie(t){return Die.concat(T$).concat(k$).concat(E$).includes(t)}function D$(t){return E$.includes(t)}function Rie(t){return k$.includes(t)}function Bie(t){return T$.includes(t)}function Pie(t,e,n){let r=0;for(let c of n)"align"in c&&(r+=1);let i=0,o=[];for(let c of e){let u=0;for(i=Math.max(i,Math.min(c.length,r));u<c.length;){let d=[],h=Math.min(c.length,u+r);for(;u<h;){let f=c[u];f.length===0?d.push([new Pe({type:"first",mode:t.mode})]):f[0].type!=="first"?d.push([new Pe({type:"first",mode:t.mode}),...f]):(f.slice(1).some(p=>p.type==="first"),d.push(f)),u+=1}o.push(d)}}o.length>0&&o[o.length-1].length===1&&o[o.length-1][0].length===1&&o[o.length-1][0][0].type==="first"&&o.pop();let s=[];for(let c of o){if(c.length!==i)for(let u=c.length;u<i;u++)c.push([new Pe({type:"first",mode:t.mode}),new Oa]);s.push(c)}let a=0,l=0;for(let c of s){l=0;for(let u of c){for(let d of u)d.parent=t,d.parentBranch=[a,l];l+=1}a+=1}return t.isDirty=!0,s}var An=class L$ extends Pe{constructor(e,n,r,i={}){var o;super({type:"array"}),this.environmentName=e,this.rowGaps=r,i.mathstyleName&&(this.mathstyleName=i.mathstyleName),i.columns&&(i.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=i.columns),this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]),this.array=Pie(this,n,this.colFormat),i.leftDelim&&(this.leftDelim=i.leftDelim),i.rightDelim&&(this.rightDelim=i.rightDelim),i.arraycolsep!==void 0&&(this.arraycolsep=i.arraycolsep),this.colSeparationType=i.colSeparationType,i.arraystretch!==void 0&&(this.arraystretch=i.arraystretch),this.minColumns=(o=i.minColumns)!=null?o:1}static fromJson(e){return new L$(e.environmentName,e.array,e.rowGaps,e)}toJson(){let e=we(oe({},super.toJson()),{environmentName:this.environmentName,array:this.array.map(n=>n.map(r=>r.map(i=>i.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType});return this.arraystretch!==void 0&&(e.arraystretch=this.arraystretch),this.arraycolsep!==void 0&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}branch(e){var n;if(kw(e))return(n=this.array[e[0]][e[1]])!=null?n:void 0}createBranch(e){var n;return kw(e)?(this.isDirty=!0,(n=this.branch(e))!=null?n:[]):[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}get maxColumns(){return this.colFormat.filter(e=>!!e.align).length}removeBranch(e){if(rh(e))return super.removeBranch(e);let n=this.branch(e);return this.array[e[0]][e[1]]=void 0,n.forEach(r=>{r.parent=void 0,r.parentBranch=void 0}),n[0].type,n.shift(),this.isDirty=!0,n}get hasChildren(){return this.children.length>0}get children(){let e=[];for(let n of this.array)for(let r of n)if(r)for(let i of r)e.push(...i.children),e.push(i);return[...e,...super.children]}render(e){var n,r,i,o,s,a;let l=new an({parent:e,mathstyle:this.mathstyleName},this.style),c=l.getRegisterAsEm("arrayrulewidth"),u=l.getRegisterAsEm("arraycolsep"),d=l.getRegisterAsEm("doublerulesep"),h=(r=(n=this.arraystretch)!=null?n:l.getRegisterAsNumber("arraystretch"))!=null?r:1,f=typeof this.arraycolsep=="number"?this.arraycolsep:u;this.colSeparationType==="small"&&(f=.2778*(new an({parent:e,mathstyle:"scriptstyle"}).scalingFactor/e.scalingFactor));let p=h*Nre,v=.7*p,b=.3*p,y=0,x=[],w=0,A=this.array.length;for(let K=0;K<A;++K){let O=this.array[K];w=Math.max(w,O.length);let V=new an({parent:l,mathstyle:this.mathstyleName},this.style),I=v/V.scalingFactor,se=b/V.scalingFactor,ye={cells:[],height:0,depth:0,pos:0};for(let ae of O){let _e=(i=Pe.createBox(V,ae,{type:"ignore"}))!=null?i:new Ye(null,{type:"ignore"});se=Math.max(se,_e.depth),I=Math.max(I,_e.height),ye.cells.push(_e)}let G=(o=c$(this.rowGaps[K]))!=null?o:0;G>0&&(G+=b,se=Math.max(se,G),G=0),K<A-1&&!D$(this.environmentName)&&this.environmentName!=="cases"&&this.environmentName!=="array"&&(se+=l.getRegisterAsEm("jot")),ye.height=I,ye.depth=se,y+=I,ye.pos=y,y+=se+G,x.push(ye)}let D=y/2+Ba,k=[];for(let K=0;K<w;K++){let O=[];for(let V of x){let I=V.cells[K];I.depth=V.depth,I.height=V.height,O.push({box:I,shift:V.pos-D})}O.length>0&&k.push(new Hr({individualShift:O}))}let R=[],L=!1,T=!1,C=0,P=!this.leftDelim,{colFormat:z}=this;for(let K of z){if("align"in K&&C>=k.length)break;if("align"in K)L?R.push(Bx(2*f)):(T||P)&&R.push(Bx(f)),R.push(new Ye(k[C],{classes:"col-align-"+K.align})),C++,L=!0,T=!1,P=!1;else if("gap"in K){if(typeof K.gap=="number")R.push(Bx(K.gap));else{let O=Nie(e,x,D,K.gap);O&&R.push(O)}L=!1,T=!1,P=!1}else if("separator"in K){let O=new Ye(null,{classes:"ML__vertical-separator"});O.height=y,O.setStyle("height",y,"em"),O.setStyle("border-right",`${c}em ${K.separator} currentColor`),O.setStyle("vertical-align",-(y-D),"em");let V=0;T?V=d-c:L&&(V=f-c),O.left=V,R.push(O),L=!1,T=!0,P=!1}}L&&!this.rightDelim&&R.push(Bx(f));let H=new Ye(R,{classes:"ML__mtable"});if((!this.leftDelim||this.leftDelim===".")&&(!this.rightDelim||this.rightDelim==="."))return this.caret&&(H.caret=this.caret),this.bind(e,H);let $=H.height,X=H.depth,Z=this.bind(e,new Ye([this.bind(e,g1("open",(s=this.leftDelim)!=null?s:".",$,X,l,{isSelected:this.isSelected})),H,this.bind(e,g1("close",(a=this.rightDelim)!=null?a:".",$,X,l,{isSelected:this.isSelected}))],{type:"ord"}));return Z?(Z.setStyle("display","inline-block"),this.caret&&(Z.caret=this.caret),this.bind(e,this.attachSupsub(e,{base:Z}))):null}_serialize(e){var n;let r=[];if(this.environmentName==="lines"?r.push("{\\displaylines"):r.push(`\\begin{${this.environmentName}}`),this.environmentName==="array"){if(r.push("{"),this.colFormat!==void 0)for(let i of this.colFormat)"align"in i&&typeof i.align=="string"?r.push(i.align):"separator"in i&&i.separator==="solid"?r.push("|"):"separator"in i&&i.separator==="dashed"&&r.push(":");r.push("}")}for(let i=0;i<this.array.length;i++){for(let o=0;o<this.array[i].length;o++)o>0&&r.push(" & "),r.push(Pe.serialize(this.array[i][o],e));if(i<this.array.length-1){let o=this.rowGaps[i];o!=null&&o.dimension?r.push(`\\\\[${o.dimension} ${(n=o.unit)!=null?n:"pt"}] `):r.push("\\\\ ")}}return this.environmentName==="lines"?r.push("}"):r.push(`\\end{${this.environmentName}}`),ln(r)}getCell(e,n){return this.array[e][n]}setCell(e,n,r){this.type==="array"&&Array.isArray(this.array)&&this.array[e][n];for(let o of this.array[e][n])o.parent=void 0,o.parentBranch=void 0;let i=r;(r.length===0||r[0].type!=="first")&&(i=[new Pe({type:"first",mode:this.mode}),...r]),this.array[e][n]=i;for(let o of i)o.parent=this,o.parentBranch=[e,n];this.isDirty=!0}addRowBefore(e){this.type==="array"&&Array.isArray(this.array);let n=[];for(let r=0;r<this.colCount;r++)n.push(Rx(this));this.array.splice(e,0,n);for(let r=e;r<this.rowCount;r++)for(let i=0;i<this.colCount;i++){let o=this.array[r][i];if(o)for(let s of o)s.parentBranch=[r,i]}this.isDirty=!0}addRowAfter(e){this.type==="array"&&Array.isArray(this.array);let n=[];for(let r=0;r<this.colCount;r++)n.push(Rx(this));this.array.splice(e+1,0,n);for(let r=e+1;r<this.rowCount;r++)for(let i=0;i<this.colCount;i++){let o=this.array[r][i];if(o)for(let s of o)s.parentBranch=[r,i]}this.isDirty=!0}removeRow(e){this.type==="array"&&Array.isArray(this.array)&&this.rowCount>e;let n=this.array.splice(e,1);for(let r of n)for(let i of r)if(i)for(let o of i)o.parent=void 0,o.parentBranch=void 0;for(let r=e;r<this.rowCount;r++)for(let i=0;i<this.colCount;i++){let o=this.array[r][i];if(o)for(let s of o)s.parentBranch=[r,i]}this.isDirty=!0}addColumnBefore(e){this.type==="array"&&Array.isArray(this.array);for(let n of this.array)n.splice(e,0,Rx(this));for(let n=0;n<this.rowCount;n++)for(let r=e;r<this.colCount;r++){let i=this.array[n][r];if(i)for(let o of i)o.parentBranch=[n,r]}this.isDirty=!0}addColumnAfter(e){this.type==="array"&&Array.isArray(this.array);for(let n of this.array)n.splice(e+1,0,Rx(this));for(let n=0;n<this.rowCount;n++)for(let r=e+1;r<this.colCount;r++){let i=this.array[n][r];if(i)for(let o of i)o.parentBranch=[n,r]}this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(e){this.type==="array"&&Array.isArray(this.array)&&this.colCount>e;for(let n of this.array){let r=n.splice(e,1);for(let i of r)if(i)for(let o of i)o.parent=void 0,o.parentBranch=void 0}for(let n=0;n<this.rowCount;n++)for(let r=e;r<this.colCount;r++){let i=this.array[n][r];if(i)for(let o of i)o.parentBranch=[n,r]}this.isDirty=!0}get cells(){let e=[];for(let n of this.array)for(let r of n)r&&e.push(r.filter(i=>i.type!=="first"));return e}};function Rx(t){let e=new Pe({type:"first",mode:t.mode});e.parent=t;let n=new Oa;return n.parent=t,[e,n]}function Bx(t){let e=new Ye(null,{classes:"ML__arraycolsep"});return e.width=t,e}function Nie(t,e,n,r){if(!r)return null;let i=[];for(let o of e){let s=Pe.createBox(t,r,{type:"ignore"});s&&(s.depth=o.depth,s.height=o.height,i.push({box:s,shift:o.pos-n}))}return new Hr({individualShift:i}).wrap(t)}var rd=class R$ extends Pe{constructor(e){super({mode:e.mode,command:e.command,style:e.style,body:e.body,type:"box"}),this.framecolor=e.framecolor,this.backgroundcolor=e.backgroundcolor,this.padding=e.padding,this.offset=e.offset,this.border=e.border}static fromJson(e){return new R$(e)}toJson(){return we(oe({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(e){var n,r,i,o;let s=Pe.createBox(e,this.body,{type:"lift"});if(!s)return null;let a=e.toEm((n=this.offset)!=null?n:{dimension:0});s.depth+=a,s.setStyle("display","inline-block"),s.setStyle("position","relative"),s.setStyle("height",Math.floor(100*s.height+s.depth)/100,"em"),s.setStyle("vertical-align",-Math.floor(100*s.height)/100,"em");let l=new an({parent:e},this.style),c=l.toEm((r=this.padding)!=null?r:{register:"fboxsep"}),u=new Ye(null,{classes:"ML__box"});u.height=s.height+c,u.depth=s.depth+c,u.setStyle("box-sizing","border-box"),u.setStyle("position","absolute"),u.setStyle("top",-c+.3,"em"),u.setStyle("left",0),u.setStyle("height",u.height+u.depth,"em"),u.setStyle("width","100%"),this.backgroundcolor&&u.setStyle("background-color",(i=l.toColor(this.backgroundcolor))!=null?i:"transparent"),this.framecolor&&u.setStyle("border",`${l.getRegisterAsEm("fboxrule",2)}em solid ${(o=l.toColor(this.framecolor))!=null?o:"black"}`),this.border&&u.setStyle("border",this.border);let d=new Ye([u,s],{type:"lift"});return d.setStyle("display","inline-block"),d.setStyle("position","relative"),d.setStyle("line-height",0),d.height=s.height+c+(a>0?a:0),d.depth=s.depth+c+(a<0?-a:0),d.setStyle("padding-left",c,"em"),d.setStyle("padding-right",c,"em"),d.setStyle("height",Math.floor(100*(s.height+s.depth+2*c+Math.abs(a)))/100,"em"),d.setStyle("margin-top",-c,"em"),d.setStyle("top",Math.floor(100*(s.depth-s.height+2*c-a))/100,"em"),d.setStyle("vertical-align",Math.floor(100*(s.depth+2*c))/100,"em"),this.caret&&(d.caret=this.caret),this.attachSupsub(e,{base:d})}_serialize(e){return e.skipStyles?ln([this.bodyToLatex(e),this.supsubToLatex(e)]):super._serialize(e)}},B$=class P$ extends Pe{constructor(e,n){var r;super({type:"composition",mode:(r=n==null?void 0:n.mode)!=null?r:"math",value:e})}static fromJson(e){return new P$(e.value,e)}toJson(){return super.toJson()}get computedStyle(){return{}}render(e){let n=new Ye(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,n),this.caret&&(n.caret=this.caret),n}_serialize(e){return""}},oh=class N$ extends Pe{constructor(e){super({type:"error",value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(e){return new N$(e.command)}toJson(){return super.toJson()}render(e){let n=this.createBox(e,{classes:"ML__error"});return this.caret&&(n.caret=this.caret),n}},I$=class O$ extends Pe{constructor(e,n,r){super({type:"group",mode:n,style:r}),this.body=e,this.boxType=e.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,e&&e.length===1&&e[0].command===","&&(this.captureSelection=!0)}static fromJson(e){return new O$(e.body,e.mode,e.style)}render(e){let n=Pe.createBox(e,this.body,{type:this.boxType});return n?(this.caret&&(n.caret=this.caret),this.bind(e,n)):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Pi(this.command,this.mode);return n!=null&&n.serialize?n.serialize(this,e):`{${this.bodyToLatex(e)}}`}},sr=class F$ extends Pe{constructor(e,n,r){super({type:"leftright",style:r.style,displayContainsHighlight:!0}),this.variant=e,this.body=n,this.leftDelim=r.leftDelim,this.rightDelim=r.rightDelim}static fromJson(e){var n;return new F$((n=e.variant)!=null?n:"",e.body,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}_serialize(e){var n,r;let i=this.matchingRightDelim();return this.variant==="left...right"?ln(["\\left",(n=this.leftDelim)!=null?n:".",this.bodyToLatex(e),"\\right",i]):this.variant==="mleft...mright"?ln(["\\mleft",(r=this.leftDelim)!=null?r:".",this.bodyToLatex(e),"\\mright",i]):ln([!this.leftDelim||this.leftDelim==="."?"":this.leftDelim,this.bodyToLatex(e),i])}matchingRightDelim(){var e,n;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;let r=(e=this.leftDelim)!=null?e:".";return(n=B3[r])!=null?n:r}render(e){var n,r;let i=new an({parent:e},this.style);this.body;let o=new an({parent:e,mathstyle:"textstyle"},this.style),s=(n=Pe.createBox(i,this.body,{type:"inner"}))!=null?n:new Ye(null,{type:"inner"}),a=s.height/o.scalingFactor,l=s.depth/o.scalingFactor,c=[];if(this.leftDelim&&c.push(this.bind(o,g1("open",this.leftDelim,a,l,o,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),s&&(z$(s.children,this,i,a,l),c.push(s)),this.rightDelim){let f=this.containsCaret?" ML__contains-caret":"",p=this.rightDelim;p==="?"&&(i.smartFence?(p=this.matchingRightDelim(),f+=" ML__smart-fence__close"):p="."),c.push(this.bind(o,g1("close",p,a,l,o,{isSelected:this.isSelected,classes:f+" ML__close",mode:this.mode,style:this.style})))}let u=this.variant==="mleft...mright",d=this.leftSibling;d&&(!u&&d.isFunction&&(u=!0),!u&&d.type==="subsup"&&(r=d.leftSibling)!=null&&r.isFunction&&(u=!0));let h=new Ye(c,{type:u?"close":"inner",classes:"ML__left-right"});return h.setStyle("margin-top",`${-s.depth}em`),h.setStyle("height",`${s.height+s.depth}em`),this.caret&&(h.caret=this.caret),this.bind(i,h.wrap(i))}};function z$(t,e,n,r,i){if(t)for(let o=0;o<t.length;o++){let s=t[o];s.type==="middle"?(t[o]=e.bind(n,g1("inner",s.value,r,i,n,{isSelected:e.isSelected})),t[o].caret=s.caret,t[o].isSelected=s.isSelected,t[o].cssId=s.cssId,t[o].htmlData=s.htmlData,t[o].htmlStyle=s.htmlStyle,t[o].attributes=s.attributes,t[o].cssProperties=s.cssProperties):s.children&&z$(s.children,e,n,r,i)}}var U$=class j$ extends Pe{constructor(e,n){var r;super({type:"macro",command:e,style:n.style}),this.body=n.body,n.captureSelection===void 0?n.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=n.captureSelection,this.macroArgs=n.args,this.expand=(r=n.expand)!=null?r:!1}static fromJson(e){return new j$(e.command,e)}toJson(){let e=super.toJson();return this.expand&&(e.expand=!0),this.captureSelection!==void 0&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}_serialize(e){var n;return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+((n=this.macroArgs)!=null?n:"")}render(e){let n=Pe.createBox(e,this.body);return n?(this.caret&&(n.caret=this.caret),this.bind(e,n)):null}},Iie=class H$ extends Pe{constructor(){super({type:"macro-argument"})}static fromJson(e){return new H$}toJson(){return super.toJson()}_serialize(e){return""}render(e){return null}},$$=class G$ extends Pe{constructor(e,n,r=!1,i,o){var s;super({type:"prompt",mode:(s=o==null?void 0:o.mode)!=null?s:"math",style:o==null?void 0:o.style,command:"\\placeholder"}),this.body=i,this.correctness=n,this.placeholderId=e,this.locked=r,this.captureSelection=this.locked}static fromJson(e){return new G$(e.placeholderId,e.correctness,e.locked,e.body,e)}toJson(){let e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.body||delete e.body,this.body&&(e.body=this.body.filter(n=>n.type!=="first").map(n=>n.toJson())),this.correctness&&(e.correctness=this.correctness),e.locked=this.locked,e}render(e){let n=new an({parent:e}),r=n.getRegisterAsEm("fboxsep"),i=r,o=r,s=Pe.createBox(e,this.body);if(!s)return null;s.height||(s.height=n.metrics.xHeight),s.setStyle("vertical-align",-s.height,"em"),this.correctness==="correct"?s.setStyle("color","var(--correct-color, var(--ML__correct-color))"):this.correctness==="incorrect"&&s.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let a=new Ye(s,{type:"ord"});a.setStyle("display","inline-block"),a.setStyle("height",s.height+s.depth,"em"),a.setStyle("vertical-align",-o,"em");let l="ML__prompt ";this.locked?l+=" ML__lockedPromptBox ":l+=" ML__editablePromptBox ",this.correctness==="correct"?l+=" ML__correctPromptBox ":this.correctness==="incorrect"&&(l+=" ML__incorrectPromptBox "),this.containsCaret&&(l+=" ML__focusedPromptBox ");let c=new Ye(null,{classes:l,attributes:{part:"prompt"}});c.height=a.height+o,c.depth=a.depth+o,c.width=a.width+2*i,c.setStyle("box-sizing","border-box"),c.setStyle("position","absolute"),c.setStyle("height",a.height+a.depth+2*o,"em"),i===0&&c.setStyle("width","100%"),i!==0&&(c.setStyle("width",`calc(100% + ${2*i}em)`),c.setStyle("top",r,"em"),c.setStyle("left",-i,"em")),(!this.body||this.body.length===1)&&(c.width=3*i,c.setStyle("width",`calc(100% + ${3*i}em)`),c.setStyle("left",-1.5*i,"em"));let u="";this.correctness==="incorrect"&&(u+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),u&&(c.svgOverlay=u);let d=new Ye([c,a],{classes:"ML__prompt-atom"});return a.setStyle("line-height",1),d.setStyle("position","relative"),d.setStyle("display","inline-block"),d.setStyle("line-height",0),d.height=a.height+o+.2,d.depth=a.depth+o,d.left=i,d.right=i,d.setStyle("height",a.height+o,"em"),d.setStyle("top",a.depth-a.height,"em"),d.setStyle("vertical-align",a.depth+o,"em"),d.setStyle("margin-left",.5,"em"),d.setStyle("margin-right",.5,"em"),this.caret&&(d.caret=this.caret),this.bind(n,this.attachSupsub(e,{base:d}))}_serialize(e){var n;let r=(n=this.bodyToLatex(e))!=null?n:"";if(e.skipPlaceholders)return r;let i="\\placeholder";return this.placeholderId&&(i+=`[${this.placeholderId}]`),this.correctness==="correct"?i+="[correct]":this.correctness==="incorrect"&&(i+="[incorrect]"),this.locked&&(i+="[locked]"),Vn(i,r)}},N3=class V$ extends Pe{constructor(e){super({type:"subsup",style:e==null?void 0:e.style}),this.subsupPlacement="auto"}static fromJson(e){let n=new V$(e);for(let r of Jm)e[r]&&n.setChildren(e[r],r);return n}render(e){var n;let r=new an({parent:e,isPhantom:!0}),i=this.leftSibling,o=(n=i.render(r))!=null?n:new Ye(null),s=new Ye(null);return s.height=o.height,s.depth=o.depth,this.attachSupsub(e,{base:s,isCharacterBox:i.isCharacterBox(),type:"ignore"})}_serialize(e){return this.supsubToLatex(e)}};function Yf(t){return t?!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(t):!1}var q$=class{constructor(t,e,n){this.errors=[],this.index=0,this.endCount=0;var r,i,o,s;n!=null||(n={}),this.tokens=t,this.context=e instanceof an&&!(n!=null&&n.parseMode)&&!n.mathstyle?e:new an({from:e,mathstyle:n.mathstyle},n.style),this.args=(r=n.args)!=null?r:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:(i=n.style)!=null?i:{},parseMode:(o=n.parseMode)!=null?o:"math",mathstyle:(s=n.mathstyle)!=null?s:"displaystyle",tabular:!1}}beginContext(t){var e,n,r;let i=this.parsingContext,o={parent:i,mathlist:[],style:oe({},i.style),parseMode:(e=t==null?void 0:t.mode)!=null?e:i.parseMode,mathstyle:(n=t==null?void 0:t.mathstyle)!=null?n:i.mathstyle,tabular:(r=t==null?void 0:t.tabular)!=null?r:!1};this.parsingContext=o}endContext(){this.parsingContext=this.parsingContext.parent}onError(t){this.errors.push(oe({before:Rd(this.tokens.slice(this.index,this.index+10)),after:Rd(this.tokens.slice(Math.max(0,this.index-10),this.index))},t))}get mathlist(){return this.parsingContext.mathlist}set mathlist(t){this.parsingContext.mathlist=t}get parseMode(){return this.parsingContext.parseMode}set parseMode(t){this.parsingContext.parseMode=t}get tabularMode(){return this.parsingContext.tabular}get style(){let t=this.parsingContext;for(;t;){if(t.style)return oe({},t.style);t=t.parent}return{}}set style(t){this.parsingContext.style=t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}expandUnicode(){if(!this.peek()||this.parseMode!=="math")return;let t=Cre(this.peek());t&&this.tokens.splice(this.index,1,...m1(t))}match(t){return this.tokens[this.index]===t?(this.index++,!0):!1}lastSubsupAtom(){let t;return this.mathlist.length>0&&(t=this.mathlist[this.mathlist.length-1],t.type==="subsup"||t.subsupPlacement!==void 0)||(t=new N3({style:this.style}),this.mathlist.push(t)),t}hasPattern(t){return t.test(this.tokens[this.index])}hasInfixCommand(){var t;let{index:e}=this;if(e<this.tokens.length&&this.tokens[e].startsWith("\\")){let n=Pi(this.tokens[e],this.parseMode);return!n||n.definitionType==="symbol"||n.ifMode&&!n.ifMode.includes(this.parseMode)?!1:(t=n.infix)!=null?t:!1}return!1}matchColumnSeparator(){return!this.tabularMode||this.peek()!=="&"?!1:(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let t=this.peek();return t!=="\\\\"&&t!=="\\cr"&&t!=="\\tabularnewline"?!1:(this.index++,!0)}placeholder(){var t;let e=(t=this.args)==null?void 0:t.call(this,"?");return e?Eo(e,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new Oa({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(t){let e=this.tokens[this.index];for(;e&&e!==t;)e=this.tokens[++this.index];e===t&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(t){let e=this.index,n=this.end(),r="";for(;!n;){let o=this.get();Yf(o)?(r+=o,n=this.end()||r.length>=t.length):n=!0}let i=t.toUpperCase()===r.toUpperCase();return i||(this.index=e),i}scanString(){let t="";for(;!this.end();){let e=this.peek();if(e==="]")return t;if(e==="<space>")t+=" ";else if(e.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),t+=e.substring(1);else if(Yf(e))t+=e;else return t;this.next()}return t}scanBalancedString(){let t="",e=this.end(),n=1;for(;!e;){let r=this.get();r==="<space>"?t+=" ":r==="<{>"?(t+="{",n+=1):r==="<}>"?(n-=1,n>0?t+="}":this.index-=1):r==="<$>"?t+="$":r==="<$$>"?t+="$$":t+=r,e=n===0||this.end()}return t}scanLiteralGroup(){var t;if(!this.match("<{>"))return"";let e="",n=1;for(;n>0&&!this.end();){let r=this.get();r==="<}>"?(n-=1,n>0&&(e+="}")):r==="<{>"?(n+=1,e+="{"):(/\\[a-zA-Z]+$/.test(e)&&/^[a-zA-Z]/.test(r)&&(e+=" "),e+=(t={"<space>":" ","<$$>":"$$","<$>":"$"}[r])!=null?t:r)}return e}scanNumber(t=!0){var e,n;let r=!1,i=this.peek();for(;i==="<space>"||i==="+"||i==="-";)this.get(),i==="-"&&(r=!r),i=this.peek();t=!!t;let o=10,s=/\d/;if(this.match("'"))o=8,s=/[0-7]/,t=!0;else if(this.match('"'))o=16,s=/[\dA-F]/,t=!0;else if(this.match("x"))o=16,s=/[\dA-Fa-f]/,t=!0;else if(this.match("`"))return i=this.get(),i?i.length===2&&i.startsWith("\\")?{number:(r?-1:1)*((e=i.codePointAt(1))!=null?e:0),base:"alpha"}:{number:(r?-1:1)*((n=i.codePointAt(0))!=null?n:0),base:"alpha"}:null;let a="";for(;this.hasPattern(s);)a+=this.get();if(!t&&(this.match(".")||this.match(",")))for(a+=".";this.hasPattern(s);)a+=this.get();let l=t?Number.parseInt(a,o):Number.parseFloat(a);return Number.isNaN(l)?null:{number:r?-l:l,base:o===16?"hexadecimal":o===8?"octal":"decimal"}}scanRegister(){var t;let e=this.index,n=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return n;let r=!1;if(n===null)for(;;){let o=this.peek();if(o==="-")r=!r;else if(o!=="+")break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let o=this.get();return o.startsWith("\\")?n?{register:o,global:!0,factor:(r?-1:1)*n.number}:r?{register:o,global:!0,factor:-1}:{register:o,global:!0}:(this.index=e,null)}let i=this.get();return i!=null&&i.startsWith("\\")?(i=i.substring(1),this.context.registers[i]?!r||n!==null?{register:i,factor:(r?-1:1)*((t=n==null?void 0:n.number)!=null?t:1)}:{register:i}:(this.index=e,null)):(this.index=e,null)}scanValue(){let t=this.scanRegister();if(t)return t;let e=this.index,n=this.scanGlueOrDimen();if(n&&("unit"in n||"glue"in n&&"unit"in n.glue))return n;this.index=e;let r=this.scanNumber();if(r)return r;if(this.end()||!Yf(this.peek()))return null;let i=this.scanString();return i.length>0?{string:i}:null}scanDimen(){let t=this.scanNumber(!1);if(t===null)return null;let e=t.number;this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace();let n;return this.matchKeyword("pt")?n="pt":this.matchKeyword("mm")?n="mm":this.matchKeyword("cm")?n="cm":this.matchKeyword("ex")?n="ex":this.matchKeyword("px")?n="px":this.matchKeyword("em")?n="em":this.matchKeyword("bp")?n="bp":this.matchKeyword("dd")?n="dd":this.matchKeyword("pc")?n="pc":this.matchKeyword("in")?n="in":this.matchKeyword("mu")&&(n="mu"),n?{dimension:e,unit:n}:{dimension:e}}scanGlueOrDimen(){let t=this.scanDimen();if(t===null)return null;if(this.skipWhitespace(),this.match("\\relax"))return t;let e={glue:t};if(this.matchKeyword("plus")){let n=this.scanDimen();if(n)e.grow=n;else return e}if(this.skipWhitespace(),this.match("\\relax"))return e;if(this.skipWhitespace(),this.matchKeyword("minus")){let n=this.scanDimen();if(n)e.shrink=n;else return e}return!e.grow&&!e.shrink?t:e}scanColspec(){this.skipWhitespace();let t=[];for(;!this.end()&&!(this.peek()==="<}>"||this.peek()==="]");){let e=this.get();e==="c"||e==="r"||e==="l"?t.push({align:e}):e==="|"?t.push({separator:"solid"}):e===":"?t.push({separator:"dashed"}):e==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),t.push({gap:this.scan(n=>n==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return t}scanModeSet(){let t;if(this.match("\\(")&&(t="textstyle"),!t&&this.match("\\[")&&(t="displaystyle"),!t)return null;this.beginContext({mode:"math",mathstyle:t});let e=this.scan(n=>n===(t==="displaystyle"?"\\]":"\\)"));return this.match(t==="displaystyle"?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanModeShift(){let t="";if(this.match("<$>")&&(t="<$>"),!t&&this.match("<$$>")&&(t="<$$>"),!t)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});let e=this.scan(n=>n===t);return this.match(t)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanEnvironment(){if(!this.match("\\begin"))return null;let t=this.scanArgument("string");if(!t)return null;let e=Lre(t);if(!e)return this.onError({code:"unknown-environment",arg:t}),null;let n=[];if(e.params)for(let a of e.params)if(a.isOptional)n.push(this.scanOptionalArgument(a.type));else{let l=this.scanArgument(a.type);l||this.onError({code:"missing-argument",arg:t}),n.push(l)}this.beginContext({tabular:e.tabular});let r=[],i=[],o=[],s=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:t}),s=!0),!s&&this.match("\\end")&&(this.scanArgument("string")!==t&&this.onError({code:"unbalanced-environment",arg:t}),s=!0),!s)if(this.matchColumnSeparator())o.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){o.push(this.mathlist),this.mathlist=[];let a=null;this.skipWhitespace(),this.match("[")&&(a=this.scanDimen(),this.skipWhitespace(),this.match("]")),i.push(a??{dimension:0}),r.push(o),o=[]}else this.mathlist.push(...this.scan(a=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(a)));while(!s);return o.push(this.mathlist),o.length>0&&r.push(o),this.endContext(),e.createAtom(t,r,i,n)}scanExpression(){let t=this.mathlist;if(this.mathlist=[],this.parseExpression()){let e=this.mathlist;return this.mathlist=t,e}return this.mathlist=t,null}scan(t){this.beginContext(),t||(t=s=>s==="<}>");let e="",n=null,r=[],i=null;for(;!this.end()&&!t(this.peek());)this.hasInfixCommand()&&!e?(e=this.get(),n=Pi(e,"math"),n&&(r=this.scanArguments(n)[1]),i=this.mathlist,this.mathlist=[]):this.parseExpression();let o;return e?(r.unshift(this.mathlist),i&&r.unshift(i),o=[n.createAtom({command:e,args:r,style:this.style,mode:this.parseMode})]):o=this.mathlist,this.endContext(),o}scanGroup(){let t=this.index;if(!this.match("<{>"))return null;let e=this.scan(r=>r==="<}>");this.match("<}>")||this.onError({code:"unbalanced-braces"});let n=new I$(e,this.parseMode,this.style);return n.verbatimLatex=Rd(this.tokens.slice(t,this.index)),n}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let t=1;for(;!this.end()&&t!==0;)this.match("(")&&(t+=1),this.match(")")&&(t-=1),t!==0&&this.parseExpression();let e=new sr("",this.mathlist,{leftDelim:"(",rightDelim:t===0?")":"?"});return this.endContext(),e}scanDelim(){this.skipWhitespace();let t=this.peek();if(!t)return this.onError({code:"unexpected-end-of-string"}),null;if(!Yf(t)&&!t.startsWith("\\"))return null;this.next();let e=Pi(t,"math");return e?e.definitionType==="function"&&e.ifMode&&!e.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):e.definitionType==="symbol"&&(e.type==="mopen"||e.type==="mclose")||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}scanLeftRight(){var t;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new oh("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new oh("\\mright");let e="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;e="\\mright"}let n=this.scanDelim();if(!n)return this.onError({code:"unexpected-delimiter"}),new oh(e==="\\right"?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(e);)this.parseExpression();let r=this.mathlist;this.endContext();let i=(t=this.scanDelim())!=null?t:".";return new sr(e==="\\right"?"left...right":"mleft...mright",r,{leftDelim:n,rightDelim:i,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let t=this.peek();if(t!=="^"&&t!=="_"&&t!=="'")return!1;let e=this.lastSubsupAtom();for(;t==="^"||t==="_"||t==="'";)this.match("'")?this.match("'")?e.addChild(new Pe({type:"mord",command:"\\doubleprime",mode:"math",value:""}),"superscript"):e.addChild(new Pe({type:"mord",command:"\\prime",mode:"math",value:""}),"superscript"):(this.match("^")||this.match("_"))&&e.addChildren(lt(this.scanArgument("expression")),t==="_"?"subscript":"superscript"),t=this.peek();return!0}parseLimits(){if(this.parseMode!=="math")return!1;let t=this.match("\\limits"),e=!t&&this.match("\\nolimits"),n=!e&&!t&&this.match("\\displaylimits");if(!t&&!e&&!n)return!1;let r=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return r===null?!1:(r.explicitSubsupPlacement=!0,t&&(r.subsupPlacement="over-under"),e&&(r.subsupPlacement="adjacent"),n&&(r.subsupPlacement="auto"),!0)}scanArguments(t){if(!(t!=null&&t.params))return[void 0,[]];let e,n=[],r=t.infix?2:0;for(;r<t.params.length;){let i=t.params[r];i.type==="rest"?n.push(this.scan(o=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(o))):i.isOptional?n.push(this.scanOptionalArgument(i.type)):i.type.endsWith("*")?e=i.type.slice(0,-1):n.push(this.scanArgument(i.type)),r+=1}return[e,n]}scanSymbolOrLiteral(){let t=this.peek();if(!t)return null;this.next();let e;if(Yf(t)){let n=fs.createAtom(this.parseMode,t,oe({},this.style));return n?[n]:null}if(e=this.scanMacro(t),e)return[e];if(t.startsWith("\\")){let n=Pi(t,this.parseMode);if(!n)return this.onError({code:"unknown-command",arg:t}),[new oh(t)];if(n.definitionType==="symbol"){let r=oe({},this.style);n.variant&&(r.variant=n.variant),e=new Pe({type:n.type,command:t,style:r,value:String.fromCodePoint(n.codepoint),mode:this.parseMode,verbatimLatex:t})}else{if(n.applyMode||n.applyStyle||n.infix)return this.onError({code:"invalid-command",arg:t}),[new oh(t)];n.createAtom&&(e=n.createAtom({command:t,args:[],style:this.style,mode:this.parseMode}))}}return e?[e]:null}scanArgument(t){var e;this.skipFiller();let n=this.parseMode;if(t==="auto"&&(t=n),!this.match("<{>")){if(t==="string")return this.scanString();if(t==="value")return this.scanValue();if(t==="delim")return(e=this.scanDelim())!=null?e:".";if(t==="expression")return this.scanExpression();if(t==="math"){t!==n&&this.beginContext({mode:"math"});let i=this.scanSymbolOrLiteral();return t!==n&&this.endContext(),i}if(t==="text"){t!==n&&this.beginContext({mode:"text"});let i=this.scanSymbolOrLiteral();return t!==n&&this.endContext(),i}return t==="balanced-string"?null:t==="rest"?this.scan(i=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(i)):null}if(t==="text"){this.beginContext({mode:"text"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}if(t==="math"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}let r=null;if(t==="expression"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}return t==="string"?r=this.scanString():t==="balanced-string"?r=this.scanBalancedString():t==="colspec"?r=this.scanColspec():t==="value"&&(r=this.scanValue()),this.skipUntilToken("<}>"),r}scanOptionalArgument(t){if(t=t==="auto"?this.parseMode:t,this.skipFiller(),!this.match("["))return null;let e=null;for(;!this.end()&&!this.match("]");)if(t==="string")e=this.scanString();else if(t==="value")e=this.scanValue();else if(t==="colspec")e=this.scanColspec();else if(t==="bbox"){let n={},r=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let i of r){let o=i.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(o)n.padding={dimension:parseInt(o[1]),unit:o[2]};else{let s=i.match(/^\s*border\s*:\s*(.*)/);s?n.border=s[1]:n.backgroundcolor={string:i}}}e=n}else t==="math"&&(this.beginContext({mode:"math"}),e=this.mathlist.concat(this.scan(n=>n==="]")),this.endContext());return e}scanSymbolOrCommand(t){var e,n,r;if(t==="\\placeholder"){let a=this.scanOptionalArgument("string"),l=this.scanOptionalArgument("math"),c=Pe.serialize(l,{defaultMode:"math"}),u=[],d;!d&&c==="correct"?d="correct":!d&&c==="incorrect"?d="incorrect":c!==""&&(u=l);let h=this.scanOptionalArgument("string")==="locked",f=this.scanArgument("auto"),p;return f&&Array.isArray(f)&&f.length>0?p=f:f&&typeof f=="object"&&"group"in f?p=f.group:p=u,a?[new $$(a,d,h,p??u,{mode:this.parseMode,style:this.style})]:[new Oa({mode:this.parseMode,style:this.style})]}if(t==="\\renewcommand"||t==="\\newcommand"||t==="\\providecommand"||t==="\\def"){let a=this.index,l=this.scanLiteralGroup()||this.next();if(!l)return null;if(this.context.registers[l.substring(1)]){let c=this.scanArgument("string");c!==null&&(this.context.registers[l.substring(1)]=c);let u=ln([t,Rd(this.tokens.slice(a,this.index))]);return[new Pe({type:"text",value:"",verbatimLatex:u})]}}let i=this.scanMacro(t);if(i)return[i];let o=Pi(t,this.parseMode);if(!o)return this.parseMode==="text"?(/[a-zA-Z]/.test((e=this.peek())!=null?e:"")&&(t+=" "),[...t].map(a=>new Pe({type:"text",value:a,mode:"text",style:this.style}))):(this.onError({code:"unknown-command",arg:t}),[new oh(t)]);let s=this.index;if(o.definitionType==="symbol"){let a=oe({},this.style);o.variant&&(a.variant=o.variant),i=new Pe({type:o.type,command:t,style:a,value:String.fromCodePoint(o.codepoint),mode:this.parseMode})}else{if(o.ifMode&&!o.ifMode.includes(this.parseMode))return[];let a=this.parseMode;o.applyMode&&(this.parseMode=o.applyMode);let l,c=[];if(o.parse?c=o.parse(this):[l,c]=this.scanArguments(o),this.parseMode=a,o.applyMode&&!o.applyStyle&&!o.createAtom)return lt(c[0]);if(o.infix)return this.onError({code:"too-many-infix-commands",arg:t}),null;if(typeof o.createAtom=="function")i=o.createAtom({command:t,args:c,style:this.style,mode:this.parseMode}),l&&(i.body=lt(this.scanArgument(l)));else if(typeof o.applyStyle=="function"){let u=oe(oe({},this.style),o.applyStyle(t,c,this.context)),d=this.parseMode;if(o.applyMode&&(this.parseMode=o.applyMode),l){let h=this.style;this.style=u;let f=this.scanArgument(l);return this.style=h,this.parseMode=d,lt(f)}this.style=u}else i=new Pe({type:"mord",command:(n=o.command)!=null?n:t,style:oe({},this.style),value:t,mode:(r=o.applyMode)!=null?r:this.parseMode})}if(!i)return null;if(i instanceof Pe&&i.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(t)){let a=ln([t,Rd(this.tokens.slice(s,this.index))]);a&&(i.verbatimLatex=a)}if(i.verbatimLatex===null&&(i.verbatimLatex=void 0),i.isFunction&&this.smartFence){let a=this.scanSmartFence();if(a)return[i,a]}return[i]}scanSymbolCommandOrLiteral(){this.expandUnicode();let t=this.get();if(!t)return null;if(Yf(t)){let e=fs.createAtom(this.parseMode,t,oe({},this.style));if(!e)return null;if(e.isFunction&&this.smartFence){let n=this.scanSmartFence();if(n)return[e,n]}return[e]}return t.startsWith("\\")?this.scanSymbolOrCommand(t):t==="<space>"?this.parseMode==="text"?[new X1(" "," ",this.style)]:null:(t==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:t}),null)}scanMacro(t){var e;let n=this.context.getMacro(t);if(!n)return null;let r=this.index,i=n.args,o={"?":(e=this.args)==null?void 0:e.call(this,"?")};for(let s=1;s<=i;s++){let a=this.scanLiteralGroup();if(!a){let l=this.index;this.scanExpression(),a=Rd(this.tokens.slice(l,this.index))}o[s]=a}return new U$(t,{expand:n.expand,captureSelection:n.captureSelection,args:r===this.index?null:Rd(this.tokens.slice(r,this.index)),style:this.parsingContext.style,body:Eo(n.def,{context:this.context,parseMode:this.parseMode,args:s=>o[s],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style})})}parseExpression(){var t,e,n,r;let i=(r=(n=(e=(t=this.scanEnvironment())!=null?t:this.scanModeShift())!=null?e:this.scanModeSet())!=null?n:this.scanGroup())!=null?r:this.scanLeftRight();if(i===null){if(this.parseSupSub()||this.parseLimits())return!0;i=this.scanSymbolCommandOrLiteral()}return i?(Array.isArray(i)?this.mathlist.push(...i):this.mathlist.push(i),!0):!1}};function Eo(t,e){var n,r,i,o;let s=(n=e==null?void 0:e.args)!=null?n:void 0,a=new q$(m1(t,s),e==null?void 0:e.context,{args:s,mathstyle:(r=e==null?void 0:e.mathstyle)!=null?r:"displaystyle",parseMode:(i=e==null?void 0:e.parseMode)!=null?i:"math",style:(o=e==null?void 0:e.style)!=null?o:{}}),l=[];for(;!a.end();)l.push(...a.scan(()=>!1));return l}function Oie(t,e){var n;let r=new q$(m1(t,null),e==null?void 0:e.context,{mathstyle:"displaystyle",parseMode:(n=e==null?void 0:e.parseMode)!=null?n:"math"});for(;!r.end();)r.scan();return r.errors}var K$=class W$ extends Pe{constructor(e,n){super({type:"chem"},{command:e,mode:"math"});let r=Kn.go(Ke.go(n,e==="\\pu"?"pu":"ce"),!1);this.body=Eo(r),this._verbatimLatex=e+"{"+n+"}",this.arg=n,this.captureSelection=!0}static fromJson(e){return new W$(e.command,e.arg)}set verbatimLatex(e){}get verbatimLatex(){return this._verbatimLatex}toJson(){return we(oe({},super.toJson()),{arg:this.arg})}render(e){let n=Pe.createBox(e,this.body,{type:"inner"});return this.caret&&(n.caret=this.caret),this.bind(e,n)}_serialize(e){return this.verbatimLatex,this.verbatimLatex}};Ue(["ce","pu"],"{chemformula:balanced-string}",{createAtom:t=>{var e;return new K$(t.command,(e=t.args[0])!=null?e:"")}});var Ke={go:function(t,e){if(!t)return[];e===void 0&&(e="ce");var n="0",r={};r.parenthesisLevel=0,t=t.replace(/\n/g," "),t=t.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),t=t.replace(/[\u2026]/g,"...");for(var i,o=10,s=[];;){i!==t?(o=10,i=t):o--;var a=Ke.stateMachines[e],l=a.transitions[n]||a.transitions["*"];e:for(var c=0;c<l.length;c++){var u=Ke.patterns.match_(l[c].pattern,t);if(u){for(var d=l[c].task,h=0;h<d.action_.length;h++){var f;if(a.actions[d.action_[h].type_])f=a.actions[d.action_[h].type_](r,u.match_,d.action_[h].option);else if(Ke.actions[d.action_[h].type_])f=Ke.actions[d.action_[h].type_](r,u.match_,d.action_[h].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+d.action_[h].type_+")"];Ke.concatArray(s,f)}if(n=d.nextState||n,t.length>0){if(d.revisit||(t=u.remainder),!d.toContinue)break e}else return s}}if(o<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Object.prototype.toString.call(e)==="[object Array]")for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"state of aggregation $":function(t){var e=Ke.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var n=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return n?{match_:n[0],remainder:t.substr(n[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(t){return Ke.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return Ke.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return Ke.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return Ke.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return Ke.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return Ke.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return Ke.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return Ke.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return Ke.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return Ke.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return Ke.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$":function(t){return Ke.patterns.findObserveGroups(t,"${","","","}$")},"$(...)$":function(t){return Ke.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return Ke.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return Ke.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return Ke.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return Ke.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return Ke.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return Ke.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return Ke.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return Ke.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(t){return Ke.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(t){return Ke.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(t){return Ke.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return Ke.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),e)return{match_:e[0],remainder:t.substr(e[0].length)};var n=Ke.patterns.findObserveGroups(t,"","$","$","");return n&&(e=n.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),e)?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,n,r,i,o,s,a,l,c){var u=function(y,x){if(typeof x=="string")return y.indexOf(x)!==0?null:x;var w=y.match(x);return w?w[0]:null},d=function(y,x,w){for(var A=0;x<y.length;){var D=y.charAt(x),k=u(y.substr(x),w);if(k!==null&&A===0)return{endMatchBegin:x,endMatchEnd:x+k.length};if(D==="{")A++;else if(D==="}"){if(A===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];A--}x++}return null},h=u(t,e);if(h===null||(t=t.substr(h.length),h=u(t,n),h===null))return null;var f=d(t,h.length,r||i);if(f===null)return null;var p=t.substring(0,r?f.endMatchEnd:f.endMatchBegin);if(o||s){var v=this.findObserveGroups(t.substr(f.endMatchEnd),o,s,a,l);if(v===null)return null;var b=[p,v.match_];return{match_:c?b.join(""):b,remainder:v.remainder}}else return{match_:p,remainder:t.substr(f.endMatchEnd)}},match_:function(t,e){var n=Ke.patterns.patterns[t];if(n===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if(typeof n=="function")return Ke.patterns.patterns[t](e);var r=e.match(n);if(r){var i;return r[2]?i=[r[1],r[2]]:r[1]?i=r[1]:i=r[0],{match_:i,remainder:e.substr(r[0].length)}}return null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,n){return{type_:n}},"insert+p1":function(t,e,n){return{type_:n,p1:e}},"insert+p1+p2":function(t,e,n){return{type_:n,p1:e[0],p2:e[1]}},copy:function(t,e){return e},rm:function(t,e){return{type_:"rm",p1:e||""}},text:function(t,e){return Ke.go(e,"text")},"{text}":function(t,e){var n=["{"];return Ke.concatArray(n,Ke.go(e,"text")),n.push("}"),n},"tex-math":function(t,e){return Ke.go(e,"tex-math")},"tex-math tight":function(t,e){return Ke.go(e,"tex-math tight")},bond:function(t,e,n){return{type_:"bond",kind_:n||e}},"color0-output":function(t,e){return{type_:"color0",color:e[0]}},ce:function(t,e){return Ke.go(e)},"1/2":function(t,e){var n=[];e.match(/^[+\-]/)&&(n.push(e.substr(0,1)),e=e.substr(1));var r=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return r[1]=r[1].replace(/\$/g,""),n.push({type_:"frac",p1:r[1],p2:r[2]}),r[3]&&(r[3]=r[3].replace(/\$/g,""),n.push({type_:"tex-math",p1:r[3]})),n},"9,9":function(t,e){return Ke.go(e,"9,9")}},createTransitions:function(t){var e,n,r,i,o={};for(e in t)for(n in t[e])for(r=n.split("|"),t[e][n].stateArray=r,i=0;i<r.length;i++)o[r[i]]=[];for(e in t)for(n in t[e])for(r=t[e][n].stateArray||[],i=0;i<r.length;i++){var s=t[e][n];if(s.action_){s.action_=[].concat(s.action_);for(var a=0;a<s.action_.length;a++)typeof s.action_[a]=="string"&&(s.action_[a]={type_:s.action_[a]})}else s.action_=[];for(var l=e.split("|"),c=0;c<l.length;c++)if(r[i]==="*")for(var u in o)o[u].push({pattern:l[c],task:s});else o[r[i]].push({pattern:l[c],task:s})}return o},stateMachines:{}};Ke.stateMachines={ce:{transitions:Ke.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var n;if((t.d||"").match(/^[0-9]+$/)){var r=t.d;t.d=void 0,n=this.output(t),t.b=r}else n=this.output(t);return Ke.actions["o="](t,e),n},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var n=[];return Ke.concatArray(n,this.output(t)),Ke.concatArray(n,Ke.actions.bond(t,e,"-")),n}else t.d=e},"- after o/d":function(t,e,n){var r=Ke.patterns.match_("orbital",t.o||""),i=Ke.patterns.match_("one lowercase greek letter $",t.o||""),o=Ke.patterns.match_("one lowercase latin letter $",t.o||""),s=Ke.patterns.match_("$one lowercase latin letter$ $",t.o||""),a=e==="-"&&(r&&r.remainder===""||i||o||s);a&&!t.a&&!t.b&&!t.p&&!t.d&&!t.q&&!r&&o&&(t.o="$"+t.o+"$");var l=[];return a?(Ke.concatArray(l,this.output(t)),l.push({type_:"hyphen"})):(r=Ke.patterns.match_("digits",t.d||""),n&&r&&r.remainder===""?(Ke.concatArray(l,Ke.actions["d="](t,e)),Ke.concatArray(l,this.output(t))):(Ke.concatArray(l,this.output(t)),Ke.concatArray(l,Ke.actions.bond(t,e,"-")))),l},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:Ke.go(e,"o")}},comma:function(t,e){var n=e.replace(/\s*$/,""),r=n!==e;return r&&t.parenthesisLevel===0?{type_:"comma enumeration L",p1:n}:{type_:"comma enumeration M",p1:n}},output:function(t,e,n){var r;if(!t.r)r=[],!t.a&&!t.b&&!t.p&&!t.o&&!t.q&&!t.d&&!n||(t.sb&&r.push({type_:"entitySkip"}),!t.o&&!t.q&&!t.d&&!t.b&&!t.p&&n!==2?(t.o=t.a,t.a=void 0):!t.o&&!t.q&&!t.d&&(t.b||t.p)?(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):t.o&&t.dType==="kv"&&Ke.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&t.dType==="kv"&&!t.q&&(t.dType=void 0),r.push({type_:"chemfive",a:Ke.go(t.a,"a"),b:Ke.go(t.b,"bd"),p:Ke.go(t.p,"pq"),o:Ke.go(t.o,"o"),q:Ke.go(t.q,"pq"),d:Ke.go(t.d,t.dType==="oxidation"?"oxidation":"bd"),dType:t.dType}));else{var i;t.rdt==="M"?i=Ke.go(t.rd,"tex-math"):t.rdt==="T"?i=[{type_:"text",p1:t.rd||""}]:i=Ke.go(t.rd);var o;t.rqt==="M"?o=Ke.go(t.rq,"tex-math"):t.rqt==="T"?o=[{type_:"text",p1:t.rq||""}]:o=Ke.go(t.rq),r={type_:"arrow",r:t.r,rd:i,rq:o}}for(var s in t)s!=="parenthesisLevel"&&s!=="beginsWithBond"&&delete t[s];return r},"oxidation-output":function(t,e){var n=["{"];return Ke.concatArray(n,Ke.go(e,"oxidation")),n.push("}"),n},"frac-output":function(t,e){return{type_:"frac-ce",p1:Ke.go(e[0]),p2:Ke.go(e[1])}},"overset-output":function(t,e){return{type_:"overset",p1:Ke.go(e[0]),p2:Ke.go(e[1])}},"underset-output":function(t,e){return{type_:"underset",p1:Ke.go(e[0]),p2:Ke.go(e[1])}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:Ke.go(e[0]),p2:Ke.go(e[1])}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:Ke.go(e[1])}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,n){return{type_:"operator",kind_:n||e}}}},a:{transitions:Ke.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:Ke.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:Ke.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var n in t)delete t[n];return e}}}},pq:{transitions:Ke.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:Ke.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:Ke.go(e[1],"pq")}}}},bd:{transitions:Ke.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:Ke.go(e[1],"bd")}}}},oxidation:{transitions:Ke.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e||""}}}},"tex-math":{transitions:Ke.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var n in t)delete t[n];return e}}}},"tex-math tight":{transitions:Ke.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var n in t)delete t[n];return e}}}},"9,9":{transitions:Ke.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:Ke.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var n=[];return e[0]==="+-"||e[0]==="+/-"?n.push("\\pm "):e[0]&&n.push(e[0]),e[1]&&(Ke.concatArray(n,Ke.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?Ke.concatArray(n,Ke.go(e[2],"pu-9,9")):n.push(e[2])),(e[3]||e[4])&&(e[3]==="e"||e[4]==="*"?n.push({type_:"cdot"}):n.push({type_:"times"}))),e[5]&&n.push("10^{"+e[5]+"}"),n},"number^":function(t,e){var n=[];return e[0]==="+-"||e[0]==="+/-"?n.push("\\pm "):e[0]&&n.push(e[0]),Ke.concatArray(n,Ke.go(e[1],"pu-9,9")),n.push("^{"+e[2]+"}"),n},operator:function(t,e,n){return{type_:"operator",kind_:n||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,n=Ke.patterns.match_("{(...)}",t.d||"");n&&n.remainder===""&&(t.d=n.match_);var r=Ke.patterns.match_("{(...)}",t.q||"");if(r&&r.remainder===""&&(t.q=r.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var i={d:Ke.go(t.d,"pu"),q:Ke.go(t.q,"pu")};t.o==="//"?e={type_:"pu-frac",p1:i.d,p2:i.q}:(e=i.d,i.d.length>1||i.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),Ke.concatArray(e,i.q))}else e=Ke.go(t.d,"pu-2");for(var o in t)delete t[o];return e}}},"pu-2":{transitions:Ke.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var n=Ke.patterns.match_("{(...)}",t.rm||"");n&&n.remainder===""?e=Ke.go(n.match_,"pu"):e={type_:"rm",p1:t.rm}}for(var r in t)delete t[r];return e}}},"pu-9,9":{transitions:Ke.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var n=t.text_.length%3;n===0&&(n=3);for(var r=t.text_.length-3;r>0;r-=3)e.push(t.text_.substr(r,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,n)),e.reverse()}else e.push(t.text_);for(var i in t)delete t[i];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){for(var n=t.text_.length-3,r=0;r<n;r+=3)e.push(t.text_.substr(r,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(r))}else e.push(t.text_);for(var i in t)delete t[i];return e}}}};var Kn={go:function(t,e){if(!t)return"";for(var n="",r=!1,i=0;i<t.length;i++){var o=t[i];typeof o=="string"?n+=o:(n+=Kn._go2(o),o.type_==="1st-level escape"&&(r=!0))}return!e&&!r&&n&&(n="{"+n+"}"),n},_goInner:function(t){return t&&Kn.go(t,!0)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var n={a:Kn._goInner(t.a),b:Kn._goInner(t.b),p:Kn._goInner(t.p),o:Kn._goInner(t.o),q:Kn._goInner(t.q),d:Kn._goInner(t.d)};n.a&&(n.a.match(/^[+\-]/)&&(n.a="{"+n.a+"}"),e+=n.a+"\\,"),(n.b||n.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(n.b||"")+"}}_{\\hphantom{"+(n.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(n.b||"")+"}}",e+="_{\\vphantom{2}\\llap{\\smash[t]{"+(n.p||"")+"}}}"),n.o&&(n.o.match(/^[+\-]/)&&(n.o="{"+n.o+"}"),e+=n.o),t.dType==="kv"?((n.d||n.q)&&(e+="{\\vphantom{X}}"),n.d&&(e+="^{"+n.d+"}"),n.q&&(e+="_{\\smash[t]{"+n.q+"}}")):t.dType==="oxidation"?(n.d&&(e+="{\\vphantom{X}}",e+="^{"+n.d+"}"),n.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+n.q+"}}")):(n.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+n.q+"}}"),n.d&&(e+="{\\vphantom{X}}",e+="^{"+n.d+"}"));break;case"rm":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+Kn._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+Kn._goInner(t.p1);break;case"bond":if(e=Kn._getBond(t.kind_),!e)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var r="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+r+"}{"+r+"}{"+r+"}{"+r+"}";break;case"pu-frac":var i="\\frac{"+Kn._goInner(t.p1)+"}{"+Kn._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"tex-math":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+Kn._goInner(t.p1)+"}{"+Kn._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+Kn._goInner(t.p1)+"}{"+Kn._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+Kn._goInner(t.p1)+"}{"+Kn._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+Kn._goInner(t.p1)+"}_{"+Kn._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+Kn._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var o={rd:Kn._goInner(t.rd),rq:Kn._goInner(t.rq)},s=Kn._getArrow(t.r);o.rd||o.rq?t.r==="<=>"||t.r==="<=>>"||t.r==="<<=>"||t.r==="<-->"?(s="\\long"+s,o.rd&&(s="\\overset{"+o.rd+"}{"+s+"}"),o.rq&&(t.r==="<-->"?s="\\underset{\\lower2mu{"+o.rq+"}}{"+s+"}":s="\\underset{\\lower6mu{"+o.rq+"}}{"+s+"}"),s=" {}\\mathrel{"+s+"}{} "):(o.rq&&(s+="[{"+o.rq+"}]"),s+="{"+o.rd+"}",s=" {}\\mathrel{\\x"+s+"}{} "):s=" {}\\mathrel{\\long"+s+"}{} ",e=s;break;case"operator":e=Kn._getOperator(t.kind_);break;case"1st-level escape":e=t.p1+" ";break;case"space":e=" ";break;case"entitySkip":e="~";break;case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":return"rightarrow";case"":return"rightarrow";case"":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"leftrightarrows";case"<=>":return"rightleftharpoons";case"":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},X$=class J$ extends Pe{constructor(e){super(we(oe({},e),{type:"delim"})),this.value=e.delim,this.size=e.size}static fromJson(e){return new J$(e)}toJson(){return we(oe({},super.toJson()),{delim:this.value,size:this.size})}render(e){return new Ye(this.value,{type:"middle"})}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Pi(this.command,this.mode);return n!=null&&n.serialize?n.serialize(this,e):Vn(this.command,this.value)}},Y$=class Z$ extends Pe{constructor(e){super(we(oe({},e),{type:"sizeddelim",value:e.delim})),this.delimType=e.delimType,this.size=e.size}static fromJson(e){return new Z$(e)}toJson(){return we(oe({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(e){let n=Aie(this.value,this.size,e,{classes:{open:"ML__open",close:"ML__close"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return n?(n=this.bind(e,n),this.caret&&(n.caret=this.caret),n):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Pi(this.command,this.mode);return n!=null&&n.serialize?n.serialize(this,e):Vn(this.command,this.value)}},Y1=class Q$ extends Pe{constructor(e,n,r,i){var o,s;super({type:"enclose",command:e,style:i.style}),this.body=n,this.backgroundcolor=i.backgroundcolor,r.updiagonalarrow&&(r.updiagonalstrike=!1),r.box&&(r.left=!1,r.right=!1,r.bottom=!1,r.top=!1),this.notation=r,this.shadow=(o=i.shadow)!=null?o:"none",this.strokeWidth=(s=i.strokeWidth)!=null?s:"0.06em",this.strokeWidth||(this.strokeWidth="0.06em"),this.strokeStyle=i.strokeStyle,this.svgStrokeStyle=i.svgStrokeStyle,this.strokeColor=i.strokeColor,this.borderStyle=i.borderStyle,this.padding=i.padding,this.captureSelection=!1}static fromJson(e){return new Q$(e.command,e.body,e.notation,e)}toJson(){return we(oe({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(e){var n;if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Pi(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let i=(n=this.command)!=null?n:"";if(this.command==="\\enclose"){i+="{"+Object.keys(this.notation).join(" ")+"}";let o="",s="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(o+=s+'mathbackground="'+this.backgroundcolor+'"',s=","),this.shadow&&this.shadow!=="auto"&&(o+=s+'shadow="'+this.shadow+'"',s=","),this.strokeWidth||this.strokeStyle!=="solid"?(o+=s+this.borderStyle,s=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(o+=s+'mathcolor="'+this.strokeColor+'"',s=","),o&&(i+=`[${o}]`)}return Vn(i,this.bodyToLatex(e))}render(e){let n=new an({parent:e},this.style),r=Pe.createBox(n,this.body);if(!r)return null;let i=Fie(this.borderStyle),o=n.toEm(!this.padding||this.padding==="auto"?{register:"fboxsep"}:{string:this.padding});r.setStyle("position","relative"),r.setStyle("display","inline-block"),r.setStyle("top",o,"em"),r.setStyle("height",r.height+r.depth,"em"),r.setStyle("width",r.width,"em");let s=new Ye(null,{classes:"ML__notation"}),a=r.height+r.depth+2*o,l=r.width+2*o,c="";if(this.notation.horizontalstrike&&(c+=this.line(3,50,97,50)),this.notation.verticalstrike&&(c+=this.line(50,3,50,97)),this.notation.updiagonalstrike&&(c+=this.line(3,97,97,3)),this.notation.downdiagonalstrike&&(c+=this.line(3,3,97,97)),this.notation.updiagonalarrow){c+=this.line(o.toString(),(o+r.depth+r.height).toString(),(o+r.width).toString(),o.toString());let h=.03*Math.sqrt(l*l+a*a)*1,f=r.width*h,p=(r.depth+r.height)*h,v=o+r.width,b=o;b+p-.4*f<0&&(b=.4*f-p),c+='<polygon points="',c+=`${v},${b} ${v-f-.4*p},${b+p-.4*f} `,c+=`${v-.7*f},${b+.7*p} ${v-f+.4*p},${b+p+.4*f} `,c+=`${v},${b}`,c+=`" stroke='none' fill="${this.strokeColor}"`,c+="/>"}let u=0;if(this.notation.phasorangle){let h=DP(n),f=(r.height+r.depth+2*h+o).toString(),p=(r.height+r.depth)/2;c+=this.line(o.toString(),f,(o+p+r.width).toString(),f),c+=this.line(o.toString(),f,(o+p).toString(),(o-h).toString()),a+=h,u=p,r.left+=a/2-o}if(this.notation.longdiv){let h=DP(n);a+=h,c+=this.line(o.toString(),o.toString(),(o+r.width).toString(),o.toString());let f=.3;u=f+h,r.left+=f+h,r.setTop(o+h),c+='<path d="',c+=`M ${o} ${o}  a${f} ${(r.depth+r.height+2*h)/2}, 0, 1, 1, 0 ${r.depth+r.height+2*h} "`,c+=` stroke-width="${zie(n)}" stroke="${this.strokeColor}" fill="none"`,c+="/>"}if(s.width=r.width+2*o+u,s.height=r.height+o,s.depth=r.depth+o,s.setStyle("box-sizing","border-box"),s.setStyle("left",`calc(-${i} / 2 )`),s.setStyle("height",`${Math.floor(100*a)/100}em`),s.setStyle("top",`calc(${i} / 2 )`),this.backgroundcolor&&s.setStyle("background-color",this.backgroundcolor),this.notation.box&&s.setStyle("border","1px solid red"),this.notation.actuarial&&(s.setStyle("border-top",this.borderStyle),s.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(s.setStyle("border-bottom",this.borderStyle),s.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(s.setStyle("border-radius","8px"),s.setStyle("border",this.borderStyle)),this.notation.circle&&(s.setStyle("border-radius","50%"),s.setStyle("border",this.borderStyle)),this.notation.top&&s.setStyle("border-top",this.borderStyle),this.notation.left&&s.setStyle("border-left",this.borderStyle),this.notation.right&&s.setStyle("border-right",this.borderStyle),this.notation.bottom&&s.setStyle("border-bottom",this.borderStyle),c){let h="";this.shadow==="auto"&&(h+="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)"),this.shadow!=="none"&&(h+=`filter: drop-shadow(${this.shadow})`),h+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,h+=' stroke-linecap="round"',this.svgStrokeStyle&&(h+=` stroke-dasharray="${this.svgStrokeStyle}"`),s.svgStyle=h,s.svgOverlay=c}let d=new Ye([s,r]);return d.setStyle("position","relative"),d.setStyle("vertical-align",o,"em"),d.setStyle("height",`${Math.floor(100*(r.height+r.depth+2*o))/100}em`),d.setStyle("display","inline-block"),d.height=s.height,d.depth=s.depth,d.width=s.width-2*o,d.left=o,d.right=o,this.caret&&(d.caret=this.caret),d.wrap(n)}line(e,n,r,i){return`<line x1="${Px(e)}"  y1="${Px(n)}" x2="${Px(r)}" y2="${Px(i)}" vector-effect="non-scaling-stroke"></line>`}};function Px(t){return typeof t=="number"?`${Math.floor(100*t)/100}%`:t}function Fie(t){if(!t)return"1px";let e=t.match(/([0-9][a-zA-Z\%]+)/);return e===null?"1px":e[1]}function zie(t){return(Math.floor(100*t.metrics.sqrtRuleThickness/t.scalingFactor)/100/10).toString()+"em"}function DP(t){let e=t.isDisplayStyle?Xu:t.metrics.defaultRuleThickness;return t.metrics.defaultRuleThickness+t.scalingFactor*e/4}var mf=class eG extends Pe{constructor(e,n,r){var i,o,s;super(we(oe({},r),{type:"genfrac",displayContainsHighlight:!0})),this.above=e,this.below=n,this.hasBarLine=(i=r==null?void 0:r.hasBarLine)!=null?i:!0,this.continuousFraction=(o=r==null?void 0:r.continuousFraction)!=null?o:!1,this.align=(s=r==null?void 0:r.align)!=null?s:"center",this.numerPrefix=r==null?void 0:r.numerPrefix,this.denomPrefix=r==null?void 0:r.denomPrefix,this.mathstyleName=r==null?void 0:r.mathstyleName,this.leftDelim=r==null?void 0:r.leftDelim,this.rightDelim=r==null?void 0:r.rightDelim,this.fractionNavigationOrder=r==null?void 0:r.fractionNavigationOrder}static fromJson(e){return new eG(e.above,e.below,e)}toJson(){let e={};return this.continuousFraction&&(e.continuousFraction=!0),this.align!=="center"&&(e.align=this.align),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.fractionNavigationOrder&&(e.fractionNavigationOrder=this.fractionNavigationOrder),oe(oe({},super.toJson()),e)}get children(){if(this._children)return this._children;let e=[];if(this.fractionNavigationOrder==="denominator-numerator"){for(let n of this.below)e.push(...n.children),e.push(n);for(let n of this.above)e.push(...n.children),e.push(n)}else{for(let n of this.above)e.push(...n.children),e.push(n);for(let n of this.below)e.push(...n.children),e.push(n)}return this._children=e,e}render(e){var n,r;let i=new an({parent:e,mathstyle:this.mathstyleName},this.style),o=i.metrics,s=new an({parent:i,mathstyle:this.continuousFraction?"":"numerator"},this.style),a=this.numerPrefix?new Ye([new Ye(this.numerPrefix),Pe.createBox(s,this.above)],{isTight:s.isTight,type:"ignore"}):(n=Pe.createBox(s,this.above,{type:"ignore"}))!=null?n:new Ye(null,{type:"ignore"}),l=new an({parent:i,mathstyle:this.continuousFraction?"":"denominator"},this.style),c=this.denomPrefix?new Ye([new Ye(this.denomPrefix),Pe.createBox(l,this.below,{type:"ignore"})]):(r=Pe.createBox(l,this.below,{type:"ignore"}))!=null?r:new Ye(null,{type:"ignore"}),u=this.hasBarLine?o.defaultRuleThickness:0,d,h=0,f;i.isDisplayStyle?(d=s.metrics.num1,h=u>0?3*u:7*u,f=l.metrics.denom1):(u>0?(d=s.metrics.num2,h=u):(d=s.metrics.num3,h=3*o.defaultRuleThickness),f=l.metrics.denom2);let p=[];this.isSelected&&p.push("ML__selected");let v=a.depth,b=c.height,y;if(u<=0){let R=d-v-(b-f);R<h&&(d+=(h-R)/2,f+=(h-R)/2),y=new Hr({individualShift:[{box:a,shift:-d,classes:[...p,Nx(this.align)]},{box:c,shift:f,classes:[...p,Nx(this.align)]}]}).wrap(i)}else{let R=new Ye(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});R.softWidth=Math.max(a.width,c.width),R.height=u/2,R.depth=u/2;let L=Ba+u/2;d<h+v+L&&(d=h+v+L);let T=Ba-u/2;f<h+b-T&&(f=h+b-T),y=new Hr({individualShift:[{box:c,shift:f,classes:[...p,Nx(this.align)]},{box:R,shift:-T,classes:p},{box:a,shift:-d,classes:[...p,Nx(this.align)]}]}).wrap(i)}let x=i.isDisplayStyle?o.delim1:o.delim2,w=this.leftDelim?this.bind(e,Lw("open",this.leftDelim,x,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):ef(i,"ML__open"),A=null;this.continuousFraction?A=new Ye(null,{type:"close"}):this.rightDelim?A=this.bind(e,Lw("close",this.rightDelim,x,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):A=ef(i,"ML__close");let D=new Ye([w,y,A],{isTight:i.isTight,type:"inner",classes:"ML__mfrac"}),k=this.bind(e,D);return this.caret&&(k.caret=this.caret),this.attachSupsub(e,{base:k})}};function Nx(t){var e;return(e={left:"ML__left",right:"ML__right",center:"ML__center"}[t])!=null?e:"ML__center"}var ai=class tG extends Pe{constructor(e,n){var r;super({type:"latex",value:e,mode:"latex"}),this.isSuggestion=(r=n==null?void 0:n.isSuggestion)!=null?r:!1,this.isError=!1}static fromJson(e){let n=new tG(e.value);return e.isSuggestion&&(n.isSuggestion=!0),e.isError&&(n.isError=!0),n}toJson(){let e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),oe({type:"latex",value:this.value},e)}get computedStyle(){return{}}render(e){let n=new Ye(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return n?(this.caret&&(n.caret=this.caret),this.bind(e,n)):null}},_y=class nG extends Pe{constructor(e){super({type:"latexgroup",mode:"latex"}),this.body=[...e].map(n=>new ai(n)),this.skipBoundary=!1}static fromJson(e){return new nG("")}toJson(){return super.toJson()}render(e){let n=Pe.createBox(e,this.body);return n?(this.caret&&(n.caret=this.caret),this.bind(e,n)):null}_serialize(e){var n,r;return(r=(n=this.body)==null?void 0:n.map(i=>i.value).join(""))!=null?r:""}},Uk=class rG extends Pe{constructor(e,n){super(we(oe({},n),{type:"extensible-symbol",isFunction:n==null?void 0:n.isFunction})),this.value=e,this.variant=n==null?void 0:n.variant,this.subsupPlacement=n==null?void 0:n.limits}static fromJson(e){return new rG(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.isExtensibleSymbol&&(e.isExtensibleSymbol=!0),this.value&&(e.symbol=this.value),e}render(e){var n;let r=e.isDisplayStyle&&this.value!=="\\smallint",i=new Ye(this.value,{fontFamily:r?"Size2-Regular":"Size1-Regular",classes:"ML__op-symbol "+(r?"ML__large-op":"ML__small-op"),type:"op",maxFontSize:e.scalingFactor,isSelected:this.isSelected});if(!i)return null;i.right=i.italic;let o=(i.height-i.depth)/2-Ba*e.scalingFactor,s=i.italic;i.setTop(o);let a=i;if(this.superscript||this.subscript){let l=(n=this.subsupPlacement)!=null?n:"auto";a=l==="over-under"||l==="auto"&&e.isDisplayStyle?this.attachLimits(e,{base:i,baseShift:o,slant:s}):this.attachSupsub(e,{base:i})}return new Ye(this.bind(e,a),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Pi(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,e);let r=[];return r.push(this.command),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&r.push("\\limits"),this.subsupPlacement==="adjacent"&&r.push("\\nolimits"),this.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(this.supsubToLatex(e)),ln(r)}},gf=class iG extends Pe{constructor(e){let n=e.body;super(we(oe({},e),{type:"overlap",body:typeof n=="string"?[new Pe({value:n})]:n,style:e==null?void 0:e.style})),this.skipBoundary=!0,this.align=e==null?void 0:e.align,this.boxType=e==null?void 0:e.boxType}static fromJson(e){return new iG(e)}toJson(){let e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),oe(oe({},super.toJson()),e)}render(e){let n=Pe.createBox(e,this.body,{classes:"ML__inner"});return n?(this.caret&&(n.caret=this.caret),this.bind(e,new Ye([n,new Ye(null,{classes:"ML__fix"})],{classes:this.align==="right"?"ML__rlap":"ML__llap",type:this.boxType}))):null}},sa=class oG extends Pe{constructor(e){var n,r,i,o;super({type:"overunder",command:e.command,style:e.style,mode:e.mode,body:e.body,skipBoundary:(n=e.skipBoundary)!=null?n:!0}),this.subsupPlacement=e.supsubPlacement,this.svgAbove=e.svgAbove,this.svgBelow=e.svgBelow,this.svgBody=e.svgBody,this.above=e.above,this.below=e.below,this.boxType=(r=e.boxType)!=null?r:"ord",this.paddedBody=(i=e.paddedBody)!=null?i:!1,this.paddedLabels=(o=e.paddedLabels)!=null?o:!1}static fromJson(e){return new oG(e)}toJson(){let e=super.toJson();return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),this.boxType!=="ord"&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),e}render(e){let n=this.svgBody?x_(this.svgBody):Pe.createBox(e,this.body,{type:"ignore"}),r=new an({parent:e,mathstyle:"scriptstyle"},this.style),i=null;this.svgAbove?i=x_(this.svgAbove):this.above&&(i=Pe.createBox(r,this.above,{type:"ignore"}));let o=null;this.svgBelow?o=x_(this.svgBelow):this.below&&(o=Pe.createBox(r,this.below,{type:"ignore"})),this.paddedBody&&(n=new Ye([ef(e,"ML__open"),n,ef(e,"ML__close")],{type:"ignore"}));let s=Uie(e,{base:n,above:i,below:o,type:this.boxType==="bin"||this.boxType==="rel"?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return s?(this.subsupPlacement==="over-under"?s=this.attachLimits(e,{base:s,type:s.type}):s=this.attachSupsub(e,{base:s}),this.caret&&(s.caret=this.caret),this.bind(e,s)):null}};function Uie(t,e){if(!e.base)return null;if(!e.above&&!e.below){let a=new Ye(e.base,{type:e.type});return a.setStyle("position","relative"),a}let n=0;e.above&&(n=t.metrics.bigOpSpacing5);let r=null,i=e.base,o=0,s=["ML__center"];if(e.paddedAboveBelow&&s.push("ML__label_padding"),e.below&&e.above){let a=t.metrics.bigOpSpacing5+e.below.height+e.below.depth+i.depth+o;r=new Hr({bottom:a,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:s},{box:i,classes:["ML__center"]},n,{box:e.above,classes:s},t.metrics.bigOpSpacing5]})}else e.below?r=new Hr({top:i.height-o,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:s},{box:i,classes:["ML__center"]}]}):e.above&&(r=new Hr({bottom:i.depth+o,children:[{box:i,classes:["ML__center"]},n,{box:e.above,classes:s},t.metrics.bigOpSpacing5]}));return new Ye(r,{type:e.type})}var Z1=class sG extends Pe{constructor(e){var n,r,i,o;super(we(oe({},e),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=(n=e.isInvisible)!=null?n:!1,this.smashDepth=(r=e.smashDepth)!=null?r:!1,this.smashHeight=(i=e.smashHeight)!=null?i:!1,this.smashWidth=(o=e.smashWidth)!=null?o:!1}static fromJson(e){return new sG(e)}toJson(){let e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),oe(oe({},super.toJson()),e)}render(e){let n=new an({parent:e,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,Pe.createBox(n,this.body,{classes:"ML__inner"});let r=Pe.createBox(this.isInvisible?n:e,this.body);if(!r)return null;if(this.smashWidth){let i=new Ye(null,{classes:"ML__fix"});return new Ye([r,i],{classes:"ML__rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return r;if(this.smashHeight&&(r.height=0),this.smashDepth&&(r.depth=0),r.children)for(let i of r.children)this.smashHeight&&(i.height=0),this.smashDepth&&(i.depth=0);return new Hr({firstBaseline:[{box:r}]},{type:r.type}).wrap(e)}},Q1=class aG extends Pe{constructor(e){var n;super(oe({type:"spacing"},e)),this.width=e==null?void 0:e.width,this._braced=(n=e==null?void 0:e.braced)!=null?n:!1}static fromJson(e){return new aG(e)}toJson(){let e=super.toJson();return this.width!==void 0&&(e.width=this.width),this._braced&&(e.braced=!0),e}render(e){var n;if(this.command==="space")return new Ye(this.mode==="math"?null:" ");let r;if(this.width!==void 0)r=new Ye(null,{classes:"ML__mspace"}),r.left=e.toEm(this.width);else{let i=(n={"\\qquad":"ML__qquad","\\quad":"ML__quad","\\enspace":"ML__enspace","\\;":"ML__thickspace","\\:":"ML__mediumspace","\\>":"ML__mediumspace","\\,":"ML__thinspace","\\!":"ML__negativethinspace"}[this.command])!=null?n:"ML__mediumspace";r=new Ye(null,{classes:i})}return r=this.bind(e,r),this.caret&&(r.caret=this.caret),r}_serialize(e){var n;if(!e.expandMacro&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=Pi(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let i=(n=this.command)!=null?n:"";return this.width===void 0?i:this._braced&&!("register"in this.width)?`${i}{${Si(this.width)}}`:`${i}${Si(this.width)}`}},lG=class cG extends Pe{constructor(e){var n;super(we(oe({},e),{type:"surd",mode:(n=e.mode)!=null?n:"math",style:e.style,displayContainsHighlight:!0,body:e.body})),this.above=e.index}static fromJson(e){return new cG(we(oe({},e),{index:e.above}))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Pi(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,e);let r=this.command,i=this.bodyToLatex(e);return this.above&&!this.hasEmptyBranch("above")?Vn(`${r}[${this.aboveToLatex(e)}]`,i):/^[0-9]$/.test(i)?`${r}${i}`:Vn(r,i)}get children(){if(this._children)return this._children;let e=[];if(this.above)for(let n of this.above)e.push(...n.children),e.push(n);if(this.body)for(let n of this.body)e.push(...n.children),e.push(n);return this._children=e,e}render(e){var n;let r=new an({parent:e,mathstyle:"cramp"},this.style),i=(n=Pe.createBox(r,this.body,{type:"inner"}))!=null?n:new Ye(null),o=r.scalingFactor,s=r.metrics.defaultRuleThickness/o,a=e.isDisplayStyle?Xu:s,l=new Ye(null,{classes:"ML__sqrt-line",style:this.style});l.height=s,l.softWidth=i.width;let c=o*(s+a/4),u=Math.max(o*2*a,i.height+i.depth)+c+s,d=new an({parent:e},this.style),h=this.bind(d,new Ye(Lw("inner","\\surd",u,!1,d,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!h)return null;let f=h.height+h.depth-s;f>i.height+i.depth+c&&(c=(c+f-(i.height+i.depth))/2),h.setTop(h.height-i.height-c);let p=this.bind(e,new Hr({firstBaseline:[{box:new Ye(i)},c-2*s,{box:l},s]})),v=Pe.createBox(new an({parent:e,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!v){let x=new Ye([h,p],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return x.setStyle("display","inline-block"),x.setStyle("height",x.height+x.depth,"em"),this.caret&&(x.caret=this.caret),this.bind(e,x)}let b=new Hr({shift:-.6*(Math.max(h.height,p.height)-Math.max(h.depth,p.depth)),children:[{box:v}]}),y=new Ye([new Ye(b,{classes:"ML__sqrt-index",type:"ignore"}),h,p],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return y.height=h.height,y.depth=h.depth,this.caret&&(y.caret=this.caret),this.bind(e,y)}},jie=class extends Ye{constructor(t){super(null,{type:"skip"}),this._width=t}toMarkup(){return`<span style="display:inline-block;width:${Math.ceil(this.width*100)/100}em"></span>`}};function S_(t,e){if(!t.parent)return;let n=t.parent.children,r=n.indexOf(t),i=r-1;for(;i>=0&&n[i].type==="ignore";)i-=1;if(i<0&&t.parent.parent&&t.parent.type==="lift"){S_(t.parent,e);return}r>0&&n[r-1].type==="skip"?n[r-1].width+=e:n.splice(r,0,new jie(e))}var Hie={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},$ie={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function Gie(t){wy(t,(e,n)=>{n.type==="bin"&&(!e||/^(middle|bin|op|rel|open|punct)$/.test(e.type))&&(n.type="ord"),(e==null?void 0:e.type)==="bin"&&/^(rel|close|punct)$/.test(n.type)&&(e.type="ord"),n.type!=="ignore"&&(e=n)})}function ev(t,e){if(!t.children)return t;let n=t.children;Gie(n);let r=e.getRegisterAsEm("thinmuskip"),i=e.getRegisterAsEm("medmuskip"),o=e.getRegisterAsEm("thickmuskip");return wy(n,(s,a)=>{var l,c,u;if(!s)return;let d=s.type,h=a.isTight?(l=$ie[d])!=null?l:null:(c=Hie[d])!=null?c:null,f=(u=h==null?void 0:h[a.type])!=null?u:null;f===3&&S_(a,r),f===4&&S_(a,i),f===5&&S_(a,o)}),t}function wy(t,e,n=void 0){if(!t)return n;t=[...t];for(let r of t)r.type==="lift"?n=wy(r.children,e,n):r.type==="ignore"?wy(r.children,e):(e(n,r),wy(r.children,e),n=r);return n}var jk=class uG extends Pe{constructor(e){super({type:"tooltip",command:e.command,mode:e.mode,style:e.style,body:e.body,displayContainsHighlight:!0}),this.tooltip=new Pe({type:"root",mode:e.content,body:e.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(e){return new uG(we(oe({},e),{tooltip:Ju(e.tooltip)}))}toJson(){var e;let n=(e=this.tooltip.body)==null?void 0:e.filter(r=>r.type!=="first").map(r=>r.toJson());return we(oe({},super.toJson()),{tooltip:n})}render(e){let n=Pe.createBox(new an,this.body);if(!n)return null;let r=new an({parent:e,mathstyle:"displaystyle"},{fontSize:Nk}),i=T3(ev(new Ye(this.tooltip.render(r),{classes:"ML__tooltip-content"}),r)),o=new Ye([i,n],{classes:"ML__tooltip-container"});return this.caret&&(o.caret=this.caret),this.bind(e,o)}},yf=class dG extends Pe{constructor(e,n){super(we(oe({},n),{type:"operator",isFunction:n==null?void 0:n.isFunction})),this.value=e,this.variant=n==null?void 0:n.variant,this.variantStyle=n==null?void 0:n.variantStyle,this.subsupPlacement=n==null?void 0:n.limits}static fromJson(e){return new dG(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var n;let r=new Ye(this.value,{type:"op",mode:"math",maxFontSize:e.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:e.letterShapeStyle}),i=r;if(this.superscript||this.subscript){let o=(n=this.subsupPlacement)!=null?n:"auto";i=o==="over-under"||o==="auto"&&e.isDisplayStyle?this.attachLimits(e,{base:r}):this.attachSupsub(e,{base:r})}return new Ye(this.bind(e,i),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=Pi(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,e);let r=[this.command];return this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&r.push("\\limits"),this.subsupPlacement==="adjacent"&&r.push("\\nolimits"),this.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(this.supsubToLatex(e)),ln(r)}};function Ju(t){if(Do(t))return t.map(r=>Ju(r));if(typeof t=="string")return Pe.fromJson(t);t=oe({},t);for(let r of Jm)t[r]&&(t[r]=Ju(t[r]));t.args&&(t.args=Vie(t.args)),t.array&&(t.array=Ju(t.array));let e=t.type,n;e==="accent"&&(n=R3.fromJson(t)),e==="array"&&(n=An.fromJson(t)),e==="box"&&(n=rd.fromJson(t)),e==="chem"&&(n=K$.fromJson(t)),e==="composition"&&(n=B$.fromJson(t)),e==="delim"&&(n=X$.fromJson(t)),e==="enclose"&&(n=Y1.fromJson(t)),e==="error"&&(n=oh.fromJson(t)),e==="extensible-symbol"&&(n=Uk.fromJson(t)),e==="genfrac"&&(n=mf.fromJson(t)),e==="group"&&(n=I$.fromJson(t)),e==="latex"&&(n=ai.fromJson(t)),e==="latexgroup"&&(n=_y.fromJson(t)),e==="leftright"&&(n=sr.fromJson(t)),e==="macro"&&(n=U$.fromJson(t)),e==="macro-argument"&&(n=Iie.fromJson(t)),e==="operator"&&(n=yf.fromJson(t)),e==="overlap"&&(n=gf.fromJson(t)),e==="overunder"&&(n=sa.fromJson(t)),e==="placeholder"&&(n=Oa.fromJson(t)),e==="prompt"&&(n=$$.fromJson(t)),e==="phantom"&&(n=Z1.fromJson(t)),e==="sizeddelim"&&(n=Y$.fromJson(t)),e==="spacing"&&(n=Q1.fromJson(t)),e==="subsup"&&(n=N3.fromJson(t)),e==="surd"&&(n=lG.fromJson(t)),e==="text"&&(n=X1.fromJson(t)),e==="tooltip"&&(n=jk.fromJson(t)),n||(n=Pe.fromJson(t));for(let r of Jm)t[r]&&n.setChildren(t[r],r);return t.verbatimLatex!==void 0&&(n.verbatimLatex=t.verbatimLatex),t.subsupPlacement&&(n.subsupPlacement=t.subsupPlacement),t.explicitSubsupPlacement&&(n.explicitSubsupPlacement=!0),t.isFunction&&(n.isFunction=!0),t.isExtensibleSymbol&&(n.isExtensibleSymbol=!0),t.skipBoundary&&(n.skipBoundary=!0),t.captureSelection&&(n.captureSelection=!0),n}function Vie(t){if(t&&Array.isArray(t))return t.map(e=>e==="<null>"?null:typeof e=="object"&&"group"in e?{group:e.group.map(n=>Ju(n))}:typeof e=="object"&&"atoms"in e?e.atoms.map(n=>Ju(n)):e)}var LP={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams"],"ams-italic":["AMS-Regular","ML__ams"],"ams-bolditalic":["AMS-Regular","ML__ams"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak"],"fraktur-italic":["Fraktur-Regular","ML__frak"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb"],"double-struck-italic":["AMS-Regular","ML__bb"],"double-struck-bolditalic":["AMS-Regular","ML__bb"]},C5={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},hG=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,qie=/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/,Kie=[/^[a-z]$/,/^[A-Z]$/,hG,qie],Wie={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]},Xie=class extends fs{constructor(){super("math")}createAtom(t,e,n){var r,i,o,s,a,l;if(e===null)return new Pe({type:"mord",mode:"math",command:t,value:t,style:n});let c=(o=(i=globalThis.MathfieldElement)==null?void 0:i.isFunction((r=e.command)!=null?r:t))!=null?o:!1;if(e.definitionType==="symbol"){let d=new Pe({type:(s=e.type)!=null?s:"mord",mode:"math",command:(a=e.command)!=null?a:t,value:String.fromCodePoint(e.codepoint),style:n});return c&&(d.isFunction=!0),t.startsWith("\\")&&(d.verbatimLatex=t),d}let u=new Pe({type:"mord",mode:"math",command:(l=e.command)!=null?l:t,value:t,style:n});return c&&(u.isFunction=!0),t.startsWith("\\")&&(u.verbatimLatex=t),u}serialize(t,e){let n=Jie(t,we(oe({},e),{defaultMode:"math"}));return n.length===0||e.defaultMode!=="text"?n:["$ ",...n," $"]}getFont(t,e){if(e.variant,e.fontFamily){let[a,l]=LP[e.fontFamily];return l&&(t.classes+=" "+l),a}let{variant:n}=e,{variantStyle:r}=e;n==="normal"&&!r&&/[\u00A3\u0131\u0237]/.test(t.value)&&(n="main",r="italic"),n==="normal"&&!r&&t.value.length===1&&Kie.forEach((a,l)=>{var c;a.test(t.value)&&Wie[(c=e.letterShapeStyle)!=null?c:"tex"][l]==="it"&&(r="italic")}),r==="up"&&(r=void 0);let i=r?n+"-"+r:n,[o,s]=LP[i];return C5[n]&&!C5[n].test(t.value)?(t.value=ZH(t.value,n,r),null):(hG.test(t.value)&&(t.classes+=" lcGreek"),s&&(t.classes+=" "+s),o)}};function Jie(t,e){let{parent:n}=t[0],r=RP(n);return ud(t,"variant").map(i=>{let o=RP(i[0]),s="";o&&o!==r&&(s={calligraphic:"\\mathcal",fraktur:"\\mathfrak","double-struck":"\\mathbb",script:"\\mathscr",monospace:"\\mathtt","sans-serif":"\\mathsf",normal:"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"\\mathbf","normal-bolditalic":"\\mathbfit",ams:"","ams-italic":"\\mathit","ams-bold":"\\mathbf","ams-bolditalic":"\\mathbfit",main:"","main-italic":"\\mathit","main-bold":"\\mathbf","main-bolditalic":"\\mathbfit"}[o]);let a=ln(i.map(l=>l._serialize(e)));return s?Vn(s,a):a})}function RP(t){if(!t)return"";let{style:e}=t;if(e.variant===void 0)return"";let n=e.variant;return!["calligraphic","fraktur","double-struck","script","monospace","sans-serif"].includes(e.variant)&&e.variantStyle&&e.variantStyle!=="up"&&(n+="-"+e.variantStyle),n}new Xie;function Yie(t,e){return t.map(n=>n._serialize(e))}function Zie(t,e){return ud(t,"fontShape").map(n=>{let r=Yie(n,e),{fontShape:i}=n[0].style,o="";return i==="it"&&(o="\\textit"),i==="sl"&&(o="\\textsl"),i==="sc"&&(o="\\textsc"),i==="n"&&(o="\\textup"),!o&&i?`{${Vn("\\fontshape",i)}${ln(r)}}`:o?Vn(o,ln(r)):ln(r)})}function Qie(t,e){return ud(t,"fontSeries").map(n=>{let r=Zie(n,e),{fontSeries:i}=n[0].style,o="";return i==="b"&&(o="\\textbf"),i==="l"&&(o="\\textlf"),i==="m"&&(o="\\textmd"),i&&!o?`{${Vn("\\fontseries",i)}${ln(r)}}`:o?Vn(o,ln(r)):ln(r)})}function eoe(t,e){return ud(t,"fontSize").map(n=>{var r,i;let o=Qie(n,e),s=(i=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][(r=n[0].style.fontSize)!=null?r:""])!=null?i:"";return s?`${s} ${ln(o)}`:ln(o)})}function toe(t,e,n){return ud(t,"fontFamily").map(r=>{var i,o;let s=eoe(r,e),a=(o={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[(i=r[0].style.fontFamily)!=null?i:""])!=null?o:"";return a?`\\${a}{${ln(s)}}`:r[0].style.fontFamily?`{\\fontfamily{${r[0].style.fontFamily}} ${ln(s)}}`:n?`\\text{${ln(s)}}`:ln(s)})}var BP={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"},noe=class extends fs{constructor(){super("text")}createAtom(t,e,n){return e&&e.definitionType==="symbol"?new X1(t,String.fromCodePoint(e.codepoint),n??{}):null}serialize(t,e){return toe(t,we(oe({},e),{defaultMode:"text"}),e.defaultMode!=="text")}getFont(t,e){var n,r,i,o,s;let{fontFamily:a}=e;if(BP[a]?t.classes+=" "+BP[a]:a&&t.setStyle("font-family",a),e.fontShape&&(t.classes+=" ",t.classes+=(n={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape])!=null?n:""),e.fontSeries){let l=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);l&&(t.classes+=" ",t.classes+=(i={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(r=l[1])!=null?r:""])!=null?i:"",t.classes+=" ",t.classes+=(s={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(o=l[2])!=null?o:""])!=null?s:"")}return"Main-Regular"}};new noe;var roe=class extends fs{constructor(){super("latex")}createAtom(t){return new ai(t)}serialize(t,e){return t.filter(n=>n instanceof ai&&!n.isSuggestion).map(n=>n.value)}getFont(){return null}};new roe;var ioe={id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","",""],KeyB:["x","X","",""],KeyC:["j","J","",""],KeyD:["e","E","",""],KeyE:[".",">","",""],KeyF:["u","U","",""],KeyG:["i","I","",""],KeyH:["d","D","",""],KeyI:["c","C","",""],KeyJ:["h","H","",""],KeyK:["t","T","",""],KeyL:["n","N","",""],KeyM:["m","M","",""],KeyN:["b","B","",""],KeyO:["r","R","",""],KeyP:["l","L","",""],KeyQ:["'",'"',"",""],KeyR:["p","P","",""],KeyS:["o","O","",""],KeyT:["y","Y","",""],KeyU:["g","G","",""],KeyV:["k","K","",""],KeyW:[",","<","",""],KeyX:["q","Q","",""],KeyY:["f","F","",""],KeyZ:[";",":","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," "," "," "],Minus:["[","{","",""],Equal:["]","}","",""],BracketLeft:["/","?","",""],BracketRight:["=","+","",""],Backslash:["\\","|","",""],Semicolon:["s","S","",""],Quote:["-","_","",""],Backquote:["`","~","`","`"],Comma:["w","W","",""],Period:["v","V","",""],Slash:["z","Z","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["","","",""],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},M5={id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," "," "," "],Minus:["-","_","",""],Equal:["=","+","",""],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","",""],Semicolon:[";",":","",""],Quote:["'",'"',"",""],Backquote:["`","","`","`"],Comma:[",","<","",""],Period:[".",">","",""],Slash:["/","?","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["","","",""],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},fG={id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","&","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," ","",""],Minus:["-","_","",""],Equal:["=","+","",""],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","",""],Semicolon:[";",":","",""],Quote:["'",'"',"",""],Backquote:["`","~","",""],Comma:[",","<","",""],Period:[".",">","",""],Slash:["/","?","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}},pG={id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},ooe={id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","","|"],KeyM:[",","?","",""],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","",""],Digit3:['"',"3","",""],Digit4:["'","4","",""],Digit5:["(","5","{","["],Digit6:["","6","",""],Digit7:["","7","",""],Digit8:["!","8","",""],Digit9:["","9","",""],Digit0:["","0","",""],Space:[" "," "," "," "],Minus:[")","","}","]"],Equal:["-","_","",""],BracketLeft:["^","","",""],BracketRight:["$","*","",""],Backslash:["`","","@","#"],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["<",">","",""],Comma:[";",".","",""],Period:[":","/","","\\"],Slash:["=","+","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","",""],NumpadEqual:["=","=","=","="]}},soe={id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["","7","`",""],Digit8:["_","8","\\",""],Digit9:["","9","^",""],Digit0:["","0","@",""],Space:[" "," ","",""],Minus:[")","","]",""],Equal:["=","+","}",""],BracketLeft:["^","","",""],BracketRight:["$","","",""],Backslash:["*","","",""],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},aoe={id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","n","N"],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","","<"],KeyX:["x","X","",">"],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{","$"],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["","7","`",""],Digit8:["_","8","\\",""],Digit9:["","9","^",""],Digit0:["","0","@",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","","]",""],Equal:["=","+","}",""],BracketLeft:["","","",""],BracketRight:["$","","",""],Backslash:["*","","",""],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["","~","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","","",""],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""]}},loe={id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","@",""],KeyM:["m","M","",""],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","","#"],Digit4:["4","$","",""],Digit5:["5","%","[",""],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{",""],Digit9:["9",")","}",""],Digit0:["0","=","",""],Space:[" "," "," "," "],Minus:["","?","",""],Equal:["","`","'",""],BracketLeft:["","","",""],BracketRight:["+","*","",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["<",">","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","","",""],NumpadEqual:["=","=","=","="]}},coe={id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["","?","\\",""],Equal:["","`","",""],BracketLeft:["","","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["^","","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}},uoe={id:"linux.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["","?","\\",""],Equal:["","","",""],BracketLeft:["","","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["","","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],PrintScreen:["","","",""],PageUp:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",",","",","],IntlBackslash:["<",">","|",""],AltRight:["\r","\r","\r","\r"],MetaRight:[".",".",".","."]}},doe={id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C",""," "],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H",""," "],KeyI:["i","I"," "," "],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L"," ",""],KeyM:["m","M","",""],KeyN:["n","N"," ",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R",""," "],KeyS:["s","S",""," "],KeyT:["t","T","",""],KeyU:["u","U"," "," "],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y",""," "],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&",""," "],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," "," "," "],Minus:["'","?","",""],Equal:["","","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","~",""],Quote:["","","{",""],Backquote:["<",">","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["","","\\",""]}},hoe={id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","~",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["","","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","",""],Quote:["","","{",""],Backquote:["","","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},foe={id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","&"],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","n","N"],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",">"],KeyY:["y","Y","",""],KeyZ:["z","Z","","<"],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","~","$"],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\",""],Equal:["","","","~"],BracketLeft:["","","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","~",""],Quote:["","","{","{"],Backquote:["","","\\","\\"],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|",""],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}};function mG(t){let e=t.split("+"),n={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:e.pop()};return e.includes("shift")&&(n.shift=!0),e.includes("alt")&&(n.alt=!0),e.includes("ctrl")&&(n.ctrl=!0),e.includes("cmd")&&(n.cmd=!0),e.includes("win")&&(n.win=!0),e.includes("meta")&&(n.meta=!0),n}function Qp(t){let e="";return t.shift&&(e+="shift+"),t.alt&&(e+="alt+"),t.ctrl&&(e+="ctrl+"),t.cmd&&(e+="cmd+"),t.win&&(e+="win+"),t.meta&&(e+="meta+"),e+t.key}var poe={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},Rw=[];function Hk(){switch(m0()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function as(t){(!t.platform||t.platform===Hk())&&Rw.push(t)}function moe(t,e){var n;let r={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!t)return r;for(let[i,o]of Object.entries(e.mapping)){if(o[0]===t)return r.key=`[${i}]`,r;if(o[1]===t)return r.shift=!0,r.key=`[${i}]`,r;if(o[2]===t)return r.alt=!0,r.key=`[${i}]`,r;if(o[3]===t)return r.shift=!0,r.alt=!0,r.key=`[${i}]`,r}return r.key=(n=poe[t])!=null?n:"",r}function goe(t){if(t.code)return t;let e=Object.entries(y1().mapping),n=!1,r=!1,i="";for(let o=0;o<4;o++){for(let[s,a]of e)if(a[o]===t.key){i=s,o===3?(n=!0,r=!0):o===2?n=!0:o===1&&(r=!0);break}if(i)break}return new KeyboardEvent(t.type,we(oe({},t),{altKey:n,shiftKey:r,code:i}))}function yoe(t){var e,n;if(!t||t.key==="Unidentified"||t.key==="Dead")return;let r=t.shiftKey&&t.altKey?3:t.altKey?2:t.shiftKey?1:0;for(let i of Rw)((e=i.mapping[t.code])==null?void 0:e[r])===t.key?i.score+=1:(n=i.mapping[t.code])!=null&&n[r]&&(i.score=0);Rw.sort((i,o)=>o.score-i.score)}function y1(){return Rw[0]}function voe(){switch(Hk()){case"apple":return M5;case"windows":return fG;case"linux":return pG}return M5}switch(Hk()){case"apple":as(M5),as(ooe),as(doe),as(loe);break;case"windows":as(fG),as(soe),as(hoe),as(coe);break;case"linux":as(pG),as(aoe),as(foe),as(uoe);break}as(ioe);function $k(t){var e;let n=/macos|ios/.test(m0()),r=t.split("+"),i="";for(let o of r)i&&(i+=n?"":'<span class="ML__shortcut-join">+</span>'),o.startsWith("[Key")?i+=o.slice(4,5):o.startsWith("Key")?i+=o.slice(3,4):o.startsWith("[Digit")?i+=o.slice(6,7):o.startsWith("Digit")?i+=o.slice(5,6):i+=(e={cmd:"",meta:n?"":"Ctrl",shift:n?"":"Shift",alt:n?"":"Alt",ctrl:n?"":"Ctrl","\n":n?"":"Return","[return]":n?"":"Return","[enter]":n?"":"Enter","[tab]":n?"":"Tab","[escape]":"Esc","[backspace]":n?"":"Backspace","[delete]":n?"":"Del","[pageup]":n?"":"Page Up","[pagedown]":n?"":"Page Down","[home]":n?"":"Home","[end]":n?"":"End","[space]":"Space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"",up:"",right:"",down:"","[arrowleft]":"","[arrowup]":"","[arrowright]":"","[arrowdown]":""}[o.toLowerCase()])!=null?e:o.toUpperCase();return i}function Bw(t){if(t instanceof MouseEvent||t instanceof PointerEvent)return{x:t.clientX,y:t.clientY};if(t instanceof TouchEvent){let e=[...t.touches].reduce((r,i)=>({x:r.x+i.clientX,y:r.y+i.clientY}),{x:0,y:0}),n=t.touches.length;return{x:e.x/n,y:e.y/n}}}function Ah(t){let e={alt:!1,control:!1,shift:!1,meta:!1};return(t instanceof MouseEvent||t instanceof PointerEvent||t instanceof TouchEvent||t instanceof KeyboardEvent)&&(t.altKey&&(e.alt=!0),t.ctrlKey&&(e.control=!0),t.metaKey&&(e.meta=!0),t.shiftKey&&(e.shift=!0)),e}function boe(t,e){return!t&&e||t&&!e?!1:!t||!e?!0:t.alt===e.alt&&t.control===e.control&&t.shift===e.shift&&t.meta===e.meta}var xoe=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function I3(t){return t.ctrlKey||t.metaKey||["Dead","Process"].includes(t.key)?!1:t.code===""?!0:xoe.has(t.code)}function Pw(){var t;let e=document.activeElement;for(;(t=e==null?void 0:e.shadowRoot)!=null&&t.activeElement;)e=e.shadowRoot.activeElement;return e}var Ma=class tc{static get scrim(){return tc._scrim||(tc._scrim=new tc),tc._scrim}static open(e){tc.scrim.open(e)}static close(){tc.scrim.close()}static get state(){return tc.scrim.state}static get element(){return tc.scrim.element}constructor(e){var n,r;this.lightDismiss=(n=e==null?void 0:e.lightDismiss)!=null?n:!0,this.translucent=(r=e==null?void 0:e.translucent)!=null?r:!1,this.state="closed"}get element(){if(this._element)return this._element;let e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="var(--scrim-zindex, 10099)",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var n;if(this.state!=="closed")return;this.state="opening",this.onDismiss=e==null?void 0:e.onDismiss,this.savedActiveElement=Pw();let{element:r}=this;((n=e==null?void 0:e.root)!=null?n:document.body).appendChild(r),r.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let i=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let o=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${o+i}px`,e!=null&&e.child&&r.append(e.child),this.state="open"}close(){var e,n,r,i;if(this.state!=="open"){this.element.parentElement;return}this.state="closing",typeof this.onDismiss=="function"&&this.onDismiss(),this.onDismiss=void 0;let{element:o}=this;o.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),o.remove(),document.body.style.overflow=(e=this.savedOverflow)!=null?e:"",document.body.style.marginRight=(n=this.savedMarginRight)!=null?n:"",Pw()!==this.savedActiveElement&&((i=(r=this.savedActiveElement)==null?void 0:r.focus)==null||i.call(r)),o.innerHTML="",this.state="closed"}handleEvent(e){this.lightDismiss&&(e.target===this._element&&e.type==="click"?(this.close(),e.preventDefault(),e.stopPropagation()):e.target===document&&(e.type==="touchmove"||e.type==="scroll")&&(this.close(),e.preventDefault(),e.stopPropagation()))}};function _oe(t,e,n){let r=null,i=null,o=!1,s=!1,a=!1,l=new AbortController,c=l.signal;return t.addEventListener("keydown",u=>{if(o||u.key==="Process"||u.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(u.code)){r=null;return}r=u,i=null,n.onKeystroke(u)?t.textContent="":r=null},{capture:!0,signal:c}),t.addEventListener("keypress",u=>{o||(r&&i&&n.onKeystroke(r),i=u)},{capture:!0,signal:c}),t.addEventListener("compositionstart",u=>{t.textContent="",o=!0,n.onCompositionStart(u.data)},{capture:!0,signal:c}),t.addEventListener("compositionupdate",u=>{o&&n.onCompositionUpdate(u.data)},{capture:!0,signal:c}),t.addEventListener("compositionend",u=>{t.textContent="",o&&(o=!1,n.onCompositionEnd(u.data))},{capture:!0,signal:c}),t.addEventListener("beforeinput",u=>u.stopImmediatePropagation(),{signal:c}),t.addEventListener("input",u=>{var d;if(!o&&(t.textContent="",u.inputType!=="insertCompositionText")){if(u.inputType==="insertFromPaste"){u.preventDefault(),u.stopPropagation();return}n.onInput((d=u.data)!=null?d:""),u.preventDefault(),u.stopPropagation()}},{signal:c}),t.addEventListener("paste",u=>{t.focus({preventScroll:!0}),t.textContent="",n.onPaste(u)||u.preventDefault(),u.stopImmediatePropagation()},{signal:c}),t.addEventListener("cut",u=>n.onCut(u),{capture:!0,signal:c}),t.addEventListener("copy",u=>n.onCopy(u),{capture:!0,signal:c}),t.addEventListener("blur",u=>{var d,h;if(((h=(d=u.relatedTarget)==null?void 0:d._mathfield)==null?void 0:h.element)===e){t.focus({preventScroll:!0}),u.preventDefault(),u.stopPropagation();return}let f=!1,p=u.relatedTarget;for(;p;){if(p.classList.contains("ML__keyboard")){f=!0;break}p=p.parentElement}if(f){t.focus({preventScroll:!0}),u.preventDefault(),u.stopPropagation();return}let v=Ma.state;if(v==="open"||v==="opening"){u.preventDefault(),u.stopPropagation();return}if(u.relatedTarget===u.target.getRootNode().host){u.preventDefault(),u.stopPropagation();return}a||s||(a=!0,r=null,i=null,n.onBlur(),a=!1)},{capture:!0,signal:c}),t.addEventListener("focus",u=>{a||s||(s=!0,n.onFocus(),s=!1)},{capture:!0,signal:c}),{dispose:()=>l.abort(),cancelComposition:()=>{o&&(t.blur(),requestAnimationFrame(()=>t.focus({preventScroll:!0})))},blur:()=>{typeof t.blur=="function"&&t.blur()},focus:()=>{!s&&typeof t.focus=="function"&&t.focus({preventScroll:!0})},hasFocus:()=>Pw()===t,setAriaLabel:u=>t.setAttribute("aria-label",u),setValue:u=>{var d;t.textContent=u,t.style.left="-1000px",(d=window.getSelection())==null||d.selectAllChildren(t)},moveTo:(u,d)=>{t.style.top=`${d}px`,t.style.left=`${u}px`}}}function Pp(t){var e;if(!t||!I3(t))return"";let n;return t.key==="Unidentified"&&t.target&&(n=t.target.value),n=(e=n??t.key)!=null?e:t.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(n)&&(n=""),n}function gG(t){t=goe(t);let e=[];return t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.length===0?`[${t.code}]`:(e.push(`[${t.code}]`),e.join("+"))}function woe(t){if(oa()){let e=m0(),n=t.startsWith("!"),r=t.endsWith(e);if(n&&!r||!n&&r)return!0}return t==="!other"?!1:t==="other"}function Soe(t,e,n){if(t.length===0)return"";let r=Qp(mG(gG(n))),i=Qp({key:n.key,shift:n.shiftKey,alt:n.altKey,ctrl:n.ctrlKey,meta:n.metaKey||n.ctrlKey&&/macos|ios/.test(m0()),cmd:!1,win:!1});for(let o=t.length-1;o>=0;o--)if((t[o].key===r||t[o].key===i)&&(!t[o].ifMode||t[o].ifMode===e))return t[o].command;return""}function PP(t){let e=t;return Do(e)&&(e=e.length>0?e[0]+"("+e.slice(1).join("")+")":""),e}function Aoe(t,e){let n=[];if(typeof e=="string"){let o=cie[e];Do(o)?n=o.slice():o&&n.push(o)}let r=PP(e),i=new RegExp("^"+r.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let o of t)i.test(PP(o.command))&&n.push(o.key);return n.map($k)}function Coe(t,e){if(t.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(t.ifPlatform))throw new Error(`Unexpected platform "${t.ifPlatform}" for keybinding ${t.key}`);if(t.ifLayout!==void 0&&(e.score===0||!t.ifLayout.includes(e.id)))return;let n=mG(t.key),r=t.ifPlatform;if(n.cmd){if(r&&r!=="macos"&&r!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+r+`"
"cmd" modifier can only be used with macOS or iOS platform.`);r||(r=m0()==="ios"?"ios":"macos"),n.win=!1,n.cmd=!1,n.meta=!0}if(n.win){if(r&&r!=="windows")throw new Error('Unexpected "win" modifier with platform "'+r+`"
"win" modifier can only be used with Windows platform.`);r="windows",n.win=!1,n.cmd=!1,n.meta=!0}if(r&&!woe(r))return;if(/^\[.+\]$/.test(n.key))return we(oe({},t),{key:Qp(n)});let i=moe(n.key,e);if(!i)return we(oe({},t),{key:Qp(n)});if(i.shift&&n.shift||i.alt&&n.alt)throw new Error(`The keybinding ${t.key} (${E5(t.command)}) is conflicting with the key combination ${Qp(i)} using the ${e.displayName} keyboard layout`);return i.shift=i.shift||n.shift,i.alt=i.alt||n.alt,i.meta=n.meta,i.ctrl=n.ctrl,we(oe({},t),{key:Qp(i)})}function E5(t){if(Array.isArray(t)){let e=[...t];return e.shift()+"("+e.map(n=>typeof n=="string"?`"${n}"`:n.toString()).join(", ")+")"}return t}function Moe(t,e){let n=[],r=[];for(let i of t)try{let o=Coe(i,e);if(!o)continue;let s=r.find(a=>a.key===o.key&&a.ifMode===o.ifMode);if(s)throw new Error(`Ambiguous key binding ${i.key} (${E5(i.command)}) matches ${s.key} (${E5(s.command)}) with the ${e.displayName} keyboard layout`);r.push(o)}catch(o){o instanceof Error&&n.push(o.message)}return[r,n]}var Eoe=class extends Gn{constructor(){super("latex")}createAtom(t){return new ai(t)}onPaste(t,e){if(!e)return!1;let n=typeof e=="string"?e:e.getData("application/x-latex")||e.getData("text/plain");return n&&t.model.contentWillChange({inputType:"insertFromPaste",data:n})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,n)&&(t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),ar(t)),t.startRecording(),!0):!1}insert(t,e,n){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;n||(n={}),n.insertionMode||(n.insertionMode="replaceSelection"),n.selectionMode||(n.selectionMode="placeholder");let{silenceNotifications:r}=t;n.silenceNotifications&&(t.silenceNotifications=!0);let i=t.silenceNotifications;t.silenceNotifications=!0,n.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(Oi(t.selection)):n.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):n.insertionMode==="insertBefore"?t.collapseSelection("backward"):n.insertionMode==="insertAfter"&&t.collapseSelection("forward");let o=[];for(let l of e)Dre.test(l)&&o.push(new ai(l));let s=t.at(t.position);if(s instanceof _y&&(s=s.lastChild),!(s.parent instanceof _y)){let l=new _y("");s.parent.addChildAfter(l,s),s=l.firstChild}let a=s.parent.addChildrenAfter(o,s);return t.silenceNotifications=i,n.selectionMode==="before"||(n.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(a)):a&&(t.position=t.offsetOf(a))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=r,!0}};function koe(t){return t.atoms.find(e=>e.type==="latexgroup")}function v1(t){var e,n;let r=t.atoms.find(i=>i.type==="latexgroup");return r?(n=(e=r.body)==null?void 0:e.filter(i=>i.type==="latex"))!=null?n:[]:[]}function yG(t,e){var n;let r=0,i=!1,o=Number.isFinite(e==null?void 0:e.before)?(n=e==null?void 0:e.before)!=null?n:0:t.lastOffset;for(;r<=o&&!i;){let l=t.at(r);i=l instanceof ai&&l.isSuggestion,i||r++}if(!i)return[void 0,void 0];let s=r,a=!1;for(;s<=o&&!a;){let l=t.at(s);a=!(l instanceof ai&&l.isSuggestion),a||s++}return[r-1,s-1]}new Eoe;function O3(t){let e=v1(t.model).filter(n=>n.isSuggestion);if(e.length!==0){t.model.position=t.model.offsetOf(e[0].leftSibling);for(let n of e)n.parent.removeChild(n)}}function tv(t,e){var n;let{model:r}=t;O3(t);for(let u of v1(r))u.isError=!1;if(!r.selectionIsCollapsed||t.options.popoverPolicy==="off"){Zm(t);return}let i=[],o=r.at(r.position);for(;o&&o instanceof ai&&/^[a-zA-Z\*]$/.test(o.value);)o=o.leftSibling;if(o&&o instanceof ai&&o.value==="\\")for(i.push(o),o=o.rightSibling;o&&o instanceof ai&&/^[a-zA-Z\*]$/.test(o.value);)i.push(o),o=o.rightSibling;let s=i.map(u=>u.value).join(""),a=Rre(t,s);if(a.length===0){if(/^\\[a-zA-Z\*]+$/.test(s))for(let u of i)u.isError=!0;Zm(t);return}let l=(n=e==null?void 0:e.atIndex)!=null?n:0;t.suggestionIndex=l<0?a.length-1:l%a.length;let c=a[t.suggestionIndex];if(c!==s){let u=i[i.length-1];u.parent.addChildrenAfter([...c.slice(s.length-c.length)].map(d=>new ai(d,{isSuggestion:!0})),u),Fh(t,{interactive:!0})}Doe(t,a)}function NP(t){let[e,n]=yG(t,{before:t.position});if(e===void 0||n===void 0)return!1;let r=!1;return t.getAtoms([e,n]).forEach(i=>{i.isSuggestion&&(i.isSuggestion=!1,r=!0)}),r}function Ym(t,e="accept",n){var r,i;Zm(t);let o=koe(t.model);if(!o)return!1;if(e==="accept-suggestion"||e==="accept-all"){let l=v1(t.model).filter(c=>c.isSuggestion);if(l.length!==0){for(let c of l)c.isSuggestion=!1;t.model.position=t.model.offsetOf(l[l.length-1])}if(e==="accept-suggestion")return l.length!==0}let s=v1(t.model).filter(l=>!l.isSuggestion).map(l=>l.value).join(""),a=o.leftSibling;return o.parent.removeChild(o),t.model.position=t.model.offsetOf(a),t.switchMode((r=n==null?void 0:n.mode)!=null?r:"math"),e==="reject"||(Gn.insert(t.model,s,{selectionMode:(i=n==null?void 0:n.selectItem)!=null&&i?"item":"placeholder",format:"latex",mode:"math"}),t.snapshot(),t.model.announce("replacement"),t.switchMode("math")),!0}function F3(t){var e;let n=document.getElementById(t);return n?n.dataset.refcount=Number(Number.parseInt((e=n.dataset.refcount)!=null?e:"0")+1).toString():(n=document.createElement("div"),n.setAttribute("aria-hidden","true"),n.dataset.refcount="1",n.id=t,document.body.append(n)),n}function Gk(t){var e;let n=document.getElementById(t);if(!n)return;let r=Number.parseInt((e=n.getAttribute("data-refcount"))!=null?e:"0");r<=1?n.remove():n.dataset.refcount=Number(r-1).toString()}function Toe(t,e){let n=new an({from:t.context}),r=new Pe({mode:"math",type:"root",body:Eo(e,{context:n})}),i=T3(ev(new Ye(r.render(n),{classes:"ML__base"}),n));return D3(i,{classes:"ML__latex"}).toMarkup()}function Doe(t,e){var n;if(e.length===0){Zm(t);return}let r="";for(let[o,s]of e.entries()){let a=s,l=Toe(t,s),c=Aoe(t.keybindings,a).join("<br>");r+=`<li role="button" data-command="${a}" ${o===t.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${a}</span><span class="ML__popover__command">${l}</span>`,c&&(r+=`<span class="ML__popover__keybinding">${c}</span>`),r+="</li>"}let i=Loe(t,`<ul>${r}</ul>`);k5()&&((n=i.querySelector(".ML__popover__current"))==null||n.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout(()=>{var o;i&&!k5()&&(i.classList.add("is-visible"),z3(t),(o=i.querySelector(".ML__popover__current"))==null||o.scrollIntoView({block:"nearest",inline:"nearest"}))},32)}function k5(){let t=document.getElementById("mathlive-suggestion-popover");return t?t.classList.contains("is-visible"):!1}function z3(t,e){var n;if(!t.element||t.element.mathfield!==t||!k5())return;if(((n=t.model.at(t.model.position))==null?void 0:n.type)!=="latex"){Zm(t);return}if(e!=null&&e.deferred){setTimeout(()=>z3(t),32);return}let r=iy(t.field);if(!r)return;let i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerWidth-document.documentElement.clientWidth,a=window.innerHeight-document.documentElement.clientHeight,l=window.mathVirtualKeyboard.boundingRect.height,c=document.getElementById("mathlive-suggestion-popover");r.x+c.offsetWidth/2>o-s?c.style.left=`${o-c.offsetWidth-s}px`:r.x-c.offsetWidth/2<0?c.style.left="0":c.style.left=`${r.x-c.offsetWidth/2}px`;let u=r.y-r.height;i-a-l-r.y<u?(c.classList.add("ML__popover--reverse-direction"),c.classList.remove("top-tip"),c.classList.add("bottom-tip"),c.style.top=`${r.y-r.height-c.offsetHeight-15}px`):(c.classList.remove("ML__popover--reverse-direction"),c.classList.add("top-tip"),c.classList.remove("bottom-tip"),c.style.top=`${r.y+15}px`)}function Zm(t){t.suggestionIndex=0;let e=document.getElementById("mathlive-suggestion-popover");e&&(e.classList.remove("is-visible"),e.innerHTML="")}function Loe(t,e){let n=document.getElementById("mathlive-suggestion-popover");return n||(n=F3("mathlive-suggestion-popover"),kc("suggestion-popover"),kc("core"),n.addEventListener("pointerdown",r=>r.preventDefault()),n.addEventListener("click",r=>{let i=r.target;for(;i&&!i.dataset.command;)i=i.parentElement;i&&(Ym(t,"reject"),Gn.insert(t.model,i.dataset.command,{selectionMode:"placeholder",format:"latex",mode:"math"}),t.dirty=!0,t.focus())})),n.innerHTML=globalThis.MathfieldElement.createHTML(e),n}function Roe(){document.getElementById("mathlive-suggestion-popover")&&(Gk("mathlive-suggestion-popover"),nd("suggestion-popover"),nd("core"))}function Boe(){let t=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(t.length===0)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${new Error().stack}").`),"";let e=t[1],n=e.match(/http.*\.ts[\?:]/);return n&&(e=t[2]),n=e.match(/(https?:.*):[0-9]+:[0-9]+/),n||(n=e.match(/at (.*(\.ts))[\?:]/),n||(n=e.match(/at (.*(\.mjs|\.js))[\?:]/))),n?n[1]:(console.error(t),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${e}").`),"")}var Ix=null,IP,OP,gC=((OP=(IP=globalThis==null?void 0:globalThis.document)==null?void 0:IP.currentScript)==null?void 0:OP.src)||Boe();async function vG(t){if(/^(?:[a-z+]+:)?\/\//i.test(t)){try{return new URL(t).href}catch{}if(t.startsWith("//"))try{return new URL(`${window.location.protocol}${t}`).href}catch{}return t}if(Ix===null)try{let e=await fetch(gC,{method:"HEAD"});e.status===200&&(Ix=e.url)}catch{console.error(`Invalid URL "${t}" (relative to "${gC}")`)}return new URL(t,Ix??gC).href}function Poe(t,e,n={}){return new FontFace(t,`url(${e}.woff2) format('woff2')`,n)}var hs="not-loaded";async function Noe(){return hs="not-loaded",U3()}async function U3(){var t;if(hs==="not-loaded"){if(hs="loading",(t=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))!=null?t:!1){hs="ready";return}if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let e=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],n=Array.from(document.fonts).map(o=>o.family);if(e.every(o=>n.includes(o))){hs="ready";return}if(!globalThis.MathfieldElement.fontsDirectory){hs="not-loaded";return}let r=await vG(globalThis.MathfieldElement.fontsDirectory);if(!r){document.body.classList.add("ML__fonts-did-not-load"),hs="error";return}let i=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular"],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(o=>Poe(o[0].replace(/-[a-zA-Z]+$/,""),`${r}/${o[0]}`,o[1]));try{(await Promise.all(i.map(o=>{try{return o.load()}catch{}}))).forEach(o=>document.fonts.add(o)),hs="ready";return}catch(o){console.error(`MathLive 0.98.6: The math fonts could not be loaded from "${r}"`,{cause:o}),document.body.classList.add("ML__fonts-did-not-load")}hs="error"}}}function Ioe(t,e=0){let n=3735928559^e,r=1103547991^e;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);n=Math.imul(n^o,2654435761),r=Math.imul(r^o,1597334677)}return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}function ar(t,e){t&&(t.dirty||(t.dirty=!0,requestAnimationFrame(()=>{hh(t)&&t.dirty&&(t.atomBoundsCache=new Map,Fh(t,e),t.atomBoundsCache=void 0)})))}function Ooe(t,e){var n;e=e??{};let r=new an({from:we(oe({},t.context),{atomIdsSettings:{seed:e.forHighlighting?Ioe(Pe.serialize([t.model.root],{expandMacro:!1,defaultMode:t.options.defaultMode})):"random",groupNumbers:(n=e.forHighlighting)!=null?n:!1},letterShapeStyle:t.options.letterShapeStyle}),mathstyle:t.options.defaultMode==="inline-math"?"textstyle":"displaystyle"}),i=t.model.root.render(r);return D3(ev(i,r),{classes:t.hasEditablePrompts?"ML__latex ML__prompting":"ML__latex",attributes:{translate:"no","aria-hidden":"true"}})}function bG(t,e){let{model:n}=t;n.root.caret=void 0,n.root.isSelected=!1,n.root.containsCaret=!0;for(let r of n.atoms)r.caret=void 0,r.isSelected=!1,r.containsCaret=!1;if(n.selectionIsCollapsed){let r=n.at(n.position);r.caret=t.model.mode;let i=r.parent;for(;i;)i.containsCaret=!0,i=i.parent}else{let r=n.getAtoms(n.selection,{includeChildren:!0});for(let i of r)i.isSelected=!0}return Ooe(t,e).toMarkup()}function Fh(t,e){if(!hh(t))return;e!=null||(e={});let n=t.element.querySelector("[part=virtual-keyboard-toggle]");n&&(n.style.display=t.hasEditableContent?"":"none");let r=t.field;if(!r)return;let i=t.isSelectionEditable&&t.hasFocus(),o=r.classList.contains("ML__focused");o&&!i?r.classList.remove("ML__focused"):!o&&i&&r.classList.add("ML__focused");let s=bG(t,e),a=t.element.querySelector("[part=menu-toggle]");if(a&&(t.model.atoms.length<=1||t.disabled||t.readOnly&&!t.hasEditableContent||t.userSelect==="none"?a.style.display="none":a.style.display=""),t.model.atoms.length<=1){let l=t.options.contentPlaceholder;l&&(s+=`<span part=placeholder class="ML__content-placeholder">${Zr(l)}</span>`)}r.innerHTML=globalThis.MathfieldElement.createHTML(s),Nw(t,e.interactive),t.dirty=!1}function Nw(t,e){let n=t.field;if(!n)return;for(let a of n.querySelectorAll(".ML__selection, .ML__contains-highlight"))a.remove();!(e!=null&&e)&&hs!=="error"&&hs!=="ready"&&setTimeout(()=>{hs==="ready"?Nw(t):setTimeout(()=>Nw(t),128)},32);let r=t.model,i=n.offsetWidth,o=n.getBoundingClientRect().width,s=Math.floor(o)/i;if(s=isNaN(s)?1:s,r.selectionIsCollapsed){z3(t,{deferred:!0});let a=r.at(r.position);for(;a&&a.type!=="prompt"&&!(a.containsCaret&&a.displayContainsHighlight);)a=a.parent;if(a!=null&&a.containsCaret&&a.displayContainsHighlight){let l=y$(t,J1(t,a),s);if(l){l.left/=s,l.right/=s,l.top/=s,l.bottom/=s;let c=document.createElement("div");c.classList.add("ML__contains-highlight"),c.style.position="absolute",c.style.left=`${l.left+1}px`,c.style.top=`${Math.ceil(l.top)}px`,c.style.width=`${Math.ceil(l.right-l.left)}px`,c.style.height=`${Math.ceil(l.bottom-l.top)}px`,n.insertBefore(c,n.childNodes[0])}}return}for(let a of Foe(b$(t,{excludeAtomsWithBackground:!0}))){a.left/=s,a.right/=s,a.top/=s,a.bottom/=s;let l=document.createElement("div");l.classList.add("ML__selection"),l.style.position="absolute",l.style.left=`${a.left}px`,l.style.top=`${a.top}px`,l.style.width=`${Math.ceil(a.right-a.left)}px`,l.style.height=`${Math.ceil(a.bottom-a.top-1)}px`,n.insertBefore(l,n.childNodes[0])}}function Foe(t){let e=[];for(let n of t){let r=!1;for(let i of e)if(n.left===i.left&&n.right===i.right&&n.top===i.top&&n.bottom===i.bottom){r=!0;break}r||e.push(n)}t=e,e=[];for(let n of t){let r=0;for(let i of t)if(n.left>=i.left&&n.right<=i.right&&n.top>=i.top&&n.bottom<=i.bottom&&(r+=1,r>1))break;r===1&&e.push(n)}return e}var xG=3,yl;function Jo(t,e){e=oe({target:"mathfield",canUndo:!1,audioFeedback:void 0,changeContent:!1,changeSelection:!1},e??{}),yl||(yl={});for(let n of Object.keys(t))yl[n],yl[n]=we(oe({},e),{fn:t[n]})}function Vk(t){let e;if(Array.isArray(t)){if(t[0]==="performWithFeedback")return Vk(t[1]);e=t[0]}else e=t;return e=e.replace(/-\w/g,n=>n[1].toUpperCase()),yl[e]}function ym(t){var e;return(e=Vk(t))==null?void 0:e.target}function zoe(t,e){var n;if(!e)return!1;let r,i=[],o=!1,s=!1;Do(e)?(r=e[0],i=e.slice(1)):r=e,r=r.replace(/-\w/g,c=>c[1].toUpperCase());let a=yl[r],l=a==null?void 0:a.target;if(l==="model"){if(!t.isSelectionEditable&&a!=null&&a.changeContent)return t.model.announce("plonk"),!1;/^(delete|add)/.test(r)&&(r!=="deleteBackward"&&t.flushInlineShortcutBuffer(),t.snapshot(r)),/^complete/.test(r)||O3(t),yl[r].fn(t.model,...i),tv(t),s=!0,o=!0}else if(l==="virtual-keyboard")s=(n=window.mathVirtualKeyboard.executeCommand(e))!=null?n:!1,o=!0;else if(yl[r]){if(!t.isSelectionEditable&&a!=null&&a.changeContent)return t.model.announce("plonk"),!1;/^(undo|redo)/.test(r)&&t.flushInlineShortcutBuffer(),s=yl[r].fn(t,...i),o=!0}else throw new Error(`Unknown command "${r}"`);return l!=="virtual-keyboard"&&(!t.model.selectionIsCollapsed||a!=null&&a.changeSelection&&e!=="deleteBackward")&&(t.flushInlineShortcutBuffer(),a!=null&&a.changeContent||t.stopCoalescingUndo(),t.defaultStyle={}),s&&ar(t),o}function Uoe(t,e){var n;if(!t)return!1;t.focus(),QG.keypressVibration&&WH()&&navigator.vibrate(xG);let r=Vk(e);globalThis.MathfieldElement.playSound((n=r==null?void 0:r.audioFeedback)!=null?n:"keypress");let i=t.executeCommand(e);return t.scrollIntoView(),i}Jo({performWithFeedback:(t,e)=>Uoe(t,e)});function joe(t){return tv(t,{atIndex:t.suggestionIndex+1}),!1}function Hoe(t){return tv(t,{atIndex:t.suggestionIndex-1}),!1}Jo({complete:Ym},{target:"mathfield",audioFeedback:"return",canUndo:!0,changeContent:!0,changeSelection:!0});Jo({nextSuggestion:joe,previousSuggestion:Hoe},{target:"mathfield",audioFeedback:"keypress",changeSelection:!0});var Iw="mathlive#virtual-keyboard-message";function qk(t){var e;return t.type!=="message"?!1:((e=t.data)==null?void 0:e.type)===Iw}var $oe=class _G{constructor(){this.targetOrigin=window.origin,this.originValidator="none",this._boundingRect=new DOMRect(0,0,0,0),this._isShifted=!1,window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new _G),this._singleton}set alphabeticLayout(e){this.sendMessage("update-setting",{alphabeticLayout:e})}set layouts(e){this.sendMessage("update-setting",{layouts:e})}get normalizedLayouts(){return[]}set editToolbar(e){this.sendMessage("update-setting",{editToolbar:e})}set actionKeycap(e){this.sendMessage("update-setting",{actionKeycap:e})}set shiftKeycap(e){this.sendMessage("update-setting",{shiftKeycap:e})}set backspaceKeycap(e){this.sendMessage("update-setting",{backspaceKeycap:e})}set tabKeycap(e){this.sendMessage("update-setting",{tabKeycap:e})}set container(e){throw new Error("Container inside an iframe cannot be changed")}show(e){this.sendMessage("show",e)}hide(e){this.sendMessage("hide",e)}get isShifted(){return this._isShifted}get visible(){return this._boundingRect.height>0}set visible(e){e?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(e){return this.sendMessage("execute-command",{command:e}),!0}updateToolbar(e){this.sendMessage("update-toolbar",e)}update(e){this.sendMessage("update-setting",e)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(e,n,r){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(n)||this.listeners[e].add(n)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(n=>{typeof n=="function"?n(e):n==null||n.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,n,r){this.listeners[e]&&this.listeners[e].delete(n)}handleEvent(e){if(qk(e)){if(!zk(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");this.handleMessage(e.data)}}handleMessage(e){let{action:n}=e;if(n==="execute-command"){let{command:r}=e;ym(r)==="virtual-keyboard"&&this.executeCommand(r);return}if(n==="synchronize-proxy"){this._boundingRect=e.boundingRect,this._isShifted=e.isShifted;return}if(n==="geometry-changed"){this._boundingRect=e.boundingRect,this.dispatchEvent(new Event("geometrychange"));return}}sendMessage(e,n={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and cant communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(oe({type:Iw,action:e},n),this.targetOrigin)}},Goe={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r","x^2","x^n","x^{#?}","x_n","x_i","x_{#?}",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"}]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"\\exponentialE",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:""}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:""}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}\\!#?\\,\\mathrm{d}x",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"espilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{latex:"\\phi",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"zeta",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"espilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\arsinh"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rarr",shift:"\\rArr",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},{class:"small hide-shift",latex:"\\lim_{#?}",shift:"\\lim_{x\\to\\infty}",variants:[{class:"small",latex:"\\liminf_{#?}"},{class:"small",latex:"\\limsup_{#?}"}]},"\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\arcosh"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift small",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\artanh"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\arctg"},{class:"small",latex:"\\tg"}]},{latex:"\\exp",insert:"\\exp\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\mathrm{d}",shift:"\\partial",variants:["\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:`
          .minimalist-backdrop {
            display: flex;
            justify-content: center;
          }          
          .minimalist-container {
            --keycap-height: 40px;
            --keycap-max-width: 53px;
            --keycap-small-font-size: 12px;
            background: var(--keyboard-background);
            padding: 20px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border: 1px solid var(--keyboard-border);
            box-shadow: 0 0 32px rgb(0 0 0 / 30%);
          }        
        `,backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},A_={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],",":["{,}",".",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"","","","",""],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"},""],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"},"","","",""],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"},"","","",""],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"},""],o:["","","","","","",""],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],u:["","","",""],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],y:["",""],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br> em"},{latex:'\\char"203A\\,\\char"2039',insert:"\\,",aside:"thin space<br> em"},{latex:'\\char"203A\\:\\char"2039',insert:"\\:",aside:"medium space<br> em"},{latex:'\\char"203A\\;\\char"2039',insert:"\\;",aside:"thick space<br> em"},{latex:'\\char"203A\\ \\char"2039',insert:"\\ ",aside:" em"},{latex:'\\char"203A\\enspace\\char"2039',insert:"\\enspace",aside:" em"},{latex:'\\char"203A\\quad\\char"2039',insert:"\\quad",aside:"1 em"},{latex:'\\char"203A\\qquad\\char"2039',insert:"\\qquad",aside:"2 em"}]},Sy;function wG(t,e){var n,r,i;let o=dd.singleton;if(!o)return;let s=em(t),a=(r=(n=o.getKeycap(s==null?void 0:s.id))==null?void 0:n.variants)!=null?r:"";if(typeof a=="string"&&!SG(a)||Array.isArray(a)&&a.length===0){e==null||e();return}let l={},c="";for(let v of qoe(a)){let b=CG(v),y=Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);l[y]=b;let[x,w]=j3(b);c+=`<div id=${y} class="item ${w}">${x}</div>`}let u=document.createElement("div");u.setAttribute("aria-hidden","true"),u.className="MLK__variant-panel",u.style.height="auto";let d=Object.keys(l).length,h=5;d===1?h=1:d===2||d===4?h=2:d===3||d===5||d===6?h=3:d>=7&&d<14&&(h=4),u.style.width=`calc(var(--variant-keycap-length) * ${h} + 12px)`,u.innerHTML=QG.createHTML(c),Ma.open({root:(i=o==null?void 0:o.container)==null?void 0:i.querySelector(".ML__keyboard"),child:u}),Sy=new AbortController;let{signal:f}=Sy,p=t==null?void 0:t.getBoundingClientRect();if(p){p.top-u.clientHeight<0&&(u.style.width="auto",d<=6?u.style.height="56px":d<=12?u.style.height="108px":d<=18?u.style.height="205px":u.classList.add("compact"));let v=Math.max(0,Math.min(window.innerWidth-u.offsetWidth,(p.left+p.right-u.offsetWidth)/2)),b=p.top-u.clientHeight+5;u.style.transform=`translate(${v}px, ${b}px)`,u.classList.add("is-visible"),requestAnimationFrame(()=>{u.addEventListener("pointerup",y=>{let x=em(y.target);!(x!=null&&x.id)||!l[x.id]||(T5(l[x.id]),Ay(),e==null||e(),y.preventDefault())},{capture:!0,passive:!1,signal:f}),u.addEventListener("pointerenter",y=>{let x=em(y.target);!(x!=null&&x.id)||!l[x.id]||x.classList.add("is-active")},{capture:!0,signal:f}),u.addEventListener("pointerleave",y=>{let x=em(y.target);!(x!=null&&x.id)||!l[x.id]||x.classList.remove("is-active")},{capture:!0,signal:f}),window.addEventListener("pointercancel",()=>{Ay(),e==null||e()},{signal:f}),window.addEventListener("pointerup",()=>{Ay(),e==null||e()},{signal:f})})}}function Ay(){Sy==null||Sy.abort(),Sy=null,Ma.state==="open"&&Ma.close()}function Voe(t){if(t==="foreground-color"){let e=[];for(let n of Object.keys(Oh))e.push({class:"swatch-button",label:'<span style="border: 3px solid '+Oh[n]+'"></span>',command:["applyStyle",{color:n}]});return e}if(t==="background-color"){let e=[];for(let n of Object.keys(Ih))e.push({class:"swatch-button",label:'<span style="background:'+Ih[n]+'"></span>',command:["applyStyle",{backgroundColor:n}]});return e}}function SG(t){return A_[t]!==void 0}function qoe(t){var e;return typeof t!="string"?t:(A_[t]||(A_[t]=(e=Voe(t))!=null?e:[]),A_[t])}function Koe(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n} !important`).join(";")}function Woe(t){return Object.keys(t).map(e=>`${e} {${Koe(t[e])}}`).join("")}function pg(t){if(!t)return"";let e=new an,n=new Pe({mode:"math",type:"root",body:Eo(t,{context:e,args:i=>i==="@"?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"})}),r=T3(ev(new Ye(n.render(e),{classes:"ML__base"}),e));return D3(r,{classes:"ML__latex"}).toMarkup()}function Cy(t){if(Array.isArray(t))return t.map(n=>Cy(n)).flat();let e=typeof t=="string"?{markup:t}:t;return"rows"in e&&Array.isArray(e.rows)&&(e.rows=e.rows.map(n=>n.map(r=>CG(r)))),e.id!=null||(e.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36)),[e]}function Xoe(){var t,e;let n=window.mathVirtualKeyboard.alphabeticLayout;if(n==="auto"){let s=y1();s&&(n=s.virtualLayout),(!n||n==="auto")&&(n=(t={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[Zt.locale.slice(0,2)])!=null?t:"qwerty")}let r={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},i=(e=r[n])!=null?e:r.qwerty,o=n==="azerty"?[[{label:"1",variants:"1"},{label:"2",shift:{latex:""},variants:"2"},{label:"3",shift:{latex:""},variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{label:"(",latex:"("},variants:"5"},{label:"6",shift:{label:")",latex:")"},variants:"6"},{label:"7",shift:{latex:""},variants:"7"},{label:"8",shift:{latex:""},variants:"8"},{label:"9",shift:{latex:""},variants:"9"},{label:"0",shift:{latex:""},variants:"0"}]]:[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"7"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let s of i){let a=[];for(let l of s)/[a-z]/.test(l)?a.push({label:l,class:"hide-shift",shift:{label:l.toUpperCase()},variants:SG(l)?l:void 0}):l==="~"?n!=="dvorak"?a.push("[backspace]"):a.push({label:"[backspace]",width:1}):l==="^"?a.push("[shift]"):l===" "&&a.push("[separator-5]");o.push(a)}return o.push(["[-]","[+]","[=]",{label:" ",width:1.5},{label:",",shift:";",variants:".",class:"hide-shift"},"[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:Cy({rows:o})}}function AG(t){if(t==="alphabetic")return Xoe();if(typeof t=="string")return AG(Goe[t]);let e;if("rows"in t&&Array.isArray(t.rows)){let i=t,o=Aw(i,["rows"]);e=we(oe({},o),{layers:Cy({rows:t.rows})})}else if("markup"in t&&typeof t.markup=="string"){let i=t,o=Aw(i,["markup"]);e=we(oe({},o),{layers:Cy(t.markup)})}else e=oe({},t),"layers"in t?e.layers=Cy(t.layers):console.error('MathLive 0.98.6: provide either a "rows", "markup" or "layers" property');let n=!1,r=!1;for(let i of e.layers)if(i.rows)for(let o of i.rows.flat()){vm(o)&&(n=!0);let s=o.command;typeof s=="string"&&["undo","redo","cut","copy","paste"].includes(s)&&(r=!0)}return(!("displayShiftedKeycaps"in t)||t.displayShiftedKeycaps===void 0)&&(e.displayShiftedKeycaps=n),(!("displayEditToolbar"in t)||t.displayEditToolbar===void 0)&&(e.displayEditToolbar=!r),e}function Joe(t,e){var n,r;let i='<div class="left">';if(t.normalizedLayouts.length>1)for(let[o,s]of t.normalizedLayouts.entries()){let a=s,l=[o===e?"selected":"layer-switch"];a.tooltip&&l.push("MLK__tooltip"),a.labelClass&&l.push(...a.labelClass.split(" ")),i+=`<div class="${l.join(" ")}"`,a.tooltip&&(i+=" data-tooltip='"+((n=qt(a.tooltip))!=null?n:a.tooltip)+"' "),o!==e&&(i+=`data-layer="${a.layers[0].id}"`),i+=`>${(r=a.label)!=null?r:"untitled"}</div>`}return i+="</div>",i}function Yoe(t,e){let n="";if(t.editToolbar==="none")return"";let r=[];e.selectionIsCollapsed?r.push("undo","redo","pasteFromClipboard"):r.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let i={undo:`<div class='action ${e.canUndo===!1?"disabled":""}'
          data-command='"undo"'
          data-tooltip='${qt("tooltip.undo")}'>
          <svg><use xlink:href='#svg-undo' /></svg>
      </div>`,redo:`<div class='action ${e.canRedo===!1?"disabled":""}'
          data-command='"redo"'
          data-tooltip='${qt("tooltip.redo")}'>
          <svg><use xlink:href='#svg-redo' /></svg>
      </div>`,cutToClipboard:`
        <div class='action'
            data-command='"cutToClipboard"'
            data-tooltip='${qt("tooltip.cut to clipboard")}'>
            <svg><use xlink:href='#svg-cut' /></svg>
        </div>
    `,copyToClipboard:`
        <div class='action'
            data-command='"copyToClipboard"'
            data-tooltip='${qt("tooltip.copy to clipboard")}'>
            <svg><use xlink:href='#svg-copy' /></svg>
        </div>
    `,pasteFromClipboard:`
        <div class='action'
            data-command='"pasteFromClipboard"'
            data-tooltip='${qt("tooltip.paste from clipboard")}'>
            <svg><use xlink:href='#svg-paste' /></svg>
        </div>
    `};return n+=r.map(o=>i[o]).join(""),n}function Zoe(t){for(let e of t)Qoe(e)}function Qoe(t){let e=dd.singleton;if(!e)return;let n={};if(!t.id){if(t.hasAttribute("data-label")&&(n.label=t.dataset.label),t.hasAttribute("data-latex")&&(n.latex=t.dataset.latex),t.hasAttribute("data-key")&&(n.key=t.dataset.key),t.hasAttribute("data-insert")&&(n.insert=t.dataset.insert),t.hasAttribute("data-variants")&&(n.variants=t.dataset.variants),t.hasAttribute("data-aside")&&(n.aside=t.dataset.aside),t.className&&(n.class=t.className),!n.label&&!n.latex&&!n.key&&!n.insert&&(n.latex=t.innerText,n.label=t.innerHTML),t.hasAttribute("data-command"))try{n.command=JSON.parse(t.dataset.command)}catch{}t.id=e.registerKeycap(n)}if(!t.innerHTML){let[r,i]=j3(n);t.innerHTML=globalThis.MathfieldElement.createHTML(r)}}function ese(){kc("virtual-keyboard"),kc("core"),U3()}function tse(){nd("core"),nd("virtual-keyboard")}var nse=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

<symbol id="svg-delete-backward" viewBox="0 0 576 512">
  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
</symbol>

<symbol id="svg-shift" viewBox="0 0 384 512">
  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
</symbol>

<symbol id="svg-commit" viewBox="0 0 512 512">
  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
</symbol>


<symbol id="circle-plus" viewBox="0 0 512 512"><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344c0 13.3 10.7 24 24 24s24-10.7 24-24V280h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V168c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"/></symbol>

<symbol id="svg-command" viewBox="0 0 640 512">
  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
</symbol>

<symbol id="svg-undo" viewBox="0 0 512 512">
  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
</symbol>
<symbol id="svg-redo" viewBox="0 0 512 512">
  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
</symbol>
<symbol id="svg-arrow-left" viewBox="0 0 320 512">
  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
</symbol>
<symbol id="svg-arrow-right" viewBox="0 0 320 512">
  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
</symbol>
<symbol id="svg-tab" viewBox="0 0 448 512">
  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
</symbol>
<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>
<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>
<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>
</symbol>
<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>
</symbol>
<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>
</symbol>
<symbol id="svg-trash" viewBox="0 0 448 512">
  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
</symbol>
<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>
</svg>`;function rse(t){t.resetKeycapRegistry(),ese();let e=document.createElement("div");e.className="ML__keyboard";let n=document.createElement("div");n.className="MLK__plate",n.innerHTML=globalThis.MathfieldElement.createHTML(nse+t.normalizedLayouts.map((s,a)=>ise(t,s,a)).join(""));let r=document.createElement("div");r.className="MLK__backdrop",r.appendChild(n),e.appendChild(r),e.addEventListener("pointerdown",sse,{passive:!1});let i=e.querySelectorAll(".ML__edit-toolbar");if(i)for(let s of i)s.addEventListener("click",a=>{var l,c;let u=a.target,d="";for(;u&&!d;)d=(l=u==null?void 0:u.getAttribute("data-command"))!=null?l:"",u=(c=u==null?void 0:u.parentElement)!=null?c:null;d&&t.executeCommand(JSON.parse(d))});Zoe(e.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let o=e.querySelectorAll(".MLK__layer");o.length>0;for(let s of o)s.addEventListener("pointerdown",a=>a.preventDefault());return t.currentLayer=t.latentLayer,e}function ise(t,e,n){let r=[];if(!("layers"in e))return"";for(let i of e.layers)r.push(`<div tabindex="-1" class="MLK__layer" id="${i.id}">`),(t.normalizedLayouts.length>1||e.displayEditToolbar)&&(r.push("<div class='MLK__toolbar' role='toolbar'>"),r.push(Joe(t,n)),e.displayEditToolbar&&r.push('<div class="ML__edit-toolbar right"></div>'),r.push("</div>")),r.push(ose(t,i)),r.push("</div>");return r.join("")}function ose(t,e){if(typeof e=="string")return e;let n="";if(typeof e.style=="string"?n+=`<style>${e.style}</style>`:typeof e.style=="object"&&(n+=`<style>${Woe(e.style)}</style>`),e.backdrop&&(n+=`<div class='${e.backdrop}'>`),e.container&&(n+=`<div class='${e.container}'>`),e.rows){n+="<div class=MLK__rows>";for(let r of e.rows){n+='<div dir="ltr" class=MLK__row>';for(let i of r)if(i){let o=t.registerKeycap(i),[s,a]=j3(i);/(^|\s)separator/.test(a)?n+=`<div class="${a}"`:n+=`<div tabindex="-1" id="${o}" class="${a}"`,i.tooltip&&(n+=` data-tooltip="${i.tooltip}"`),n+=`>${s}</div>`}n+="</div>"}n+="</div>"}else e.markup&&(n+=e.markup);return e.container&&(n+="</div>"),e.backdrop&&(n+="</div>"),n}function j3(t,e={shifted:!1}){var n,r,i,o,s,a,l;let c="",u=(n=t.class)!=null?n:"";if(e.shifted&&vm(t)&&(u+=" is-active"),e.shifted&&"shift"in t)typeof t.shift=="string"?c=pg(t.shift):typeof t.shift=="object"&&(c=t.shift.label?t.shift.label:(r=pg(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?r:""),typeof t.shift=="object"&&(u=(o=(i=t.shift.class)!=null?i:t.class)!=null?o:"");else{if(c=t.label?t.label:(s=pg(t.latex||t.insert||"")||t.key)!=null?s:"",t.shift){let d;typeof t.shift=="string"?d=pg(t.shift):t.shift.label?d=t.shift.label:d=(a=pg(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?a:"",c+=`<span class="MLK__shift">${d}</span>`}t.aside&&(c+=`<aside>${t.aside}</aside>`)}return t.layer&&!/layer-switch/.test(u)&&(u+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(u)||(u+=" MLK__keycap"),!/\bw[0-9]+\b/.test(u)&&t.width&&(u+=(l={0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"}[t.width])!=null?l:""),[c,u||"MLK__keycap"]}var Pd={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:["performWithFeedback","moveToPreviousChar"],shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:["performWithFeedback","extendSelectionBackward"]}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:["performWithFeedback","moveToNextChar"],shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:["performWithFeedback","extendSelectionForward"]}},"[up]":{class:"action hide-shift",label:"",command:["performWithFeedback","moveUp"],shift:{label:"",command:["performWithFeedback","extendSelectionUpward"]}},"[down]":{class:"action hide-shift",label:"",command:["performWithFeedback","moveDown"],shift:{label:"",command:["performWithFeedback","extendSelectionDownward"]}},"[return]":{class:"action hide-shift",command:["performWithFeedback","commit"],shift:{command:["performWithFeedback","addRowAfter"]},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action hide-shift",command:["performWithFeedback","commit"],shift:{label:"<svg class=svg-glyph><use xlink:href=#circle-plus /></svg>",command:["performWithFeedback","addRowAfter"]},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:["performWithFeedback","insertDecimalSeparator"],shift:",",class:"big-op hide-shift",label:"."},"[,]":{variants:",",command:["performWithFeedback","insertDecimalSeparator"],shift:".",class:"big-op hide-shift",label:","},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes","\\cdot"],latex:"\\cdot",label:"&times;",shift:{latex:"\\times"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:["performWithFeedback","deleteBackward"],label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:"tooltip.undo"},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>",tooltip:"tooltip.redo"},"[(]":{variants:[{latex:"\\lbrack",key:"["},"\\langle","\\lfloor","\\lceil",{latex:"\\lbrace",key:"{"}],key:"(",label:"(",shift:{label:"[",key:"["},class:"hide-shift"},"[)]":{variants:[{latex:"\\rbrack",key:"]"},"\\rangle","\\rfloor","\\rceil",{latex:"\\rbrace",key:"]"}],key:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function CG(t){var e;if(typeof t=="string"){if(t==="[.]"&&globalThis.MathfieldElement.decimalSeparator===","&&(t="[,]"),!Pd[t])return{latex:t};t={label:t}}let n;return"label"in t&&t.label&&Pd[t.label]&&(n=we(oe(oe({},Pd[t.label]),t),{label:Pd[t.label].label})),"key"in t&&t.key&&Pd[t.key]&&(n=we(oe(oe({},Pd[t.key]),t),{key:Pd[t.key].key})),n?(n.command==="insertDecimalSeparator"&&(n.label=(e=globalThis.MathfieldElement.decimalSeparator)!=null?e:"."),t.label==="[action]"&&(n=oe(oe({},n),window.mathVirtualKeyboard.actionKeycap)),t.label==="[shift]"&&(n=oe(oe({},n),window.mathVirtualKeyboard.shiftKeycap)),t.label==="[backspace]"&&(n=oe(oe({},n),window.mathVirtualKeyboard.backspaceKeycap)),t.label==="[tab]"&&(n=oe(oe({},n),window.mathVirtualKeyboard.tabKeycap)),n):t}var My;function sse(t){var e;if(t.button!==0)return;let n=dd.singleton;if(!n)return;let r=t.target;for(;r&&!r.getAttribute("data-layer");)r=r.parentElement;if(r){n.currentLayer=(e=r.getAttribute("data-layer"))!=null?e:"",t.preventDefault();return}let i=em(t.target);if(!(i!=null&&i.id))return;let o=n.getKeycap(i.id);if(!o)return;t.type;let s=new AbortController,a=s.signal;i.classList.add("is-pressed"),i.addEventListener("pointerenter",Ox(s),{capture:!0,signal:a}),i.addEventListener("pointerleave",Ox(s),{capture:!0,signal:a}),i.addEventListener("pointercancel",Ox(s),{signal:a}),i.addEventListener("pointerup",Ox(s),{signal:a}),vm(o)&&(i.classList.add("is-active"),n.shiftPressCount++),o.variants&&(My&&clearTimeout(My),My=setTimeout(()=>{i.classList.contains("is-pressed")&&(i.classList.remove("is-pressed"),i.classList.add("is-active"),t.target&&"releasePointerCapture"in t.target&&t.target.releasePointerCapture(t.pointerId),wG(i,()=>{s.abort(),i==null||i.classList.remove("is-active")}))},300)),t.preventDefault()}function Ox(t){return e=>{let n=em(e.target);if(!(n!=null&&n.id))return;let r=dd.singleton;if(!r)return;let i=r.getKeycap(n.id);if(i){if(e.type==="pointerenter"&&e.target===n&&e.isPrimary&&n.classList.add("is-pressed"),e.type==="pointercancel"){n.classList.remove("is-pressed"),vm(i)&&(r.shiftPressCount--,n.classList.toggle("is-active",r.isShifted)),t.abort();return}if(e.type==="pointerleave"&&e.target===n){n.classList.remove("is-pressed"),vm(i)&&(r.shiftPressCount--,n.classList.toggle("is-active",r.isShifted));return}if(e.type==="pointerup"){My&&clearTimeout(My),vm(i)?n.classList.toggle("is-active",r.isShifted):n.classList.contains("is-pressed")&&(n.classList.remove("is-pressed"),r.isShifted&&i.shift?typeof i.shift=="string"?r.executeCommand(["insert",i.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]):T5(i.shift):T5(i),r.shiftPressCount===1&&!e.shiftKey&&(r.shiftPressCount=0)),t.abort(),e.preventDefault();return}}}}function T5(t){var e;let n=t.command;!n&&t.insert&&(n=["insert",t.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),!n&&t.key&&(n=["typedText",t.key,{focus:!0,feedback:!0,simulateKeystroke:!0}]),!n&&t.latex&&(n=["insert",t.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),n||(n=["typedText",t.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),(e=dd.singleton)==null||e.executeCommand(n)}function ase(t){if(t.nodeType!==1)return!1;let e=t.classList;return e.contains("MLK__keycap")||e.contains("shift")||e.contains("action")||e.contains("fnbutton")||e.contains("bigfnbutton")}function em(t){if(!t)return;let e=t;for(;e&&!ase(e);)e=e.parentElement;return e??void 0}function vm(t){return!!t.class&&/(^|\s)shift($|\s)/.test(t.class)}var dd=class MG{constructor(){this.originalContainerBottomPadding=null,this.keycapRegistry={},this._shiftPressCount=0;var e,n,r;this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts=Object.freeze(["default"]),this._editToolbar="default",this._container=(n=(e=window.document)==null?void 0:e.body)!=null?n:null,this._visible=!1,this._rebuilding=!1,this.observer=new ResizeObserver(i=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}),this.listeners={};try{(r=window.top)==null||r.addEventListener("message",this)}catch{window.addEventListener("message",this)}document.body.addEventListener("focusin",i=>{let o=i.target;o!=null&&o.isConnected&&setTimeout(()=>{let s=FP();s&&!s.readOnly&&s.mathVirtualKeyboardPolicy==="auto"&&pre()&&this.show({animate:!0})},300)}),document.addEventListener("focusout",i=>{var o,s;((s=(o=i.target)==null?void 0:o.tagName)==null?void 0:s.toLowerCase())==="math-field"&&i.target.mathVirtualKeyboardPolicy!=="manual"&&setTimeout(()=>{FP()||this.hide()},300)})}get currentLayer(){var e,n,r;return(r=(n=(e=this._element)==null?void 0:e.querySelector(".MLK__layer.is-visible"))==null?void 0:n.id)!=null?r:""}set currentLayer(e){var n;if(!this._element){this.latentLayer=e;return}let r=e?this._element.querySelector(`#${e}.MLK__layer`):null;r||(r=this._element.querySelector(".MLK__layer")),r&&((n=this._element.querySelector(".MLK__layer.is-visible"))==null||n.classList.remove("is-visible"),r.classList.add("is-visible")),this.render()}get shiftPressCount(){return this._shiftPressCount}set shiftPressCount(e){var n;this._shiftPressCount=e>2||e<0?0:e,(n=this._element)==null||n.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.render()}get isShifted(){return this._shiftPressCount>0}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(e){let n="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);return this.keycapRegistry[n]=e,n}getKeycap(e){return e?this.keycapRegistry[e]:void 0}getLayer(e){let n=this.normalizedLayouts;for(let r of n)for(let i of r.layers)if(i.id===e)return i}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(e){this._alphabeticLayout=e,this.rebuild()}get actionKeycap(){return this._actionKeycap}set actionKeycap(e){this._actionKeycap=typeof e=="string"?{label:e}:e}get shiftKeycap(){return this._shiftKeycap}set shiftKeycap(e){this._shiftKeycap=typeof e=="string"?{label:e}:e}get backspaceKeycap(){return this._backspaceKeycap}set backspaceKeycap(e){this._backspaceKeycap=typeof e=="string"?{label:e}:e}get tabKeycap(){return this._tabKeycap}set tabKeycap(e){this._tabKeycap=typeof e=="string"?{label:e}:e}get layouts(){return this._layouts}set layouts(e){this.updateNormalizedLayouts(e),this.rebuild()}updateNormalizedLayouts(e){let n=Array.isArray(e)?[...e]:[e],r=n.findIndex(i=>i==="default");r>=0&&n.splice(r,1,"numeric","symbols","alphabetic","greek"),this._layouts=Object.freeze(n),this._normalizedLayouts=n.map(i=>AG(i))}get normalizedLayouts(){return this._normalizedLayouts||this.updateNormalizedLayouts(this._layouts),this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(e){this._editToolbar=e,this.rebuild()}get container(){return this._container}set container(e){this._container=e,this.rebuild()}static get singleton(){if(this._singleton===void 0)try{this._singleton=new MG}catch{this._singleton=null}return this._singleton}get style(){return this._style}addEventListener(e,n,r){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(n)||this.listeners[e].add(n)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(n=>{typeof n=="function"?n(e):n==null||n.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,n,r){this.listeners[e]&&this.listeners[e].delete(n)}get element(){return this._element}set element(e){var n;this._element!==e&&((n=this._element)==null||n.remove(),this._element=e)}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get boundingRect(){var e;if(!this._visible)return new DOMRect;let n=(e=this._element)==null?void 0:e.getElementsByClassName("MLK__plate")[0];return n?n.getBoundingClientRect():new DOMRect}adjustBoundingRect(){var e,n;let r=this.boundingRect.height;if(this.container===document.body){(e=this._element)==null||e.style.setProperty("--_keyboard-height",`calc(${r}px + var(--_padding-top) + var(--_padding-bottom) + env(safe-area-inset-bottom, 0))`);let i=r-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${i}px)`:`${i}px`}else(n=this._element)==null||n.style.setProperty("--_keyboard-height",`${r}px`)}rebuild(){if(this._rebuilding||!this._element)return;this._rebuilding=!0;let e=this.currentLayer;requestAnimationFrame(()=>{this._rebuilding=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.currentLayer=e,this.render(),this.adjustBoundingRect(),this._element.classList.add("is-visible"))})}render(){var e;if(!this._element)return;let n=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!!(n&&(n.backdrop||n.container)));let r=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(!r)return;let i=this.isShifted;for(let o of r){let s=this.getKeycap(o.id);if(s){let[a,l]=j3(s,{shifted:i});o.innerHTML=globalThis.MathfieldElement.createHTML(a),o.className=l,i&&typeof s.shift=="object"&&(e=s.shift)!=null&&e.tooltip?o.dataset.tooltip=s.shift.tooltip:!i&&s.tooltip&&(o.dataset.tooltip=s.tooltip)}}}show(e){var n;if(this._visible)return;let r=this.container;if(r&&window.mathVirtualKeyboard&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let i=this._element.getElementsByClassName("MLK__plate")[0];if(i&&this.observer.observe(i),r===window.document.body){let o=r.style.paddingBottom;this.originalContainerBottomPadding=o;let s=i.offsetHeight-1;r.style.paddingBottom=o?`calc(${o} + ${s}px)`:`${s}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),(n=this._element)==null||n.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.currentLayer=this.latentLayer}this._visible=!0,e!=null&&e.animate?requestAnimationFrame(()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",()=>{var i;return(i=this._element)==null?void 0:i.classList.remove("animate")},{once:!0}),this._element.classList.add("is-visible"),this.stateChanged())}):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(e){var n;let r=this.container;if(r&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let i=this._element.getElementsByClassName("MLK__plate")[0];i&&this.observer.unobserve(i),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),Ay(),tse(),(n=this._element)==null||n.remove(),this._element=void 0,this.originalContainerBottomPadding!==null&&(r.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var e,n;return(n=(e=this.element)==null?void 0:e.offsetHeight)!=null?n:0}buildAndAttachElement(){var e;this.element,this.element=rse(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",n=>{n.shiftKey||((n.ctrlKey||n.button===2)&&wG(n.target),n.preventDefault(),n.stopPropagation())},{capture:!0}),(e=this.container)==null||e.appendChild(this.element)}handleEvent(e){if(qk(e)){if(!zk(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");e.data.action==="disconnect"?this.connectedMathfieldWindow=void 0:e.data.action!=="update-setting"&&e.data.action!=="proxy-created"&&e.data.action!=="execute-command"&&(e.source,this.connectedMathfieldWindow=e.source),this.handleMessage(e.data,e.source)}if(this._element)switch(e.type){case"mouseup":case"blur":document.body.style.userSelect="",this.shiftPressCount=0;break;case"contextmenu":e.button!==2&&e.preventDefault();break;case"keydown":{e.key==="Shift"&&!e.repeat&&(this.shiftPressCount=1);break}case"keyup":{(e.key==="Shift"||!e.getModifierState("Shift")&&this.shiftPressCount!==2)&&(this.shiftPressCount=0);break}}}handleMessage(e,n){let{action:r}=e;if(r==="execute-command"){let{command:i}=e,o=ym(i);if(window.top!==void 0&&o!=="virtual-keyboard")return;this.executeCommand(i);return}if((r==="connect"||r==="show")&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},n),r!=="disconnect"&&window===window.top){if(r==="show"){typeof e.animate<"u"?this.show({animate:e.animate}):this.show();return}if(r==="hide"){typeof e.animate<"u"?this.hide({animate:e.animate}):this.hide();return}if(r==="update-setting"){e.alphabeticLayout&&(this.alphabeticLayout=e.alphabeticLayout),e.layouts&&(this.layouts=e.layouts),e.editToolbar&&(this.editToolbar=e.editToolbar);return}if(r==="proxy-created"){this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},n);return}}}sendMessage(e,n,r){if(r||(r=this.connectedMathfieldWindow),this.targetOrigin===null||this.targetOrigin==="null"||r===window){window.dispatchEvent(new MessageEvent("message",{source:window,data:oe({type:Iw,action:e},n)}));return}if(r)r.postMessage(oe({type:Iw,action:e},n),{targetOrigin:this.targetOrigin});else if(n.command&&this.dispatchEvent(new CustomEvent("math-virtual-keyboard-command",{detail:n.command})),e==="execute-command"&&Array.isArray(n.command)&&n.command[0]==="insert"){let i=n.command[1].split("");for(let o of i)this.dispatchEvent(new KeyboardEvent("keydown",{key:o,bubbles:!0})),this.dispatchEvent(new KeyboardEvent("keyup",{key:o,bubbles:!0}))}}stateWillChange(e){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:e},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this._visible||(this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect}))}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(e){let n=this._element;if(!n)return;n.classList.toggle("is-math-mode",e.mode==="math"),n.classList.toggle("is-text-mode",e.mode==="text"),n.classList.toggle("can-undo",e.canUndo),n.classList.toggle("can-redo",e.canRedo),n.classList.toggle("can-copy",!e.selectionIsCollapsed),n.classList.toggle("can-copy",!e.selectionIsCollapsed),n.classList.toggle("can-paste",!0);let r=n.querySelectorAll(".ML__edit-toolbar");if(r)for(let i of r)i.innerHTML=Yoe(this,e)}update(e){this._style=e.style,this.updateToolbar(e)}connect(){this.connectedMathfieldWindow=window}disconnect(){this.connectedMathfieldWindow=void 0}executeCommand(e){let n,r=[],i=ym(e);return Do(e)?(n=e[0],n==="performWithFeedback"&&(e=e.slice(1),i=ym(e)),r=e.slice(1)):n=e,n=n.replace(/-\w/g,o=>o[1].toUpperCase()),i==="virtual-keyboard"?yl[n].fn(void 0,...r):(this.sendMessage("execute-command",{command:e}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};function FP(){var t,e;let n=Pw(),r=null;for(;n;){if("host"in n&&((e=(t=n.host)==null?void 0:t.tagName)==null?void 0:e.toLowerCase())==="math-field"){r=n.host;break}n=n.parentNode}return r}if(oa()&&!("mathVirtualKeyboard"in window))if(window===window.top){let t=dd.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>t})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>$oe.singleton,configurable:!0});function Ow(t){let e={};for(let n of Object.keys(t))switch(n){case"scriptDepth":let r=t.scriptDepth;if(Do(r))e.scriptDepth=[r[0],r[1]];else if(typeof r=="number")e.scriptDepth=[r,r];else if(typeof r=="string"){let[o,s]=r.split(",").map(a=>parseInt(a.trim()));e.scriptDepth=[o,s]}else throw new TypeError("Unexpected value for scriptDepth");break;case"mathVirtualKeyboardPolicy":let i=t.mathVirtualKeyboardPolicy.toLowerCase();if(i==="sandboxed"){if(window!==window.top){let o=dd.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>o})}i="manual"}e.mathVirtualKeyboardPolicy=i;break;case"letterShapeStyle":t.letterShapeStyle==="auto"?Zt.locale.startsWith("fr")?e.letterShapeStyle="french":e.letterShapeStyle="tex":e.letterShapeStyle=t.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(t.defaultMode)?e.defaultMode=t.defaultMode:(console.error('MathLive 0.98.6:  valid values for defaultMode are "text", "math" or "inline-math"'),e.defaultMode="math");break;case"macros":e.macros=v5(t.macros);break;default:Do(t[n])?e[n]=[...t[n]]:typeof t[n]=="object"&&!(t[n]instanceof Element)&&n!=="computeEngine"?e[n]=oe({},t[n]):e[n]=t[n]}return e}function ph(t,e){let n;typeof e=="string"?n=[e]:e===void 0?n=Object.keys(t):n=e;let r={};for(let i of n)t[i]===null?r[i]=null:Do(t[i])?r[i]=[...t[i]]:typeof t[i]=="object"&&!(t[i]instanceof Element)&&i!=="computeEngine"?r[i]=oe({},t[i]):r[i]=t[i];return typeof e=="string"?r[e]:r}function C_(){return{readOnly:!1,defaultMode:"math",macros:{},registers:{},colorMap:k3,backgroundColorMap:Rk,letterShapeStyle:Zt.locale.startsWith("fr")?"french":"tex",minFontScale:0,smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,isImplicitFunction:t=>["\\sin","\\cos","\\tan","\\arcsin","\\arccos","\\arctan","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th","\\lg","\\lb","\\log","\\ln"].includes(t),mathModeSpace:"",placeholderSymbol:"",contentPlaceholder:"",popoverPolicy:"auto",environmentPopoverPolicy:"off",keybindings:lie,inlineShortcuts:p$,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:window==null?void 0:window.origin,originValidator:"none",onInlineShortcut:()=>"",onScrollIntoView:null,onExport:aie,value:""}}function zP(t){return t.defaultMode==="inline-math"?"math":t.defaultMode}function Lu(t,e){!t||!e||(Do(t)?t.forEach(n=>Lu(n,e)):typeof t=="object"&&!t.style.color&&!t.style.backgroundColor&&!t.style.fontFamily&&!t.style.fontShape&&!t.style.fontSeries&&!t.style.fontSize&&!t.style.variant&&!t.style.variantStyle&&(t.applyStyle(e),Lu(t.body,e),Lu(t.above,e),Lu(t.below,e),Lu(t.subscript,e),Lu(t.superscript,e)))}function D5(t,e,n,r){function i(s,a){for(let l of o)if(l.style[s]!==a)return!1;return!0}if(e=t.normalizeRange(e),e[0]===e[1])return!1;let o=t.getAtoms(e,{includeChildren:!0});r.operation==="toggle"&&(n.color&&i("color",n.color)&&(n.color="none",delete n.verbatimColor),n.backgroundColor&&i("backgroundColor",n.backgroundColor)&&(n.backgroundColor="none",delete n.verbatimBackgroundColor),n.fontFamily&&i("fontFamily",n.fontFamily)&&(n.fontFamily="none"),n.fontSeries&&i("fontSeries",n.fontSeries)&&(n.fontSeries="auto"),n.fontShape&&i("fontShape",n.fontShape)&&(n.fontShape="auto"),n.fontSize&&i("fontSize",n.fontSize)&&(n.fontSize=Nk),n.variant&&i("variant",n.variant)&&(n.variant="normal"),n.variantStyle&&i("variantStyle",n.variantStyle)&&(n.variantStyle=""));for(let s of o)s.applyStyle(n);return!0}function lse(t,e){let n=t.at(t.position);if(n.type==="composition")n.value=e;else{let{caret:r}=n;n.caret=void 0;let i=new B$(e,{mode:n.mode});i.caret=r,n.parent.addChildAfter(i,n),t.position+=1}}function cse(t){let e=t.at(t.position);e.type==="composition"&&(e.parent.removeChild(e),t.position-=1)}t$(["math","displaymath"],ta);t$("center",ta);Ue("displaylines","",{parse:t=>{let e=[],n=[];t.beginContext({tabular:!0});do{if(t.end()||t.match("<}>"))break;t.matchColumnSeparator()||t.matchRowSeparator()?(e.push([n]),n=[]):n.push(...t.scan(r=>["<}>","&","\\cr","\\\\","\\tabularnewline"].includes(r)))}while(!0);return t.endContext(),e.push([n]),e},createAtom:t=>new An("lines",t.args,[],{leftDelim:".",rightDelim:".",columns:[{align:"l"}]})});Pc("array","{columns:colspec}",(t,e,n,r)=>new An(t,Kk(e),n,{columns:r[0],mathstyleName:"textstyle"}));Pc(["equation","equation*","subequations"],"",(t,e,n)=>new An(t,Kk(e),n,{columns:[{align:"c"}]}));Pc(["multline","multline*"],"",ta);Pc(["align","align*","aligned","eqnarray"],"",ta);Pc("split","",ta);Pc(["gather","gather*","gathered"],"",ta);Pc(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",ta);Pc(["smallmatrix","smallmatrix*"],"[columns:colspec]",ta);Pc(["cases","dcases","rcases"],"",ta);function use(t){for(let e of t)for(let n of e)if(n.length>0)return!1;return!0}function Kk(t,e=1){return use(t)?Array(e).fill([[new Pe({type:"first"}),new Oa]]):t.map(n=>n.length===0?[[new Pe({type:"first"})]]:n.map(r=>r.length===0?[new Pe({type:"first"})]:(r[0].type!=="first"&&r.unshift(new Pe({type:"first"})),r)))}function ta(t,e=[[[]]],n=[],r=[]){switch(e=Kk(e,["split","align","align*","aligned","eqnarray"].includes(t)?2:1),t){case"math":return new An(t,e,n,{mathstyleName:"textstyle"});case"displaymath":return new An(t,e,n,{mathstyleName:"textstyle"});case"center":return new An(t,e,n,{columns:[{align:"c"}]});case"multline":case"multline*":return new An(t,e,n,{columns:[{align:"m"}],leftDelim:".",rightDelim:"."});case"split":return new An(t,e,n,{columns:[{align:"r"},{align:"l"}],minColumns:2});case"gather":case"gathered":return new An(t,e,n,{columns:[{gap:.25},{align:"c"},{gap:0}]});case"pmatrix":case"pmatrix*":return new An(t,e,n,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:Nd(r[0])});case"bmatrix":case"bmatrix*":return new An(t,e,n,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:Nd(r[0])});case"Bmatrix":case"Bmatrix*":return new An(t,e,n,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:Nd(r[0])});case"vmatrix":case"vmatrix*":return new An(t,e,n,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:Nd(r[0])});case"Vmatrix":case"Vmatrix*":return new An(t,e,n,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:Nd(r[0])});case"matrix":case"matrix*":return new An(t,e,n,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:Nd(r==null?void 0:r[0])});case"smallmatrix":case"smallmatrix*":return new An(t,e,n,{mathstyleName:"scriptstyle",columns:Nd(r==null?void 0:r[0]),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new An(t,e,n,{mathstyleName:t==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new An(t,e,n,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new An(t,e,n,{leftDelim:".",rightDelim:".",columns:[{align:"l"}]});case"align":case"align*":case"aligned":case"eqnarray":{let i=0;for(let a of e)i=Math.max(i,a.length);let o=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],s=2;for(;s<i;)o.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),s+=2;return o.push({gap:0}),new An(t,e,n,{arraycolsep:0,columns:o,minColumns:2})}}return new An(t,e,n,{mathstyleName:"textstyle"})}function Nd(t){return t??[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}]}function dse(t,e){let n=t.at(t.position);for(;n&&!(n.parent instanceof An);)n=n.parent;if(n&&n.type==="array"&&n.environmentName,!n||!(n.parent instanceof An)){let r=t.at(t.position);if(n=r,!n.parent.parent){let i=t.extractAtoms([t.position,t.lastOffset]),o=t.extractAtoms([0,t.position]);o.length===0&&(o=zx()),i.length===0&&(i=zx());let s;return e.endsWith("column")?(s=ta("split",[[o,i]]),t.root=s,Id(s,0,0)?Od(t,s,0,0):Id(s,0,1)?Od(t,s,0,1):t.position=t.offsetOf(r)):(s=ta("lines",[[o],[i]]),t.root=s,Id(s,0,0)?Od(t,s,0,0):Id(s,1,0)?Od(t,s,1,0):t.position=t.offsetOf(r)),[void 0,[0,0]]}if(n.parent instanceof sr){let i=n.parent,o=t.extractAtoms([t.position,t.offsetOf(i.lastChild)]),s=t.extractAtoms([t.offsetOf(i.firstChild),t.position]);s.length===0&&(s=zx()),o.length===0&&(o=zx());let a="pmatrix",l=i.leftDelim,c=i.rightDelim;l==="("&&(c===")"||c==="?")?a="pmatrix":(l==="["||l==="\\lbrack")&&(c==="]"||c==="\\rbrack"||c==="?")?a="bmatrix":l==="\\vert"&&c==="\\vert"?a="vmatrix":l==="\\Vert"&&c==="\\Vert"?a="Vmatrix":(l==="{"||l==="\\lbrace")&&(c==="."||c==="?")&&(a="cases");let u=ta(a,e.endsWith("column")?[[s,o]]:[[s],[o]]);return i.parent.addChildBefore(u,i),i.parent.removeChild(i),Id(u,0,0)?Od(t,u,0,0):e.endsWith("column")?Id(u,0,1)?Od(t,u,0,1):t.position=t.offsetOf(n):Id(u,1,0)?Od(t,u,1,0):t.position=t.offsetOf(n),[void 0,[0,0]]}}return n&&n.parent instanceof An?[n.parent,n.parentBranch]:[void 0,[0,0]]}function Id(t,e,n){let r=t.getCell(e,n);return!r||r.length!==2?!1:r[1].type==="placeholder"}function hse(t,e,n,r){let i=e.getCell(n,r);return i?[t.offsetOf(i[0]),t.offsetOf(i[i.length-1])]:-1}function Od(t,e,n,r){let i=hse(t,e,n,r);typeof i!="number"&&t.setSelection(i)}function Fx(t,e,n,r,i){let o=e.getCell(n,r);o&&t.setPositionHandlingPlaceholder(t.offsetOf(o[i==="start"?0:o.length-1]))}function H3(t,e){let[n,[r,i]]=dse(t,e);if(n)switch(e){case"after row":n.addRowAfter(r),Fx(t,n,r+1,0,"end");break;case"after column":if(n.maxColumns<=n.colCount){t.announce("plonk");return}n.addColumnAfter(i),Fx(t,n,r,i+1,"end");break;case"before row":n.addRowBefore(r),Fx(t,n,r,0,"start");break;case"before column":if(n.maxColumns<=n.colCount){t.announce("plonk");return}n.addColumnBefore(i),Fx(t,n,r,i,"start");break}}function EG(t){return t.contentWillChange({inputType:"insertText"})?(H3(t,"after row"),t.contentDidChange({inputType:"insertText"}),!0):!1}function fse(t){return t.contentWillChange({inputType:"insertText"})?(H3(t,"before row"),t.contentDidChange({inputType:"insertText"}),!0):!1}function kG(t){return t.contentWillChange({inputType:"insertText"})?(H3(t,"after column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function pse(t){return t.contentWillChange({inputType:"insertText"})?(H3(t,"before column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function TG(t,e){if(!t.contentWillChange({}))return!1;t.mathfield.snapshot();let n=".",r=".";switch(e){case"pmatrix":case"pmatrix*":n="(",r=")";break;case"bmatrix":case"bmatrix*":n="[",r="]";break;case"Bmatrix":case"Bmatrix*":n="\\lbrace",r="\\rbrace";break;case"vmatrix":case"vmatrix*":n="\\vert",r="\\vert";break;case"Vmatrix":case"Vmatrix*":n="\\Vert",r="\\Vert";break;case"matrix":case"matrix*":n=".",r=".";break;case"cases":case"dcases":n="\\lbrace";break;case"rcases":r="\\rbrace";break}let i=t.at(t.position),o=i.type==="array"?i:t.parentEnvironment;return o.environmentName=e,o.leftDelim=n,o.rightDelim=r,t.contentDidChange({}),!0}function DG(t,e){let n=t.at(t.position);for(;n&&!(Array.isArray(n.parentBranch)&&n.parent instanceof An);)n=n.parent;if(Array.isArray(n==null?void 0:n.parentBranch)&&(n==null?void 0:n.parent)instanceof An){let r=n.parent,i=n.parentBranch,o;switch(e){case"row":if(r.rowCount>1){r.removeRow(i[0]);let s=r.getCell(Math.max(0,i[0]-1),i[1]);o=t.offsetOf(s[s.length-1])}break;case"column":if(r.colCount>r.minColumns){r.removeColumn(i[1]);let s=r.getCell(i[0],Math.max(0,i[1]-1));o=t.offsetOf(s[s.length-1])}break}o&&t.setPositionHandlingPlaceholder(o)}}function mse(t){return t.contentWillChange({inputType:"deleteContent"})?(DG(t,"row"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}function gse(t){return t.contentWillChange({inputType:"deleteContent"})?(DG(t,"column"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}Jo({addRowAfter:EG,addColumnAfter:kG,addRowBefore:fse,addColumnBefore:pse,removeRow:mse,removeColumn:gse,setEnvironment:TG},{target:"model",canUndo:!0,changeContent:!0,changeSelection:!0});function zx(){return[new Oa]}var LG=class RG{constructor(e){this.recording=!1,this.model=e,this.reset()}reset(){this.stack=[],this.index=-1,this.lastOp=""}startRecording(){this.recording=!0}stopRecording(){this.recording=!1}canUndo(){return this.index-1>=0}canRedo(){return this.stack.length-1>this.index}stopCoalescing(e){e&&this.index>=0&&(this.stack[this.index].selection=e),this.lastOp=""}undo(){return this.canUndo()?(this.model.setState(this.stack[this.index-1],{silenceNotifications:!1,type:"undo"}),this.index-=1,this.lastOp="",!0):!1}redo(){return this.canRedo()?(this.index+=1,this.model.setState(this.stack[this.index],{silenceNotifications:!1,type:"redo"}),this.lastOp="",!0):!1}pop(){this.canUndo()&&(this.stack.splice(this.index,this.stack.length-this.index),this.index-=1)}snapshot(e){return this.recording?(e&&e===this.lastOp&&this.pop(),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index+=1,this.stack.length>RG.maximumDepth&&(this.stack.shift(),this.index-=1),this.lastOp=e??"",!0):!1}};LG.maximumDepth=1e3;var yse=LG;function L5(t,e,n){if(t.at(e).mode!=="text")return e;let r=n==="backward"?-1:1,i;if(p1.test(t.at(e).value)){let o=e,s;do s=t.at(o).mode==="text"&&p1.test(t.at(o).value),o+=r;while(t.at(o)&&s);i=t.at(o)?o-2*r:o-r}else if(/\s/.test(t.at(e).value)){let o=e;for(;t.at(o)&&t.at(o).mode==="text"&&/\s/.test(t.at(o).value);)o+=r;if(!t.at(o))i=o-r;else{let s=!0;do s=t.at(o).mode==="text"&&!/\s/.test(t.at(o).value),o+=r;while(t.at(o)&&s);i=t.at(o)?o-2*r:o-r}}else{let o=e;for(;t.at(o)&&t.at(o).mode==="text"&&!/\s/.test(t.at(o).value);)o+=r;i=t.at(o)?o:o-r;let s=!0;for(;t.at(o)&&s;)s=t.at(o).mode==="text"&&/\s/.test(t.at(o).value),s&&(i=o),o+=r;i=t.at(o)?o-2*r:o-r}return i-(r>0?0:1)}function tm(t,e,n){var r,i,o,s,a,l,c;let u=t.position;(r=n==null?void 0:n.extend)!=null&&r||t.collapseSelection(e);let d=t.at(t.position);if(e==="forward"&&(d.type==="subsup"?(d=d.rightSibling,d||(d=t.at(t.position+1))):d=t.at(t.position+1)),!d)return t.announce("plonk"),!1;let h=t.offsetOf(d);if(d instanceof X1)h=L5(t,h,e);else if(d instanceof ai)if(d.isSuggestion)for(;d&&d instanceof ai;)d.isSuggestion=!1,h=t.offsetOf(d),d=d.rightSibling;else if(e==="forward"){if(d=d.rightSibling,!d||!(d instanceof ai))return t.announce("plonk"),!1;for(;d&&d instanceof ai&&/[a-zA-Z\*]/.test(d.value);)h=t.offsetOf(d),d=d.rightSibling}else{if(d=d.leftSibling,!d||!(d instanceof ai))return t.announce("plonk"),!1;for(;d&&d instanceof ai&&/[a-zA-Z\*]/.test(d.value);)h=t.offsetOf(d),d=d.leftSibling}else if(e==="forward"&&d.type==="mopen"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.rightSibling;while(!d.isLastSibling&&f!==0);h=t.offsetOf(d.leftSibling)}else if(e==="backward"&&d.type==="mclose"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.leftSibling;while(!d.isFirstSibling&&f!==0);h=t.offsetOf(d)}else if(e==="backward")if(d.type==="first")for(;h>0&&d.type==="first";)h-=1,d=t.at(h);else{let f=d.type;d.type==="subsup"&&(h=t.offsetOf(t.at(h).leftSibling)),h-=1;let p=(i=t.at(h))==null?void 0:i.type;for(;h>=0&&p===f;)((o=t.at(h))==null?void 0:o.type)==="subsup"?h=t.offsetOf(t.at(h).leftSibling):h-=1,p=t.at(h).type}else{let{type:f}=d,p=(s=t.at(h))==null?void 0:s.type,{lastOffset:v}=t;for(;h<=v&&(p===f||p==="subsup");){for(;((a=t.at(h).rightSibling)==null?void 0:a.type)==="subsup";)h=t.offsetOf(t.at(h).rightSibling);h+=1,p=(l=t.at(h))==null?void 0:l.type}h-=1}if((c=n==null?void 0:n.extend)!=null&&c){if(!t.setSelection(t.anchor,h))return t.announce("plonk"),!1}else{if(h===t.position)return t.announce("plonk"),!1;t.position=h}return t.announce("move",u),t.mathfield.stopCoalescingUndo(),!0}function vl(t,e,n){var r,i;if(n=n??{extend:!1},t.mathfield.adoptStyle=e==="backward"?"right":"left",e!=="forward"){let[a,l]=yG(t);a!==void 0&&l!==void 0&&t.deleteAtoms([a,l])}if(e==="upward")return bse(t,n);if(e==="downward")return xse(t,n);if(n.extend){let a=M_(t,t.position,e);a<0&&(a=0),a>t.lastOffset&&(a=t.lastOffset);let l=t.setSelection(t.anchor,a);return t.mathfield.stopCoalescingUndo(),l}if(t.selectionIsPlaceholder){t.collapseSelection(e);let a=vl(t,e);return t.mathfield.stopCoalescingUndo(),a}let o=t.position,s=o;if(t.collapseSelection(e)?(o=t.position,BG(t,o)||(o=M_(t,o,e))):o=M_(t,o,e),o<0||o>t.lastOffset){let a=!0;return t.silenceNotifications||(a=(i=(r=t.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))!=null?i:!0),a&&t.announce("plonk"),a}return t.setPositionHandlingPlaceholder(o),t.mathfield.stopCoalescingUndo(),t.announce("move",s),!0}function M_(t,e,n){return e=e+(n==="forward"?1:-1),e<0||e>t.lastOffset||BG(t,e)?e:M_(t,e,n)}function BG(t,e){var n;let r=t.at(e),i=r.parent;for(;i&&!i.inCaptureSelection;)i=i.parent;return!(i!=null&&i.inCaptureSelection||(n=r.parent)!=null&&n.skipBoundary&&(!r.isFirstSibling&&r.isLastSibling||r.type==="first")||t.mathfield.hasEditablePrompts&&!r.parentPrompt)}function vse(t,e,n){let r=1/0,i=0;for(;i<e.length;i++){let o=x$(t.getHTMLElement(e[i])).right,s=Math.abs(n-o);if(s<=r)r=s;else break}return e[i-1]}function Fw(t,e,n,r,i){let o=t.mathfield.hasEditablePrompts,s=o?n.filter(c=>c.type==="prompt"&&!c.captureSelection):n,a=x$(t.mathfield.getHTMLElement(e)).right,l=t.offsetOf(vse(t.mathfield,s,a))-(o?1:0);if(r){let[c,u]=t.selection.ranges[0],d;l<(i==="up"?c:u)?d={ranges:[[l,u]],direction:"backward"}:d={ranges:[[c,l]],direction:"forward"},t.setSelection(d)}else t.setPositionHandlingPlaceholder(l);t.announce(`move ${i}`)}function bse(t,e){var n,r;let i=(n=e==null?void 0:e.extend)!=null?n:!1;i||t.collapseSelection("backward");let o=()=>{var l,c;let u=!0;return t.silenceNotifications||(u=(c=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?c:!0),t.announce(u?"plonk":"line"),u},s=t.at(t.position),a=s;for(;a&&a.parentBranch!=="below"&&!(Array.isArray(a.parentBranch)&&a.parent instanceof An);)a=a.parent;if(Array.isArray(a==null?void 0:a.parentBranch)&&a.parent instanceof An){let l=a.parent;if(a.parentBranch[0]<1)return o();let c=a.parentBranch[0]-1,u=l.array[c][a.parentBranch[1]];if(!u.some(d=>d.type==="prompt"&&!d.captureSelection)&&t.mathfield.hasEditablePrompts)return o();Fw(t,s,u,i,"up")}else if(a){let l=(r=a.parent.branch("above"))!=null?r:a.parent.createBranch("above");if(!l.some(c=>c.type==="prompt"&&c.placeholderId)&&t.mathfield.hasEditablePrompts)return o();Fw(t,s,l,i,"up")}else return o();return t.mathfield.stopCoalescingUndo(),!0}function xse(t,e){var n,r;let i=(n=e==null?void 0:e.extend)!=null?n:!1;i||t.collapseSelection("forward");let o=()=>{var l,c;let u=!0;return t.silenceNotifications||(u=(c=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?c:!0),t.announce(u?"plonk":"line"),u},s=t.at(t.position),a=s;for(;a&&a.parentBranch!=="above"&&!(Array.isArray(a.parentBranch)&&a.parent instanceof An);)a=a.parent;if(Array.isArray(a==null?void 0:a.parentBranch)&&a.parent instanceof An){let l=a.parent;if(a.parentBranch[0]+1>l.array.length-1)return o();let c=a.parentBranch[0]+1,u=l.array[c][a.parentBranch[1]];if(!u.some(d=>d.type==="prompt"&&!d.captureSelection)&&t.mathfield.hasEditablePrompts)return o();Fw(t,s,u,i,"down")}else if(a){let l=(r=a.parent.branch("below"))!=null?r:a.parent.createBranch("below");if(!l.some(c=>c.type==="prompt")&&t.mathfield.hasEditablePrompts)return o();Fw(t,s,l,i,"down")}else return o();return!0}function PG(t){let e=t.position,n=t.at(e).parent;return n!=null&&n.parent?(t.position=t.offsetOf(n),t.mathfield.stopCoalescingUndo(),t.announce("move",e),!0):(t.announce("plonk"),!1)}function _se(t){let e=0,n=t.at(t.position),r=!1;for(;n;)(!n.hasEmptyBranch("superscript")||!n.hasEmptyBranch("subscript"))&&(e+=1),n.hasEmptyBranch("superscript")?n.hasEmptyBranch("subscript")||(r=!1):r=!0,n=n.parent;return r?e:0}function wse(t){let e=0,n=t.at(t.position),r=!1;for(;n;)(!n.hasEmptyBranch("superscript")||!n.hasEmptyBranch("subscript"))&&(e+=1),n.hasEmptyBranch("superscript")?n.hasEmptyBranch("subscript")||(r=!0):r=!1,n=n.parent;return r?e:0}function UP(t){var e;if(t.collapseSelection(),_se(t)>=t.mathfield.options.scriptDepth[1])return t.announce("plonk"),!1;let n=t.at(t.position);return n.subsupPlacement===void 0&&(((e=n.rightSibling)==null?void 0:e.type)!=="subsup"&&n.parent.addChildAfter(new N3({style:n.computedStyle}),n),n=n.rightSibling),n.createBranch("superscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(n.superscript[0]))),!0}function jP(t){var e;if(t.collapseSelection(),wse(t)>=t.mathfield.options.scriptDepth[0])return t.announce("plonk"),!1;let n=t.at(t.position);return n.subsupPlacement===void 0&&(((e=t.at(t.position+1))==null?void 0:e.type)!=="subsup"&&n.parent.addChildAfter(new N3({style:t.at(t.position).computedStyle}),n),n=t.at(t.position+1)),n.createBranch("subscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(n.subscript[0]))),!0}function Sse(){function t(l){let c=[],u=[];return[...l.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(e).forEach((d,h)=>{let f=r(d);f===0?c.push(d):u.push({documentOrder:h,tabIndex:f,node:d})}),u.sort((d,h)=>d.tabIndex===h.tabIndex?d.documentOrder-h.documentOrder:d.tabIndex-h.tabIndex).map(d=>d.node).concat(c)}function e(l){return!(!n(l)||i(l)||r(l)<0)}function n(l){return!(l.disabled||l.type==="hidden"&&l.tagName.toUpperCase()==="INPUT"||a(l))}function r(l){var c;let u=Number.parseInt((c=l.getAttribute("tabindex"))!=null?c:"NaN",10);return Number.isNaN(u)?l.contentEditable==="true"||(l.nodeName==="AUDIO"||l.nodeName==="VIDEO")&&l.getAttribute("tabindex")===null?0:l.tabIndex:u}function i(l){return l.tagName.toUpperCase()==="INPUT"&&l.type==="radio"&&!s(l)}function o(l,c){for(let u of l)if(u.checked&&u.form===c)return u;return null}function s(l){var c;if(!l.name)return!0;let u=((c=l.form)!=null?c:l.ownerDocument).querySelectorAll('input[type="radio"][name="'+l.name+'"]'),d=o(u,l.form);return!d||d===l}function a(l){if(!oa()||l===document.activeElement||l.contains(document.activeElement))return!1;if(getComputedStyle(l).visibility==="hidden")return!0;let c=l.getBoundingClientRect();if(c.width===0||c.height===0)return!0;for(;l;){if(getComputedStyle(l).display==="none")return!0;l=l.parentElement}return!1}return oa()?t(document.body):[]}function eo(t,e,n="forward"){let r=t.position;if(Array.isArray(e)){let i=t.offsetOf(e[0]),o=t.offsetOf(e[e.length-1]);return n==="forward"?t.setSelection(i,o):t.setSelection(o,i),t.announce("move",r),t.mathfield.stopCoalescingUndo(),!0}return n==="forward"?eo(t,[e.leftSibling,e]):eo(t,[e,e.leftSibling])}function ba(t,e){let n=t.position;if(typeof e=="number"&&(e=t.at(e)),e.type==="prompt")t.setSelection(t.offsetOf(e.firstChild),t.offsetOf(e.lastChild));else{let r=t.offsetOf(e);e.type==="placeholder"?t.setSelection(r-1,r):t.position=r}return t.announce("move",n),t.mathfield.stopCoalescingUndo(),!0}function nm(t,e,n=!0){var r,i;let o=e==="forward"?1:-1;t.at(t.anchor).type==="placeholder"&&vl(t,e);let s,a=t.at(t.anchor).parentPrompt;a?e==="forward"?s=t.offsetOf(a)+1:s=t.offsetOf(a.leftSibling):s=Math.max(t.position+o,0);let l=R5(t,s,e);if(!l||e==="forward"&&t.offsetOf(l)<s||e==="backward"&&t.offsetOf(l)>s){if(!n||!((i=(r=t.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))==null||i))return t.announce("plonk"),!1;let c=Sse();if(!document.activeElement||c.length<=1)return t.announce("plonk"),!1;let u=c.indexOf(document.activeElement)+o;return u<0&&(u=c.length-1),u>=c.length&&(u=0),c[u].focus(),t.mathfield.stopCoalescingUndo(),!0}return ba(t,l),!0}function R5(t,e=0,n="forward"){return t.findAtom(r=>r.type==="placeholder"||r.type==="prompt"||!t.mathfield.readOnly&&r.treeDepth>2&&r.isFirstSibling&&r.isLastSibling,e,n)}Jo({moveToOpposite:t=>{let e={superscript:"subscript",subscript:"superscript",above:"below",below:"above"},n=t.at(t.position),{parent:r}=n;if(!r)return t.announce("plonk"),!1;let i=n.parentBranch,o;if(typeof i=="string"&&(o=e[i]),!o){let a=n.subsupPlacement?jP(t):UP(t);return t.mathfield.stopCoalescingUndo(),a}r.branch(o)||r.createBranch(o);let s=t.setSelection(t.getBranchRange(t.offsetOf(r),o));return t.mathfield.stopCoalescingUndo(),s},moveBeforeParent:t=>{let{parent:e}=t.at(t.position);return e?(t.position=t.offsetOf(e),t.mathfield.stopCoalescingUndo(),!0):(t.announce("plonk"),!1)},moveAfterParent:t=>PG(t),moveToNextChar:t=>vl(t,"forward"),moveToPreviousChar:t=>vl(t,"backward"),moveUp:t=>vl(t,"upward"),moveDown:t=>vl(t,"downward"),moveToNextWord:t=>tm(t,"forward"),moveToPreviousWord:t=>tm(t,"backward"),moveToGroupStart:t=>{let e=t.offsetOf(t.at(t.position).firstSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToGroupEnd:t=>{let e=t.offsetOf(t.at(t.position).lastSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToNextGroup:t=>{var e,n,r,i;if(t.position===t.lastOffset&&t.anchor===t.lastOffset)return nm(t,"forward");let o=t.at(t.position);if(o.mode==="text"){if(t.selectionIsCollapsed){let d=o;for(;d&&d.mode==="text";)d=d.leftSibling;let h=o;for(;((e=h.rightSibling)==null?void 0:e.mode)==="text";)h=h.rightSibling;if(d&&h)return eo(t,[d,h])}if(o.rightSibling.mode==="text"){let d=o;for(;d&&d.mode==="text";)d=d.rightSibling;return d?(ba(t,(n=d.leftSibling)!=null?n:d),t.mathfield.switchMode("math"),!0):ba(t,t.lastOffset)}}let s=t.at(t.anchor).parentPrompt,a=s?t.offsetOf(s)+1:Math.max(t.position+1,0),l=R5(t,a,"forward");if(l&&t.offsetOf(l)<a)return nm(t,"forward");if(l)return ba(t,l);let c=HP(t,o,d=>d.type==="leftright"||d.type==="text","forward");if(c){if(c.mode==="text"){let d=c;for(;d&&d.mode==="text";)d=d.rightSibling;return eo(t,[(r=c.leftSibling)!=null?r:c,(i=d.leftSibling)!=null?i:d])}return eo(t,c)}let u=o.parent;if(u){if(u.type==="leftright"||u.type==="surd")return eo(t,u);if(o.parentBranch==="superscript"&&u.subscript)return eo(t,u.subscript);if(o.parentBranch==="above"&&u.below)return eo(t,u.below);if(o.parentBranch==="superscript"||o.parentBranch==="subscript")return ba(t,u);if(o.parentBranch==="above"||o.parentBranch==="below")return eo(t,u)}return ba(t,t.lastOffset)},moveToPreviousGroup:t=>{var e;if(t.position===0&&t.anchor===0)return nm(t,"backward");let n=t.at(t.position),r=n.mode;if(r==="text"){if(t.selectionIsCollapsed){let a=n;for(;a&&a.mode==="text";)a=a.leftSibling;let l=n;for(;((e=l.rightSibling)==null?void 0:e.mode)==="text";)l=l.rightSibling;if(a&&l)return eo(t,[a,l])}for(;n&&n.mode==="text";)n=n.leftSibling;return n?ba(t,n):ba(t,0)}let i=t.at(t.anchor).parentPrompt,o=i?t.offsetOf(i.leftSibling):Math.max(t.position-1,0),s=R5(t,o,"backward");if(s&&t.offsetOf(s)>o)return nm(t,"backward");if(s)return ba(t,s);if(r==="math"){let a=HP(t,n,c=>c.type==="leftright"||c.type==="text","backward");if(a){if(a.mode==="text"){let c=a;for(;c&&c.mode==="text";)c=c.leftSibling;return eo(t,[a,c])}return eo(t,a)}let l=n.parent;if(l){if(l.type==="leftright"||l.type==="surd")return eo(t,l);if(n.parentBranch==="subscript"&&l.superscript)return eo(t,l.superscript);if(n.parentBranch==="below"&&l.above)return eo(t,l.above);if(n.parentBranch==="superscript"||n.parentBranch==="subscript")return ba(t,l);if(n.parentBranch==="above"||n.parentBranch==="below")return eo(t,l)}return ba(t,0)}return!1},moveToMathfieldStart:t=>t.selectionIsCollapsed&&t.position===0?(t.announce("plonk"),!1):(t.position=0,t.mathfield.stopCoalescingUndo(),!0),moveToMathfieldEnd:t=>t.selectionIsCollapsed&&t.position===t.lastOffset?(t.announce("plonk"),!1):(t.position=t.lastOffset,t.mathfield.stopCoalescingUndo(),!0),moveToSuperscript:UP,moveToSubscript:jP},{target:"model",changeSelection:!0});Jo({moveToNextPlaceholder:t=>nm(t,"forward"),moveToPreviousPlaceholder:t=>nm(t,"backward")},{target:"model",changeSelection:!0,audioFeedback:"return"});function HP(t,e,n,r){if(r==="forward"){let o=e.rightSibling;for(;o&&!n(o);)o=o.rightSibling;return o}let i=e.leftSibling;for(;i&&!n(i);)i=i.leftSibling;return i}function Ux(t,e,n){typeof e=="function"&&(n=e,e=1/0),e===void 0&&(e=1/0);let r=t.position,i=!1,o="";for(;!i;){let s=t.at(r);i=e===0||s===void 0||s.type==="first"||s.mode!=="math"||!(s.type&&/mord|mpunct|operator/.test(s.type)||s.type==="mop"&&/[a-zA-Z ]+/.test(s.value))||!s.hasEmptyBranch("superscript")||!s.hasEmptyBranch("subscript")||typeof n=="function"&&!n(s),i||(s.mode="text",s.command=s.value,s.verbatimLatex=void 0,o+=s.value),r-=1,e-=1}t.contentDidChange({data:o,inputType:"insertText"})}function mg(t,e,n){typeof e=="function"&&(n=e,e=1/0),e===void 0&&(e=1/0);let r=t.position,i=!1,o=[];for(;!i;){let s=t.at(r);i=e===0||!s||s.type==="first"||s.isFirstSibling||s.mode!=="text"||s.value===" "||typeof n=="function"&&!n(s),i||(o.push(Pe.serialize([s],{defaultMode:"math"})),s.mode="math"),r-=1,e-=1}Wk(t),t.contentDidChange({data:ln(o),inputType:"insertText"})}function Wk(t){var e;let n=t.position-1;for(;n>=0&&((e=t.at(n))==null?void 0:e.mode)==="math";)n-=1;if(!(n<0)&&t.at(n).mode==="text"&&t.at(n).value===" "&&t.at(n-1).mode==="math"){t.at(n-1).parent.removeChild(t.at(n-1));let r=t.silenceNotifications;t.silenceNotifications=!0,t.position-=1,t.silenceNotifications=r,t.contentDidChange({inputType:"deleteContent"})}}function Ase(t){let e="",n=t.position,r=!1;for(;!r;){let i=t.at(n);r=!(i&&(i.mode==="text"||i.mode==="math"&&i.type&&/mord|mpunct/.test(i.type))),r||(e=i.value+e),n-=1}return e}function Cse(t,e,n){let{model:r}=t;if(r.mode==="latex"||!r.at(r.position).isLastSibling||!n||!I3(n))return!1;let i=Pp(n);if(!r.selectionIsCollapsed)return!!(t.model.mode==="text"&&/[/_^]/.test(i));let o=Ase(r)+i;if(t.model.mode==="text"){if(e==="Esc"||/[/\\]/.test(i))return!0;if(/[\^_]/.test(i))return/(^|\s)[a-zA-Z][^_]$/.test(o)&&mg(r,1),!0;let s={")":"(","}":"{","]":"["}[i],{parent:a}=r.at(r.position);if(s&&a instanceof sr&&a.leftDelim===s)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(o))return!1;if(/[$]/u.test(i))return!0;if(/(^|[^a-zA-Z'])[a-zA-Z] $/.test(o))return mg(r,1),!1;if(/\D\.[^\d\s]$/.test(o)){mg(r,1);let l=r.at(r.position);return l.value="",l.style.variant="normal",l.command="\\cdot",l.verbatimLatex=void 0,r.contentDidChange({data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(o)||/\.\d$/.test(o)||/\([\d+\-.]$/.test(o))return mg(r,1),!0;if(/\([a-z][,;]$/.test(o))return mg(r,2),!0;if(/[\d+\-=><*|]$/.test(i))return Wk(r),!0}else{if(e==="[Space]")return Ux(r,void 0,s=>/[a-z][:,;.]$/.test(s.value)),!0;if(/[a-zA-Z]{3,}$/.test(o)&&!/(dxd|abc|xyz|uvw)$/.test(o))return Ux(r,void 0,s=>/[a-zA-Z]/.test(s.value)),!0;if(/(^|\W)(if)$/i.test(o))return Ux(r,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(o)&&!/()$/.test(o))return Ux(r,void 0,s=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(s.value)),!0;if(i==="?"||i==="."&&!/[\d-+]\.$/.test(o))return!0}return!1}function Mse(t,e){if(!t.isSelectionEditable||!t.keystrokeCaptionVisible)return;let n=NG(),r=t.element.getBoundingClientRect();n.style.left=`${r.left}px`,n.style.top=`${r.top-64}px`,n.innerHTML=globalThis.MathfieldElement.createHTML("<span>"+($k(e)||e)+"</span>"+n.innerHTML),n.style.visibility="visible",setTimeout(()=>{n.childNodes.length>0&&n.childNodes[n.childNodes.length-1].remove(),n.childNodes.length===0&&(n.style.visibility="hidden")},3e3)}function Ese(t){if(t.keystrokeCaptionVisible=!t.keystrokeCaptionVisible,t.keystrokeCaptionVisible){let e=NG();e.innerHTML=""}else{let e=F3("mathlive-keystroke-caption-panel");e.style.visibility="hidden"}return!1}function NG(){return document.getElementById("mathlive-keystroke-caption-panel")||(kc("keystroke-caption"),kc("core"),F3("mathlive-keystroke-caption-panel"))}function kse(){document.getElementById("mathlive-keystroke-caption-panel")&&(Gk("mathlive-keystroke-caption-panel"),nd("core"),nd("keystroke-caption"))}function IG(t,e){var n,r,i;let{model:o}=t,s=gG(e);if(e.isTrusted){yoe(e);let f=y1();t.keyboardLayout!==f.id&&(t.keyboardLayout=f.id,t._keybindings=void 0)}if(clearTimeout(t.inlineShortcutBufferFlushTimer),t.inlineShortcutBufferFlushTimer=0,Mse(t,s),e.isTrusted&&e.defaultPrevented)return t.flushInlineShortcutBuffer(),!1;let a,l="",c,u=t.inlineShortcutBuffer;if(t.isSelectionEditable){if(o.mode==="math")if(s==="[Backspace]")u.pop();else if(!I3(e))t.flushInlineShortcutBuffer();else{let f=Pp(e),p=[...(r=(n=u[u.length-1])==null?void 0:n.keystrokes)!=null?r:[],f];u.push({state:o.getState(),keystrokes:p,leftSiblings:Tse(t)});let v=0,b="";for(;!a&&v<p.length;)c=u.length-(p.length-v),b=p.slice(v).join(""),a=Ok(u[c].leftSiblings,b,t.options.inlineShortcuts),!a&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(b)&&(a=t.options.onInlineShortcut(t,b)),v+=1;t.flushInlineShortcutBuffer({defer:!0})}t.options.smartMode&&(a?t.switchMode("math"):Cse(t,s,e)&&(t.switchMode({math:"text",text:"math"}[o.mode]),l=""))}if(!a){if(l||(l=Soe(t.keybindings,o.mode,e)),!l&&(s==="[Enter]"||s==="[Return]")){let f=!1;return o.contentWillChange({inputType:"insertLineBreak"})&&(t.host&&(f=!t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),f||e.preventDefault&&(e.preventDefault(),e.stopPropagation()),o.contentDidChange({inputType:"insertLineBreak"})),f}if((!l||s==="[Space]")&&o.mode==="math"){if(s==="[Space]"){if(t.adoptStyle="none",t.flushInlineShortcutBuffer(),t.options.mathModeSpace)return Gn.insert(o,t.options.mathModeSpace,{format:"latex",mode:"math"}),t.snapshot("insert-space"),l="",t.dirty=!0,t.scrollIntoView(),e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1;let f=o.at(o.position+1),p=o.at(o.position-1);if((f==null?void 0:f.mode)==="text"||(p==null?void 0:p.mode)==="text")return Gn.insert(o," ",{mode:"text"}),t.snapshot("insert-space"),t.dirty=!0,t.scrollIntoView(),!1}(i=o.at(o.position))!=null&&i.isDigit()&&globalThis.MathfieldElement.decimalSeparator===","&&Pp(e)===","&&(l="insertDecimalSeparator")}}if(!a&&!l){if(o.mathfield.smartFence){if(P5(o,Pp(e),t.effectiveStyle))return t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}else{let{parent:f}=o.at(o.position);if(f instanceof sr&&f.rightDelim==="?"&&o.at(o.position).isLastSibling&&/^[)}\]|]$/.test(s))return t.snapshot(),f.isDirty=!0,f.rightDelim=s,o.position+=1,o.selectionDidChange(),o.contentDidChange({data:Pp(e),inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1;if(!o.selectionIsCollapsed){let p=Pp(e);if(p==="("||p==="{"||p==="["){let v={"(":"(","{":"\\lbrace","[":"\\lbrack"}[p],b={"(":")","{":"\\rbrace","[":"\\rbrack"}[p],[y,x]=Oi(o.selection);return t.snapshot(),o.position=x,Gn.insert(o,b,{format:"latex"}),o.position=y,Gn.insert(o,v,{format:"latex"}),o.setSelection(y+1,x+1),o.contentDidChange({data:p,inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}}}return!0}let d=o.at(Math.max(o.position,o.anchor)),{parent:h}=d;if(l==="moveAfterParent"&&(h==null?void 0:h.type)==="leftright"&&d.isLastSibling&&t.options.smartFence&&P5(o,".",t.defaultStyle)&&(l="",ar(t)),t.keyboardDelegate.cancelComposition(),l)t.executeCommand(l);else if(a){let f=t.effectiveStyle;o.setState(u[c].state);let p=u[u.length-1].keystrokes;for(let v of p)Gn.insert(o,v,{silenceNotifications:!0,style:f});t.snapshot("insert-shortcut"),o.setState(u[c].state),o.deferNotifications({content:!0,selection:!0,data:a,type:"insertText"},()=>(Gn.insert(o,a,{format:"latex",style:f}),Wk(t.model),a.endsWith(" ")&&(t.switchMode("text"),Gn.insert(o," ",{style:f,mode:"text"})),t.snapshot(),o.selectionIsCollapsed||t.flushInlineShortcutBuffer(),!0)),t.dirty=!0,o.announce("replacement")}return t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}function B5(t,e,n){let{model:r}=t;if(!t.isSelectionEditable){r.announce("plonk");return}n!=null||(n={}),n.focus&&t.focus(),n.feedback&&globalThis.MathfieldElement.playSound("keypress"),typeof n.mode=="string"&&(t.switchMode(n.mode),t.snapshot());let i=i$(e),o=window.mathVirtualKeyboard;if(o!=null&&o.isShifted&&(i=typeof i=="string"?i.toUpperCase():i.map(l=>l.toUpperCase())),n.simulateKeystroke){let l=!0;for(let c of i)IG(t,new KeyboardEvent("keypress",{key:c}))&&(l=!1);if(l)return}let s=r.at(r.position),a=oe(oe({},s.computedStyle),t.defaultStyle);if(r.selectionIsCollapsed||(r.deleteAtoms(Oi(r.selection)),t.snapshot("delete")),r.mode==="latex")r.deferNotifications({content:!0,selection:!0,data:e,type:"insertText"},()=>{O3(t);for(let l of i)Gn.insert(r,l);t.snapshot("insert-latex"),tv(t)});else if(r.mode==="text"){for(let l of i)Gn.insert(r,l,{style:a});t.snapshot("insert-text")}else if(r.mode==="math")for(let l of i)Dse(t,l,a,s);t.dirty=!0,t.scrollIntoView()}function Tse(t){let e=t.model,n=[],r=e.at(Math.min(e.position,e.anchor));for(;r.type!=="first";)n.push(r),r=r.leftSibling;return n}function Dse(t,e,n,r){let i=t.model,o={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[e];if(e===" "&&t.options.mathModeSpace&&(o=["insert",t.options.mathModeSpace]),o){t.executeCommand(o);return}if(/\d/.test(e)&&t.options.smartSuperscript&&r.parentBranch==="superscript"&&r.parent.type!=="mop"&&r.parent.type!=="operator"&&r.parent.type!=="extensible-symbol"&&r.hasNoSiblings){Lse(i),Gn.insert(i,e,{style:n}),t.snapshot(),PG(i),t.snapshot();return}if(/[a-zA-Z0-9]/.test(e)&&t.adoptStyle!=="none"){let s=t.adoptStyle==="left"?r:r.parent?r.rightSibling:null;(s==null?void 0:s.type)==="mord"&&/[a-zA-Z0-9]/.test(s.value)&&(n=oe({},n),s.style.variant&&(n.variant=s.style.variant),s.style.variantStyle&&(n.variantStyle=s.style.variantStyle))}Gn.insert(i,e,{style:n}),t.snapshot(`insert-${i.at(i.position).type}`)}function Lse(t){t.selectionIsCollapsed||(t.deleteAtoms(Oi(t.selection)),t.mathfield.snapshot("delete"))}function P5(t,e,n){if(!e||t.mode!=="math")return!1;let r=t.at(t.position),{parent:i}=r,o={"(":"(",")":")","{":"\\lbrace","}":"\\rbrace","[":"\\lbrack","]":"\\rbrack","|":"|"}[e];if(!o)return!1;let s=Dw[o],a=B3[o];if(!t.selectionIsCollapsed){t.mathfield.snapshot();let[l,c]=Oi(t.selection),u=t.extractAtoms([l,c]),d=i.addChildrenAfter([new sr("left...right",u,{leftDelim:o,rightDelim:a})],t.at(l));return t.setSelection(t.offsetOf(d.firstChild),t.offsetOf(d.lastChild)),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:o,inputType:"insertText"}),!0}if(o==="|"){let l=i instanceof sr?i.leftDelim+i.rightDelim:"";if(l==="\\lbrace\\rbrace"||l==="\\{\\}"||l==="\\lbrace?")return t.mathfield.snapshot(),Gn.insert(t,"\\,\\middle\\vert\\,",{format:"latex",style:n}),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:o,inputType:"insertText"}),!0}if(a){if(i instanceof sr&&i.firstChild===r&&(i.leftDelim==="?"||i.leftDelim==="."))return i.leftDelim=o,i.isDirty=!0,t.mathfield.snapshot(),t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(!(i instanceof sr)){let d=r;for(;d&&!(d.type==="mclose"&&d.value===a);)d=d.rightSibling;if(d){t.mathfield.snapshot();let h=t.extractAtoms([t.offsetOf(r),t.offsetOf(d)]);return h.pop(),i.addChildrenAfter([new sr("left...right",h,{leftDelim:o,rightDelim:a})],r),t.position=t.offsetOf(i.firstChild)+1,t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}}let l=t.offsetOf(r.lastSibling),c;for(c=t.position;c<=l;c++){let d=t.at(c);if(d instanceof sr&&(d.leftDelim==="?"||d.leftDelim===".")&&$P(o,d.rightDelim))break}let u=t.at(c);if(c<=l&&u instanceof sr){u.leftDelim=o,t.mathfield.snapshot();let d=t.extractAtoms([t.position,c-1]);return d=d.filter(h=>h.type!=="first"),u.addChildren(d,u.parentBranch),t.position+=1,t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(i instanceof sr&&(i.leftDelim==="?"||i.leftDelim===".")&&$P(o,i.rightDelim)){i.isDirty=!0,i.leftDelim=o,t.mathfield.snapshot();let d=t.extractAtoms([t.offsetOf(r.firstSibling),t.position]);for(let h of d)i.parent.addChildBefore(h,i);return t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(!(i instanceof sr&&i.leftDelim==="|")){if(t.mathfield.snapshot(),Gn.insert(t,`\\left${o}\\right?`,{format:"latex",style:n}),r.lastSibling.type!=="first"){let d=t.offsetOf(r.lastSibling),h=t.extractAtoms([t.position,d]);t.at(t.position).body=h,t.position-=1}return t.mathfield.snapshot("insert-fence"),!0}}if(s){let l=r;for(;l;){if(l.type==="mopen"&&l.value===s){t.mathfield.snapshot();let f=l.leftSibling,p=t.extractAtoms([t.offsetOf(l.leftSibling),t.offsetOf(r)]);p.shift();let v=new sr("left...right",p,{leftDelim:s,rightDelim:o});return i.addChildrenAfter([v],f),t.position=t.offsetOf(v),t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}l=l.leftSibling}if(i instanceof sr&&r.isLastSibling&&yC(i.leftDelim,o))return t.mathfield.snapshot(),i.isDirty=!0,i.rightDelim=o,t.position+=1,t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let c=t.offsetOf(r.firstSibling),u;for(u=t.position;u>=c;u--){let f=t.at(u);if(f instanceof sr&&(f.rightDelim==="?"||f.rightDelim===".")&&yC(f.leftDelim,o))break}let d=t.at(u);if(u>=c&&d instanceof sr)return t.mathfield.snapshot(),d.rightDelim=o,d.addChildren(t.extractAtoms([u,t.position]),d.parentBranch),t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(i instanceof sr&&(i.rightDelim==="?"||i.rightDelim===".")&&yC(i.leftDelim,o))return t.mathfield.snapshot(),i.isDirty=!0,i.rightDelim=o,i.parent.addChildren(t.extractAtoms([t.position,t.offsetOf(r.lastSibling)]),i.parentBranch),t.position=t.offsetOf(i),t.contentDidChange({data:o,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let h=i.parent;return h instanceof sr&&(h.rightDelim==="?"||h.rightDelim===".")&&t.at(t.position).isLastSibling?(t.position=t.offsetOf(h),P5(t,o,n)):!1}return!1}function yC(t,e){return t?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t)?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e):B3[t]===e:!0}function $P(t,e){return e?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e)?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t):Dw[e]===t:!0}Jo({undo:t=>(t.undo(),!0),redo:t=>(t.redo(),!0),scrollIntoView:t=>(t.scrollIntoView(),!0),scrollToStart:t=>(t.field.scroll(0,0),!0),scrollToEnd:t=>{let e=t.field.getBoundingClientRect();return t.field.scroll(e.left-window.scrollX,0),!0},toggleKeystrokeCaption:Ese,toggleContextMenu:t=>{let e=t.toggleContextMenu();return e||t.model.announce("plonk"),e},plonk:t=>(t.model.announce("plonk"),!0),switchMode:(t,e,n,r)=>(t.switchMode(e,n,r),!0),insert:(t,e,n)=>t.insert(e,n),typedText:(t,e,n)=>(B5(t,e,n),!0),insertDecimalSeparator:t=>{let e=t.model;return e.mode==="math"&&globalThis.MathfieldElement.decimalSeparator===","&&e.at(Math.max(e.position,e.anchor)).isDigit()?(t.insert("{,}",{format:"latex"}),t.snapshot("insert-mord"),!0):(t.insert("."),!0)},commit:t=>{var e;return t.model.contentWillChange({inputType:"insertLineBreak"})&&((e=t.host)==null||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),t.model.contentDidChange({inputType:"insertLineBreak"})),!0},insertPrompt:(t,e,n)=>{let r=t.getPrompts(),i="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),o=0;for(;r.includes(i)&&o<100;){if(o===99)return console.error("could not find a unique ID after 100 tries"),!1;i="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),o++}return t.insert(`\\placeholder[${e??i}]{}`,n),!0}});Jo({copyToClipboard:t=>(t.focus(),t.model.selectionIsCollapsed&&t.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")?document.execCommand("copy"):t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1)},{target:"mathfield"});Jo({cutToClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")?document.execCommand("cut"):t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?(document.execCommand("paste"),!0):(navigator.clipboard.readText().then(e=>{e&&t.model.contentWillChange({inputType:"insertFromPaste",data:e})?(t.stopCoalescingUndo(),t.stopRecording(),t.insert(e,{mode:t.model.mode})&&(tv(t),t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),ar(t))):t.model.announce("plonk"),t.startRecording()}),!0))},{target:"mathfield",canUndo:!0,changeContent:!0,changeSelection:!0});function Rse(t,e){t.flushInlineShortcutBuffer(),t.stopCoalescingUndo();let n=N5(t,e),{model:r}=t;return r.selectionIsCollapsed?(t.defaultStyle.fontSeries&&n.fontSeries===t.defaultStyle.fontSeries&&(n.fontSeries="auto"),n.fontShape&&n.fontShape===t.defaultStyle.fontShape&&(n.fontShape="auto"),n.color&&n.color===t.defaultStyle.color&&(n.color="none"),n.backgroundColor&&n.backgroundColor===t.defaultStyle.backgroundColor&&(n.backgroundColor="none"),n.fontSize&&n.fontSize===t.defaultStyle.fontSize&&(n.fontSize="auto"),t.defaultStyle=oe(oe({},t.defaultStyle),n)):t.model.deferNotifications({content:!0,type:"insertText"},()=>{r.selection.ranges.forEach(i=>D5(r,i,n,{operation:"toggle"})),t.snapshot("style-change")}),!0}Jo({applyStyle:Rse},{target:"mathfield",canUndo:!0,changeContent:!0});function N5(t,e){var n,r,i,o,s,a,l,c,u,d;let h={};if(typeof e.color=="string"){let p=(r=t.colorMap((n=e.color)!=null?n:e.verbatimColor))!=null?r:"none";p!==e.color&&(h.verbatimColor=(i=e.verbatimColor)!=null?i:e.color),h.color=p}if(typeof e.backgroundColor=="string"){let p=(s=t.backgroundColorMap((o=e.backgroundColor)!=null?o:e.verbatimBackgroundColor))!=null?s:"none";p!==e.backgroundColor&&(h.verbatimBackgroundColor=(a=e.verbatimBackgroundColor)!=null?a:e.backgroundColor),h.backgroundColor=p}typeof e.fontFamily=="string"&&(h.fontFamily=e.fontFamily),typeof e.series=="string"&&(h.fontSeries=e.series),typeof e.fontSeries=="string"&&(h.fontSeries=e.fontSeries.toLowerCase()),h.fontSeries&&(h.fontSeries=(l={bold:"b",medium:"m",normal:"m"}[h.fontSeries])!=null?l:h.fontSeries),typeof e.shape=="string"&&(h.fontShape=e.shape),typeof e.fontShape=="string"&&(h.fontShape=e.fontShape.toLowerCase()),h.fontShape&&(h.fontShape=(c={italic:"it",up:"n",upright:"n",normal:"n"}[h.fontShape])!=null?c:h.fontShape),e.variant&&(h.variant=e.variant.toLowerCase()),e.variantStyle&&(h.variantStyle=e.variantStyle.toLowerCase());let f=(u=e.size)!=null?u:e.fontSize;return typeof f=="number"?h.fontSize=Math.max(1,Math.min(10,f)):typeof f=="string"&&(h.fontSize=(d={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[f.toLowerCase()])!=null?d:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[f]),h}function I5(t){let[e,n]=Oi(t.selection);if(e=GP(t,e,"backward"),n=GP(t,n,"forward"),e===n){let r=t.at(e);if(r.type==="leftright")return t.setSelection(t.offsetOf(r.firstChild)-1,n);if(r.type==="first"&&(r.parent.type==="leftright"||r.parent.type==="surd"))return t.setSelection(e-1,t.offsetOf(r.parent.lastChild)+1);t.setSelection(e-1,n)}else t.setSelection(e,n);return!0}function GP(t,e,n){var r,i,o;let s=t.at(e);if(!s)return e;let a=n==="forward"?1:-1;if(s.mode==="text"){for(;s&&!(s.mode!=="text"||!p1.test(s.value));)e+=a,s=t.at(e);return n==="backward"?e-1:e}if(s.mode==="latex"){if(/[a-zA-Z\*]/.test(s.value))if(n==="backward")for(;s&&s.mode==="latex"&&s.value!=="\\"&&/[a-zA-Z]/.test(s.value);)e+=a,s=t.at(e);else for(;s&&s.mode==="latex"&&/[a-zA-Z\*]/.test(s.value);)e+=a,s=t.at(e);else if(s.value==="{"){if(n==="forward"){for(;s&&s.mode==="latex"&&s.value!=="}";)e+=a,s=t.at(e);return e}return e-1}else if(s.value==="}"){if(n==="backward"){for(;s&&s.mode==="latex"&&s.value!=="{";)e+=a,s=t.at(e);return e-1}return e}return e-1}if(s.mode==="math"){if(s.isDigit()){for(;(r=t.at(e+a))!=null&&r.isDigit();)e+=a;return n==="backward"?e-1:e}if(s.style.variant||s.style.variantStyle){let l=(i=t.at(e))==null?void 0:i.style;for(;l&&l.variant===s.style.variant&&l.variantStyle===s.style.variantStyle;)l=(o=t.at(e+a))==null?void 0:o.style,e+=a;return n==="backward"?e-1:e}return e}return e}Jo({selectGroup:t=>{let e=I5(t);return e||t.announce("plonk"),e},selectAll:t=>t.setSelection(0,t.lastOffset),extendSelectionForward:t=>vl(t,"forward",{extend:!0}),extendSelectionBackward:t=>vl(t,"backward",{extend:!0}),extendToNextWord:t=>tm(t,"forward",{extend:!0}),extendToPreviousWord:t=>tm(t,"backward",{extend:!0}),extendSelectionUpward:t=>vl(t,"upward",{extend:!0}),extendSelectionDownward:t=>vl(t,"downward",{extend:!0}),extendToNextBoundary:t=>tm(t,"forward",{extend:!0}),extendToPreviousBoundary:t=>tm(t,"backward",{extend:!0}),extendToGroupStart:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).firstSibling));return e||t.announce("plonk"),e},extendToGroupEnd:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).lastSibling));return e||t.announce("plonk"),e},extendToMathFieldStart:t=>{let e=t.setSelection(t.anchor,0);return e||t.announce("plonk"),e},extendToMathFieldEnd:t=>{let e=t.setSelection(t.anchor,t.lastOffset);return e||t.announce("plonk"),e}},{target:"model",changeSelection:!0});var Fd=null,gg=0,zw=class Hs{static start(e,n,r,i){var o;Hs.element=e,(o=Hs.controller)==null||o.abort(),Hs.controller=new AbortController;let s={signal:Hs.controller.signal};"PointerEvent"in window?(e.addEventListener("pointermove",r,s),e.addEventListener("pointerup",i,s),e.addEventListener("pointercancel",i,s),O5(n)&&(Hs.pointerId=n.pointerId,e.setPointerCapture(n.pointerId))):(window.addEventListener("mousemove",r,s),window.addEventListener("blur",i,s),window.addEventListener("mouseup",i,s))}static stop(){var e;(e=Hs.controller)==null||e.abort(),Hs.controller=void 0,typeof Hs.pointerId=="number"&&(Hs.element.releasePointerCapture(Hs.pointerId),Hs.pointerId=void 0)}};function O5(t){return t!==null&&globalThis.PointerEvent!==void 0&&t instanceof PointerEvent}function VP(t,e){var n;if(e.buttons>1)return;t.atomBoundsCache=new Map;let r=t,i,o=!1,s=!1,a="none",l=!1,c=!1,u=e.clientX,d=e.clientY,h=Date.now(),f=r.field,p=setInterval(()=>{l?f.scroll({top:0,left:f.scrollLeft-16}):c&&f.scroll({top:0,left:f.scrollLeft+16})},32);function v(){zw.stop(),o=!1,clearInterval(p),t.element.classList.remove("tracking"),e&&e.preventDefault()}function b(x){if(!r.hasFocus()){v();return}let w=x.clientX,A=x.clientY,D=O5(x)&&x.pointerType==="touch"?20:5;if(Date.now()<h+500&&Math.abs(u-w)<D&&Math.abs(d-A)<D){x.preventDefault(),x.stopPropagation();return}let k=f.getBoundingClientRect();c=w>k.right,l=w<k.left;let R=i;O5(x)&&(x.isPrimary||(R=Ey(r,x.clientX,x.clientY,{bias:0})));let L=Ey(r,w,A,{bias:w<=u?w===u?0:-1:1});R>=0&&L>=0&&(r.model.extendSelectionTo(R,L),ar(t)),s&&I5(r.model)}Fd&&Math.abs(Fd.x-u)<5&&Math.abs(Fd.y-d)<5&&Date.now()<Fd.time+500?(gg+=1,Fd.time=h):(Fd={x:u,y:d,time:h},gg=1);let y=f.getBoundingClientRect();if(u>=y.left&&u<=y.right&&d>=y.top&&d<=y.bottom){if(t.flushInlineShortcutBuffer(),t.adoptStyle="left",i=Ey(t,u,d,{bias:0}),i>=0){if(t.element.classList.add("tracking"),e.shiftKey){let x=t.model.selectionIsCollapsed;t.model.extendSelectionTo(t.model.anchor,i),NP(t.model)||x?a="all":a="selection"}else t.model.at(i).type==="placeholder"?(t.model.setSelection(i-1,i),a="selection"):((n=t.model.at(i).rightSibling)==null?void 0:n.type)==="placeholder"?(t.model.setSelection(i,i+1),a="selection"):(t.model.position=i,NP(t.model)?a="all":a="selection");t.defaultStyle={},e.detail===3||gg>2?(v(),(e.detail===3||gg===3)&&(t.model.selection={ranges:[[0,t.model.lastOffset]]},a="all")):o||(o=!0,zw.start(f,e,b,v),(e.detail===2||gg===2)&&(s=!0,I5(t.model),a="all"))}t.hasFocus()||(a="none",t.focus({preventScroll:!0}))}else Fd=null;t.stopCoalescingUndo(),a!=="none"&&(t.model.selectionIsCollapsed&&(a="all"),ar(t)),e.preventDefault()}function Bse(t,e,n){if(t>=n.left&&t<=n.right&&e>=n.top&&e<=n.bottom)return 0;let r=t-(n.left+n.right)/2,i=e-(n.top+n.bottom)/2;return r*r+i*i}function OG(t,e,n,r,i){if(!n.id)return[1/0,null];if(e.has(n.id))return e.get(n.id);let o=J1(t,n);if(!o)return[1/0,null];let s=[1/0,null];if(n.hasChildren&&!n.captureSelection&&r>=o.left&&r<=o.right)for(let a of n.children){let l=OG(t,e,a,r,i);l[0]<=s[0]&&(s=l)}return s[1]||(s=[Bse(r,i,o),n]),e.set(n.id,s),s}function Pse(t,e,n){let[,r]=OG(t,new Map,t.model.root,e,n);return r}function Ey(t,e,n,r){var i;let o=t.field.querySelector(".ML__latex").getBoundingClientRect();if(!o)return 0;if(e>o.right||n>o.bottom+8)return t.model.lastOffset;if(e<o.left||n<o.top-8)return 0;r=r??{},r.bias=(i=r.bias)!=null?i:0;let s=Pse(t,e,n),a=[],l=s;for(;l;)a.unshift(l),l=l.parent;for(let u of a)if(u.captureSelection){s=u;break}let c=t.model.offsetOf(s);if(c<0)return-1;if(s.leftSibling)if(r.bias===0&&s.type!=="placeholder"){let u=J1(t,s);u&&e<(u.left+u.right)/2&&(c=t.model.offsetOf(s.leftSibling))}else r.bias<0&&(c=t.model.offsetOf(s.leftSibling));return c}var Nse=class extends Gn{constructor(){super("math")}onPaste(t,e){if(!e||!t.model.contentWillChange({data:typeof e=="string"?e:null,dataTransfer:typeof e=="string"?null:e,inputType:"insertFromPaste"}))return!1;let n="",r="auto",i=typeof e!="string"?e.getData("application/json+mathlive"):"";if(i)try{let o=JSON.parse(i);if(o&&Array.isArray(o)){t.snapshot();let s=Ju(o),{model:a}=t;a.selectionIsCollapsed||a.deleteAtoms(Oi(a.selection));let l=a.at(a.position);if(l.parent instanceof An){l.parentBranch;let c=[],u=[];s[0].type==="first"&&s.shift(),s[s.length-1].type==="first"&&s.pop();for(let p of s)p.type==="first"&&u.length>0?(c.push(u),u=[p]):u.push(p);u.length>0&&c.push(u);let d=Number(l.parentBranch[0]),h=Number(l.parentBranch[1]),f=l.parent.maxColumns;for(;l.parent.colCount-h<c.length&&l.parent.colCount<f;)l.parent.addColumn();l.parent.addChildrenAfter(c[0],l);for(let p=1;p<c.length;p++)h++,h>=f&&(h=0,l.parent.addRowAfter(d),d++),l.parent.setCell(d,h,c[p])}else l.parent.addChildrenAfter(s.filter(c=>c.type!=="first"),l);return a.position=a.offsetOf(s[s.length-1]),a.contentDidChange({inputType:"insertFromPaste"}),ar(t),!0}}catch{}if(i=typeof e!="string"?e.getData("application/json"):"",i&&globalThis.MathfieldElement.computeEngine)try{let o=JSON.parse(i);if(typeof o=="object"&&"latex"in o&&o.latex&&(n=o.latex),!n){let s=globalThis.MathfieldElement.computeEngine.box(o);s&&!s.has("Error")&&(n=s.latex)}n||(r="latex")}catch{}if(!n&&typeof e!="string"&&(n=e.getData("application/x-latex"),n&&(r="latex")),n||(n=typeof e=="string"?e:e.getData("text/plain")),n){let o;return[o,n]=Fk(n),r==="auto"&&o&&(r="latex"),t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,n,{format:r})&&(t.startRecording(),t.snapshot("paste"),ar(t)),t.startRecording(),!0}return!1}insert(t,e,n){var r,i;let o=typeof e=="string"?e:(i=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.box(e).latex)!=null?i:"";if(!n.silenceNotifications&&!t.contentWillChange({data:o,inputType:"insertText"}))return!1;n.insertionMode||(n.insertionMode="replaceSelection"),n.selectionMode||(n.selectionMode="placeholder"),n.format||(n.format="auto");let{silenceNotifications:s}=t;n.silenceNotifications&&(t.silenceNotifications=!0);let a=t.silenceNotifications;t.silenceNotifications=!0;let l={"?":"\\placeholder{}","@":"\\placeholder{}"};l[0]=n.insertionMode==="replaceAll"?"":t.getValue(t.selection,"latex-unstyled"),n.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(Oi(t.selection)):n.insertionMode==="replaceAll"?t.deleteAtoms():n.insertionMode==="insertBefore"?t.collapseSelection("backward"):n.insertionMode==="insertAfter"&&t.collapseSelection("forward"),!t.at(t.position).isLastSibling&&t.at(t.position+1).type==="placeholder"?t.deleteAtoms([t.position,t.position+1]):t.at(t.position).type==="placeholder"&&t.deleteAtoms([t.position-1,t.position]);let c=-1;l[0]?l["@"]=l[0]:typeof e=="string"&&/(^|[^\\])#@/.test(e)&&(c=Ose(t),c>=0&&(l["@"]=t.getValue(c,t.position,"latex"))),l[0]||(l[0]=l["?"]);let u=!1,d=w=>(u=!0,l[w]),[h,f]=qP(t,e,d,n);if(!f)return!1;let p=f.length===1&&f[0].type==="genfrac";p&&c>=0&&typeof t.mathfield.options.isImplicitFunction=="function"&&t.mathfield.options.isImplicitFunction(t.at(t.position).command)?(l["@"]=l["?"],u=!1,[h,f]=qP(t,e,d,n)):c>=0&&t.deleteAtoms([c,t.position]);let{parent:v}=t.at(t.position),b=v.hasEmptyBranch("body");if(p&&h!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&v instanceof sr&&v.leftDelim==="("&&b){let w=v.parent,A=v.parentBranch;w.removeChild(v),w.setChildren(f,A)}let y=t.at(t.position);y.parent.addChildrenAfter(f,y),h==="latex"&&typeof e=="string"&&(v==null?void 0:v.type)==="root"&&b&&!u&&(v.verbatimLatex=e),t.silenceNotifications=a;let x=f[f.length-1];if(n.selectionMode==="placeholder"){let w=f.flatMap(A=>[A,...A.children]).find(A=>A.type==="placeholder");if(w){let A=t.offsetOf(w);t.setSelection(A-1,A),t.announce("move")}else x&&(t.position=t.offsetOf(x))}else n.selectionMode==="before"||(n.selectionMode==="after"?x&&(t.position=t.offsetOf(x)):n.selectionMode==="item"&&t.setSelection(t.anchor,t.offsetOf(x)));return t.contentDidChange({data:o,inputType:"insertText"}),t.silenceNotifications=s,!0}};function qP(t,e,n,r){var i;let o,s=[];if(typeof e!="string"||r.format==="math-json"){let a=globalThis.MathfieldElement.computeEngine;if(!a)return["math-json",[]];[o,e]=["latex",a.box(e).latex],s=Eo(e,{context:t.mathfield.context})}else typeof e=="string"&&r.format==="ascii-math"?([o,e]=A5(e,{format:"ascii-math",inlineShortcuts:t.mathfield.options.inlineShortcuts}),s=Eo(e,{context:t.mathfield.context}),o!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&Uw(s)):(r.format==="auto"||(i=r.format)!=null&&i.startsWith("latex"))&&(r.format==="auto"&&([o,e]=A5(e,{format:"auto",inlineShortcuts:t.mathfield.options.inlineShortcuts})),r.format==="latex"&&([,e]=Fk(e)),s=Eo(e,{context:t.mathfield.context,args:n}),r.format!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&Uw(s));return Lu(s,r.style),[o??"latex",s]}function Ise(t){if(!t||(t[0].type,t.length>1))return null;let e=t[0];return e instanceof sr&&e.leftDelim==="("&&e.rightDelim===")"?e.removeBranch("body"):null}function Uw(t){if(t){for(let e=0;t[e];e++){let n=t[e];if(n instanceof sr&&n.leftDelim==="("){let r=0,i=0,o=0;for(let s=0;n.body[s];s++)n.body[s].type==="genfrac"&&(r++,i=s),o++;o===0&&r===1&&(t[e]=n.body[i])}}for(let e of t){for(let n of e.branches)if(!e.hasEmptyBranch(n)){Uw(e.branch(n));let r=Ise(e.branch(n));r&&e.setChildren(r,n)}if(e instanceof An)for(let n of e.cells)Uw(n)}}}function Ose(t){let e=t.at(t.position);if(e.mode==="text"){for(;!e.isFirstSibling&&e.mode==="text";)e=e.leftSibling;return t.offsetOf(e)}let n=e,r=!1;if(e.type==="mclose"){let i=Dw[e.value];for(;!e.isFirstSibling&&!(e.type==="mopen"&&e.value===i);)e=e.leftSibling;e.isFirstSibling||(e=e.leftSibling),r=!0}else e.type==="leftright"&&(e=e.leftSibling,r=!0);if(r)for(;!e.isFirstSibling&&(e.isFunction||KP(e));)e=e.leftSibling;else{let i=[];for(;!e.isFirstSibling&&(KP(e)||i.length>0);)e.type==="mclose"&&i.unshift(e.value),e.type==="mopen"&&i.length>0&&e.value===Dw[i[0]]&&i.shift(),e=e.leftSibling}return n===e?-1:t.offsetOf(e)}function KP(t){return t.isDigit()?!0:t.type&&/^(mord|surd|subsup|leftright|mop|mclose)$/.test(t.type)?!t.isExtensibleSymbol:!1}new Nse;var Fse=class extends Gn{constructor(){super("text")}onPaste(t,e){if(!e)return!1;let n=typeof e=="string"?e:e.getData("text/plain");return n&&t.model.contentWillChange({inputType:"insertFromPaste",data:n})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,n)&&(t.model.contentDidChange({inputType:"insertFromPaste"}),t.startRecording(),t.snapshot("paste"),ar(t)),t.startRecording(),!0):!1}insert(t,e,n={}){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;n.insertionMode||(n.insertionMode="replaceSelection"),n.selectionMode||(n.selectionMode="placeholder"),n.format||(n.format="auto");let{silenceNotifications:r}=t;n.silenceNotifications&&(t.silenceNotifications=!0);let i=t.silenceNotifications;t.silenceNotifications=!0,n.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(Oi(t.selection)):n.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):n.insertionMode==="insertBefore"?t.collapseSelection("backward"):n.insertionMode==="insertAfter"&&t.collapseSelection("forward");let o=zse(e,t.mathfield.context);if(Lu(o,n.style),!o)return!1;let s=t.at(t.position),a=s.parent.addChildrenAfter(o,s);return t.silenceNotifications=i,n.selectionMode==="before"||(n.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(a)):a&&(t.position=t.offsetOf(a))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=r,!0}};function zse(t,e){return t=t.replace(/\\/g,"\\textbackslash "),t=t.replace(/#/g,"\\#"),t=t.replace(/\$/g,"\\$"),t=t.replace(/%/g,"\\%"),t=t.replace(/&/g,"\\&"),t=t.replace(/_/g,"\\_"),t=t.replace(/{/g,"\\textbraceleft "),t=t.replace(/}/g,"\\textbraceright "),t=t.replace(/lbrace/g,"\\textbraceleft "),t=t.replace(/rbrace/g,"\\textbraceright "),t=t.replace(/\^/g,"\\textasciicircum "),t=t.replace(/~/g,"\\textasciitilde "),t=t.replace(//g,"\\textsterling "),Eo(t,{context:e,parseMode:"text"})}new Fse;function cl(t){return{value:t.model.getValue(),selectionIsCollapsed:t.model.selectionIsCollapsed,canUndo:t.canUndo(),canRedo:t.canRedo(),style:t.selectionStyle,mode:t.model.mode}}var zn=4,_o=20,Dr=2*(_o+zn),jx=(t,e)=>`
  <line x1="${t+_o}" y1="${e+_o}" 
    x2="${t>e?t+_o:7*_o+10*zn}" 
    y2="${t<e?e+_o:7*_o+10*zn}"/>
  <svg id="plus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>
  </svg>`,WP=(t,e)=>`
  <line x1="${t+_o}" y1="${e+_o}" 
    x2="${t>e?t+_o:7*_o+10*zn}" 
    y2="${t<e?e+_o:7*_o+10*zn}"/>
  <svg id="minus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>
  </svg>`,Hx=(t,e,n)=>`
  <svg id="arrow" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <g transform="rotate(${n})" transform-origin="20 20">
      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>
    </g>  
  </svg>`,Use=`
<svg class="MLEP__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
viewBox=
"-2 -2 ${8*_o+10*zn+5} ${8*_o+10*zn+5}">
  <rect 
      class="MLEP__array-insert-background rows"
      x="0" 
      y="${Dr+zn}" 
      height="${3*Dr}" 
      width="${Dr}" 
      rx="${Dr/2}"/>
      <rect 
      class="MLEP__array-insert-background columns"
      x="${Dr+zn}" 
      y="0" 
      height="${Dr}" 
      width="${3*Dr}" 
      rx="${Dr/2}"/>
  <g data-command='"moveDown"'>
  ${Hx(2*(zn+Dr),2*zn+3*Dr,0)}
  </g>
  <g data-command='"moveUp"'>
  ${Hx(2*(zn+Dr),2*zn+Dr,180)}
  </g>
  <g data-command='"moveToNextWord"'>
  ${Hx(2*zn+3*Dr,2*(zn+Dr),-90)}
  </g>
  <g data-command='"moveToPreviousWord"'>
  ${Hx(2*zn+Dr,2*(zn+Dr),90)}
  </g>
  <g>

  <g data-command='"addColumnBefore"'>
  ${jx(2*zn+Dr,zn)}
  </g>
  <g data-command='"removeColumn"'>
  ${WP(2*zn+2*Dr,zn)}
  </g>
  <g data-command='"addColumnAfter"'>
  ${jx(2*zn+3*Dr,zn)}
  </g>
  <g data-command='"addRowBefore"'>
  ${jx(zn,2*zn+Dr)}
  </g>
  <g data-command='"removeRow"'>
  ${WP(zn,2*zn+2*Dr)}
  </g>
  <g data-command='"addRowAfter"'>
    ${jx(zn,2*zn+3*Dr)}
  </g>
</svg>`,jse=t=>`
<svg id="matrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","matrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,Hse=t=>`
<svg id="pmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
data-command='["setEnvironment","pmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>
  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,FG=t=>`
<svg id="Bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","Bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,$se=t=>`
<svg id="bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4h-3v16h3"/>
  <path class="cls-2" d="m22,4h3v16h-3"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,Gse=t=>`
<svg id="vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>
  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>
</svg>`,Vse=t=>`
<svg id="Vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" 
  data-command='["setEnvironment","Vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>
  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>
  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>
  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>
</svg>`,qse=t=>`
<svg id="cases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","cases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <circle cx="13" cy="8" r="1"/>
  <circle cx="13" cy="16" r="1"/>
  <circle cx="21" cy="8" r="1"/>
  <circle cx="21" cy="16" r="1"/>
</svg>`,Kse=t=>`
<svg id="rcases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","rcases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>
  <circle cx="15" cy="8" r="1"/>
  <circle cx="15" cy="16" r="1"/>
  <circle cx="7" cy="8" r="1"/>
  <circle cx="7" cy="16" r="1"/>
</svg>`,vC={matrix:jse,pmatrix:Hse,bmatrix:$se,Bmatrix:FG,vmatrix:Gse,Vmatrix:Vse},bC={cases:qse,rcases:Kse,Bmatrix:FG};function Wse(t){var e,n;let r=(e=t.model.parentEnvironment)==null?void 0:e.array;if(!r)return;let i=0;r.forEach(f=>{(!i||f.length>i)&&(i=f.length)});let o=document.getElementById("mathlive-environment-popover");o||(o=F3("mathlive-environment-popover"),kc("environment-popover"),kc("core"),o.setAttribute("aria-hidden","true"));let s,a=o.querySelector(".MLEP__environment-controls");a?s=a:(s=document.createElement("div"),o.innerHTML="",o.appendChild(s)),s.className="MLEP__environment-controls",s.style.display="flex",s.style.width="100%",s.style.height="100%",s.style.boxSizing="border-box",s.innerHTML=Use;let l=[],c="",u=t.model.parentEnvironment.environmentName;if(D$(u)){let f=Jse(u);c=vC[f]("active");let p=vC,v=Aw(p,[DL(f)]);l=Object.values(v).map(b=>b("inactive"))}else if(Rie(u)){let f=Yse(u);c=bC[f]("active");let p=bC,v=Aw(p,[DL(f)]);l=Object.values(v).map(b=>b("inactive"))}else Bie(u)&&(c=vC.matrix("active"),l=Object.values(bC).map(f=>f("inactive")));let d=document.createElement("div");d.className="MLEP__environment-delimiter-controls",d.style.display="flex",d.style.flexDirection="column",d.innerHTML=`
  <div class='MLEP__array-delimiter-options'>
  ${c}
  ${l.join("")}
  </div>`,c&&s.appendChild(d),s.querySelectorAll("[data-command]").forEach(f=>{let p=f.dataset.command,v=p;try{v=JSON.parse(p)}catch{}f.addEventListener("mousedown",b=>b.preventDefault()),v&&f.addEventListener("click",()=>t.executeCommand(v))});let h=(n=t.field)==null?void 0:n.getBoundingClientRect();h&&(o.style.top=`${window.scrollY+(h.top-o.clientHeight-15)}px`,o.style.left=`${h.left+20}px`,o.classList.add("is-visible"))}function F5(){let t=document.getElementById("mathlive-environment-popover");t==null||t.classList.remove("is-visible")}function Xse(){document.getElementById("mathlive-environment-popover")&&(Gk("mathlive-environment-popover"),nd("environment-popover"),nd("core"))}function $x(t){if(!t.hasFocus())return;let e=!1;if(t.model.mode==="math"){let n=t.model.parentEnvironment;if(n!=null&&n.array&&Lie(n.environmentName)){let r=t.options.environmentPopoverPolicy;e=r==="auto"||r==="on"}}e?Wse(t):F5()}function Jse(t){return t.replace("*","")}function Yse(t){return t==="dcases"?"cases":t}function zG(t){let e=getComputedStyle(t).direction;return e==="ltr"||e==="rtl"?e:"ltr"}function XP(t,e,n){return e==="left"||e==="leading"&&n==="ltr"||e==="trailing"&&n==="rtl"?t.left:t.right}function xC(t,e,n,r){return n==="middle"?t-e/2:n==="start"&&r==="rtl"||n==="end"&&r==="ltr"||n==="top"||n==="right"?Math.max(0,t-e):t}function Zse(t,e,n,r){return n==="middle"?t-e/2:n==="start"&&r==="ltr"||n==="end"&&r==="rtl"||n==="top"||n==="right"?t:t-e}function Qse(t,e){var n,r,i;let o=(n=zG(t))!=null?n:"ltr";t.style.position="fixed",t.style.left="",t.style.top="",t.style.right="",t.style.bottom="",t.style.height="",t.style.width="";let s=t.getBoundingClientRect(),a=Number.isFinite(e.maxHeight)?Math.min(e.maxHeight,window.innerHeight):window.innerHeight,l=Math.min(a,(r=e.height)!=null?r:s.height),c=xC(e.location.y,l,e.verticalPos,o);c+l>window.innerHeight-8&&(e.alternateLocation?(c=xC(e.alternateLocation.y,l,e.verticalPos,o),c+l>window.innerHeight-8&&(c=void 0)):c=void 0),Number.isFinite(c)||(c=Math.max(8,window.innerHeight-8-l),8+l>window.innerHeight-8&&(t.style.bottom="8px")),l=Math.min(c+l,window.innerHeight-8)-c;let u=Number.isFinite(e.maxWidth)?Math.min(e.maxWidth,window.innerWidth):window.innerWidth,d=Math.min(u,(i=e.width)!=null?i:s.width),h=xC(e.location.x,d,e.horizontalPos,o);h+d>window.innerWidth-8&&(e.alternateLocation?(h=Zse(e.alternateLocation.x,d,e.verticalPos,o),h+d>window.innerWidth-8&&(h=void 0)):h=void 0),Number.isFinite(h)||(h=Math.max(8,window.innerWidth-8-d),8+d>window.innerWidth-8&&(t.style.right="8px")),d=Math.min(h+d,window.innerWidth-8)-h,o==="rtl"?t.style.right=`${Math.ceil(window.innerWidth-h-d).toString()}px`:t.style.left=`${Math.ceil(h).toString()}px`,t.style.top=`${Math.ceil(c).toString()}px`,l!==s.height&&(t.style.height=`${Math.ceil(l).toString()}px`),d!==s.width&&(t.style.width=`${Math.ceil(d).toString()}px`)}function eae(t,e){return Math.hypot(e.x-t.x,e.y-t.y)}function rm(t){return"submenu"in t}function ul(t){return"type"in t&&t.type==="command"||"onMenuSelect"in t||"id"in t}function z5(t){return"type"in t&&t.type==="divider"}function _C(t){return"type"in t&&t.type==="heading"}var JP={};function wC(t){let e=JP[t];if(!e){let n;switch(t){case"checkmark":n=`<span aria-hidden="true" class="ui-checkmark"><svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"></path></svg>
      </span>`;break;case"trailing-chevron":n='<span aria-hidden="true" class="ui-trailing-chevron"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></span>';break;case"mixedmark":n='<span aria-hidden="true" class="ui-mixedmark"><svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24z"/></svg></span>'}if(n){let r=document.createElement("template");r.innerHTML=n,JP[t]=r,e=r}}if(e){if("content"in e)return e.content.cloneNode(!0);let n=document.createElement("svg");return n.innerHTML=e.innerHTML,n}}var YP=80,UG=class{constructor(t,e){this._element=null;var n;this.parentMenu=e,this._declaration=t,rm(t)?(this.type="submenu",this.submenu=new jG(t.submenu,{parentMenu:e,submenuClass:t.submenuClass,columnCount:t.columnCount})):this.type=(n=t.type)!=null?n:"command",this.hasCheck=ul(t)&&t.checked!==void 0}get rootMenu(){return this.parentMenu.rootMenu}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}dispose(){var t,e;(t=this._abortController)==null||t.abort(),this._abortController=void 0,(e=this._element)==null||e.remove(),this._element=null,this.submenu&&this.submenu.dispose(),this.submenu=void 0}get menuItem(){return this._declaration}get label(){var t;return(t=this._label)!=null?t:""}set label(t){t===void 0&&(t=""),t!==this._label&&(this._label=t,this.dirty=!0)}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.dirty=!0)}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.element&&(t?this.element.removeAttribute("aria-disabled"):this.element.setAttribute("aria-disabled","true")),this.dirty=!0}get checked(){return this._checked}set checked(t){this._checked=t,this.dirty=!0}get tooltip(){return this._tooltip}set tooltip(t){t!==this._tooltip&&(this._tooltip=t,this.dirty=!0)}get ariaLabel(){return this._ariaLabel}set ariaLabel(t){t!==this._ariaLabel&&(this._ariaLabel=t,this.dirty=!0)}get active(){var t,e;return(e=(t=this.element)==null?void 0:t.classList.contains("active"))!=null?e:!1}set active(t){this.element&&this.element.classList.toggle("active",t)}updateState(t){var e,n,r;let i=this._declaration;if(z5(i)){this.enabled=!1,this.checked=!1;return}_C(i)&&(this.enabled=!1,this.checked=!1,this.visible=!0),ul(i)&&(this.checked=ul(i)&&((e=Zf(i.checked,t))!=null?e:!1)),(ul(i)||rm(i))&&(this.enabled=(n=Zf(i.enabled,t))!=null?n:!0,this.visible=(r=Zf(i.visible,t))!=null?r:!0,this.visible&&this.enabled&&this.submenu&&(this.submenu.updateState(t),this.submenu.visible||(this.visible=!1))),(ul(i)||_C(i)||rm(i))&&(this.label=Zf(i.label,t),this.tooltip=Zf(i.tooltip,t),this.ariaLabel=Zf(i.ariaLabel,t)),this._element&&this.updateElement()}set dirty(t){t&&this.parentMenu&&(this.parentMenu.dirty=!0)}updateElement(){if(!this.visible||!this.element)return;let t=this.element;t.textContent="",this.enabled?t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled","true"),this.checked===!0?(t.setAttribute("aria-checked","true"),t.append(wC("checkmark"))):this.checked==="mixed"?(t.setAttribute("aria-checked","mixed"),t.append(wC("mixedmark"))):t.removeAttribute("aria-checked"),this.ariaLabel&&t.setAttribute("aria-label",this.ariaLabel);let e=document.createElement("span");if(e.className=this.parentMenu.hasCheck?"label indent":"label",this.type==="heading"&&e.classList.add("heading"),e.innerHTML=this.label,t.append(e),this._tooltip&&t.setAttribute("data-tooltip",this._tooltip),ul(this._declaration)&&this._declaration.keyboardShortcut){let n=document.createElement("kbd");n.innerHTML=$k(this._declaration.keyboardShortcut),t.append(n)}this.type==="submenu"&&t.append(wC("trailing-chevron"))}get element(){if(this._element)return this._element;if(z5(this._declaration)){let n=document.createElement("li");return n.setAttribute("part","menu-divider"),n.setAttribute("role","divider"),this._element=n,n}let t=document.createElement("li");this._element=t,(ul(this._declaration)||_C(this._declaration)||rm(this._declaration))&&this._declaration.class&&(t.className=this._declaration.class),t.setAttribute("part","menu-item"),t.setAttribute("tabindex","-1"),this.hasCheck?t.setAttribute("role","menuitemcheckbox"):t.setAttribute("role","menuitem"),this.type==="submenu"&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"));let e=this.abortController.signal;return t.addEventListener("pointerenter",this,{signal:e}),t.addEventListener("pointerleave",this,{signal:e}),t.addEventListener("pointerup",this,{signal:e}),t.addEventListener("click",this,{signal:e}),this._element}dispatchSelect(){if(!ul(this._declaration))return;let t=new CustomEvent("menu-select",{cancelable:!0,bubbles:!0,detail:{modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data}});this.parentMenu.dispatchEvent(t)&&typeof this._declaration.onMenuSelect=="function"&&this._declaration.onMenuSelect({modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data})}handleEvent(t){var e;if(!(!this.visible||!this.enabled)){if(t.type==="click"){this.rootMenu.state==="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}if(t.type==="pointerenter"){let n=t;this.rootMenu.cancelDelayedOperation(),this.parentMenu.isSubmenuOpen&&(e=this.parentMenu.activeMenuItem)!=null&&e.movingTowardSubmenu(n)?this.rootMenu.scheduleOperation(()=>{this.parentMenu.activeMenuItem=this,this.openSubmenu()}):(this.parentMenu.activeMenuItem=this,this.openSubmenu({withDelay:!0}));return}if(t.type==="pointerleave"){this.rootMenu.activeSubmenu===this.parentMenu&&(this.parentMenu.activeMenuItem=null);return}if(t.type==="pointerup"){this.rootMenu.state!=="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}}}select(){if(this.rootMenu.cancelDelayedOperation(),this.type==="submenu"){this.openSubmenu();return}this.active=!1,setTimeout(()=>{this.active=!0,setTimeout(()=>{this.rootMenu.hide(),this.dispatchSelect()},YP)},YP)}openSubmenu(t){var e;if(this.type!=="submenu"||!this.element)return;if((e=t==null?void 0:t.withDelay)!=null&&e){this.rootMenu.scheduleOperation(()=>this.openSubmenu());return}let n=this.element.getBoundingClientRect(),r=zG(this.element);this.submenu.show({container:this.rootMenu.element.parentNode,location:{x:XP(n,"trailing",r),y:n.top-4},alternateLocation:{x:XP(n,"leading",r),y:n.top-4}})}movingTowardSubmenu(t){if(!this.element||this.type!=="submenu")return!1;let e=this.rootMenu.lastMoveEvent;if(!e)return!1;let n=t.timeStamp-e.timeStamp;if(n>500)return!1;let r=t.clientX-e.clientX;if(tae(r,e.clientY-t.clientY,n)<=.2)return!1;let i="right";if(this.submenu.element){let o=this.submenu.element.getBoundingClientRect(),s=this.element.getBoundingClientRect();o.left<s.left+s.width/2&&(i="left")}return i==="right"?r>0:r<0}};function tae(t,e,n){return Math.hypot(t,e)/n}function Zf(t,e){return t===void 0||typeof t!="function"?t:(e!=null||(e={alt:!1,control:!1,shift:!1,meta:!1}),t(e))}var jG=class oy{constructor(e,n){this._element=null,this._activeMenuItem=null,this._dirty=!0;var r,i;this.parentMenu=(r=n==null?void 0:n.parentMenu)!=null?r:null,this._submenuClass=n==null?void 0:n.submenuClass,this.columnCount=(i=n==null?void 0:n.columnCount)!=null?i:1,this.isSubmenuOpen=!1,this.menuItems=e}get children(){return this._menuItems}set menuItems(e){let n=this.parentMenu;this.dispose(),this.parentMenu=n,e=[...e],this._menuItems=e.map(r=>r.onCreate?r.onCreate(r,this):new UG(r,this)),this.hasCheck=void 0,this.dirty=!0}dispose(){var e;this.hide(),this._element&&this._element.remove(),this._abortController&&this._abortController.abort(),(e=this._menuItems)==null||e.forEach(n=>n.dispose()),this._menuItems=[],this._activeMenuItem=null,this.parentMenu=null}handleEvent(e){if(e.type==="wheel"&&this._element){let n=e;this._element.scrollBy(0,n.deltaY),e.stopPropagation()}}dispatchEvent(e){return this.rootMenu.dispatchEvent(e)}get rootMenu(){return this.parentMenu.rootMenu}updateState(e){var n,r,i;this._menuItems.forEach(c=>c.updateState(e));let o=this.hasCheck;this.hasCheck=this._menuItems.some(c=>c.visible&&c.hasCheck),this.hasCheck!==o&&this._menuItems.forEach(c=>c.updateState(e));let s,a=0;for(let c of this._menuItems)c.type==="heading"?(s&&a===0&&(s.visible=!1),s=c,a=0):c.type==="divider"&&s?(s.visible=a>0,s=void 0,a=0):s&&c.visible&&(a+=1);s&&(s.visible=a>0);let l=!0;for(let c of this._menuItems)c.type==="divider"?(c.visible=!l,l=!0):c.visible&&(l=!1);(n=this.activeMenuItem)!=null&&n.visible||(this.activeMenuItem=null),!((r=this.activeMenuItem)!=null&&r.enabled)&&((i=this.activeMenuItem)==null?void 0:i.type)==="submenu"&&this._activeMenuItem.submenu.hide(),this._dirty=!1}get enabled(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible&&e.enabled)}get visible(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible)}set dirty(e){this._dirty!==e&&e&&this.parentMenu&&(this._dirty=!0,this.parentMenu.dirty=!0)}updateIfDirty(){this._dirty&&this.updateState(this.rootMenu.modifiers)}updateElement(){var e;if(this._element){this._element.textContent="";for(let{element:n,visible:r}of this._menuItems)n&&r&&this._element.append(n);(e=this._element.querySelector("li:first-of-type"))==null||e.setAttribute("tabindex","0")}}get element(){if(this._element)return this._element;let e=document.createElement("menu");e.setAttribute("role","menu"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-orientation","vertical"),e.setAttribute("part","ui-menu-container"),this._submenuClass&&e.classList.add(this._submenuClass),e.classList.add("ui-menu-container"),this._abortController||(this._abortController=new AbortController);let n=this._abortController.signal;return e.addEventListener("focus",this,{signal:n}),e.addEventListener("wheel",this,{passive:!0,signal:n}),this._element=e,this.updateElement(),e}get activeMenuItem(){return this._activeMenuItem}set activeMenuItem(e){var n,r,i,o;if(this.rootMenu.cancelDelayedOperation(),e!==this._activeMenuItem){if(this.activeMenuItem){let s=this.activeMenuItem;s.active=!1,(n=s.submenu)==null||n.hide()}if(!((r=e==null?void 0:e.visible)==null||r)){this._activeMenuItem=null;return}this._activeMenuItem=e,e&&(e.active=!0)}e?(i=e.element)==null||i.focus({preventScroll:!0}):(o=this._element)==null||o.focus({preventScroll:!0})}get firstMenuItem(){this.updateIfDirty();let e=0,n=!1,r=this._menuItems;for(;!n&&e<=r.length-1;){let i=r[e];n=i.type!=="divider"&&i.visible&&i.enabled,e+=1}return n?r[e-1]:null}get lastMenuItem(){this.updateIfDirty();let e=this._menuItems,n=e.length-1,r=!1;for(;!r&&n>=0;){let i=e[n];r=i.type!=="divider"&&i.visible&&i.enabled,n-=1}return r?e[n+1]:null}nextMenuItem(e){if(e===0)return this._activeMenuItem;if(!this._activeMenuItem)return e>0?this.firstMenuItem:this.lastMenuItem;if(!this.firstMenuItem||!this.lastMenuItem||!this._activeMenuItem)return null;this.updateIfDirty();let n=this._menuItems.indexOf(this.firstMenuItem),r=this._menuItems.indexOf(this.lastMenuItem),i=this._menuItems.indexOf(this._activeMenuItem),o=1;for(;i>=n&&i<=r;){i+=e>0?1:-1;let s=this._menuItems[i];if(!s)break;if(s.visible&&s.enabled){if(o===Math.abs(e))return this._menuItems[i];o+=1}}return e>0?this.lastMenuItem:this.firstMenuItem}getMenuItemColumn(e){this.updateIfDirty();let n=this._menuItems.filter(r=>r.visible&&r.enabled).indexOf(e);return n<0?-1:n%this.columnCount}static get collator(){return oy._collator||(oy._collator=new Intl.Collator(void 0,{usage:"search",sensitivity:"base"})),oy._collator}findMenuItem(e){var n;this.updateIfDirty();let r=this._menuItems.filter(a=>a.type!=="divider"&&a.visible&&a.enabled);if(r.length===0)return null;let i=Math.max(...r.map(a=>a.label.length))-e.length;if(i<0)return null;let o=null,s=0;for(;s<i&&!o;)o=(n=r.find(a=>oy.collator.compare(e,a.label.substring(s,e.length))===0))!=null?n:null,s++;return o}show(e){return!this.visible||!e.container?!1:(this.updateElement(),e.container.appendChild(this.element),LL()&&(this.element.popover="manual",this.element.showPopover()),e.location&&Qse(this.element,{location:e.location,alternateLocation:e.alternateLocation,verticalPos:"bottom",horizontalPos:"start"}),this.element.focus({preventScroll:!0}),this.parentMenu&&(this.parentMenu.openSubmenu=this),!0)}hide(){var e,n,r,i,o;this.openSubmenu=null,this.activeMenuItem=null,this.parentMenu&&(this.parentMenu.openSubmenu=null),LL()&&(e=this._element)!=null&&e.popover&&this.element.hidePopover(),(r=(n=this.parentMenu)==null?void 0:n.element)==null||r.focus(),(o=(i=this._element)==null?void 0:i.parentNode)==null||o.removeChild(this._element)}set openSubmenu(e){var n,r,i,o;let s=e!==null;((n=this.activeMenuItem)==null?void 0:n.type)==="submenu"&&((r=this.activeMenuItem.element)==null||r.setAttribute("aria-expanded",s.toString())),(o=(i=this.activeMenuItem)==null?void 0:i.element)==null||o.classList.toggle("is-submenu-open",s),this.isSubmenuOpen=s}},HG=class $G extends jG{constructor(e,n){var r;super(e),this.state="closed",this.typingBufferResetTimer=0,this.hysteresisTimer=0,this._updating=!1,this._host=(r=n==null?void 0:n.host)!=null?r:null,this.isDynamic=e.some(GG),this._modifiers={shift:!1,control:!1,alt:!1,meta:!1},this.typingBuffer="",this.state="closed"}get modifiers(){return this._modifiers}set modifiers(e){boe(this._modifiers,e)||(this._modifiers=e,this.dirty=!0)}get activeSubmenu(){let e=this;for(;e.isSubmenuOpen;)e=e.activeMenuItem.submenu;return e}set dirty(e){this._updating||this._dirty!==e&&(this._dirty=!0,e&&setTimeout(()=>{this.updateState(this.modifiers),this.updateElement()}))}updateState(e){this._updating=!0,this.modifiers=e??this.modifiers,super.updateState(this.modifiers),this._updating=!1}handleKeyupEvent(e){this.isDynamic&&(this.modifiers=Ah(e)),e.stopImmediatePropagation()}handleKeydownEvent(e){var n,r,i;if(e.key==="Tab"||e.key==="Escape"){this.hide();return}this.isDynamic&&(this.modifiers=Ah(e));let o=!0,s=this.activeSubmenu,a=s.activeMenuItem;switch(e.key){case" ":case"Space":case"Return":case"Enter":a==null||a.select(Ah(e));break;case"ArrowRight":if((a==null?void 0:a.type)==="submenu")a.select(Ah(e)),this.activeSubmenu.activeMenuItem=this.activeSubmenu.firstMenuItem;else if(!a)s.activeMenuItem=s.firstMenuItem;else{let l=(n=s.getMenuItemColumn(a))!=null?n:-1;if(l>=0&&l<((r=s.columnCount)!=null?r:1)-1){let c=s.nextMenuItem(1);c&&(s.activeMenuItem=c)}}break;case"ArrowLeft":if(s===this.rootMenu)a||(s.activeMenuItem=s.firstMenuItem);else if((a&&(i=s.getMenuItemColumn(a))!=null?i:-1)<=0||!a){s.hide();let l=s.parentMenu.activeMenuItem;if(l){let{element:c}=l;c==null||c.focus(),c==null||c.classList.remove("is-submenu-open")}}else{let l=s.nextMenuItem(-1);l&&(s.activeMenuItem=l)}break;case"ArrowDown":s.activeMenuItem=s.nextMenuItem(s.columnCount);break;case"ArrowUp":s.activeMenuItem=s.nextMenuItem(-s.columnCount);break;case"Home":case"PageUp":s.activeMenuItem=s.firstMenuItem;break;case"End":case"PageDown":s.activeMenuItem=s.lastMenuItem;break;case"Backspace":if(this.typingBuffer&&(this.typingBuffer=this.typingBuffer.slice(0,-1),this.typingBuffer)){clearTimeout(this.typingBufferResetTimer);let l=s.findMenuItem(this.typingBuffer);l&&(s.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}break;default:if(I3(e)){isFinite(this.typingBufferResetTimer)&&clearTimeout(this.typingBufferResetTimer),this.typingBuffer+=e.key;let l=s.findMenuItem(this.typingBuffer);l&&(s.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}else o=!1}o&&(e.preventDefault(),e.stopPropagation())}handleEvent(e){if(e.type==="keydown")this.handleKeydownEvent(e);else if(e.type==="keyup")this.handleKeyupEvent(e);else if(e.type==="pointermove")this.lastMoveEvent=e;else if(e.type==="pointerup"&&e.target===this.scrim)Number.isFinite(this.rootMenu._openTimestamp)&&Date.now()-this.rootMenu._openTimestamp<120?this.state="modal":this.state==="modal"&&this.hide();else if(e.type==="contextmenu"){e.preventDefault(),e.stopPropagation();return}super.handleEvent(e)}dispatchEvent(e){return this._host?this._host.dispatchEvent(e):!0}get scrim(){return Ma.element}connectScrim(e){let n=this.scrim;n.addEventListener("pointerup",this),n.addEventListener("contextmenu",this),n.addEventListener("keydown",this),n.addEventListener("keyup",this),n.addEventListener("pointermove",this),Ma.open({root:e,onDismiss:()=>this.hide()})}disconnectScrim(){let e=this.scrim;e.removeEventListener("pointerup",this),e.removeEventListener("contextmenu",this),e.removeEventListener("keydown",this),e.removeEventListener("keyup",this),e.removeEventListener("pointermove",this),Ma.state==="open"&&Ma.scrim.close()}get rootMenu(){return this}show(e){return this._onDismiss=e==null?void 0:e.onDismiss,e!=null&&e.modifiers&&(this.modifiers=e.modifiers),this.updateState(),this.connectScrim(e==null?void 0:e.target),super.show(we(oe({},e),{container:this.scrim}))?(this._openTimestamp=Date.now(),this.state="open",!0):(this.disconnectScrim(),!1)}hide(){this.cancelDelayedOperation(),this.state!==void 0&&(this.state!=="closed"&&(this.activeMenuItem=null,Ma.element.parentElement.focus(),super.hide(),this.state="closed",this.disconnectScrim()),this._onDismiss&&(this._onDismiss(),this._onDismiss=void 0))}scheduleOperation(e){this.cancelDelayedOperation();let n=$G.SUBMENU_DELAY;if(n<=0){e();return}this.hysteresisTimer=setTimeout(()=>{this.hysteresisTimer=0,e()},n)}cancelDelayedOperation(){this.hysteresisTimer&&(clearTimeout(this.hysteresisTimer),this.hysteresisTimer=0)}};HG.SUBMENU_DELAY=120;var nae=HG;function GG(t){return z5(t)?!1:typeof t.label=="function"||typeof t.ariaLabel=="function"||typeof t.tooltip=="function"||(ul(t)||rm(t))&&(typeof t.enabled=="function"||typeof t.visible=="function")||ul(t)&&typeof t.checked=="function"?!0:rm(t)?t.submenu.some(GG):!1}var jw=class{};jw.DELAY=300,jw.MAX_DISTANCE=10;function rae(t){return new Promise((e,n)=>{let r=Bw(t);r||e(!1);let i=r,o=setTimeout(()=>{s.abort(),e(eae(i,r)<jw.MAX_DISTANCE)},jw.DELAY),s=new AbortController,a=s.signal;for(let l of["pointermove","pointerup","pointercancel"])window.addEventListener(l,c=>{if(c.type==="pointerup"||c.type==="pointercancel")clearTimeout(o),s.abort(),e(!1);else if(c.type==="pointermove"){let u=Bw(c);u&&(i=u)}},{passive:!0,signal:a})})}async function ZP(t,e,n){if(t.type==="contextmenu"){let r=t;if(n.show({target:e,location:Bw(r),modifiers:Ah(r)}))return t.preventDefault(),t.stopPropagation(),!0}if(t.type==="keydown"){let r=t;if(r.code==="ContextMenu"||r.code==="F10"&&r.shiftKey){let i=e==null?void 0:e.getBoundingClientRect();if(i&&n.show({target:e,location:{x:Math.ceil(i.left+i.width/2),y:Math.ceil(i.top+i.height/2)},modifiers:Ah(r)}))return t.preventDefault(),t.stopPropagation(),!0}}if(t.type==="pointerdown"&&t.pointerType!=="mouse"&&t.button===0){let r=t.target;for(;r&&e!==r;)r=r.parentNode;if(!r||!n.visible)return!1;let i=Bw(t);if(await rae(t))return n.state!=="closed"?!1:(n.show({target:e,location:i}),!0)}return!1}var QP={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};Ue(Object.keys(QP),"{body:auto}",{createAtom:t=>new R3(we(oe({},t),{body:lt(t.args[0]),accentChar:QP[t.command.slice(1)]}))});Ue(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:t=>{let e=e$(lt(t.args[0]));return new R3(we(oe({},t),{body:lt(t.args[0]),svgAccent:t.command.slice(1)+(e.length>5?"4":["1","1","2","2","3","3"][e.length])}))}});Ue(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:t=>new R3(we(oe({},t),{body:lt(t.args[0]),svgAccent:"overarc"}))});Ue(["underarc","underparen"],"{body:auto}",{createAtom:t=>new sa(we(oe({},t),{body:lt(t.args[0]),svgBelow:"underarc"}))});Ue("utilde","{body:auto}",{createAtom:t=>{let e=lt(t.args[0]),n=e$(e),r="widetilde"+(n.length>5?"4":["1","1","2","2","3","3"][n.length]);return new sa(we(oe({},t),{body:e,svgBelow:r,boxType:W1(e)}))}});Ue("^","{:string}",{createAtom:t=>{var e;return new Pe(we(oe({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?e:"^"}))}});Ue("`","{:string}",{createAtom:t=>{var e;return new Pe(we(oe({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?e:"`"}))}});Ue("'","{:string}",{createAtom:t=>{var e;return new Pe(we(oe({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?e:"'"}))}});Ue('"',"{:string}",{createAtom:t=>{var e,n;return new Pe(we(oe({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(n={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?n:'"'+t.args[0]:'"'}))}});Ue(".","{:string}",{createAtom:t=>{var e,n;return new Pe(we(oe({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(n={a:"",e:"",i:"i",o:"",u:"u",A:"",E:"",I:"",O:"",U:"U"}[t.args[0]])!=null?n:"."+t.args[0]:"."}))}});Ue("=","{:string}",{createAtom:t=>{var e,n;return new Pe(we(oe({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(n={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[t.args[0]])!=null?n:"="+t.args[0]:"="}))}});Ue("~","{:string}",{createAtom:t=>{var e;return new Pe(we(oe({type:"mord"},t),{isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={n:"",N:"",a:"",o:"",A:"",O:""}[t.args[0]])!=null?e:""}))}});Ue("c","{:string}",{createAtom:t=>{var e;return new Pe(we(oe({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={c:"",C:""}[t.args[0]])!=null?e:""}))}});Ue("enclose","{notation:string}[style:string]{body:auto}",{createAtom:t=>{var e,n;let r=t.args,i={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"none",svgStrokeStyle:void 0,borderStyle:void 0,style:(e=t.style)!=null?e:{}};if(r[1]){let s=r[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let a of s){let l=a.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(l)i.strokeWidth=l[1],i.strokeStyle=l[2],i.strokeColor=l[3];else{let c=a.match(/\s*([a-z]*)\s*=\s*"(.*)"/);c&&(c[1]==="mathbackground"?i.backgroundcolor=c[2]:c[1]==="mathcolor"?i.strokeColor=c[2]:c[1]==="padding"?i.padding=c[2]:c[1]==="shadow"&&(i.shadow=c[2]))}}i.strokeStyle==="dashed"?i.svgStrokeStyle="5,5":i.strokeStyle==="dotted"&&(i.svgStrokeStyle="1,5")}i.borderStyle=`${i.strokeWidth} ${i.strokeStyle} ${i.strokeColor}`;let o={};return((n=r[0])!=null?n:"").split(/[, ]/).filter(s=>s.length>0).forEach(s=>{o[s.toLowerCase()]=!0}),new Y1(t.command,lt(r[2]),o,i)}});Ue("cancel","{body:auto}",{createAtom:t=>{var e;return new Y1(t.command,lt(t.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});Ue("bcancel","{body:auto}",{createAtom:t=>{var e;return new Y1(t.command,lt(t.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});Ue("xcancel","{body:auto}",{createAtom:t=>{var e;return new Y1(t.command,lt(t.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});Ue(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:t=>{var e;return new sa(we(oe({},t),{body:lt((e=t.args)==null?void 0:e[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:t.command.slice(1)}))}});Ue("overbrace","{:auto}",{createAtom:t=>new sa(we(oe({},t),{body:lt(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:t.command.slice(1)}))});Ue(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:t=>new sa(we(oe({},t),{body:lt(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:t.command.slice(1)}))});Ue(["underbrace"],"{:auto}",{createAtom:t=>new sa(we(oe({},t),{body:lt(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:t.command.slice(1)}))});Ue(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:t=>{var e,n,r,i,o;return new sa(we(oe({},t),{svgBody:t.command.slice(1),above:((n=lt((e=t.args)==null?void 0:e[1]))==null?void 0:n.length)===0?void 0:lt((r=t.args)==null?void 0:r[1]),below:(o=lt((i=t.args)==null?void 0:i[0]))!=null?o:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(t,e)=>t.command+(t.hasEmptyBranch("below")?"":`[${t.belowToLatex(e)}]`)+`{${t.aboveToLatex(e)}}${t.supsubToLatex(e)}`});Ue(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","deg","dim","exp","gcd","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:t=>new yf(t.command.slice(1),we(oe({},t),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))});Ue(["liminf","limsup"],"",{ifMode:"math",createAtom:t=>new yf({"\\liminf":"lim inf","\\limsup":"lim sup"}[t.command],we(oe({},t),{limits:"over-under",variant:"main"}))});Ue(["lim","mod"],"",{ifMode:"math",createAtom:t=>new yf(t.command.slice(1),we(oe({},t),{limits:"over-under",variant:"main"}))});Ue(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:t=>new yf(t.command.slice(1),we(oe({},t),{limits:"over-under",isFunction:!0,variant:"main"}))});Ue(["ang"],"{:math}",{ifMode:"math",createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[0])})),serialize:(t,e)=>`\\ang{${t.bodyToLatex(e)}}`,render:(t,e)=>{let n=t.createBox(e),r=n.caret;n.caret=void 0;let i=new Ye("",{style:we(oe({},t.style),{variant:"normal",variantStyle:"up"})});return new Ye([n,i],{type:"inner",isSelected:t.isSelected,caret:r})}});Ue("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:t=>new lG(we(oe({},t),{body:lt(t.args[1]),index:t.args[0]?lt(t.args[0]):void 0}))});Ue(["frac","dfrac","tfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=oe({},t),n=t.command,r=t.args;switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":e.hasBarLine=!0;break;case"\\atopfrac":e.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":e.hasBarLine=!1,e.leftDelim="(",e.rightDelim=")";break;case"\\cfrac":e.hasBarLine=!0,e.continuousFraction=!0;break}switch(n){case"\\dfrac":case"\\dbinom":e.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":e.mathstyleName="textstyle";break}return new mf(r[0]?lt(r[0]):[new Oa],r[1]?lt(r[1]):[new Oa],e)},serialize:(t,e)=>{let n=t.aboveToLatex(e),r=t.belowToLatex(e);return/^[0-9]$/.test(n)&&/^[0-9]$/.test(r)?`${t.command}${n}${r}`:Vn(t.command,n,r)}});Ue(["cfrac"],"[:string]{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=oe({},t),n=t.args;return e.hasBarLine=!0,e.continuousFraction=!0,n[0]==="r"&&(e.align="right"),n[0]==="l"&&(e.align="left"),new mf(n[1]?lt(n[1]):[new Oa],n[2]?lt(n[2]):[new Oa],e)},serialize:(t,e)=>{let n=t.aboveToLatex(e),r=t.belowToLatex(e);return Vn(t.command,n,r)}});Ue(["brace","brack"],"",{infix:!0,createAtom:t=>new mf(lt(t.args[0]),lt(t.args[1]),we(oe({},t),{hasBarLine:!1,leftDelim:t.command==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:t.command==="\\brace"?"\\rbrace":"\\rbrack"})),serialize:(t,e)=>ln([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});Ue(["over","atop","choose"],"",{infix:!0,createAtom:t=>{let e,n,r=t.args;return t.command==="\\choose"&&(e="(",n=")"),new mf(lt(r[0]),lt(r[1]),we(oe({},t),{hasBarLine:t.command==="\\over",leftDelim:e,rightDelim:n}))},serialize:(t,e)=>ln([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});Ue(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:t=>{var e,n;let r=t.args;return new mf(lt(r[0]),lt(r[1]),we(oe({},t),{leftDelim:(e=r[2])!=null?e:".",rightDelim:(n=r[3])!=null?n:".",hasBarLine:!1}))},serialize:(t,e)=>`${t.aboveToLatex(e)} ${t.command}${t.leftDelim}${t.rightDelim}${t.belowToLatex(e)}`});Ue("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:t=>new mf(lt(t.args[0]),lt(t.args[1]),we(oe({},t),{hasBarLine:!0,numerPrefix:"",denomPrefix:""}))});Ue(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:t=>new Uk({coprod:"",bigvee:"",bigwedge:"",biguplus:"",bigcap:"",bigcup:"",intop:"",prod:"",sum:"",bigotimes:"",bigoplus:"",bigodot:"",bigsqcup:"",smallint:""}[t.command.slice(1)],we(oe({},t),{limits:"auto",variant:"main"}))});Ue("smallint","",{ifMode:"math",createAtom:t=>new yf("",we(oe({},t),{limits:"adjacent",variant:"main"}))});var eN={int:"",iint:"",iiint:"",oint:"",oiint:"",oiiint:"",intclockwise:"",varointclockwise:"",ointctrclockwise:"",intctrclockwise:"",sqcup:"",sqcap:"",uplus:"",wr:"",amalg:"",Cap:"",Cup:"",doublecap:"",doublecup:""};Ue(Object.keys(eN),"",{ifMode:"math",createAtom:t=>{let e=t.command,n=eN[e.slice(1)];return new Uk(n,we(oe({},t),{limits:"adjacent",variant:{"":"ams","":"ams"}[n]}))}});Ue(["Re","Im"],"",{ifMode:"math",createAtom:t=>new yf({"\\Re":"","\\Im":""}[t.command],we(oe({},t),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))});Ue("middle","{:delim}",{ifMode:"math",createAtom:t=>{var e;return new X$(we(oe({},t),{delim:(e=t.args[0])!=null?e:"|",size:1}))}});Ue("the","{:value}",{createAtom:t=>new Pe(we(oe({},t),{captureSelection:!0,verbatimLatex:null})),render:(t,e)=>{var n;let r=new an({parent:e},t.style),i="";t.isSelected&&(i+=" ML__selected");let o=r.evaluate(t.args[0]);return new Ye(((n=Si(o))!=null?n:"").split("").map(s=>new Ye(s,{type:"ord",classes:i,mode:t.mode,isSelected:t.isSelected,style:oe({variant:"main"},t.style)})),{type:"lift",style:t.style,caret:t.caret,isSelected:t.isSelected,classes:i}).wrap(r)},serialize:t=>{var e;return`\\the${(e=Si(t.args[0]))!=null?e:"\\relax"}`}});Ue("mathtip","{:auto}{:math}",{createAtom:t=>new jk(we(oe({},t),{body:lt(t.args[0]),tooltip:lt(t.args[1]),content:"math"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\texttip{${t.bodyToLatex(e)}}{${Pe.serialize([t.tooltip],we(oe({},e),{defaultMode:"math"}))}}`});Ue("texttip","{:auto}{:text}",{createAtom:t=>new jk(we(oe({},t),{body:lt(t.args[0]),tooltip:lt(t.args[1]),content:"text"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\texttip{${t.bodyToLatex(e)}}{${Pe.serialize([t.tooltip],we(oe({},e),{defaultMode:"text"}))}}`});Ue("error","{:math}",{createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[0])})),serialize:(t,e)=>`\\error{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__error"})});Ue("ensuremath","{:math}",{createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[0])})),serialize:(t,e)=>`${t.command}{${t.bodyToLatex(we(oe({},e),{defaultMode:"math"}))}}`});Ue("color","{:value}",{applyStyle:(t,e,n)=>{var r,i;return{verbatimColor:(r=Si(e[0]))!=null?r:void 0,color:n.toColor((i=e[0])!=null?i:{string:"red"})}}});Ue("textcolor","{:value}{content:auto*}",{applyStyle:(t,e,n)=>{var r,i;return{verbatimColor:(r=Si(e[0]))!=null?r:void 0,color:n.toColor((i=e[0])!=null?i:{string:"red"})}}});Ue("boxed","{content:math}",{createAtom:t=>new rd(we(oe({},t),{body:lt(t.args[0]),framecolor:{string:"black"}}))});Ue("colorbox","{:value}{:text*}",{applyStyle:(t,e,n)=>{var r,i;return{verbatimBackgroundColor:(r=Si(e[0]))!=null?r:void 0,backgroundColor:n.toBackgroundColor((i=e[0])!=null?i:{string:"yellow"})}}});Ue("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:t=>{var e,n;return new rd(we(oe({},t),{body:lt(t.args[2]),framecolor:(e=t.args[0])!=null?e:{string:"blue"},backgroundcolor:(n=t.args[1])!=null?n:{string:"yellow"}}))},serialize:(t,e)=>{var n,r;return e.skipStyles?t.bodyToLatex(we(oe({},e),{defaultMode:"text"})):Vn(t.command,(n=Si(t.framecolor))!=null?n:"",(r=Si(t.backgroundcolor))!=null?r:"",t.bodyToLatex(we(oe({},e),{defaultMode:"text"})))}});Ue("bbox","[:bbox]{body:auto}",{createAtom:t=>{var e;let n=t.args[0],r=lt(t.args[1]);return n?new rd(we(oe({},t),{body:r,padding:n.padding,border:n.border,backgroundcolor:(e=n.backgroundcolor)!=null?e:void 0})):new rd(we(oe({},t),{body:r}))},serialize:(t,e)=>{var n,r;if(e.skipStyles)return t.bodyToLatex(e);let i=t.command;if(Number.isFinite(t.padding)||t.border!==void 0||t.backgroundcolor!==void 0){let o=[];t.padding&&o.push((n=Si(t.padding))!=null?n:""),t.border&&o.push(`border: ${t.border}`),t.backgroundcolor&&o.push((r=Si(t.backgroundcolor))!=null?r:""),i+=`[${o.join(",")}]`}return Vn(i,t.bodyToLatex(e))}});Ue(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[0])})),render:(t,e)=>{let n=new an({parent:e,mathstyle:t.command.slice(1)},t.style),r=Pe.createBox(n,t.body,{type:"lift"});return t.caret&&(r.caret=t.caret),t.bind(e,r)},serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{${ln([t.command,t.bodyToLatex(e)])}}`});Ue(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:t=>({fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[t]})});Ue("fontseries","{:string}",{ifMode:"text",applyStyle:(t,e)=>{var n;return{fontSeries:(n=e[0])!=null?n:"auto"}}});Ue("fontshape","{:string}",{ifMode:"text",applyStyle:(t,e)=>{var n;return{fontShape:(n=e[0])!=null?n:"auto"}}});Ue("fontfamily","{:string}",{ifMode:"text",applyStyle:(t,e)=>{var n;return{fontFamily:(n=e[0])!=null?n:"roman"}}});Ue("selectfont","",{ifMode:"text",applyStyle:()=>({})});Ue("bf","{:rest*}",{applyStyle:()=>({fontSeries:"b",fontShape:"n",fontFamily:"roman"})});Ue(["boldsymbol","bm"],"{:math}",{applyMode:"math",createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[0])})),serialize:(t,e)=>`${t.command}{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__boldsymbol"})});Ue("bold","{:math*}",{applyMode:"math",applyStyle:()=>({variantStyle:"bold"})});Ue("bfseries","{:rest*}",{applyMode:"text",applyStyle:()=>({fontSeries:"b"})});Ue("mdseries","{:rest*}",{applyMode:"text",applyStyle:()=>({fontSeries:"m"})});Ue("upshape","{:rest*}",{applyMode:"text",applyStyle:()=>({fontShape:"n"})});Ue("slshape","{:rest*}",{applyMode:"text",applyStyle:()=>({fontShape:"sl"})});Ue("scshape","{:rest*}",{applyMode:"text",applyStyle:()=>({fontShape:"sc"})});Ue("textbf","{:text*}",{applyMode:"text",applyStyle:()=>({fontSeries:"b"})});Ue("textmd","{:text*}",{applyMode:"text",applyStyle:()=>({fontSeries:"m"})});Ue("textup","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"n"})});Ue("textnormal","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"n",fontSeries:"m"})});Ue("textsl","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"sl"})});Ue("textit","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"it"})});Ue("textsc","{:text*}",{applyMode:"text",applyStyle:()=>({fontShape:"sc"})});Ue("textrm","{:text*}",{applyMode:"text",applyStyle:()=>({fontFamily:"roman"})});Ue("textsf","{:text*}",{applyMode:"text",applyStyle:()=>({fontFamily:"sans-serif"})});Ue("texttt","{:text*}",{applyMode:"text",applyStyle:()=>({fontFamily:"monospace"})});Ue("mathbf","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"normal",variantStyle:"bold"})});Ue("mathit","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"main",variantStyle:"italic"})});Ue("mathnormal","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"normal",variantStyle:"italic"})});Ue("mathbfit","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"main",variantStyle:"bolditalic"})});Ue("mathrm","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"normal",variantStyle:"up"})});Ue("mathsf","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"sans-serif",variantStyle:"up"})});Ue("mathtt","{:math*}",{applyMode:"math",applyStyle:()=>({variant:"monospace",variantStyle:"up"})});Ue("it","{:rest*}",{applyStyle:()=>({fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})});Ue("rmfamily","{:rest*}",{applyStyle:()=>({fontFamily:"roman"})});Ue("sffamily","{:rest*}",{applyStyle:()=>({fontFamily:"sans-serif"})});Ue("ttfamily","{:rest*}",{applyStyle:()=>({fontFamily:"monospace"})});Ue(["Bbb","mathbb"],"{:math*}",{applyStyle:()=>({variant:"double-struck",variantStyle:"up"})});Ue(["frak","mathfrak"],"{:math*}",{applyStyle:()=>({variant:"fraktur",variantStyle:"up"})});Ue("mathcal","{:math*}",{applyStyle:()=>({variant:"calligraphic",variantStyle:"up"})});Ue("mathscr","{:math*}",{applyStyle:()=>({variant:"script",variantStyle:"up"})});Ue("mbox","{:text}",{ifMode:"math",createAtom:t=>new Pe(we(oe({},t),{type:"mord",body:lt(t.args[0]),mode:"math"})),serialize:(t,e)=>Vn("\\mbox",t.bodyToLatex(we(oe({},e),{defaultMode:"text"})))});Ue("text","{:text}",{ifMode:"math",applyMode:"text"});Ue(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[1])})),serialize:(t,e)=>!t.args[0]||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`,render:(t,e)=>{var n;return t.createBox(e,{classes:(n=t.args[0])!=null?n:""})}});Ue(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[1])})),serialize:(t,e)=>{var n;return!((n=t.args)!=null&&n[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var n;let r=t.createBox(e);return r.cssId=(n=t.args[0])!=null?n:"",r}});Ue("htmlData","{data:string}{content:auto}",{createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[1])})),serialize:(t,e)=>{var n;return!((n=t.args)!=null&&n[0])||e.skipStyles?t.bodyToLatex(e):`\\htmlData{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var n;let r=t.createBox(e);return r.htmlData=(n=t.args[0])!=null?n:"",r}});Ue(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[1])})),serialize:(t,e)=>{var n;return!((n=t.args)!=null&&n[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var n;let r=t.createBox(e);return r.htmlStyle=(n=t.args[0])!=null?n:"",r}});Ue("em","{:rest}",{createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[0])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{\\em ${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});Ue("emph","{:auto}",{createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[1])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\emph{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});var tN={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};Ue(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:t=>{var e;return new Y$(we(oe({},t),{delim:(e=t.args[0])!=null?e:".",size:tN[t.command].size,delimType:tN[t.command].mclass}))}});Ue(["hspace","hspace*"],"{width:value}",{createAtom:t=>{var e;return new Q1(we(oe({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});Ue(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:t=>{var e;return new Q1(we(oe({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});Ue("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:t=>new Pe(t),render:(t,e)=>{let n=0,r=e.mathstyle.id;(r===L3||r===dh)&&(n=1),(r===gm||r===us)&&(n=2),(r===Sh||r===Qi)&&(n=3);let i=lt(t.args[n]);return Pe.createBox(e,i)},serialize:(t,e)=>`\\mathchoice{${Pe.serialize(t.args[0],e)}}{${Pe.serialize(t.args[1],e)}}{${Pe.serialize(t.args[2],e)}}{${Pe.serialize(t.args[3],e)}}`});Ue("mathop","{:auto}",{createAtom:t=>new Pe(we(oe({},t),{type:"mop",body:lt(t.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(t,e)=>{var n;let r=Pe.createBox(e,t.body);if(t.superscript||t.subscript){let i=(n=t.subsupPlacement)!=null?n:"auto";r=i==="over-under"||i==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:r}):t.attachSupsub(e,{base:r})}return new Ye(t.bind(e,r),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let n=[Vn(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&n.push("\\limits"),t.subsupPlacement==="adjacent"&&n.push("\\nolimits"),t.subsupPlacement==="auto"&&n.push("\\displaylimits")),n.push(t.supsubToLatex(e)),ln(n)}});Ue(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:t=>new Pe(we(oe({},t),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t.command],body:lt(t.args[0])}))});Ue(["operatorname","operatorname*"],"{operator:math}",{createAtom:t=>{let e=lt(t.args[0]).map(n=>{var r;return n.type!=="first"&&(n.type="mord",n.value=(r={"":"*","":"-"}[n.value])!=null?r:n.value,n.isFunction=!1,!n.style.variant&&!n.style.variantStyle&&(n.style.variant="main",n.style.variantStyle="up")),n});return new Pe(we(oe({},t),{type:"mop",body:e,isFunction:!0,limits:t.command==="\\operatorname"?"adjacent":"over-under"}))},render:(t,e)=>{var n;let r=Pe.createBox(e,t.body);if(t.superscript||t.subscript){let i=(n=t.subsupPlacement)!=null?n:"auto";r=i==="over-under"||i==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:r}):t.attachSupsub(e,{base:r})}return t.caret&&(r.caret=t.caret),new Ye(t.bind(e,r),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let n=[Vn(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&n.push("\\limits"),t.subsupPlacement==="adjacent"&&n.push("\\nolimits"),t.subsupPlacement==="auto"&&n.push("\\displaylimits")),n.push(t.supsubToLatex(e)),ln(n)}});Ue(["char","unicode"],"{charcode:value}",{createAtom:t=>new Pe(we(oe({},t),{type:t.mode==="text"?"text":"mord"})),serialize:t=>{var e;return`${t.command}${Si((e=t.args[0])!=null?e:{number:10067,base:"hexadecimal"})}`},render:(t,e)=>{let n=e.evaluate(t.args[0]);return(!n||!("number"in n))&&(n={number:10067,base:"hexadecimal"}),t.value=String.fromCodePoint(n.number),t.createBox(e)}});Ue("rule","[raise:value]{width:value}{thickness:value}",{createAtom:t=>new Pe(t),render:(t,e)=>{var n,r,i;let o=new an({parent:e,mathstyle:"textstyle"},t.style),s=o.toEm((n=t.args[0])!=null?n:{dimension:0}),a=o.toEm((r=t.args[1])!=null?r:{dimension:10}),l=o.toEm((i=t.args[2])!=null?i:{dimension:10}),c=new Ye(null,{classes:"ML__rule",type:"ord"});return c.width=a,c.height=l+s,c.depth=-s,c.setStyle("border-right-width",a,"em"),c.setStyle("border-top-width",l,"em"),c.setStyle("border-color",t.style.color),c.setStyle("vertical-align",s,"em"),t.isSelected&&c.setStyle("opacity","50%"),t.bind(o,c),t.caret&&(c.caret=t.caret),c.wrap(e)},serialize:t=>`\\rule${t.args[0]?`[${Si(t.args[0])}]`:""}{${Si(t.args[1])}}{${Si(t.args[2])}}`});Ue(["overline","underline"],"{:auto}",{createAtom:t=>new Pe(we(oe({},t),{body:lt(t.args[0])})),render:(t,e)=>{let n=t.command.substring(1),r=new an({parent:e,mathstyle:"cramp"},t.style),i=Pe.createBox(r,t.body);if(!i)return null;let o=r.metrics.defaultRuleThickness/r.scalingFactor,s=new Ye(null,{classes:n+"-line"});s.height=o,s.maxFontSize=o*1.125*r.scalingFactor;let a;return n==="overline"?a=new Hr({shift:0,children:[{box:i},3*o,{box:s},o]}):a=new Hr({top:i.height,children:[o,{box:s},3*o,{box:i}]}),t.caret&&(a.caret=t.caret),new Ye(a,{classes:n,type:"ignore"})}});Ue("overset","{:auto}{base:auto}",{createAtom:t=>{let e=lt(t.args[1]);return new sa(we(oe({},t),{above:lt(t.args[0]),body:e,skipBoundary:!1,boxType:W1(e)}))},serialize:(t,e)=>Vn(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});Ue("underset","{:auto}{base:auto}",{createAtom:t=>{let e=lt(t.args[1]);return new sa(we(oe({},t),{below:lt(t.args[0]),body:e,skipBoundary:!1,boxType:W1(e)}))},serialize:(t,e)=>Vn(t.command,t.belowToLatex(e),t.bodyToLatex(e))});Ue("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:t=>{let e=lt(t.args[2]);return new sa(we(oe({},t),{above:lt(t.args[0]),below:lt(t.args[1]),body:e,skipBoundary:!1,boxType:W1(e)}))},serialize:(t,e)=>Vn(t.command,t.belowToLatex(e),t.bodyToLatex(e))});Ue(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:t=>new sa(we(oe({},t),{body:lt(t.args[2]),above:lt(t.args[1]),below:lt(t.args[0]),skipBoundary:!1,boxType:t.command==="\\stackrel"?"rel":"bin"})),serialize:(t,e)=>Vn(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});Ue("smash","[:string]{:auto}",{createAtom:t=>{var e,n,r,i;return new Z1(we(oe({},t),{body:lt(t.args[1]),smashHeight:(n=(e=t.args[0])==null?void 0:e.includes("t"))!=null?n:!0,smashDepth:(i=(r=t.args[0])==null?void 0:r.includes("b"))!=null?i:!0}))}});Ue(["vphantom"],"{:auto}",{createAtom:t=>new Z1(we(oe({},t),{body:lt(t.args[0]),isInvisible:!0,smashWidth:!0}))});Ue(["hphantom"],"{:auto}",{createAtom:t=>new Z1(we(oe({},t),{body:lt(t.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))});Ue(["phantom"],"{:auto}",{createAtom:t=>new Z1(we(oe({},t),{body:lt(t.args[0]),isInvisible:!0}))});Ue("not","{:math}",{createAtom:t=>{let e=lt(t.args[0]);return e.length===0?new Pe(we(oe({},t),{type:"mrel",value:""})):new Pe(we(oe({},t),{body:[new gf(we(oe({},t),{body:"",align:"right"})),...e],captureSelection:!0}))},serialize:(t,e)=>{let n=t.args[0],r=n&&typeof n=="object"&&"group"in n;return t.value!==""?r?`\\not{${Pe.serialize(n.group,e)}}`:`\\not${Pe.serialize(n,e)}`:r?"\\not{}":"\\not"},render:(t,e)=>{if(t.value)return t.createBox(e);let n=t.args[0]&&typeof t.args[0]=="object"&&"group"in t.args[0]?"ord":W1(lt(t.args[0])),r=Pe.createBox(e,t.body,{type:n});return t.caret&&(r.caret=t.caret),t.bind(e,r)}});Ue(["ne","neq"],"",{createAtom:t=>new Pe(we(oe({},t),{type:"mrel",body:[new gf(we(oe({},t),{body:"",align:"right",boxType:"rel"})),new Pe(we(oe({},t),{value:"="}))],captureSelection:!0})),serialize:t=>t.command});Ue("rlap","{:auto}",{createAtom:t=>new gf(we(oe({},t),{body:lt(t.args[0]),align:"right"}))});Ue("llap","{:auto}",{createAtom:t=>new gf(we(oe({},t),{body:lt(t.args[0]),align:"left"}))});Ue("mathrlap","{:math}",{createAtom:t=>new gf(we(oe({},t),{body:lt(t.args[0]),align:"left"}))});Ue("mathllap","{:math}",{createAtom:t=>new gf(we(oe({},t),{body:lt(t.args[0]),align:"left"}))});Ue("raisebox","{:value}{:text}",{createAtom:t=>{var e;return new rd(we(oe({},t),{body:lt(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var n;return Vn("\\raisebox",(n=Si(t.offset))!=null?n:"0pt",t.bodyToLatex(e))}});Ue("raise","{:value}{:auto}",{createAtom:t=>{var e;return new rd(we(oe({},t),{body:lt(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var n;return Vn("\\raise",(n=Si(t.offset))!=null?n:"0pt",t.bodyToLatex(e))}});Ue("lower","{:value}{:auto}",{createAtom:t=>{var e;return new rd(we(oe({},t),{body:lt(t.args[1]),padding:{dimension:0},offset:(e=ll(t.args[0],-1))!=null?e:{dimension:0}}))},serialize:(t,e)=>{var n,r;return Vn("\\lower",(r=Si(ll((n=t.offset)!=null?n:{dimension:0},-1)))!=null?r:"0pt",t.bodyToLatex(e))}});hi("0123456789/@.?!");QH(65,90);QH(97,122);hi([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]);hi([["\\#",35],["\\&",38],["\\parallelogram",9649],["\\spadesuit",9824],["\\heartsuit",9825],["\\diamondsuit",9826],["\\clubsuit",9827],["\\flat",9837],["\\natural",9838],["\\sharp",9839]]);hi([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]);hi([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel");hi([["\\mapsfrom",8612,"mrel"],["\\Mapsfrom",10502,"mrel"],["\\MapsTo",10503,"mrel"],["\\Yup",8516,"mord"],["\\lightning",8623,"mrel"],["\\leftarrowtriangle",8701,"mrel"],["\\rightarrowtriangle",8702,"mrel"],["\\leftrightarrowtriangle",8703,"mrel"],["\\boxdot",8865,"mbin"],["\\bigtriangleup",9651,"mbin"],["\\bigtriangledown",9661,"mbin"],["\\boxbar",9707,"mbin"],["\\Lbag",10181,"mopen"],["\\Rbag",10182,"mclose"],["\\llbracket",10214,"mopen"],["\\rrbracket",10215,"mclose"],["\\longmapsfrom",10235,"mrel"],["\\Longmapsfrom",10237,"mrel"],["\\Longmapsto",10238,"mrel"],["\\boxslash",10692,"mbin"],["\\boxbslash",10693,"mbin"],["\\boxast",10694,"mbin"],["\\boxcircle",10695,"mbin"],["\\boxbox",10696,"mbin"],["\\fatsemi",10783,"mop"],["\\leftslice",10918,"mrel"],["\\rightslice",10919,"mrel"],["\\interleave",10996,"mbin"],["\\biginterleave",11004,"mop"],["\\sslash",11005,"mbin"],["\\talloblong",11006,"mbin"]]);hi([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]);hi([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams");hi([["+",43],["-",8722],["",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin");hi([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams");hi([["\\surd",8730],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]);hi([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\coloneqq",8788],["\\colonequals",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel");hi([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams");hi([["\\wp",8472],["\\aleph",8501]]);hi([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams");hi([["\\ ",160],["~",160]],"space");Ue(["!",",",":",";",">","enskip","enspace","quad","qquad"],"",{createAtom:t=>new Q1(t)});Ue("space","",{createAtom:t=>new Q1(t)});hi([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct");hi([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner");hi([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var VG="<mo>&#x2061;</mo>",Hw="<mo>&#8290;</mo>";function E_(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Dn(t,e){return!t||!e.generateID?"":` extid="${t}"`}function iae(t,e,n){var r,i,o,s,a,l,c,u,d,h,f;let p=!1;e=e??t.atoms.length;let v="",b="",y=t.atoms[t.index],x=(i=(r=y.style)==null?void 0:r.variant)!=null?i:"",w=(s=(o=y.style)==null?void 0:o.variantStyle)!=null?s:"",A="";if(x||w){let k=ZH(y.value,(a=y.style)==null?void 0:a.variant,(l=y.style)==null?void 0:l.variantStyle);if(k!==y.value)return t.index+=1,v=`<mi${Dn(y.id,n)}>${k}</mi>`,bl(v,t,n)||(t.mathML+=v,t.lastType="mi"),!0;A=(c={upnormal:"normal",boldnormal:"bold",italicmain:"italic",bolditalicmain:"bold-italic","updouble-struck":"double-struck","double-struck":"double-struck",boldfraktur:"bold-fraktur",calligraphic:"script",upcalligraphic:"script",script:"script",boldscript:"bold-script",boldcalligraphic:"bold-script",fraktur:"fraktur","upsans-serif":"sans-serif","boldsans-serif":"bold-sans-serif","italicsans-serif":"sans-serif-italic","bolditalicsans-serif":"sans-serif-bold-italic",monospace:"monospace"}[w+x])!=null?c:"",A=` mathvariant="${A}"`}let D={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"","\\cdotp":"","\\ldots":"","\\cdots":"","\\ddots":"","\\vdots":"","\\ldotp":"."};if(y.command==="!")return t.index+=1,v="<mo>!</mo>",bl(v,t,n)||(t.mathML+=v,t.lastType="mo"),!0;if(D[y.command]){t.index+=1;let k=`<mi${Dn(y.id,n)}${A}>${D[y.command]}</mi>`;return(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mtext"||t.lastType==="fence")&&(k=Hw+k),bl(k,t,n)||(t.mathML+=k,t.lastType="mi"),!0}if(y.command==="\\operatorname")b=bm(y.body),t.index+=1;else if(x||w)for(;t.index<e&&(y.type==="mord"||y.type==="macro")&&!y.isDigit()&&x===((d=(u=y.style)==null?void 0:u.variant)!=null?d:"")&&w===((f=(h=y.style)==null?void 0:h.variantStyle)!=null?f:"");)b+=bm([y]),t.index+=1,y=t.atoms[t.index];else(y.type==="mord"||y.type==="macro")&&!y.isDigit()&&(b+=bm([y]),t.index+=1);if(b.length>0){p=!0,v=`<mi${A}>${b}</mi>`;let k=t.lastType;v.endsWith(">f</mi>")||v.endsWith(">g</mi>")?(v+=VG,t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(v)?"mo":"mi",bl(v,t,n)||((k==="mi"||k==="mn"||k==="mtext"||k==="fence")&&(v=Hw+v),t.mathML+=v)}return p}function qG(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&t.atoms[t.index].type==="subsup"}function KG(t){let e=-1,n=t.index,r=!1,i=!1;for(;n<t.atoms.length&&!r&&!i;){let o=t.atoms[n];r=!o.isDigit(),i=!r&&o.superscript!==void 0,n++}return i&&(e=n-1),e}function bl(t,e,n){var r;let i=e.atoms[e.index-1];if(!i)return!1;if(!i.superscript&&!i.subscript)if(((r=e.atoms[e.index])==null?void 0:r.type)==="subsup")i=e.atoms[e.index],e.index+=1;else return!1;let o=e.lastType;e.lastType="";let s=pn(i.superscript,n);e.lastType="";let a=pn(i.subscript,n);if(e.lastType=o,!s&&!a)return!1;let l="";return s&&a?l=`<msubsup>${t}${a}${s}</msubsup>`:s?l=`<msup>${t}${s}</msup>`:a&&(l=`<msub>${t}${a}</msub>`),e.mathML+=l,e.lastType="",!0}function oae(t,e,n){e=e??t.atoms.length;let r=t.index,i="",o=KG(t);for(o>=0&&o<e&&(e=o);t.index<e&&t.atoms[t.index].mode==="text";)i+=t.atoms[t.index].value?t.atoms[t.index].value:" ",t.index+=1;return i.length>0?(i=`<mtext ${Dn(t.atoms[r].id,n)}>${i}</mtext>`,o<0&&qG(t)&&(o=t.index,t.index+=1),bl(i,t,n)||(t.mathML+=i,t.lastType="mtext"),!0):!1}function sae(t,e,n){e=e??t.atoms.length;let r=t.index,i="",o=KG(t);for(o>=0&&o<e&&(e=o);t.index<e&&t.atoms[t.index].isDigit();)i+=t.atoms[t.index].asDigit(),t.index+=1;return i.length<=0?!1:(i="<mn"+Dn(t.atoms[r].id,n)+">"+i+"</mn>",o<0&&qG(t)&&(o=t.index,t.index+=1),bl(i,t,n)||(t.mathML+=i,t.lastType="mn"),!0)}function aae(t,e,n){let r=!1;e=e??t.atoms.length;let i="",o="";if(t.index<e&&t.atoms[t.index].type==="mopen"){let s=!1,a=0,l=t.index,c=-1,u=l+1;for(;u<e&&!s;)t.atoms[u].type==="mopen"?a+=1:t.atoms[u].type==="mclose"&&(a-=1),a===-1&&(s=!0,c=u),u+=1;s&&(i="<mrow>",i+=zh(t.atoms[l],n),i+=pn(t.atoms,n,l+1,c),i+=zh(t.atoms[c],n),i+="</mrow>",t.index=c+1,(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mfrac"||t.lastType==="fence")&&(t.mathML+=Hw),bl(i,t,n)&&(r=!0,t.lastType="",i=""),o="fence")}return i.length>0&&(r=!0,t.mathML+=i,t.lastType=o),r}function lae(t,e,n){let r=!1;e=e??t.atoms.length;let i="",o="",s=t.atoms[t.index];if(!s)return!1;let a={"\\ne":"&ne;","\\neq":"&ne;","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"","\\mid":"","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lbrack":"[","\\rbrack":"]","\\lparen":"(","\\rparen":")","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":""};if(a[s.command]){t.index+=1;let l=`<mo${Dn(s.id,n)}>${a[s.command]}</mo>`;return bl(l,t,n)||(t.mathML+=l,t.lastType="mo"),!0}if(t.index<e&&(s.type==="mbin"||s.type==="mrel"))i+=U5(t.atoms[t.index],n),t.index+=1,o="mo";else if(t.index<e&&(s.type==="mop"||s.type==="operator"||s.type==="extensible-symbol")){if(s.subsupPlacement==="over-under"&&(s.superscript||s.subscript)){let l=zh(s,n);return s.superscript&&s.subscript?(i+="<munderover>"+l,i+=pn(s.subscript,n),i+=pn(s.superscript,n),i+="</munderover>"):s.superscript?(i+="<mover>"+l,i+=pn(s.superscript,n),i+="</mover>"):s.subscript&&(i+="<munder>"+l,i+=pn(s.subscript,n),i+="</munder>"),t.mathML+=i,t.lastType="mo",t.index+=1,!0}{let l=t.atoms[t.index],c=l.value==="\\operatorname",u=c?'<mi class="MathML-Unit"'+Dn(l.id,n)+">"+bm(l.value)+"</mi>":zh(l,n);i+=u,!c&&!/^<mo>(.*)<\/mo>$/.test(u)?(i+=VG,o="applyfunction"):o=c?"mi":"mo"}(t.lastType==="mi"||t.lastType==="mn")&&!/^<mo>(.*)<\/mo>$/.test(i)&&(i=Hw+i),t.index+=1}return i.length>0&&(r=!0,bl(i,t,n)||(t.mathML+=i,t.lastType=o)),r}function pn(t,e,n,r){e!=null||(e={});let i={atoms:[],index:n??0,mathML:"",lastType:""};if(typeof t=="number"||typeof t=="boolean")i.mathML=t.toString();else if(typeof t=="string")i.mathML=t;else if(t instanceof Pe)i.mathML=U5(t,e);else if(Array.isArray(t)){i.atoms=t;let o=0;for(r=r||(t?t.length:0);i.index<r;)if(oae(i,r,e)||sae(i,r,e)||iae(i,r,e)||lae(i,r,e)||aae(i,r,e))o+=1;else if(i.index<r){let s=U5(i.atoms[i.index],e);i.lastType==="mn"&&s.length>0&&i.atoms[i.index].type==="genfrac"&&(s="<mo>&#x2064;</mo>"+s),i.atoms[i.index].type==="genfrac"?i.lastType="mfrac":i.lastType="",i.index+=1,bl(s,i,e)?o+=1:s.length>0&&(i.mathML+=s,o+=1)}o>1&&(i.mathML="<mrow>"+i.mathML+"</mrow>")}return i.mathML}function zh(t,e){let n="",r=bm(t.value);return r&&(n="<mo"+Dn(t.id,e)+">"+r+"</mo>"),n}function bm(t){if(!t)return"";if(typeof t=="string")return E_(t);if(!Array.isArray(t)&&typeof t.body=="string")return E_(t.body);let e="";for(let n of t)typeof n.value=="string"&&(e+=n.value);return E_(e)}function U5(t,e){var n,r,i,o,s,a,l,c,u,d,h,f,p,v,b,y,x,w,A,D,k,R;if(t.mode==="text")return`<mi${Dn(t.id,e)}>${t.value}</mi>`;let L={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",longleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",longrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",longrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xleftrightarrows:"",xRightleftharpoons:"",longRightleftharpoons:"",xLeftrightharpoons:"",longLeftrightharpoons:""},T={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\>":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},C="",P="",z,H,$,X,Z,K,{command:O}=t;if(t.command==="\\error")return`<merror${Dn(t.id,e)}>${pn(t.body,e)}</merror>`;let V={"\\vert":"|","\\Vert":"","\\mid":"","\\lbrack":"[","\\rbrack":"]","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":""},I={"\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};switch(t.type){case"first":break;case"group":case"root":C=pn(t.body,e);break;case"array":if((t.leftDelim&&t.leftDelim!=="."||t.rightDelim&&t.rightDelim!==".")&&(C+="<mrow>",t.leftDelim&&t.leftDelim!=="."&&(C+="<mo>"+(V[t.leftDelim]||t.leftDelim)+"</mo>")),C+="<mtable",t.colFormat){for(C+=' columnalign="',$=0;$<t.colFormat.length;$++)t.colFormat[$].align&&(C+={l:"left",c:"center",r:"right"}[t.colFormat[$].align]+" ");C+='"'}for(C+=">",H=0;H<t.array.length;H++){for(C+="<mtr>",z=0;z<t.array[H].length;z++)C+="<mtd>"+pn(t.array[H][z],e)+"</mtd>";C+="</mtr>"}C+="</mtable>",(t.leftDelim&&t.leftDelim!=="."||t.rightDelim&&t.rightDelim!==".")&&(t.rightDelim&&t.rightDelim!=="."&&(C+="<mo>"+(V[t.leftDelim]||t.rightDelim)+"</mo>"),C+="</mrow>");break;case"genfrac":(t.leftDelim||t.rightDelim)&&(C+="<mrow>"),t.leftDelim&&t.leftDelim!=="."&&(C+="<mo"+Dn(t.id,e)+">"+(V[t.leftDelim]||t.leftDelim)+"</mo>"),t.hasBarLine?(C+="<mfrac>",C+=pn(t.above,e)||"<mi>&nbsp;</mi>",C+=pn(t.below,e)||"<mi>&nbsp;</mi>",C+="</mfrac>"):(C+="<mtable"+Dn(t.id,e)+">",C+="<mtr>"+pn(t.above,e)+"</mtr>",C+="<mtr>"+pn(t.below,e)+"</mtr>",C+="</mtable>"),t.rightDelim&&t.rightDelim!=="."&&(C+="<mo"+Dn(t.id,e)+">"+(V[t.rightDelim]||t.rightDelim)+"</mo>"),(t.leftDelim||t.rightDelim)&&(C+="</mrow>");break;case"surd":t.hasEmptyBranch("above")?(C+="<msqrt"+Dn(t.id,e)+">",C+=pn(t.body,e),C+="</msqrt>"):(C+="<mroot"+Dn(t.id,e)+">",C+=pn(t.body,e),C+=pn(t.above,e),C+="</mroot>");break;case"leftright":let se=t,ye=se.leftDelim;C="<mrow>",ye&&ye!=="."&&(C+=`<mo${Dn(t.id,e)}>${(n=V[ye])!=null?n:ye}</mo>`),t.body&&(C+=pn(t.body,e));let G=se.matchingRightDelim();G&&G!=="."&&(C+=`<mo${Dn(t.id,e)}>${(r=V[G])!=null?r:G}</mo>`),C+="</mrow>";break;case"sizeddelim":case"delim":C+=`<mo${Dn(t.id,e)}>${V[t.value]||t.value}</mo>`;break;case"accent":C+='<mover accent="true"'+Dn(t.id,e)+">",C+=pn(t.body,e),C+="<mo>"+(I[O]||t.accent)+"</mo>",C+="</mover>";break;case"line":case"overlap":break;case"overunder":Z=t.above,X=t.below,(t.svgAbove||Z)&&(t.svgBelow||X)?K=t.body:Z&&Z.length>0?(K=t.body,(o=(i=t.body)==null?void 0:i[0])!=null&&o.below?(X=t.body[0].below,K=t.body[0].body):((a=(s=t.body)==null?void 0:s[0])==null?void 0:a.type)==="first"&&(c=(l=t.body)==null?void 0:l[1])!=null&&c.below&&(X=t.body[1].below,K=t.body[1].body)):X&&X.length>0&&(K=t.body,(d=(u=t.body)==null?void 0:u[0])!=null&&d.above?(Z=t.body[0].above,K=t.body[0].body):((f=(h=t.body)==null?void 0:h[0])==null?void 0:f.type)==="first"&&(v=(p=t.body)==null?void 0:p[1])!=null&&v.above&&(Z=t.body[1].overscript,K=t.body[1].body)),(t.svgAbove||Z)&&(t.svgBelow||X)?(C+=`<munderover ${Dn(t.id,e)}>`,C+=(b=L[t.svgBody])!=null?b:pn(K,e),C+=(y=L[t.svgBelow])!=null?y:pn(X,e),C+=(x=L[t.svgAbove])!=null?x:pn(Z,e),C+="</munderover>"):t.svgAbove||Z?(C+=`<mover ${Dn(t.id,e)}>`+((w=L[t.svgBody])!=null?w:pn(K,e)),C+=(A=L[t.svgAbove])!=null?A:pn(Z,e),C+="</mover>"):(t.svgBelow||X)&&(C+=`<munder ${Dn(t.id,e)}>`+((D=L[t.svgBody])!=null?D:pn(K,e)),C+=(k=L[t.svgBelow])!=null?k:pn(X,e),C+="</munder>");break;case"placeholder":C+="?";break;case"mord":{C=typeof t.value=="string"?t.value:O,O==="\\char"?C="&#x"+("000000"+t.args[0].number.toString(16)).slice(-4)+";":C.length>0&&C.startsWith("\\")&&(typeof t.value=="string"&&t.value.charCodeAt(0)>255?C="&#x"+("000000"+t.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof t.value=="string"?C=t.value.charAt(0):(console.error("Did not expect this"),C=""));let ae=/\d/.test(C)?"mn":"mi";C=`<${ae}${Dn(t.id,e)}>${E_(C)}</${ae}>`;break}case"mbin":case"mrel":case"minner":C=zh(t,e);break;case"mpunct":C='<mo separator="true"'+Dn(t.id,e)+">"+O+"</mo>";break;case"mop":case"operator":case"extensible-symbol":t.body!==""&&(C="<mo"+Dn(t.id,e)+">",C+=O==="\\operatorname"?t.body:O||t.body,C+="</mo>");break;case"box":C='<menclose notation="box"',t.backgroundcolor&&(C+=' mathbackground="'+t.backgroundcolor+'"'),C+=Dn(t.id,e)+">"+pn(t.body,e)+"</menclose>";break;case"spacing":C+='<mspace width="'+((R=T[O])!=null?R:0)+'em"/>';break;case"enclose":C='<menclose notation="';for(let ae in t.notation)Object.prototype.hasOwnProperty.call(t.notation,ae)&&t.notation[ae]&&(C+=P+ae,P=" ");C+=Dn(t.id,e)+'">'+pn(t.body,e)+"</menclose>";break;case"prompt":C='<menclose notation="roundexbox""">'+pn(t.body,e)+"</menclose>";break;case"space":C+="&nbsp;";break;case"subsup":break;case"phantom":break;case"composition":break;case"rule":break;case"chem":break;case"mopen":C+=zh(t,e);break;case"mclose":C+=zh(t,e);break;case"macro":{let ae=t.command+bm(t.macroArgs);ae&&(C+=`<mo ${Dn(t.id,e)}>${ae}</mo>`)}break;case"latexgroup":C+=pn(t.body,e);break;case"latex":C+="<mtext"+Dn(t.id,e)+">"+t.value+"</mtext>";break;case"tooltip":C+=pn(t.body,e);break;case"text":C+=`<mtext ${Dn(t.id,e)}x>${t.value}</mtext>`;break;default:if(t.command==="\\displaystyle")return`<mrow ${Dn(t.id,e)} displaystyle="true">${pn(t.body,e)}</mrow>`;if(t.command==="\\textstyle")return`<mrow ${Dn(t.id,e)} displaystyle="false">${pn(t.body,e)}</mrow>`;console.info("Unexpected element in conversion to MathML:",t)}return C}var Qf={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"imaginary eye ","\\imaginaryJ":"imaginary jay ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","\\ne":"is not equal to ","\\neq":"is not equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","":"","":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},SC={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function cae(t){let e="";return t.startsWith("\\")&&(e=" "+t.replace("\\","")+" "),e}function yg(t){let e=0;if(Do(t))for(let n of t)n.type!=="first"&&(e+=1);return e===1}function uae(t){if(Do(t)){for(let e of t)if(e.type!=="first"&&e.id)return e.id.toString()}return""}function nN(t){let e="";if(Do(t))for(let n of t)n.type!=="first"&&typeof n.value=="string"&&(e+=n.value);return e}function dae(t){return t?t.map(e=>e.value).join(""):""}function Jt(t,e){var n,r,i,o,s;function a(u){return globalThis.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(u)?` <say-as interpret-as="character">${u}</say-as>`:/[A-Z]/.test(u)?`capital <say-as interpret-as="character">${u.toLowerCase()}</say-as>`:u:/[a-z]/.test(u)?" '"+u.toUpperCase()+"'":/[A-Z]/.test(u)?" 'capital "+u.toUpperCase()+"'":u}function l(u){return"<emphasis>"+u+"</emphasis>"}if(!e)return"";let c="";if(Do(e)){let u=!1,d=!1;for(let h=0;h<e.length;h++)e[h].type!=="first"&&(e[h].mode!=="text"&&(d=!1),h<e.length-2&&e[h].type==="mopen"&&e[h+2].type==="mclose"&&e[h+1].type==="mord"?(c+=" of ",c+=l(Jt(t,e[h+1])),h+=2):e[h].mode==="text"?d?c+=(n=e[h].value)!=null?n:" ":(d=!0,c+=Jt("text",e[h])):e[h].isDigit()?u?c+=e[h].asDigit():(u=!0,c+=Jt(t,e[h])):(u=!1,c+=Jt(t,e[h])))}else if(e.mode==="text")e.id&&t==="math"&&(c+='<mark name="'+e.id.toString()+'"/>'),c+=e.value;else{e.id&&t==="math"&&(c+='<mark name="'+e.id.toString()+'"/>');let u="",d="",h="",f=!1,{command:p}=e;switch(p){case"\\vec":return"vector "+Jt(t,e.body);case"\\acute":return Jt(t,e.body)+" acute";case"\\grave":return Jt(t,e.body)+" grave";case"\\dot":return"dot over"+Jt(t,e.body);case"\\ddot":return"double dot over"+Jt(t,e.body);case"\\mathring":return"ring over"+Jt(t,e.body);case"\\tilde":case"\\widetilde":return"tilde over"+Jt(t,e.body);case"\\bar":return Jt(t,e.body)+" bar";case"\\breve":return Jt(t,e.body)+" breve";case"\\check":case"\\widecheck":return"check over "+Jt(t,e.body);case"\\hat":case"\\widehat":return"hat over"+Jt(t,e.body);case"\\overarc":case"\\overparen":case"\\wideparen":return"arc over "+Jt(t,e.body);case"\\underarc":case"\\underparen":return"arc under "+Jt(t,e.body)}switch(e.type){case"prompt":let v=e.body.length>1?'start input . <break time="500ms"/> '+Jt(t,e.body)+'. <break time="500ms"/> end input':"blank";c+=' <break time="300ms"/> '+v+'. <break time="700ms"/>'+((r=e.correctness)!=null?r:"")+' . <break time="700ms"/> ';break;case"array":let b=e.array,y=e.environmentName;if(Object.keys(SC).includes(y)){c+=` begin ${SC[y]} `;for(let A=0;A<b.length;A++){A>0&&(c+=","),c+=` row ${A+1} `;for(let D=0;D<b[A].length;D++)D>0&&(c+=","),c+=` column ${D+1}: `,c+=Jt("math",b[A][D])}c+=` end ${SC[y]} `}break;case"group":p==="\\ne"?c+=" not equal ":(p==="\\not"&&(c+=" not "),c+=Jt("math",e.body));break;case"root":c+=Jt("math",e.body);break;case"genfrac":if(u=Jt("math",e.above),d=Jt("math",e.below),yg(e.above)&&yg(e.below)){let A={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[nN(e.above)+"/"+nN(e.below)];A?c=A:c+=u+" over "+d}else c+=' the fraction <break time="150ms"/>'+u+' over <break time="150ms"/>'+d+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(h=Jt("math",e.body),e.hasEmptyBranch("above"))c+=yg(e.body)?" the square root of "+h+" , ":' the square root of <break time="200ms"/>'+h+'. <break time="200ms"/> End square root';else{let A=Jt("math",e.above);A=A.trim();let D=A.replace(/<mark([^/]*)\/>/g,"");D==="3"?c+=' the cube root of <break time="200ms"/>'+h+'. <break time="200ms"/> End cube root':D==="n"?c+=' the nth root of <break time="200ms"/>'+h+'. <break time="200ms"/> End root':c+=' the root with index: <break time="200ms"/>'+A+', of <break time="200ms"/>'+h+'. <break time="200ms"/> End root'}break;case"leftright":{let A=e;c+=(i=A.leftDelim?Qf[A.leftDelim]:void 0)!=null?i:A.leftDelim,c+=Jt("math",e.body),c+=(o=A.rightDelim?Qf[A.rightDelim]:void 0)!=null?o:A.rightDelim}break;case"rule":break;case"overunder":break;case"overlap":break;case"macro":let x=p.replace(/^\\/g,""),w=Pk()[x];w&&(w!=null&&w.expand?c+=Jt("math",e.body):c+=`${x} `);break;case"placeholder":c+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if(p==="\\mathbin"||p==="\\mathrel"||p==="\\mathopen"||p==="\\mathclose"||p==="\\mathpunct"||p==="\\mathord"||p==="\\mathinner"){c=Jt(t,e.body);break}let A=e.isDigit()?e.asDigit():e.value,D=e.command;if((e.type==="delim"||e.type==="sizeddelim")&&(D=e.value,A=D),t==="text")c+=A;else{if(e.type==="mbin"&&(c+='<break time="150ms"/>'),A){let k=Qf[A]||(D?Qf[D.trim()]:"");if(k)c+=" "+k;else{let R=D?cae(D.trim()):"";c+=R||a(A)}}else c+=Jt("math",e.body);e.type==="mbin"&&(c+='<break time="150ms"/>')}break}case"mop":case"operator":case"extensible-symbol":if(e.value!==""){let A=e.command;if(A==="\\sum")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let D=Jt("math",e.superscript);D=D.trim();let k=Jt("math",e.subscript);k=k.trim(),c+=' the summation from <break time="200ms"/>'+k+'<break time="200ms"/> to  <break time="200ms"/>'+D+'<break time="200ms"/> of <break time="150ms"/>',f=!0}else if(e.hasEmptyBranch("subscript"))c+=" the summation of";else{let D=Jt("math",e.subscript);D=D.trim(),c+=' the summation from <break time="200ms"/>'+D+'<break time="200ms"/> of <break time="150ms"/>',f=!0}else if(A==="\\prod")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let D=Jt("math",e.superscript);D=D.trim();let k=Jt("math",e.subscript);k=k.trim(),c+=' the product from <break time="200ms"/>'+k+'<break time="200ms"/> to <break time="200ms"/>'+D+'<break time="200ms"/> of <break time="150ms"/>',f=!0}else if(e.hasEmptyBranch("subscript"))c+=" the product  of ";else{let D=Jt("math",e.subscript);D=D.trim(),c+=' the product from <break time="200ms"/>'+D+'<break time="200ms"/> of <break time="150ms"/>',f=!0}else if(A==="\\int")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let D=Jt("math",e.superscript);D=D.trim();let k=Jt("math",e.subscript);k=k.trim(),c+=' the integral from <break time="200ms"/>'+l(k)+'<break time="200ms"/> to <break time="200ms"/>'+l(D)+' <break time="200ms"/> of ',f=!0}else c+=' the integral of <break time="200ms"/> ';else if(A==="\\operatorname"||A==="\\operatorname*")c+=dae(e.body)+" ";else if(typeof e.value=="string"){let D=(s=Qf[e.value])!=null?s:e.command?Qf[e.command]:void 0;c+=D||" "+e.value}else e.command&&(e.command==="\\mathop"?c+=Jt("math",e.body):c+=e.command.startsWith("\\")?" "+e.command.slice(1):" "+e.command)}break;case"enclose":h=Jt("math",e.body),c+=" crossed out "+h+". End crossed out.";break}if(!f&&!e.hasEmptyBranch("superscript")){let v=Jt(t,e.superscript);v=v.trim();let b=v.replace(/<[^>]*>/g,"");if(yg(e.superscript)){if(t==="math"){let y=uae(e.superscript);y&&(c+='<mark name="'+y+'"/>')}b===""?c+=" prime ":b==="2"?c+=" squared ":b==="3"?c+=" cubed ":Number.isNaN(Number.parseInt(b))?c+=" to the "+v+"; ":c+=' to the <say-as interpret-as="ordinal">'+b+"</say-as> power; "}else Number.isNaN(Number.parseInt(b))?c+=" raised to the "+v+"; ":c+=' raised to the <say-as interpret-as="ordinal">'+b+"</say-as> power; "}if(!f&&!e.hasEmptyBranch("subscript")){let v=Jt("math",e.subscript);v=v.trim(),c+=yg(e.subscript)?" sub "+v:" subscript "+v+". End subscript. "}}return c}function xm(t){var e,n;let r=globalThis.MathfieldElement;if(r.textToSpeechRules==="sre"&&("sre"in window||"SRE"in window)){let o=pn(t);if(o){r.textToSpeechMarkup&&(r.textToSpeechRulesOptions=(e=r.textToSpeechRulesOptions)!=null?e:{},r.textToSpeechRulesOptions=we(oe({},r.textToSpeechRulesOptions),{markup:r.textToSpeechMarkup}),r.textToSpeechRulesOptions.markup==="ssml"&&(r.textToSpeechRulesOptions=we(oe({},r.textToSpeechRulesOptions),{markup:"ssml_step"})),r.textToSpeechRulesOptions=we(oe({},r.textToSpeechRulesOptions),{rate:r.speechEngineRate}));let s=(n=window.SRE)!=null?n:globalThis.sre.System.getInstance();r.textToSpeechRulesOptions&&s.setupEngine(r.textToSpeechRulesOptions);let a="";try{a=s.toSpeech(o)}catch(l){console.error("MathLive 0.98.6: `SRE.toSpeech()` runtime error",l)}return a}return""}let i=Jt("math",t);if(r.textToSpeechMarkup==="ssml"){let o="";r.speechEngineRate&&(o='<prosody rate="'+r.speechEngineRate+'">'),i='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+o+"<p><s>"+i+"</s></p>"+(o?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else r.textToSpeechMarkup==="mac"&&m0()==="macos"?i=i.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):i=i.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return i}var vg={"\\ne":"","\\neq":"","":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\>":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" ","\\infty":"oo","\\R":"RR","\\N":"NN","\\Z":"ZZ","\\Q":"QQ","\\C":"CC","\\emptyset":"O/","\\varnothing":"O/","\\varDelta":"Delta","\\varTheta":"Theta","\\varLambda":"Lambda","\\varXi":"Xi","\\varPi":"Pi","\\varSigma":"Sigma","\\varUpsilon":"Upsilon","\\varPhi":"Phi","\\varPsi":"Psi","\\varOmega":"Omega"},bg={"\\pm":"+-","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrack":"[","\\rbrack":"]","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)","\\sum":" sum ","\\prod":" prod ","\\bigcap":" nnn ","\\bigcup":" uuu ","\\int":" int ","\\oint":" oint ","\\ge":">=","\\le":"<=","\\ne":"!=","\\neq":"!=","\\lt":"<","\\gt":">","\\gets":"<-","\\to":"->","\\land":" and ","\\lor":" or ","\\lnot":" not ","\\forall":" AA ","\\exists":" EE ","\\in":" in ","\\notin":" !in ","\\mapsto":"|->","\\implies":"=>","\\iff":"<=>","\\cdot":"*","\\ast":"**","\\star":"***","\\times":"xx","\\div":"-:","\\ltimes":"|><","\\rtimes":"><|","\\bowtie":"|><|","\\circ":"@"};function hae(t){let e="";for(let n of t){let r=e[e.length-1];r!==void 0&&/\d/.test(r)&&/^\d/.test(n)&&(e+=" "),e+=n}return e}function Sr(t){var e,n,r,i,o,s,a,l,c,u,d,h,f;if(!t)return"";if(Do(t)){if(t.length===0)return"";if(t[0].mode==="latex")return t.map(Sr).join("");if(t[0].mode==="text"){let w=0,A="";for(;((e=t[w])==null?void 0:e.mode)==="text";)A+=t[w].body?Sr(t[w].body):t[w].value,w++;return`"${A}" ${Sr(t.slice(w))}`}let y=0,x=[];for(;t[y]&&t[y].mode==="math";){let w="";for(;t[y]&&t[y].type==="mord"&&/\d/.test(t[y].value);)w+=t[y++].value;w?x.push(w):x.push(Sr(t[y++]))}return x.push(Sr(t.slice(y))),hae(x)}if(t.mode==="text")return`"${t.value}"`;let p="",{command:v}=t,b;if(v==="\\placeholder")return`(${Sr(t.body)})`;switch(t.type){case"accent":let y={"\\vec":"vec","\\dot":"dot","\\ddot":"ddot","\\bar":"bar","\\hat":"hat","\\acute":"acute;","\\grave":"grave","\\tilde":"tilde","\\breve":"breave","\\check":"check"}[v];p=`${y??""} ${Sr(t.body)} `;break;case"first":return"";case"latexgroup":return t.body.map(R=>R.value).join("");case"group":case"root":p=(n=vg[v])!=null?n:Sr(t.body);break;case"genfrac":{let R=t;(R.leftDelim||R.rightDelim)&&(p=R.leftDelim==="."||!R.leftDelim?"{:":R.leftDelim),R.hasBarLine?(p+="(",p+=Sr(R.above),p+=")/(",p+=Sr(R.below),p+=")"):(p+="("+Sr(R.above)+"),",p+="("+Sr(R.below)+")"),(R.leftDelim||R.rightDelim)&&(p+=R.rightDelim==="."||!R.rightDelim?"{:":R.rightDelim)}break;case"surd":p+=t.hasEmptyBranch("above")?"sqrt("+Sr(t.body)+")":"root("+Sr(t.above)+")("+Sr(t.body)+")";break;case"latex":p=t.value;break;case"leftright":{let R=t,L=R.leftDelim;p+=L==="."||!L?"{:":L,p+=Sr(R.body);let T=R.matchingRightDelim();p+=T==="."||!T?":}":T}break;case"sizeddelim":case"delim":p=t.value;break;case"overlap":break;case"overunder":break;case"mord":p=(i=(r=vg[v])!=null?r:v)!=null?i:typeof t.value=="string"?t.value:"",p.startsWith("\\")&&(p+=" "),b=v?v.match(/{?\\char"([\dabcdefABCDEF]+)}?/):null,b?p=String.fromCodePoint(Number.parseInt("0x"+b[1])):p.length>0&&p.startsWith("\\")&&(p=typeof t.value=="string"?t.value.charAt(0):t.command),p=fae(p,t.style);break;case"mbin":case"mrel":case"minner":p=(s=(o=vg[v])!=null?o:bg[v])!=null?s:t.value;break;case"mopen":case"mclose":p=t.value;break;case"mpunct":p=(a=bg[v])!=null?a:v;break;case"mop":case"operator":case"extensible-symbol":t.value!==""&&(bg[v]?p=bg[v]:p=v==="\\operatorname"?Sr(t.body):(l=t.value)!=null?l:v,p+=" ");break;case"array":let x=t.array,w=t.environmentName,A=(c={bmatrix:["[","]"],"bmatrix*":["[","]"]}[w])!=null?c:["(",")"],D=[];for(let R of x){let L=[];for(let T of R)L.push(A[0]+Sr(T)+A[1]);D.push(L.join(","))}let k=(u={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[w])!=null?u:["(",")"];p=k[0]+D.join(",")+k[1];break;case"box":break;case"spacing":p=(d=vg[v])!=null?d:" ";break;case"enclose":p="("+Sr(t.body)+")";break;case"space":p=" ";break;case"subsup":p="";break;case"macro":p=(f=(h=vg[v])!=null?h:bg[v])!=null?f:Sr(t.body);break}if(!t.hasEmptyBranch("subscript")){p+="_";let y=Sr(t.subscript);p+=y.length!==1?`(${y})`:y}if(!t.hasEmptyBranch("superscript")){p+="^";let y=Sr(t.superscript);p+=y.length!==1?`(${y})`:y}return p}function fae(t,e){if(!e)return t;let n=t;return e.variant==="double-struck"&&(n=`bbb "${n}"`),e.variant==="script"&&(n=`cc "${n}"`),e.variant==="fraktur"&&(n=`fr "${n}"`),e.variant==="sans-serif"&&(n=`sf "${n}"`),e.variant==="monospace"&&(n=`tt "${n}"`),e.variantStyle==="bold"&&(n=`bb "${n}"`),e.color?`color({${e.color}})(${n})`:n}function Zr(t,e){var n,r;e!=null||(e={}),e.mathstyle=(n=e.mathstyle)!=null?n:"displaystyle";let i=new an({from:we(oe({},d$()),{renderPlaceholder:()=>new Ye(160,{maxFontSize:1}),letterShapeStyle:(r=e==null?void 0:e.letterShapeStyle)!=null?r:"tex"}),mathstyle:e.mathstyle}),o=new Pe({mode:"math",type:"root",body:Eo(t,{context:i,parseMode:"math",mathstyle:e.mathstyle})}).render(i);return o?(T3(ev(o,i)),D3(o,{classes:"ML__latex"}).toMarkup()):""}function pae(t,e={}){return pn(Eo(t,{parseMode:"math",args:()=>"",mathstyle:"displaystyle"}),e)}function j5(t){let e=Eo(t,{parseMode:"math",mathstyle:"displaystyle"});return xm(e)}var Gx;function mae(t){var e,n;if(!Gx){let r=(e=globalThis[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:e.ComputeEngine;r?Gx=new r:console.error(`MathLive 0.98.6: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}return(n=Gx==null?void 0:Gx.box(t).latex)!=null?n:""}function H5(t){if(typeof t=="string"){let e=gae(t);if(!e)throw new Error(`Invalid color: ${t}`);return e}return"C"in t?vae(t):"a"in t?WG(t):t}function _m(t){return t<0?0:t>255?255:Math.round(t)}function gae(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&typeof e.a>"u"&&(e.a=1),e}function $5(t){let[e,n,r]=[t.L,t.C,t.H],i=r*Math.PI/180,o={L:e,a:n*Math.cos(i),b:n*Math.sin(i)};return t.alpha!==void 0&&(o.alpha=t.alpha),o}function yae(t){let[e,n,r]=[t.L,t.a,t.b],i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n)*180/Math.PI,s={L:e,C:i,H:o};return t.alpha!==void 0&&(s.alpha=t.alpha),s}function AC(t){let[e,n,r]=[t.L,t.a,t.b],i=Math.pow(.9999999984505198*e+.39633779217376786*n+.2158037580607588*r,3),o=Math.pow(1.00000000888176*e-.10556134232365635*n-.0638541747717059*r,3),s=Math.pow(e*1.000000054672411-.0894841820949657*n-1.2914855378640917*r,3),a=4.076741661347994*i-3.307711590408193*o+.230969928729428*s,l=-1.2684380040921763*i+2.6097574006633715*o-.3413193963102197*s,c=-.004196086541837188*i-.7034186144594493*o+1.7076147009309444*s,u=d=>{let h=Math.abs(d);return h<=.0031308?d*12.92:(Math.sign(d)||1)*(1.055*Math.pow(h,1/2.4)-.055)};return[u(a),u(l),u(c)]}function CC(t){let[e,n,r]=t;return e>=0&&e<=1&&n>=0&&n<=1&&r>=0&&r<=1}function MC(t,e){let[n,r,i]=t;return n=_m(n*255),r=_m(r*255),i=_m(i*255),e!==void 0?{r:n,g:r,b:i,alpha:e}:{r:n,g:r,b:i}}function WG(t){let[e,n,r]=AC(t);if(CC([e,n,r]))return MC([e,n,r],t.alpha);let i=yae(t);if(i.C=0,[e,n,r]=AC($5(i)),!CC([e,n,r]))return MC([e,n,r],t.alpha);let o=0,s=t.L,a=(o+s)/2;i.C=a;let l=.36/Math.pow(2,12);for(;s-o>l;)a=(o+s)/2,i.C=a,[e,n,r]=AC($5(i)),CC([e,n,r])?o=a:s=a;return MC([e,n,r],t.alpha)}function vae(t){return WG($5(t))}function rN(t,e){let n=H5(t),r=H5(e),i=.56,o=.57,s=.62,a=.65,l=.022,c=1.414,u=.1,d=5e-4,h=1.14,f=.027,p=1.14,v=.027;function b(R){return R>=l?R:R+(l-R)**c}function y(R){return(R<0?-1:1)*Math.pow(Math.abs(R),2.4)}let x=b(y(r.r/255)*.2126729+y(r.g/255)*.7151522+y(r.b/255)*.072175),w=b(y(n.r/255)*.2126729+y(n.g/255)*.7151522+y(n.b/255)*.072175),A,D,k;return Math.abs(w-x)<d?D=0:w>x?(A=w**i-x**o,D=A*h):(A=w**a-x**s,D=A*p),Math.abs(D)<u?k=0:D>0?k=D-v:k=D+f,k*100}function XG(t,e,n){n!=null||(n="#fff"),e!=null||(e="#000");let r=rN(t,n),i=rN(t,e);return Math.abs(r)>Math.abs(i)?n:e}function bae(t){let e=H5(t),n=((1<<24)+(_m(e.r)<<16)+(_m(e.g)<<8)+_m(e.b)).toString(16).slice(1);return e.alpha!==void 0&&e.alpha<1&&(n+=("00"+Math.round(e.alpha*255).toString(16)).slice(-2)),n[0]===n[1]&&n[2]===n[3]&&n[4]===n[5]&&n[6]===n[7]&&(n=n[0]+n[2]+n[4]+(e.alpha!==void 0&&e.alpha<1?n[6]:"")),"#"+n}function $n(t){let e=JG(t),n="";for(let r of e){if(typeof r.value!="string")return"";n+=r.value}return n}function JG(t){let e=t.model.selection.ranges;return e.length!==1?[]:t.model.getAtoms(e[0])}function xae(t,e){let n=JG(t);if(n.length!==1)return!1;let r=C5[e];return r?!!r.test(n[0].value):!1}function _ae(t,e){return $n(t).length>0}function wae(t){return[EC(t,"double-struck","mathbb","tooltip.blackboard"),EC(t,"fraktur","mathfrak","tooltip.fraktur"),EC(t,"calligraphic","mathcal","tooltip.caligraphic"),kC(t,"up","mathrm","tooltip.roman-upright"),kC(t,"bold","mathbf","tooltip.bold"),kC(t,"italic","mathit","tooltip.italic")]}function Sae(t){return[{label:()=>Zr(`\\vec{${$n(t)}}`),visible:()=>$n(t).length===1,onMenuSelect:()=>t.insert("\\vec{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\overrightarrow{${$n(t)}}`),visible:()=>$n(t).length>0,onMenuSelect:()=>t.insert("\\overrightarrow{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\overleftarrow{${$n(t)}}`),visible:()=>$n(t).length>0,onMenuSelect:()=>t.insert("\\overleftarrow{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\dot{${$n(t)}}`),visible:()=>$n(t).length===1,onMenuSelect:()=>t.insert("\\dot{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\ddot{${$n(t)}}`),visible:()=>$n(t).length===1,onMenuSelect:()=>t.insert("\\ddot{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\bar{${$n(t)}}`),visible:()=>$n(t).length===1,onMenuSelect:()=>t.insert("\\bar{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\overline{${$n(t)}}`),visible:()=>$n(t).length>0,onMenuSelect:()=>t.insert("\\overline{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\overgroup{${$n(t)}}`),visible:()=>$n(t).length>0,onMenuSelect:()=>t.insert("\\overgroup{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\overbrace{${$n(t)}}`),visible:()=>$n(t).length>0,onMenuSelect:()=>t.insert("\\overbrace{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\underline{${$n(t)}}`),visible:()=>$n(t).length>0,onMenuSelect:()=>t.insert("\\underline{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\undergroup{${$n(t)}}`),visible:()=>$n(t).length>0,onMenuSelect:()=>t.insert("\\undergroup{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\underbrace{${$n(t)}}`),visible:()=>$n(t).length>0,onMenuSelect:()=>t.insert("\\underbrace{#@}",{selectionMode:"item"})}]}function Aae(t){return[{label:()=>Zr(`\\boxed{${t.getValue(t.model.selection)}}}`),onMenuSelect:()=>t.insert("\\boxed{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\bbox[5px, border: 2px solid red]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px solid red]{#@}",{selectionMode:"item"})},{label:()=>Zr(`\\bbox[5px, border: 2px dashed black]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px dashed black]{#@}",{selectionMode:"item"})}]}function Cae(t){let e=[];for(let n of Object.keys(Ih))e.push({class:(bae(XG(Ih[n]))==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${Ih[n]} "></span>`,ariaLabel:()=>{var r;return(r=qt(n))!=null?r:n},checked:()=>{var r;return{some:"mixed",all:!0}[(r=t.queryStyle({backgroundColor:n}))!=null?r:!1]},onMenuSelect:()=>{t.applyStyle({backgroundColor:n},{operation:"toggle"}),t.adoptStyle="none"}});return e}function Mae(t){let e=[];for(let n of Object.keys(Oh))e.push({class:(XG(Oh[n])==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${Oh[n]} "></span>`,ariaLabel:()=>{var r;return(r=qt(n))!=null?r:n},checked:()=>{var r;return{some:"mixed",all:!0}[(r=t.queryStyle({color:n}))!=null?r:!1]},onMenuSelect:()=>{t.applyStyle({color:n},{operation:"toggle"}),t.adoptStyle="none"}});return e}var Eae=class extends UG{constructor(t,e,n,r){super(t,e),this.row=n,this.col=r}set active(t){let e=this.parentMenu.children;if(t)for(let n of e)n.element.classList.toggle("active",n.row<=this.row&&n.col<=this.col);else for(let n of e)n.element.classList.remove("active")}};function kae(t){let e=[];for(let n=1;n<=5;n++)for(let r=1;r<=5;r++)e.push({onCreate:(i,o)=>new Eae(i,o,n,r),label:"",tooltip:()=>qt("tooltip.row-by-col",n,r),data:{row:n,col:r},onMenuSelect:()=>{t.insert(`\\begin{pmatrix}${Array(n).fill(Array(r).fill("#?").join(" & ")).join("\\\\")}\\end{pmatrix}`,{selectionMode:"item"})}});return e}function Tae(t){return[{label:()=>qt("menu.array.add row above"),id:"add-row-above",onMenuSelect:()=>t.executeCommand("addRowBefore"),visible:()=>zd(t)},{label:()=>qt("menu.array.add row below"),id:"add-row-below",onMenuSelect:()=>t.executeCommand("addRowAfter"),visible:()=>zd(t)},{label:()=>qt("menu.array.add column before"),id:"add-column-before",onMenuSelect:()=>t.executeCommand("addColumnBefore"),visible:()=>zd(t),enabled:()=>{let e=t.model.parentEnvironment;if(!e)return!1;let[n,r]=Lae(t);return n<e.maxColumns}},{label:()=>qt("menu.array.add column after"),id:"add-column-after",onMenuSelect:()=>t.executeCommand("addColumnAfter"),visible:()=>zd(t)},{type:"divider"},{label:()=>qt("menu.array.delete row"),id:"delete-row",onMenuSelect:()=>t.executeCommand("removeRow"),visible:()=>zd(t)},{label:()=>qt("menu.array.delete column"),id:"delete-column",onMenuSelect:()=>t.executeCommand("removeColumn"),visible:()=>zd(t)},{type:"divider"},{label:()=>qt("menu.borders"),visible:()=>(Dae(t)||zd(t))&&t.isSelectionEditable,submenu:[{label:"  ",id:"environment-no-border",onMenuSelect:()=>xg(t,"matrix")},{label:"()",id:"environment-parentheses",onMenuSelect:()=>xg(t,"pmatrix")},{label:"[]",id:"environment-brackets",onMenuSelect:()=>xg(t,"bmatrix")},{label:"||",id:"environment-bar",onMenuSelect:()=>xg(t,"vmatrix")},{label:"{}",id:"environment-braces",onMenuSelect:()=>xg(t,"Bmatrix")}],submenuClass:"border-submenu"},{type:"divider"},{label:()=>qt("menu.insert matrix"),id:"insert-matrix",visible:()=>t.isSelectionEditable,submenu:kae(t),submenuClass:"insert-matrix-submenu",columnCount:5},{label:()=>qt("menu.mode"),id:"mode",visible:()=>t.isSelectionEditable&&t.model.selectionIsCollapsed,submenu:[{label:()=>qt("menu.mode-math"),id:"mode-math",onMenuSelect:()=>{Ym(t,"accept-all"),t.executeCommand(["switchMode","math"])},checked:()=>t.model.mode==="math"},{label:()=>qt("menu.mode-text"),id:"mode-text",onMenuSelect:()=>{Ym(t,"accept-all"),t.executeCommand(["switchMode","text"])},checked:()=>t.model.mode==="text"},{label:()=>qt("menu.mode-latex"),id:"mode-latex",onMenuSelect:()=>t.executeCommand(["switchMode","latex"]),checked:()=>t.model.mode==="latex"}]},{type:"divider"},{label:()=>qt("menu.font-style"),id:"variant",visible:()=>t.isSelectionEditable,submenu:wae(t),submenuClass:"variant-submenu"},{label:()=>qt("menu.color"),id:"color",visible:()=>t.isSelectionEditable,submenu:Mae(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>qt("menu.background-color"),id:"background-color",visible:()=>t.isSelectionEditable,submenu:Cae(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>qt("menu.accent"),id:"accent",visible:()=>t.isSelectionEditable,submenu:Sae(t),submenuClass:"variant-submenu"},{label:()=>qt("menu.decoration"),id:"decoration",visible:()=>t.isSelectionEditable&&$n(t).length>0,submenu:Aae(t),submenuClass:"variant-submenu"},{type:"divider"},{label:()=>qt("menu.evaluate"),id:"ce-evaluate",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{let e=Rae(t);if(!e){t.model.announce("plonk");return}t.model.selectionIsCollapsed?(t.model.position=t.model.lastOffset,t.insert(`=${e}`,{insertionMode:"insertAfter",selectionMode:"item"})):t.insert(e,{insertionMode:"replaceSelection",selectionMode:"item"})}},{label:()=>qt("menu.simplify"),id:"ce-simplify",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{var e,n;if(t.model.selectionIsCollapsed){let r=(e=t.expression)==null?void 0:e.simplify();if(t.model.position=t.model.lastOffset,!r){t.model.announce("plonk");return}t.insert(`=${r.latex}`,{insertionMode:"insertAfter",selectionMode:"item"})}else{let r=(n=globalThis.MathfieldElement.computeEngine)==null?void 0:n.parse(t.getValue(t.model.selection)).simplify();if(!r){t.model.announce("plonk");return}t.insert(r.latex,{insertionMode:"replaceSelection",selectionMode:"item"})}}},{label:()=>{var e;if(globalThis.MathfieldElement.computeEngine===null)return"";let n=(e=t.expression)==null?void 0:e.unknowns[0];return n?qt("menu.solve-for",Zr(n)):qt("menu.solve")},id:"ce-solve",visible:()=>{var e;return t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null&&((e=t.expression)==null?void 0:e.unknowns.length)===1&&t.expression.unknowns[0]!=="Nothing"},onMenuSelect:()=>{var e;let n=t.expression,r=n==null?void 0:n.unknowns[0],i=(e=n.solve(r))==null?void 0:e.map(o=>{var s;return(s=o.simplify().latex)!=null?s:""});if(!i){t.model.announce("plonk");return}t.insert(`${r}=${i.length===1?i[0]:"\\left\\lbrace"+(i==null?void 0:i.join(", "))+"\\right\\rbrace"}`,{insertionMode:"replaceAll",selectionMode:"item"})}},{type:"divider"},{label:()=>qt("menu.cut"),onMenuSelect:()=>t.executeCommand("cutToClipboard"),visible:()=>!t.options.readOnly&&t.isSelectionEditable,keyboardShortcut:"meta+X"},{label:()=>qt("menu.copy"),id:"copy",submenu:[{label:()=>qt("menu.copy-as-latex"),id:"copy-latex",onMenuSelect:()=>Gn.copyToClipboard(t,"latex"),keyboardShortcut:"meta+C"},{label:()=>qt("menu.copy-as-ascii-math"),id:"copy-ascii-math",onMenuSelect:()=>Gn.copyToClipboard(t,"ascii-math")},{label:()=>qt("menu.copy-as-mathml"),id:"copy-math-ml",onMenuSelect:()=>Gn.copyToClipboard(t,"math-ml")}]},{label:()=>qt("menu.paste"),id:"paste",onMenuSelect:()=>t.executeCommand("pasteFromClipboard"),visible:()=>t.hasEditableContent,keyboardShortcut:"meta+V"},{label:()=>qt("menu.select-all"),id:"select-all",keyboardShortcut:"meta+A",onMenuSelect:()=>t.executeCommand("selectAll")}]}function zd(t){var e;return!!((e=t.model.parentEnvironment)!=null&&e.array)}function Dae(t){return t.model.at(t.model.position).type==="array"}function Lae(t){var e;let n=(e=t.model.parentEnvironment)==null?void 0:e.array;return n?[n.length,n.reduce((r,i)=>Math.max(r,i.length),0)]:[0,0]}function xg(t,e){O3(t),t.flushInlineShortcutBuffer(),TG(t.model,e),ar(t)}function Rae(t){var e,n;let r;if(t.model.selectionIsCollapsed?r=(e=globalThis.MathfieldElement.computeEngine)==null?void 0:e.parse(t.getValue(),{canonical:!1}):r=(n=globalThis.MathfieldElement.computeEngine)==null?void 0:n.parse(t.getValue(t.model.selection),{canonical:!1}),!r)return"";let i=r.evaluate();return i.isSame(r)&&(i=r.N()),i.latex}function EC(t,e,n,r){return{label:()=>Zr(`\\${n}{${$n(t)}}`),tooltip:()=>{var i;return(i=qt(r))!=null?i:r},visible:()=>xae(t,e),checked:()=>{var i;return{some:"mixed",all:!0}[(i=t.queryStyle({variant:e}))!=null?i:!1]},onMenuSelect:()=>{t.applyStyle({variant:e},{operation:"toggle"}),t.adoptStyle="none"}}}function kC(t,e,n,r){return{label:()=>Zr(`\\${n}{${$n(t)}}`),tooltip:()=>{var i;return(i=qt(r))!=null?i:r},visible:()=>_ae(t),checked:()=>{var i;return{some:"mixed",all:!0}[(i=t.queryStyle({variantStyle:e}))!=null?i:!1]},onMenuSelect:()=>{t.applyStyle({variantStyle:e},{operation:"toggle"}),t.adoptStyle="none"}}}function im(t,e){return t+xm(e)}Jo({speak:(t,e,n)=>Bae(t,e,n)},{target:"mathfield"});function Bae(t,e,n){var r;n=n??{withHighlighting:!1};let{model:i}=t;function o(u){let d=null;switch(u){case"all":d=i.root;break;case"selection":d=i.getAtoms(i.selection);break;case"left":{d=i.getAtoms(i.offsetOf(i.at(i.position).leftSibling),i.position);break}case"right":{d=i.getAtoms(i.position,i.offsetOf(i.at(i.position).rightSibling));break}case"group":d=i.getAtoms(i.getSiblingsRange(i.position));break;case"parent":{let{parent:h}=i.at(i.position);h!=null&&h.parent?d=h:d=i.root;break}default:d=i.root}return d}function s(u){let d="";switch(u){case"all":break;case"selection":d="no selection";break;case"left":d="at start";break;case"right":d="at end";break;case"group":break;case"parent":d="no parent";break;default:""+u;break}return d}let a=globalThis.MathfieldElement,l=o(e);if(l===null)return(r=a.speakHook)==null||r.call(a,s(e)),!1;(n.withHighlighting||a.speechEngine==="amazon")&&(a.textToSpeechMarkup=globalThis.sre&&a.textToSpeechRules==="sre"?"ssml_step":"ssml");let c=xm(l);return oa()&&n.withHighlighting?(Au().readAloudMathfield=t,Fh(t,{forHighlighting:!0}),a.readAloudHook&&a.readAloudHook(t.field,c)):a.speakHook&&a.speakHook(c),!1}function Pae(t){var e,n;if(!oa())return;let r=globalThis.MathfieldElement;if(!r.speechEngine||r.speechEngine==="local"){let i=new SpeechSynthesisUtterance(t);globalThis.speechSynthesis.speak(i)}else if(r.speechEngine==="amazon")if(!("AWS"in window))console.error("MathLive 0.98.6: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else{let i=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),o={OutputFormat:"mp3",VoiceId:(e=r.speechEngineVoice)!=null?e:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((n=r.speechEngineVoice)!=null?n:"Joanna")?"neural":"standard",Text:t,TextType:"ssml"};i.synthesizeSpeech(o,(s,a)=>{if(s)console.trace(`MathLive 0.98.6: \`polly.synthesizeSpeech()\` error: ${s}`);else if(a!=null&&a.AudioStream){let l=new Uint8Array(a.AudioStream),c=new Blob([l.buffer],{type:"audio/mpeg"}),u=URL.createObjectURL(c);new Audio(u).play().catch(d=>console.log(d))}})}else r.speechEngine==="google"&&console.error("MathLive 0.98.6: The Google speech engine is not supported yet. Please come again.")}function YG(t){var e;let n;if(t.parent.type==="prompt")t.parentBranch==="body"&&(n="prompt");else if(t.parentBranch==="body")n=t.type&&(e={enclose:"cross out",leftright:"delimiter",surd:"square root",root:"math field",mop:"operator",first:"first"}[t.type])!=null?e:"parent";else if(t.parent.type==="genfrac"){if(t.parentBranch==="above")return"numerator";if(t.parentBranch==="below")return"denominator"}else t.parent.type==="surd"?t.parentBranch==="above"&&(n="index"):t.parentBranch==="superscript"?n="superscript":t.parentBranch==="subscript"&&(n="subscript");return n??"parent"}function Nae(t,e,n,r){let i="";if(e==="plonk")globalThis.MathfieldElement.playSound("plonk"),t.flushInlineShortcutBuffer();else if(e==="delete")i=im("deleted: ",r);else if(e==="focus"||e.includes("move"))i=Iae(t.model,n)+(t.model.selectionIsCollapsed?"":"selected: ")+Oae(t.model);else if(e==="replacement")i=im("",t.model.at(t.model.position));else if(e==="line"){let o=im("",t.model.root);t.keyboardDelegate.setAriaLabel(o)}else i=r?im(e+" ",r):e;if(i){let o=t.ariaLiveText.textContent.includes("")?"  ":"  ";t.ariaLiveText.textContent=i+o}}function Iae(t,e){if(Number.isNaN(e))return"";let n=t.at(e);if(!n||n.treeDepth<=t.at(t.position).treeDepth)return"";let r="",i=n.parent,o=t.at(t.position).parent;for(;i!==t.root&&i!==o;)r+=`out of ${YG(i)};`,i=i.parent;return r}function Oae(t){if(!t.selectionIsCollapsed)return im("",t.getAtoms(t.selection));let e="",n=t.at(t.position),r=YG(n);return n.isFirstSibling&&(e=(r?"start of "+r:"unknown")+": "),n.isLastSibling?n.isFirstSibling||(e+=r?"end of "+r:"unknown"):e+=im("",n),e}var Fae=class{constructor(t,e,n){this.mathfield=t,this.mode=e,this.silenceNotifications=!1,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.root=n}dispose(){this.mathfield=void 0}getState(){let t={ranges:[...this._selection.ranges]};return this.selection.direction&&this.selection.direction!=="none"&&(t.direction=this.selection.direction),{content:this.root.toJson(),selection:t,mode:this.mode}}setState(t,e){var n;let r=this.silenceNotifications;this.silenceNotifications=(n=e==null?void 0:e.silenceNotifications)!=null?n:!0;let i={};if((e==null?void 0:e.type)==="undo"&&(i={inputType:"historyUndo"}),(e==null?void 0:e.type)==="redo"&&(i={inputType:"historyRedo"}),this.contentWillChange(i)){let o=this.silenceNotifications;this.silenceNotifications=!0,this.mode=t.mode,this.root=Ju(t.content),this.selection=t.selection,this.silenceNotifications=o,this.contentDidChange(i)}this.silenceNotifications=r}get atoms(){return this.root.children}get selection(){return this._selection}set selection(t){this.setSelection(t)}setSelection(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{var n,r,i;let o=this.normalizeSelection(t,e);if(o===void 0)throw new TypeError("Invalid selection");if(o.ranges.length===1&&o.ranges[0][0]===o.ranges[0][1]){let u=o.ranges[0][0];if(!this.mathfield.dirty&&!((n=this.at(u))!=null&&n.parentPrompt)&&this.mathfield.hasEditablePrompts){if((r=this.at(u-1))!=null&&r.parentPrompt){this._anchor=this.normalizeOffset(u-1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}if((i=this.at(u+1))!=null&&i.parentPrompt){this._anchor=this.normalizeOffset(u+1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}this._anchor=0,this._position=0,this._selection={ranges:[[0,0]]};return}this._anchor=u,this._position=u,this._selection=o;return}let s=Oi(o);o.direction==="backward"?[this._position,this._anchor]=s:[this._anchor,this._position]=s;let a=this.at(s[0]+1),l=this.at(s[1]),c=Pe.commonAncestor(a,l);(c==null?void 0:c.type)==="array"&&a.parent===c&&l.parent===c?this._selection={ranges:[s],direction:o.direction}:this._selection={ranges:[s],direction:o.direction},this._position>=0&&this._position<=this.lastOffset})}setPositionHandlingPlaceholder(t){var e;let n=this.at(t);(n==null?void 0:n.type)==="placeholder"?this.setSelection(t-1,t):((e=n==null?void 0:n.rightSibling)==null?void 0:e.type)==="placeholder"?this.setSelection(t,t+1):this.position=t,n instanceof ai&&n.isSuggestion&&(n.isSuggestion=!1),this.mathfield.stopCoalescingUndo()}get position(){return this._position}set position(t){this.setSelection(t,t)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1?this.at(Math.max(this._anchor,this._position)).type==="placeholder":!1}collapseSelection(t="forward"){return this._anchor===this._position?!1:(t==="backward"?this.position=Math.min(this._anchor,this._position):this.position=Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(t){return this.atoms[t]}offsetOf(t){return this.atoms.indexOf(t)}getSiblingsRange(t){let e=this.at(t),{parent:n}=e;if(!n)return[0,this.lastOffset];let r=e.parent.branch(e.parentBranch);return[this.offsetOf(r[0]),this.offsetOf(r[r.length-1])]}getBranchRange(t,e){let n=this.at(t).branch(e);return[this.offsetOf(n[0]),this.offsetOf(n[n.length-1])]}getAtoms(t,e,n){let r=n??{};if(__(t)){if(r=e??{},t.ranges.length>1)return t.ranges.reduce((c,u)=>[...c,...this.getAtoms(u,r)],[]);t=t.ranges[0]}let i,o;if(Du(t)){if(i=t,!Du(e))return[];o=e}else[i,o]=t,r=e??{};if(!Number.isFinite(i))return[];r.includeChildren===void 0&&(r.includeChildren=!1),i<0&&(i=this.lastOffset-i+1),o<0&&(o=this.lastOffset+o+1);let s=Math.min(i,o)+1,a=Math.max(i,o);if(!r.includeChildren&&s===1&&a===this.lastOffset)return[this.root];let l=[];for(let c=s;c<=a;c++){let u=this.atoms[c];iN(this,u,s,a)&&l.push(u)}return r.includeChildren||(l=l.filter(c=>{let u=!1,{parent:d}=c;for(;d&&!u;)u=iN(this,d,s,a),d=d.parent;return!u})),l}getAllAtoms(t=0){let e=[],n=this.lastOffset;for(let r=t;r<=n;r++)e.push(this.atoms[r]);for(let r=0;r<t;r++)e.push(this.atoms[r]);return e}findAtom(t,e=0,n="forward"){let r,i=this.lastOffset;if(n==="forward"){for(let o=e;o<=i;o++)if(r=this.atoms[o],t(r))return r;for(let o=0;o<e;o++)if(r=this.atoms[o],t(r))return r;return}for(let o=e;o>=0;o--)if(r=this.atoms[o],t(r))return r;for(let o=i;o>e;o--)if(r=this.atoms[o],t(r))return r}extractAtoms(t){let e=this.getAtoms(t);if(e.length===1&&!e[0].parent)if(e[0].type==="root")e=[...e[0].body],e.shift();else return e=this.root.cells.flat(),this.root=new Pe({type:"root",body:[]}),e;for(let n of e)n.parent.removeChild(n);return e}deleteAtoms(t){t!=null||(t=[0,-1]),this.extractAtoms(t),this.position=t[0]}atomToString(t,e){let n=e??"latex";if(n.startsWith("latex"))return Pe.serialize([t],{expandMacro:n==="latex-expanded",skipStyles:n==="latex-unstyled",skipPlaceholders:n==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode});if(n==="math-ml")return pn(t);if(n==="spoken")return xm(t);if(n==="spoken-text"){let r=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="";let i=xm(t);return globalThis.MathfieldElement.textToSpeechMarkup=r,i}if(n==="spoken-ssml"||n==="spoken-ssml-with-highlighting"){let r=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="ssml";let i=xm(t);return globalThis.MathfieldElement.textToSpeechMarkup=r,i}return n==="ascii-math"?Sr(t):(console.error(`MathLive 0.98.6: Unexpected format "${n}`),"")}getValue(t,e,n){if(t===void 0)return this.atomToString(this.root,"latex");if(typeof t=="string"&&t!=="math-json")return this.atomToString(this.root,t);let r,i;if(Du(t)&&Du(e)?(r=[this.normalizeRange([t,e])],i=n):Tw(t)?(r=[this.normalizeRange(t)],i=e):__(t)?(r=t.ranges,i=e):(r=[this.normalizeRange([0,-1])],i=t),i!=null||(i="latex"),i==="math-json"){if(!globalThis.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`The CortexJS Compute Engine library is not available.
Load the library, for example with:
import "https://unpkg.com/@cortex-js/compute-engine?module"`),'["Error", "compute-engine-not-available"]';let o=this.getValue({ranges:r},"latex-unstyled");try{let s=globalThis.MathfieldElement.computeEngine.parse(o);return JSON.stringify(s.json)}catch(s){return JSON.stringify(["Error",`'${s.toString()}'`])}}if(i.startsWith("latex")){let o={expandMacro:i==="latex-expanded",skipStyles:i==="latex-unstyled",skipPlaceholders:i==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode};return ln(r.map(s=>Pe.serialize(this.getAtoms(s),o)))}return r.map(o=>this.getAtoms(o).map(s=>this.atomToString(s,i)).join("")).join("")}extendSelectionTo(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{let n=this.normalizeRange([t,e]),[r,i]=n,{parent:o}=this.at(i);if(o&&(o.type==="genfrac"||o.type==="subsup"))for(;o!==this.root&&TC(this,o,[r,i]);)i=this.offsetOf(o),o=o.parent;for(o=this.at(r).parent;o!==this.root&&TC(this,o,[r,i]);)r=this.offsetOf(o.leftSibling),o=o.parent;if(o=this.at(i).parent,(o==null?void 0:o.type)==="genfrac")for(;o!==this.root&&TC(this,o,[r,i]);)i=this.offsetOf(o),o=o.parent;this._position=this.normalizeOffset(e),this._selection={ranges:[[r,i]],direction:"none"}})}announce(t,e,n=[]){var r,i;((i=(r=this.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("announce",{detail:{command:t,previousPosition:e,atoms:n},cancelable:!0,bubbles:!0,composed:!0})))==null||i)&&Nae(this.mathfield,t,e,n)}deferNotifications(t,e){let n=this._selection,r=this._anchor,i=this._position,o=this.silenceNotifications;this.silenceNotifications=!0;let s=this.root.changeCounter;e();let a=this.root.changeCounter!==s,l=r!==this._anchor||i!==this._position||eie(this._selection,n)==="different";return this.silenceNotifications=o,t.content&&a&&this.contentDidChange({inputType:t.type}),t.selection&&l&&this.selectionDidChange(),a||l}normalizeOffset(t){return t>0?t=Math.min(t,this.lastOffset):t<0&&(t=this.lastOffset+t+1),t}normalizeRange(t){let[e,n]=t;return e=this.normalizeOffset(e),n=this.normalizeOffset(n),e<n?[e,n]:[n,e]}normalizeSelection(t,e){var n;let r;if(Du(t)){let i=this.normalizeOffset(t);if(Du(e)){let o=this.normalizeOffset(e);r=i<=o?{ranges:[[i,o]],direction:"none"}:{ranges:[[o,i]],direction:"backward"}}else r={ranges:[[i,i]],direction:"none"}}else if(Tw(t)){let i=this.normalizeOffset(t[0]),o=this.normalizeOffset(t[1]);r=i<=o?{ranges:[[i,o]],direction:"none"}:{ranges:[[o,i]],direction:"backward"}}else __(t)&&(r={ranges:t.ranges.map(i=>this.normalizeRange(i)),direction:(n=t.direction)!=null?n:"none"});return r}get parentEnvironment(){let t=this.at(this.position).parent;if(t){for(;t.parent&&t.type!=="array";)t=t.parent;if(t.type==="array")return t}}get cell(){var t;let e=this.at(this.position);if(e){for(;e&&((t=e.parent)==null?void 0:t.type)!=="array";)e=e.parent;if(!(!(e!=null&&e.parent)||e.parent.type!=="array"))return e.parentBranch}}contentWillChange(t={}){if(this.silenceNotifications||!this.mathfield)return!0;let e=this.silenceNotifications;this.silenceNotifications=!0;let n=this.mathfield.onContentWillChange(t);return this.silenceNotifications=e,n}contentDidChange(t){var e;if(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(cl(this.mathfield)),this.silenceNotifications||!this.mathfield.host||!this.mathfield)return;let n=this.silenceNotifications;this.silenceNotifications=!0,this.mathfield.host.dispatchEvent(new InputEvent("input",we(oe({},t),{data:t.data?t.data:(e=t.inputType)!=null?e:"",bubbles:!0,composed:!0}))),this.silenceNotifications=n}selectionDidChange(){if(!this.mathfield||(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(cl(this.mathfield)),this.silenceNotifications))return;let t=this.silenceNotifications;this.silenceNotifications=!0,this.mathfield.onSelectionDidChange(),this.silenceNotifications=t}};function iN(t,e,n,r){let i=t.offsetOf(e);if(i<n||i>r)return!1;if(!e.hasChildren)return!0;let o=t.offsetOf(e.firstChild);if(o>=n&&o<=r){let s=t.offsetOf(e.lastChild);if(s>=n&&s<=r)return!0}return!1}function TC(t,e,n){if(!(e!=null&&e.hasChildren))return!1;let[r,i]=n,o=t.offsetOf(e.firstChild),s=t.offsetOf(e.lastChild);return o>=r&&o<=i&&s>=o&&s<=i}function ky(t,e,n,r){var i,o,s,a,l,c;let u=n.parent;if(u&&n instanceof sr){let d=!r&&e==="forward"||r==="body"&&e==="backward",h=d?t.offsetOf(n.firstChild):t.offsetOf(n.lastChild);return d?n.rightDelim!=="?"&&n.rightDelim!=="."?(n.leftDelim=".",n.isDirty=!0):(u.addChildrenAfter(n.removeBranch("body"),n),u.removeChild(n),h--):n.leftDelim!=="?"&&n.leftDelim!=="."?(n.rightDelim=".",n.isDirty=!0):(u.addChildrenAfter(n.removeBranch("body"),n),u.removeChild(n),h--),t.position=h,!0}if(u&&n.type==="surd"){if(e==="forward"&&!r||e==="backward"&&r==="body"){let d=n.leftSibling;n.hasChildren&&u.addChildrenAfter(n.removeBranch("body"),n),u.removeChild(n),t.position=t.offsetOf(d)}else e==="forward"&&r==="body"?t.position=t.offsetOf(n):!r&&e==="backward"?n.hasChildren?t.position=t.offsetOf(n.lastChild):(t.position=Math.max(0,t.offsetOf(n)-1),u.removeChild(n)):r==="above"&&(n.hasEmptyBranch("above")&&n.removeBranch("above"),e==="backward"?t.position=t.offsetOf(n.leftSibling):t.position=t.offsetOf(n.body[0]));return!0}if(u&&(n.type==="box"||n.type==="enclose")){let d=r&&e==="backward"||!r&&e==="forward"?n.leftSibling:n.lastChild;return u.addChildrenAfter(n.removeBranch("body"),n),u.removeChild(n),t.position=t.offsetOf(d),!0}if(n.type==="genfrac"||n.type==="overunder"){if(!r)return n.type==="overunder"&&n.hasEmptyBranch("body")||n.type==="genfrac"&&n.hasEmptyBranch("below")&&n.hasEmptyBranch("above")?!1:(t.position=t.offsetOf(e==="forward"?n.firstChild:n.lastChild),!0);let d=b1.fractionNavigationOrder==="numerator-denominator"?"above":"below",h=d==="above"?"below":"above";if(u&&(e==="forward"&&r===d||e==="backward"&&r===h)){let f=n.removeBranch(d),p=n.removeBranch(h);return u.addChildrenAfter([...f,...p],n),u.removeChild(n),t.position=t.offsetOf(f.length>0?f[f.length-1]:p[0]),!0}return e==="backward"?t.position=t.offsetOf(n.leftSibling):t.position=t.offsetOf(n),!0}if(n.isExtensibleSymbol||n.type==="subsup"){if(!r&&e==="forward")return!1;if(!r){if(n.subscript||n.superscript){let d=e==="forward"?(s=(i=n.superscript)==null?void 0:i[0])!=null?s:(o=n.subscript)==null?void 0:o[0]:(c=(a=n.subscript)==null?void 0:a[0].lastSibling)!=null?c:(l=n.superscript)==null?void 0:l[0].lastSibling;return d&&(t.position=t.offsetOf(d)),!0}return!1}if(!n.hasChildren&&n.type==="subsup"){let d=e==="forward"?t.offsetOf(n):Math.max(0,t.offsetOf(n)-1);return n.parent.removeChild(n),t.position=d,!0}if(r==="superscript")if(e==="backward"){let d=t.offsetOf(n.firstChild)-1;t.position=d}else n.subscript?t.position=t.offsetOf(n.subscript[0]):t.position=t.offsetOf(n);else r==="subscript"&&(e==="backward"&&n.superscript?t.position=t.offsetOf(n.superscript[0].lastSibling):e==="backward"?t.position=t.offsetOf(n.firstChild)-1:t.position=t.offsetOf(n));if(r&&n.hasEmptyBranch(r)&&(n.removeBranch(r),n.type==="subsup"&&!n.subscript&&!n.superscript)){let d=e==="forward"?t.offsetOf(n):Math.max(0,t.offsetOf(n)-1);n.parent.removeChild(n),t.position=d}return!0}if((u==null?void 0:u.type)==="genfrac"&&!r&&n.type!=="first"){let d=t.offsetOf(n.leftSibling);return u.removeChild(n),u.hasEmptyBranch("above")&&u.hasEmptyBranch("below")?(d=t.offsetOf(u.leftSibling),u.parent.removeChild(u),t.announce("delete",void 0,[u]),t.position=d,!0):(t.announce("delete",void 0,[n]),t.position=d,!0)}if(e==="backward"&&((u==null?void 0:u.command)==="\\ln"||(u==null?void 0:u.command)==="\\log")&&n.parentBranch!=="body"){let d=t.offsetOf(u.leftSibling);return u.parent.removeChild(u),t.announce("delete",void 0,[u]),t.position=d,!0}return!1}function zae(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentBackward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let e=t.at(t.position);if(!(e&&ky(t,"backward",e))){if(e!=null&&e.isFirstSibling){if(ky(t,"backward",e.parent,e.parentBranch))return;e=null}if(!e){t.announce("plonk");return}t.position=t.offsetOf(e.leftSibling),e.parent.removeChild(e),t.announce("delete",void 0,[e])}}):hl(t,Oi(t.selection),"deleteContentBackward")}function Uae(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentForward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var e,n;let r=t.at(t.position).rightSibling;if(r&&ky(t,"forward",r))return;if(r){if(t.at(t.position).isLastSibling&&ky(t,"forward",r.parent,r.parentBranch))return}else{if(r=t.at(t.position),r.isLastSibling&&ky(t,"forward",r.parent,r.parentBranch))return;r=void 0}if(t.position===t.lastOffset||!r){t.announce("plonk");return}r.parent.removeChild(r);let i=(e=t.at(t.position))==null?void 0:e.rightSibling;for(;(i==null?void 0:i.type)==="subsup";)i.parent.removeChild(i),i=(n=t.at(t.position))==null?void 0:n.rightSibling;t.announce("delete",void 0,[r])}):hl(t,Oi(t.selection),"deleteContentForward")}function hl(t,e,n){let r=t.getAtoms(e);if(r.length>0&&r[0].parent){let i=r[0].parent.firstChild;i.type==="first"&&(i=i.rightSibling);let o=r[r.length-1].parent.lastChild,s=r[0];s.type==="first"&&(s=s.rightSibling);let a=r[r.length-1];if(s===i&&a===o){let l=r[0].parent;l.parent&&l.type!=="prompt"&&(e=[t.offsetOf(l.leftSibling),t.offsetOf(l)])}if(r.length===1&&r[0].type==="placeholder"&&r[0].parent.type==="genfrac"){let l=r[0].parent,c=r[0].parentBranch==="below"?"above":"below",u=t.offsetOf(l.leftSibling);return t.deferNotifications({content:!0,selection:!0,type:n},()=>{var d,h;let f=l.removeBranch(c);if(f.length===1&&f[0].type==="placeholder")(h=l.parent)==null||h.removeChild(l),t.position=Math.max(0,u);else{let p=l.parent.addChildrenAfter(f,l);(d=l.parent)==null||d.removeChild(l),t.position=t.offsetOf(p)}})}}return t.deferNotifications({content:!0,selection:!0,type:n},()=>t.deleteAtoms(e))}Jo({deleteAll:t=>t.contentWillChange({inputType:"deleteContent"})&&hl(t,[0,-1],"deleteContent"),deleteForward:t=>Uae(t),deleteBackward:t=>zae(t),deleteNextWord:t=>t.contentWillChange({inputType:"deleteWordForward"})&&hl(t,[t.anchor,L5(t,t.position,"forward")],"deleteWordForward"),deletePreviousWord:t=>t.contentWillChange({inputType:"deleteWordBackward"})&&hl(t,[t.anchor,L5(t,t.position,"backward")],"deleteWordBackward"),deleteToGroupStart:t=>t.contentWillChange({inputType:"deleteSoftLineBackward"})&&hl(t,[t.anchor,t.offsetOf(t.at(t.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:t=>t.contentWillChange({inputType:"deleteSoftLineForward"})&&hl(t,[t.anchor,t.offsetOf(t.at(t.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:t=>t.contentWillChange({inputType:"deleteHardLineBackward"})&&hl(t,[t.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:t=>t.contentWillChange({inputType:"deleteHardLineForward"})&&hl(t,[t.anchor,-1],"deleteHardLineForward")},{target:"model",audioFeedback:"delete",canUndo:!0,changeContent:!0,changeSelection:!0});var jae=`<svg xmlns="http://www.w3.org/2000/svg" style="width: 21px;"  viewBox="0 0 576 512" role="img" aria-label="${qt("tooltip.toggle virtual keyboard")}"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>`,Hae=`<svg xmlns="http://www.w3.org/2000/svg" style="height: 18px;" viewBox="0 0 448 512" role="img" aria-label="${qt("tooltip.menu")}"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>`,$ae=class{constructor(e,n){this.focusBlurInProgress=!1;var r,i,o;this.options=oe(we(oe({},C_()),{macros:Pk(),registers:u$()}),Ow(n)),this.eventController=new AbortController;let s=this.eventController.signal;n.eventSink&&(this.host=n.eventSink),this.element=e,e.mathfield=this,this.blurred=!0,this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.defaultStyle={},this.adoptStyle="left",this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1;let a=(i=(r=n.value)!=null?r:this.element.textContent)!=null?i:"";a=a.trim();let l=zP(this.options),c=new Pe({type:"root",mode:l,body:Eo(a,{context:this.context})});this.model=new Fae(this,l,c),this.undoManager=new yse(this.model);let u=[];if(u.push("<span contenteditable=true aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),u.push('<span part=container class=ML__container aria-hidden=true  style="visibility:hidden">'),u.push("<span part=content class=ML__content>"),u.push(bG(this)),u.push("</span>"),window.mathVirtualKeyboard&&(u.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'} data-l10n-tooltip="tooltip.toggle virtual keyboard">`),u.push(jae),u.push("</div>")),u.push('<div part=menu-toggle class=ML__menu-toggle role=button data-l10n-tooltip="tooltip.menu">'),u.push(Hae),u.push("</div>"),u.push("</span>"),u.push("<span class=ML__sr-only>"),u.push("<span role=status aria-live=assertive aria-atomic=true></span>"),u.push("</span>"),this.element.innerHTML=globalThis.MathfieldElement.createHTML(u.join("")),!this.element.children){console.error("%cMathLive 0.98.6: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");return}this._l10Subscription=Zt.subscribe(()=>Zt.update(this.element)),Zt.update(this.element),this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",h=>h.stopImmediatePropagation(),{capture:!1,signal:s}),this.field.addEventListener("wheel",this,{passive:!1,signal:s}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this,{signal:s}):this.field.addEventListener("mousedown",this,{signal:s}),(o=this.element.querySelector("[part=virtual-keyboard-toggle]"))==null||o.addEventListener("click",()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(cl(this)))},{signal:s}),this._menu=new nae(Tae(this),{host:this.host}),this.field.addEventListener("contextmenu",this,{signal:s});let d=this.element.querySelector("[part=menu-toggle]");d==null||d.addEventListener("pointerdown",h=>{if(h.currentTarget!==d||this._menu.state!=="closed")return;this.element.classList.add("tracking");let f=d.getBoundingClientRect();this._menu.modifiers=Ah(h),this._menu.show({target:d,location:{x:f.left,y:f.bottom},onDismiss:()=>this.element.classList.remove("tracking")}),h.preventDefault(),h.stopPropagation()},{signal:s}),(this.model.atoms.length<=1||this.disabled||this.readOnly&&!this.hasEditableContent||this.userSelect==="none")&&(d.style.display="none"),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=_oe(this.element.querySelector(".ML__keyboard-sink"),this.element,this),window.addEventListener("resize",this,{signal:s}),document.addEventListener("scroll",this,{signal:s}),this.resizeObserver=new ResizeObserver(()=>ar(this)),this.resizeObserver.observe(this.field),window.mathVirtualKeyboard.addEventListener("virtual-keyboard-toggle",this,{signal:s}),hs!=="ready"&&document.fonts.ready.then(()=>Nw(this)),e.querySelector("[part=container]").style.removeProperty("visibility"),this.undoManager.startRecording(),this.undoManager.snapshot("set-value")}get defaultStyle(){return this._defaultStyle}set defaultStyle(e){this._defaultStyle=e}get effectiveStyle(){if(this.adoptStyle==="none")return this.defaultStyle;let e=this.model.at(this.model.position),n=this.adoptStyle==="right"?e.rightSibling:e;if(!n)return this.defaultStyle;if(n.type==="group"){let r=n.branch("body");return!r||r.length<2?{}:this.adoptStyle==="right"?r[1].computedStyle:r[r.length-1].computedStyle}return n.computedStyle}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(cl(this)),$x(this))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1,F5())}showMenu(e){var n,r;let i=(r=(n=e==null?void 0:e.location)!=null?n:iy(this.field))!=null?r:void 0,o=e==null?void 0:e.modifiers,s=this.element.querySelector("[part=container]");return this._menu.show({target:s,location:i,modifiers:o})}get colorMap(){return e=>{var n,r,i;return(i=(r=(n=this.options).colorMap)==null?void 0:r.call(n,e))!=null?i:k3(e)}}get backgroundColorMap(){return e=>{var n,r,i,o,s,a;return(a=(s=(r=(n=this.options).backgroundColorMap)==null?void 0:r.call(n,e))!=null?s:(o=(i=this.options).colorMap)==null?void 0:o.call(i,e))!=null?a:Rk(e)}}get smartFence(){var e;return(e=this.options.smartFence)!=null?e:!1}get readOnly(){var e;return(e=this.options.readOnly)!=null?e:!1}get disabled(){var e,n;return(n=(e=this.host)==null?void 0:e.disabled)!=null?n:!1}get contentEditable(){return this.host?this.host.getAttribute("contenteditable")!=="false":!1}get userSelect(){if(!this.host)return"";let e=getComputedStyle(this.host);return e.getPropertyValue("user-select")||e.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return this.disabled||!this.contentEditable?!1:!this.readOnly||this.hasEditablePrompts}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&this.model.findAtom(e=>e.type==="prompt"&&!e.locked)!==void 0}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let e=this.model.at(this.model.anchor),n=this.model.at(this.model.position),r=Pe.commonAncestor(e,n);return!!((r==null?void 0:r.type)==="prompt"||r!=null&&r.parentPrompt)}get letterShapeStyle(){var e;return(e=this.options.letterShapeStyle)!=null?e:"tex"}get minFontScale(){return this.options.minFontScale}get selectionStyle(){if(this.model.selectionIsCollapsed)return this.effectiveStyle;let e=this.model.getAtoms(this.model.selection);if(e.length===0)return{};let n=oe({},e[0].style);for(let r of e)for(let[i,o]of Object.entries(r.style))n[i]!==o&&delete n[i];return n}queryStyle(e){let n=N5(this,e);"verbatimColor"in n&&delete n.verbatimColor,"verbatimBackgroundColor"in n&&delete n.verbatimBackgroundColor;let r=Object.keys(n).length;if(r===0)return"all";if(r>1){for(let c of Object.keys(n)){let u=this.queryStyle({[c]:n[c]});if(u==="none")return"none";if(u==="some")return"some"}return"all"}let i=Object.keys(n)[0],o=n[i];if(this.model.selectionIsCollapsed)return this.effectiveStyle[i]===o?"all":"none";let s=this.model.getAtoms(this.model.selection,{includeChildren:!0}),a=s.length;if(a===0)return"none";let l=0;for(let c of s){if(c.type==="first"){a-=1;continue}c.style[i]===o&&(l+=1)}return l===0?"none":l===a?"all":"some"}get keybindings(){var e,n;if(this._keybindings)return this._keybindings;let[r,i]=Moe(this.options.keybindings,(e=y1())!=null?e:voe());return((n=y1())==null?void 0:n.score)>0&&(this._keybindings=r,i.length>0&&console.error("MathLive 0.98.6: Invalid keybindings for current keyboard layout",i)),r}get menu(){return this._menu}setOptions(e){var n;this.options=oe(oe({},this.options),Ow(e)),this._keybindings=void 0,this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline");let r=this.options.defaultMode;r==="inline-math"&&(r="math"),((n=this.model.root.firstChild)==null?void 0:n.mode)!==r&&(this.model.root.firstChild.mode=r),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let i=Pe.serialize([this.model.root],{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in e||this.model.getValue()!==i)&&Gn.insert(this.model,i,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",silenceNotifications:!0,mode:"math"}),("value"in e||"macros"in e||"registers"in e||"colorMap"in e||"backgroundColorMap"in e||"letterShapeStyle"in e||"minFontScale"in e||"readOnly"in e||"placeholderSymbol"in e)&&ar(this)}getOptions(e){return ph(this.options,e)}getOption(e){return ph(this.options,e)}async handleEvent(e){var n;if(hh(this)){if(qk(e)){if(!zk(e.origin,(n=this.options.originValidator)!=null?n:"none"))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");let{action:r}=e.data;if(r==="execute-command"){let i=e.data.command;if(ym(i)==="virtual-keyboard")return;this.executeCommand(i)}else r==="update-state"||(r==="focus"?this.focus({preventScroll:!0}):r==="blur"&&this.blur());return}switch(e.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":this.userSelect!=="none"&&VP(this,e);break;case"pointerdown":this.userSelect!=="none"&&(VP(this,e),e.shiftKey===!1&&await ZP(e,this.element.querySelector("[part=container]"),this._menu)&&zw.stop());break;case"contextmenu":this.userSelect!=="none"&&e.shiftKey===!1&&await ZP(e,this.element.querySelector("[part=container]"),this._menu)&&zw.stop();break;case"virtual-keyboard-toggle":this.hasFocus()&&$x(this);break;case"resize":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>hh(this)&&this.onGeometryChange());break;case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>hh(this)&&this.onGeometryChange());break;case"wheel":this.onWheel(e);break;case"message":break;default:console.warn("Unexpected event type",e.type)}}}dispose(){if(!hh(this))return;Zt.unsubscribe(this._l10Subscription),this.keyboardDelegate.dispose(),this.keyboardDelegate=void 0,this.eventController.abort(),this.eventController=void 0,this.resizeObserver.disconnect(),window.mathVirtualKeyboard.removeEventListener("virtual-keyboard-toggle",this),this.disconnectFromVirtualKeyboard(),this.model.dispose();let e=this.element;delete e.mathfield,this.element=void 0,this.host=void 0,this.field=void 0,this.ariaLiveText=void 0,kse(),Roe(),Xse()}flushInlineShortcutBuffer(e){if(e!=null||(e={defer:!1}),!e.defer){this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=0;return}this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(e){return ym(e)==="virtual-keyboard"?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(e),requestAnimationFrame(()=>window.mathVirtualKeyboard.update(cl(this))),!1):zoe(this,e)}get errors(){return Oie(this.model.getValue(),{context:this.context})}getValue(e,n,r){return this.model.getValue(e,n,r)}setValue(e,n){var r;n=n??{mode:"math"},n.insertionMode===void 0&&(n.insertionMode="replaceAll"),(n.format===void 0||n.format==="auto")&&(n.format="latex"),(n.mode===void 0||n.mode==="auto")&&(n.mode=(r=nie(this.model,this.model.position))!=null?r:"math");let i=this.undoManager.canUndo();Gn.insert(this.model,e,n)&&(ar(this),i||this.undoManager.reset(),this.undoManager.snapshot("set-value"))}get expression(){let e=globalThis.MathfieldElement.computeEngine;return e?e.box(e.parse(this.model.getValue("latex-unstyled"))):(console.error("MathLive 0.98.6:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var e;if(!this.element)return;if(this.host){if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let i=window.mathVirtualKeyboard.boundingRect,o=this.host.getBoundingClientRect();o.bottom>i.top&&((e=window.document.scrollingElement)==null||e.scrollBy(0,o.bottom-i.top+8))}}this.dirty&&Fh(this,{interactive:!0});let n=this.field.getBoundingClientRect(),r=null;if(this.model.selectionIsCollapsed)r=iy(this.field);else{let i=b$(this);if(i.length>0){let o=-1/0,s=-1/0;for(let a of i)a.right>o&&(o=a.right),a.top<s&&(s=a.top);r={x:o+n.left-this.field.scrollLeft,y:s+n.top-this.field.scrollTop,height:0}}}if(this.host&&r){let i=this.host.getBoundingClientRect(),o=r.y,s=this.host.scrollTop;o<i.top?s=o-i.top+this.host.scrollTop:o>i.bottom&&(s=o-i.bottom+this.host.scrollTop+r.height),this.host.scroll({top:s,left:0})}if(r){let i=r.x-window.scrollX,o=this.field.scrollLeft;i<n.left?o=i-n.left+this.field.scrollLeft-20:i>n.right&&(o=i-n.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:o})}}insert(e,n){return typeof e!="string"||e.length===0&&((n==null?void 0:n.insertionMode)==="insertBefore"||(n==null?void 0:n.insertionMode)==="insertAfter")||e.length===0&&this.model.selectionIsCollapsed?!1:(this.flushInlineShortcutBuffer(),n=n??{mode:"math"},n.focus&&this.focus(),n.feedback&&(globalThis.MathfieldElement.keypressVibration&&WH()&&navigator.vibrate(xG),globalThis.MathfieldElement.playSound("keypress")),e==="\\\\"?EG(this.model):e==="&"?kG(this.model):this.model.selectionIsCollapsed?Gn.insert(this.model,e,oe({style:this.model.at(this.model.position).computedStyle},n)):Gn.insert(this.model,e,n),this.snapshot(`insert-${this.model.at(this.model.position).type}`),ar(this),n.scrollIntoView&&this.scrollIntoView(),!0)}switchMode(e,n="",r=""){var i;if(this.model.mode===e||!this.hasEditableContent||!this.contentEditable||this.disabled)return;let o=this.model.mode;if(this.model.mode=e,!((i=this.host)!=null&&i.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0})))){this.model.mode=o;return}let s=this.model.mode,{model:a}=this;a.deferNotifications({content:!!r||!!n,selection:!0,type:"insertText"},()=>{let l=!1;if(this.flushInlineShortcutBuffer(),this.stopCoalescingUndo(),n&&e!=="latex"){let c=Eo(n,{context:this.context,parseMode:e});a.collapseSelection("forward");let u=a.at(a.position);a.position=a.offsetOf(u.parent.addChildrenAfter(c,u)),l=!0}if(this.model.mode=e,e==="latex"){let c=a.selectionIsCollapsed;Ym(this,"accept");let u,d=a.at(a.position);if(c)u="\\";else{let f=Oi(a.selection);u=this.model.getValue(f,"latex");let p=this.model.extractAtoms(f);p.length===1&&p[0].type==="placeholder"&&(u=n,c=!0),d=a.at(f[0])}let h=new _y(u);d.parent.addChildAfter(h,d),c?a.position=a.offsetOf(h.lastChild):a.setSelection(a.offsetOf(h.firstChild),a.offsetOf(h.lastChild))}else v1(a).forEach(c=>{c.isError=!1});if(r){let c=Eo(r,{context:this.context,parseMode:s});a.collapseSelection("forward");let u=a.at(a.position);a.position=a.offsetOf(u.parent.addChildrenAfter(c,u)),l=!0}return ar(this),this.undoManager.snapshot(e==="latex"?"insert-latex":"insert"),l}),this.model.mode=e,window.mathVirtualKeyboard.update(cl(this))}hasFocus(){return!this.blurred}focus(e){var n;this.hasFocus()||(this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.onFocus(),this.model.announce("line")),(n=e==null?void 0:e.preventScroll)!=null&&n||this.scrollIntoView()}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]},this.focus()}applyStyle(e,n={}){var r,i;let o={operation:"set",silenceNotifications:!1};Tw(n)?o.range=n:(n.operation==="toggle"&&(o.operation="toggle"),o.range=n.range,o.silenceNotifications=(r=n.silenceNotifications)!=null?r:!1);let s=N5(this,e),a=(i=o.operation)!=null?i:"set";if(o.range===void 0&&this.model.selectionIsCollapsed){if(a==="set"){this.defaultStyle=oe(oe({},this.defaultStyle),s);return}let l=oe({},this.defaultStyle);for(let c of Object.keys(s))l[c]===s[c]?(c==="color"&&delete l.verbatimColor,c==="backgroundColor"&&delete l.verbatimBackgroundColor,delete l[c]):l[c]=s[c];this.defaultStyle=l;return}this.model.deferNotifications({content:!o.silenceNotifications,type:"insertText"},()=>{if(o.range===void 0)for(let l of this.model.selection.ranges)D5(this.model,l,s,{operation:a});else D5(this.model,o.range,s,{operation:a})}),ar(this)}toggleContextMenu(){var e;return this._menu.visible?this._menu.state==="open"?(this._menu.hide(),!0):(this._menu.show({target:this.element.querySelector("[part=container]"),location:(e=this.getCaretPoint())!=null?e:void 0,onDismiss:()=>{var n;return(n=this.element)==null?void 0:n.focus()}}),!0):!1}getCaretPoint(){let e=iy(this.field);return e?{x:e.x,y:e.y}:null}setCaretPoint(e,n){let r=Ey(this,e,n,{bias:0});if(r<0)return!1;let i=this.model.position;return this.model.position=r,this.model.announce("move",i),ar(this),!0}getPrompt(e){return this.model.findAtom(r=>r.type==="prompt"&&r.placeholderId===e)}getPromptValue(e,n){let r=this.getPrompt(e);if(!r)return"";let i=this.model.offsetOf(r.firstChild),o=this.model.offsetOf(r.lastChild);return this.model.getValue(i,o,n)}getPrompts(e){return this.model.getAllAtoms().filter(n=>n.type!=="prompt"?!1:e?!(e.id&&n.placeholderId!==e.id||e.locked&&n.locked!==e.locked||e.correctness==="undefined"&&n.correctness||e.correctness&&n.correctness!==e.correctness):!0).map(n=>n.placeholderId)}setPromptValue(e,n,r){if(n!==void 0){let i=this.getPrompt(e);if(!i){console.error(`MathLive 0.98.6: unknown prompt ${e}`);return}let o=this.model.getBranchRange(this.model.offsetOf(i),"body");this.model.setSelection(o),this.insert(n,we(oe({},r),{insertionMode:"replaceSelection"}))}r!=null&&r.silenceNotifications&&(this.valueOnFocus=this.getValue()),ar(this)}setPromptState(e,n,r){let i=this.getPrompt(e);if(!i){console.error(`MathLive 0.98.6: unknown prompt ${e}`);return}n==="undefined"?i.correctness=void 0:typeof n=="string"&&(i.correctness=n),typeof r=="boolean"&&(i.locked=r,i.captureSelection=r),ar(this)}getPromptState(e){let n=this.getPrompt(e);return n?[n.correctness,n.locked]:(console.error(`MathLive 0.98.6: unknown prompt ${e}`),[void 0,!0])}getPromptRange(e){let n=this.getPrompt(e);return n?this.model.getBranchRange(this.model.offsetOf(n),"body"):(console.error(`MathLive 0.98.6: unknown prompt ${e}`),[0,0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(e){var n;this.undoManager.snapshot(e)&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(cl(this)),(n=this.host)==null||n.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}stopCoalescingUndo(){this.undoManager.stopCoalescing(this.model.selection)}stopRecording(){this.undoManager.stopRecording()}startRecording(){this.undoManager.startRecording()}undo(){var e;this.undoManager.undo()&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(cl(this)),(e=this.host)==null||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var e;this.undoManager.redo()&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(cl(this)),(e=this.host)==null||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}resetUndo(){var e;(e=this.undoManager)==null||e.reset()}onSelectionDidChange(){var e,n;let r=this.model;this.keyboardDelegate.setValue(r.getValue(this.model.selection,"latex-expanded"));{let i=r.at(r.position),o=(e=i.mode)!=null?e:zP(this.options);this.model.mode!==o&&(this.model.mode==="latex"?(Ym(this,"accept",{mode:o}),r.position=r.offsetOf(i)):this.switchMode(o))}(n=this.host)==null||n.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0})),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(cl(this)),$x(this)}onContentWillChange(e){var n,r,i;return(i=(r=this.host)==null?void 0:r.dispatchEvent(new InputEvent("beforeinput",we(oe({},e),{data:e.data?e.data:(n=e.inputType)!=null?n:"",cancelable:!0,bubbles:!0,composed:!0}))))!=null?i:!0}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),this.stopCoalescingUndo(),Fh(this,{interactive:!0}),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),this.focusBlurInProgress=!1)}onBlur(){var e,n,r;if(this.focusBlurInProgress||this.blurred)return;this.focusBlurInProgress=!0,this.stopCoalescingUndo(),this.blurred=!0,this.ariaLiveText.textContent="",Zm(this),this.model.getValue()!==this.valueOnFocus&&((e=this.host)==null||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),(n=this.host)==null||n.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),(r=this.host)==null||r.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),ar(this),this.focusBlurInProgress=!1,F5();let i=new AbortController,o=i.signal;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&document.addEventListener("visibilitychange",()=>{hh(this)&&document.visibilityState==="visible"&&this.focus({preventScroll:!0})},{once:!0,signal:o})},{once:!0,signal:o}),setTimeout(()=>i.abort(),100)}onInput(e){B5(this,e)}onKeystroke(e){return IG(this,e)}onCompositionStart(e){this.model.deleteAtoms(Oi(this.model.selection));let n=iy(this.field);n&&requestAnimationFrame(()=>{Fh(this),this.keyboardDelegate.moveTo(n.x,n.y-n.height)})}onCompositionUpdate(e){lse(this.model,e),ar(this)}onCompositionEnd(e){cse(this.model),B5(this,e,{simulateKeystroke:!0})}onCut(e){if(!this.isSelectionEditable){this.model.announce("plonk");return}this.model.contentWillChange({inputType:"deleteByCut"})&&(this.stopCoalescingUndo(),Gn.onCopy(this,e),hl(this.model,Oi(this.model.selection),"deleteByCut"),this.snapshot("cut"),ar(this))}onCopy(e){Gn.onCopy(this,e)}onPaste(e){let n=this.isSelectionEditable;return n&&(n=Gn.onPaste(this.model.at(this.model.position).mode,this,e.clipboardData)),n||this.model.announce("plonk"),e.preventDefault(),e.stopPropagation(),n}onGeometryChange(){this._menu.hide(),z3(this),$x(this)}onWheel(e){let n=5*e.deltaX;if(!Number.isFinite(n)||n===0)return;let r=this.field;n<0&&r.scrollLeft===0||n>0&&r.offsetWidth+r.scrollLeft>=r.scrollWidth||(r.scrollBy({top:0,left:n}),e.preventDefault(),e.stopPropagation())}getHTMLElement(e){let n=e;for(;!n.id&&n.hasChildren;)n=e.children[0];return this.field.querySelector(`[data-atom-id="${n.id}"]`)}get context(){var e,n;return{registers:(e=this.options.registers)!=null?e:{},smartFence:this.smartFence,letterShapeStyle:this.letterShapeStyle,minFontScale:this.minFontScale,placeholderSymbol:(n=this.options.placeholderSymbol)!=null?n:"",colorMap:r=>this.colorMap(r),backgroundColorMap:r=>this.backgroundColorMap(r),getMacro:r=>n$(r,this.options.macros),atomIdsSettings:{seed:"random",groupNumbers:!1}}}};function ZG(t){if(t&&(t.classList.remove("ML__highlight"),t.children))for(let e of t.children)ZG(e)}function G5(t,e){var n;t&&(!e||((n=t.dataset)==null?void 0:n.atomId)===e?(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(r=>{r instanceof HTMLElement&&G5(r)})):(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(r=>{r instanceof HTMLElement&&G5(r,e)})))}function Gae(t,e){var n;if(!oa())return;if(globalThis.MathfieldElement.speechEngine!=="amazon"){console.error("MathLive 0.98.6: Use Amazon TTS Engine for synchronized highlighting"),typeof globalThis.MathfieldElement.speakHook=="function"&&globalThis.MathfieldElement.speakHook(e);return}if(!globalThis.AWS){console.error("MathLive 0.98.6: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}let r=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),i={OutputFormat:"json",VoiceId:(n=globalThis.MathfieldElement.speechEngineVoice)!=null?n:"Joanna",Engine:"standard",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};Au().readAloudElement=t,r.synthesizeSpeech(i,(o,s)=>{if(o){console.trace(`MathLive 0.98.6: \`polly.synthesizeSpeech()\` error: ${o}`);return}if(!(s!=null&&s.AudioStream))return;let a=new TextDecoder("utf-8").decode(new Uint8Array(s.AudioStream));Au().readAloudMarks=a.split(`
`).map(l=>l?JSON.parse(l):{}),Au().readAloudTokens=[];for(let l of Au().readAloudMarks)l.value&&Au().readAloudTokens.push(l.value);Au().readAloudCurrentMark="",i.OutputFormat="mp3",i.SpeechMarkTypes=[],r.synthesizeSpeech(i,(l,c)=>{if(l){console.trace(`MathLive 0.98.6: \`polly.synthesizeSpeech("${e}") error:${l}`);return}if(!(c!=null&&c.AudioStream))return;let u=new Uint8Array(c.AudioStream),d=new Blob([u.buffer],{type:"audio/mpeg"}),h=URL.createObjectURL(d),f=Au();f.readAloudAudio?f.readAloudAudio.pause():(f.readAloudAudio=new Audio,f.readAloudAudio.addEventListener("ended",()=>{let p=f.readAloudMathfield;f.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),p?(Fh(p),f.readAloudElement=null,f.readAloudMathfield=null,f.readAloudTokens=[],f.readAloudMarks=[],f.readAloudCurrentMark=""):ZG(f.readAloudElement)}),f.readAloudAudio.addEventListener("timeupdate",()=>{let p="",v=f.readAloudAudio.currentTime*1e3+100;for(let b of f.readAloudMarks)b.time<v&&(p=b.value);f.readAloudCurrentMark!==p&&(f.readAloudCurrentToken=p,p&&p===f.readAloudFinalToken?f.readAloudAudio.pause():(f.readAloudCurrentMark=p,G5(f.readAloudElement,f.readAloudCurrentMark)))})),f.readAloudAudio.src=h,f.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),f.readAloudAudio.play()})})}oa()||console.error('MathLive 0.98.6: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var un=new WeakMap,Vae=.5,uu={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`MathfieldElement.onExport`",onInlineShortcut:"`MathfieldElement.onInlineShortcut`",onScrollIntoView:"`MathfieldElement.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},ii=class sh extends HTMLElement{constructor(e){if(super(),this._observer=null,e){let n=[];for(let r of Object.keys(e))if(uu[r])if(uu[r].startsWith("mf."))if(uu[r].startsWith(`mf.${r}`))n.push(`Option \`${r}\` cannot be used as a constructor option. Use ${uu[r]}`);else{let i=uu[r].match(/([a-zA-Z]+) =/);n.push(`Option \`${r}\` has been renamed \`${i[1]}\``)}else n.push(`Option \`${r}\` cannot be used as a constructor option. Use ${uu[r]}`);if(n.length>0){console.group("%cMathLive 0.98.6: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathfieldElement(...)` are invalid. \n          See https://cortexjs.io/mathlive/changelog/ for details.");for(let r of n)console.warn(r);console.groupEnd()}}if(ep()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot&&"adoptedStyleSheets"in this.shadowRoot){this.shadowRoot.adoptedStyleSheets=[Bp("core"),Bp("mathfield"),Bp("mathfield-element"),Bp("ui"),Bp("menu")],this.shadowRoot.appendChild(document.createElement("span"));let n=document.createElement("slot");n.style.display="none",this.shadowRoot.appendChild(n)}else this.shadowRoot.innerHTML="<style>"+fh("core")+fh("mathfield")+fh("mathfield-element")+fh("ui")+fh("menu")+'</style><span></span><slot style="display:none"></slot>';e&&this._setOptions(e)}static get formAssociated(){return ep()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","min-font-scale":"number","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string",placeholder:"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(e){e!==this._fontsDirectory&&(this._fontsDirectory=e,Noe())}get fontsDirectory(){throw new Error("Use MathfieldElement.fontsDirectory instead")}set fontsDirectory(e){throw new Error("Use MathfieldElement.fontsDirectory instead")}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(e){this._soundsDirectory=e,this.audioBuffers={}}get soundsDirectory(){throw new Error("Use MathfieldElement.soundsDirectory instead")}set soundsDirectory(e){throw new Error("Use MathfieldElement.soundsDirectory instead")}static get keypressSound(){return this._keypressSound}static set keypressSound(e){var n,r,i;this.audioBuffers={},e===null?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:typeof e=="string"?this._keypressSound={spacebar:e,return:e,delete:e,default:e}:typeof e=="object"&&"default"in e&&(this._keypressSound={spacebar:(n=e.spacebar)!=null?n:e.default,return:(r=e.return)!=null?r:e.default,delete:(i=e.delete)!=null?i:e.default,default:e.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(e){this.audioBuffers={},this._plonkSound=e}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(e){this._speechEngine=e}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(e){this._speechEngineRate=e}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(e){this._speechEngineVoice=e}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(e){this._textToSpeechMarkup=e}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(e){this._textToSpeechRules=e}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(e){this._textToSpeechRulesOptions=e}static get locale(){return Zt.locale}static set locale(e){e==="auto"&&(e=navigator.language.slice(0,5)),Zt.locale=e}get locale(){throw new Error("Use MathfieldElement.locale instead")}set locale(e){throw new Error("Use MathfieldElement.locale instead")}static get strings(){return Zt.strings}static set strings(e){Zt.merge(e)}get strings(){throw new Error("Use MathfieldElement.strings instead")}set strings(e){throw new Error("Use MathfieldElement.strings instead")}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(e){this._decimalSeparator=e,this._computeEngine&&(this._computeEngine.latexOptions.decimalMarker=this.decimalSeparator===","?"{,}":".")}get decimalSeparator(){throw new Error("Use MathfieldElement.decimalSeparator instead")}set decimalSeparator(e){throw new Error("Use MathfieldElement.decimalSeparator instead")}static get computeEngine(){var e,n;if(this._computeEngine===void 0){let r=(e=window[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:e.ComputeEngine;if(!r)return null;this._computeEngine=new r,this._computeEngine&&this.decimalSeparator===","&&(this._computeEngine.latexOptions.decimalMarker="{,}")}return(n=this._computeEngine)!=null?n:null}static set computeEngine(e){this._computeEngine=e}get computeEngine(){throw new Error("Use MathfieldElement.computeEngine instead")}set computeEngine(e){throw new Error("Use MathfieldElement.computeEngine instead")}static get isFunction(){return typeof this._isFunction!="function"?()=>!1:this._isFunction}static set isFunction(e){this._isFunction=e}static async loadSound(e){delete this.audioBuffers[e];let n="";switch(e){case"keypress":n=this._keypressSound.default;break;case"return":n=this._keypressSound.return;break;case"spacebar":n=this._keypressSound.spacebar;break;case"delete":n=this._keypressSound.delete;break;case"plonk":n=this.plonkSound;break}if(typeof n!="string")return;n=n.trim();let r=this.soundsDirectory;if(!(r==null||r==="null"||n==="none"||n==="null"))try{let i=await(await fetch(await vG(`${r}/${n}`))).arrayBuffer(),o=await this.audioContext.decodeAudioData(i);this.audioBuffers[e]=o}catch{}}static async playSound(e){if((this.audioContext.state==="suspended"||this.audioContext.state==="interrupted")&&await this.audioContext.resume(),this.audioBuffers[e]||await this.loadSound(e),!this.audioBuffers[e])return;let n=this.audioContext.createBufferSource();n.buffer=this.audioBuffers[e];let r=this.audioContext.createGain();r.gain.value=Vae,n.connect(r).connect(this.audioContext.destination),n.start()}showMenu(e){var n,r;return(r=(n=this._mathfield)==null?void 0:n.showMenu(e))!=null?r:!1}get mathVirtualKeyboard(){throw new Error("The `mathVirtualKeyboard` property is not available on the MathfieldElement. Use `window.mathVirtualKeyboard` instead.")}onPointerDown(){window.addEventListener("pointerup",e=>{var n;e.target===this&&!((n=this._mathfield)!=null&&n.disabled)&&this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}))},{once:!0})}getPromptValue(e,n){var r,i;return(i=(r=this._mathfield)==null?void 0:r.getPromptValue(e,n))!=null?i:""}setPromptValue(e,n,r){var i;(i=this._mathfield)==null||i.setPromptValue(e,n,r)}getPromptRange(e){var n,r;return(r=(n=this._mathfield)==null?void 0:n.getPromptRange(e))!=null?r:null}getPrompts(e){var n,r;return(r=(n=this._mathfield)==null?void 0:n.getPrompts(e))!=null?r:[]}get form(){var e;return(e=this._internals)==null?void 0:e.form}get name(){var e;return(e=this.getAttribute("name"))!=null?e:""}get type(){return this.localName}get mode(){var e,n;return(n=(e=this._mathfield)==null?void 0:e.model.mode)!=null?n:this.defaultMode==="text"?"text":"math"}set mode(e){var n;(n=this._mathfield)==null||n.switchMode(e)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]?this._mathfield.expression:(console.error(`MathLive 0.98.6: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`),null)}set expression(e){var n,r;if(!this._mathfield)return;let i=(r=(n=sh.computeEngine)==null?void 0:n.box(e).latex)!=null?r:null;i!==null&&this._mathfield.setValue(i),window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.98.6: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}get errors(){var e,n;return(n=(e=this._mathfield)==null?void 0:e.errors)!=null?n:[]}_getOptions(e){return this._mathfield?ph(this._mathfield.options,e):un.has(this)?oe({},ph(oe(oe({},C_()),Ow(un.get(this).options)),e)):null}getOptions(e){return console.warn("%cMathLive 0.98.6: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See https://cortexjs.io/mathlive/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?ph(this._mathfield.options,e):un.has(this)?ph(oe(oe({},C_()),Ow(un.get(this).options)),e):null}reflectAttributes(){let e=C_(),n=this._getOptions();Object.keys(sh.optionsAttributes).forEach(r=>{let i=sc(r);sh.optionsAttributes[r]==="on/off"?e[i]!==n[i]?this.setAttribute(r,n[i]?"on":"off"):this.removeAttribute(r):e[i]!==n[i]&&(sh.optionsAttributes[r]==="boolean"?n[i]?this.setAttribute(r,""):this.removeAttribute(r):(typeof n[i]=="string"||typeof n[i]=="number")&&this.setAttribute(r,n[i].toString()))})}getOption(e){return console.warn("%cMathLive 0.98.6: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See https://cortexjs.io/mathlive/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([e])[e]}_getOption(e){return this._getOptions([e])[e]}_setOptions(e){if(this._mathfield)this._mathfield.setOptions(e);else if(un.has(this)){let n=oe(oe({},un.get(this).options),e);un.set(this,we(oe({},un.get(this)),{selection:{ranges:n.readOnly?[[0,0]]:[[0,-1]]},options:n}))}else un.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:e,menuItems:void 0});this.reflectAttributes()}setOptions(e){console.group("%cMathLive 0.98.6: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See https://cortexjs.io/mathlive/changelog/ for details.");for(let n of Object.keys(e))uu[n]&&console.warn(`\`mf.setOptions({${n}:...})\` -> ${uu[n]}`);console.groupEnd(),this._setOptions(e)}executeCommand(e){var n,r;return(r=(n=this._mathfield)==null?void 0:n.executeCommand(e))!=null?r:!1}getValue(e,n,r){var i,o;if(this._mathfield)return this._mathfield.model.getValue(e,n,r);if(un.has(this)){let s,a,l;if(__(e)?([s,a]=e.ranges[0],l=n):Tw(e)?([s,a]=e,l=n):Du(e)&&Du(n)?(s=e,a=n,l=r):(s=0,a=-1,l=e),(l===void 0||l==="latex")&&s===0&&a===-1)return(o=(i=un.get(this).value)!=null?i:this.textContent)!=null?o:""}return""}setValue(e,n){if(this._mathfield&&e!==void 0){n!=null||(n={silenceNotifications:!0,mode:"math"}),this._mathfield.setValue(e,n);return}if(un.has(this)){let i=un.get(this).options;un.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:i,menuItems:void 0});return}let r=_g(this);un.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:r,menuItems:void 0})}hasFocus(){var e,n;return(n=(e=this._mathfield)==null?void 0:e.hasFocus())!=null?n:!1}focus(){var e;(e=this._mathfield)==null||e.focus()}blur(){var e;(e=this._mathfield)==null||e.blur()}select(){var e;(e=this._mathfield)==null||e.select()}insert(e,n){var r,i;return(i=(r=this._mathfield)==null?void 0:r.insert(e,n))!=null?i:!1}applyStyle(e,n){var r;return(r=this._mathfield)==null?void 0:r.applyStyle(e,n)}queryStyle(e){var n,r;return(r=(n=this._mathfield)==null?void 0:n.queryStyle(e))!=null?r:"none"}get caretPoint(){var e,n;return(n=(e=this._mathfield)==null?void 0:e.getCaretPoint())!=null?n:null}set caretPoint(e){var n;e&&((n=this._mathfield)==null||n.setCaretPoint(e.x,e.y))}setCaretPoint(e,n){var r,i;return(i=(r=this._mathfield)==null?void 0:r.setCaretPoint(e,n))!=null?i:!1}offsetFromPoint(e,n,r){return this._mathfield?Ey(this._mathfield,e,n,r):-1}hitboxFromOffset(e){if(!this._mathfield)return null;let n=this._mathfield.model.at(e);if(!n)return null;let r=J1(this._mathfield,n);return r?new DOMRect(r.left,r.top,r.right-r.left,r.bottom-r.top):null}resetUndo(){var e;(e=this._mathfield)==null||e.resetUndo()}canUndo(){return this._mathfield?this._mathfield.canUndo():!1}canRedo(){return this._mathfield?this._mathfield.canRedo():!1}handleEvent(e){var n,r,i,o,s;Ma.state==="closed"&&((r=(n=this._mathfield)==null?void 0:n.menu)==null?void 0:r.state)==="closed"&&(e.type==="pointerdown"&&this.onPointerDown(),e.type==="focus"&&((i=this._mathfield)==null||i.focus()),e.type==="blur"&&((o=Ma.scrim)==null?void 0:o.state)==="closed"&&((s=this._mathfield)==null||s.blur()))}connectedCallback(){var e,n,r,i;let o=window.getComputedStyle(this),s=this.shadowRoot,a=s.host,l=o.userSelect!=="none";if(l)a.addEventListener("pointerdown",this,!0);else{let d=s.querySelector("span");d.style.pointerEvents="none"}a.addEventListener("focus",this,!0),a.addEventListener("blur",this,!0),this._observer=new MutationObserver(()=>{var d;this.value=(d=this.textContent)!=null?d:""}),this._observer.observe(this,{childList:!0,characterData:!0,subtree:!0}),ep()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),l&&!this.hasAttribute("contenteditable")&&this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let c=s.querySelector("slot:not([name])");if(c)try{this._style=c.assignedElements().filter(d=>d.tagName.toLowerCase()==="style").map(d=>d.textContent).join("")}catch(d){console.error(d)}if(this._style){let d=document.createElement("style");d.textContent=this._style,s.appendChild(d)}let u="";if(this.hasAttribute("value")?u=this.getAttribute("value"):u=(e=c==null?void 0:c.assignedNodes().map(d=>d.nodeType===3?d.textContent:"").join("").trim())!=null?e:"",this._mathfield=new $ae(s.querySelector(":host > span"),we(oe({},(r=(n=un.get(this))==null?void 0:n.options)!=null?r:_g(this)),{eventSink:this,value:u})),!un.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(let d of Object.keys(sh.optionsAttributes))this.upgradeProperty(sc(d))}if(!((i=this._mathfield)!=null&&i.model)){this._mathfield=null;return}if(un.has(this)){let d=this._mathfield,h=un.get(this),f=h.menuItems;d.model.deferNotifications({content:!1,selection:!1},()=>{let p=h.value;p!==void 0&&d.setValue(p),d.model.selection=h.selection,un.delete(this)}),f&&(this.menuItems=f)}window.queueMicrotask(()=>{this.isConnected&&this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))}),U3()}disconnectedCallback(){var e,n,r;if(this.shadowRoot.host.removeEventListener("pointerdown",this,!0),!this._mathfield)return;(e=this._observer)==null||e.disconnect(),this._observer=null,window.queueMicrotask(()=>this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})));let i=ph(this._mathfield.options,Object.keys(sh.optionsAttributes).map(o=>sc(o)));un.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,menuItems:(r=(n=this._mathfield.menu)==null?void 0:n.menuItems)!=null?r:void 0,options:i}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){let n=this[e];delete this[e],(e==="readonly"||e==="read-only")&&(e="readOnly"),this[e]=n}}attributeChangedCallback(e,n,r){if(n===r)return;let i=r!==null;switch(e){case"contenteditable":ar(this._mathfield);break;case"disabled":this.disabled=i;break;case"read-only":case"readonly":this.readOnly=i;break}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){let n=!!e;n?(this.setAttribute("readonly",""),ep()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(ep()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:n})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){var n;let r=!!e;r?this.setAttribute("disabled",""):this.removeAttribute("disabled"),ep()?this._internals.ariaDisabled=r?"true":"false":this.setAttribute("aria-disabled",r?"true":"false"),r&&(n=this._mathfield)!=null&&n.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(e){this._setOptions({defaultMode:e})}get macros(){return this._getOption("macros")}set macros(e){this._setOptions({macros:e})}get registers(){let e=this;return new Proxy({},{get:(n,r)=>{if(typeof r=="string")return e._getOption("registers")[r]},set(n,r,i){return typeof r!="string"?!1:(e._setOptions({registers:we(oe({},e._getOption("registers")),{[r]:i})}),!0)}})}set registers(e){this._setOptions({registers:e})}get colorMap(){return this._getOption("colorMap")}set colorMap(e){this._setOptions({colorMap:e})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(e){this._setOptions({backgroundColorMap:e})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(e){this._setOptions({letterShapeStyle:e})}get minFontScale(){return this._getOption("minFontScale")}set minFontScale(e){this._setOptions({minFontScale:e})}get smartMode(){return this._getOption("smartMode")}set smartMode(e){this._setOptions({smartMode:e})}get smartFence(){return this._getOption("smartFence")}set smartFence(e){this._setOptions({smartFence:e})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(e){this._setOptions({smartSuperscript:e})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(e){this._setOptions({scriptDepth:e})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this._setOptions({removeExtraneousParentheses:e})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(e){this._setOptions({mathModeSpace:e})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(e){this._setOptions({placeholderSymbol:e})}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(e){this._setOptions({popoverPolicy:e})}get environmentPopoverPolicy(){return this._getOption("environmentPopoverPolicy")}set environmentPopoverPolicy(e){this._setOptions({environmentPopoverPolicy:e})}get menuItems(){var e,n,r;return this._mathfield?(e=this._mathfield.menu._menuItems.map(i=>i.menuItem))!=null?e:[]:(r=(n=un.get(this))==null?void 0:n.menuItems)!=null?r:[]}set menuItems(e){var n;if(this._mathfield){let r=(n=this._mathfield.element)==null?void 0:n.querySelector("[part=menu-toggle]");r&&(r.style.display=e.length===0?"none":""),this._mathfield.menu.menuItems=e}un.has(this)?un.set(this,we(oe({},un.get(this)),{menuItems:e})):un.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:_g(this),menuItems:e})}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(e){this._setOptions({mathVirtualKeyboardPolicy:e})}get inlineShortcuts(){return this._getOption("inlineShortcuts")}set inlineShortcuts(e){this._setOptions({inlineShortcuts:e})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this._setOptions({inlineShortcutTimeout:e})}get keybindings(){return this._getOption("keybindings")}set keybindings(e){this._setOptions({keybindings:e})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(e){this._setOptions({onInlineShortcut:e})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(e){this._setOptions({onScrollIntoView:e})}get onExport(){return this._getOption("onExport")}set onExport(e){this._setOptions({onExport:e})}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOptions({readOnly:e})}get isSelectionEditable(){var e,n;return(n=(e=this._mathfield)==null?void 0:e.isSelectionEditable)!=null?n:!1}setPromptState(e,n,r){var i;(i=this._mathfield)==null||i.setPromptState(e,n,r)}getPromptState(e){var n,r;return(r=(n=this._mathfield)==null?void 0:n.getPromptState(e))!=null?r:[void 0,!0]}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(e){this._setOptions({virtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.model.selection:un.has(this)?un.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){if(typeof e=="number"&&(e={ranges:[[e,e]]}),this._mathfield){this._mathfield.model.selection=e,ar(this._mathfield);return}if(un.has(this)){un.set(this,we(oe({},un.get(this)),{selection:e}));return}un.set(this,{value:void 0,selection:e,options:_g(this),menuItems:void 0})}get selectionIsCollapsed(){let e=this.selection;return e.ranges.length===1&&e.ranges[0][0]===e.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:un.has(this)?un.get(this).selection.ranges[0][0]:0}set position(e){if(this._mathfield&&(this._mathfield.model.position=e,ar(this._mathfield)),un.has(this)){un.set(this,we(oe({},un.get(this)),{selection:{ranges:[[e,e]]}}));return}un.set(this,{value:void 0,selection:{ranges:[[e,e]]},options:_g(this),menuItems:void 0})}getOffsetDepth(e){var n,r;return this._mathfield?((r=(n=this._mathfield.model.at(e))==null?void 0:n.treeDepth)!=null?r:2)-2:0}get lastOffset(){var e,n;return(n=(e=this._mathfield)==null?void 0:e.model.lastOffset)!=null?n:-1}};ii.version="0.98.6",ii._fontsDirectory="./fonts",ii._soundsDirectory="./sounds",ii.keypressVibration=!0,ii._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},ii._plonkSound="plonk.wav",ii.audioBuffers={},ii.createHTML=t=>t,ii._speechEngineRate="100%",ii._speechEngineVoice="Joanna",ii._textToSpeechMarkup="",ii._textToSpeechRules="mathlive",ii._textToSpeechRulesOptions={},ii.speakHook=Pae,ii.readAloudHook=Gae,ii._decimalSeparator=".",ii.fractionNavigationOrder="numerator-denominator",ii._isFunction=t=>{var e,n;let r=globalThis.MathfieldElement.computeEngine;return(n=(e=r==null?void 0:r.parse(t).domain)==null?void 0:e.isFunction)!=null?n:!1};var b1=ii;function sc(t){return t.replace(/[^a-zA-Z\d]+(.)/g,(e,n)=>n.toUpperCase())}function _g(t){let e={readOnly:!1},n=b1.optionsAttributes;return Object.keys(n).forEach(r=>{if(t.hasAttribute(r)){let i=t.getAttribute(r);r==="placeholder"?e.contentPlaceholder=i??"":n[r]==="boolean"?e[sc(r)]=!0:n[r]==="on/off"?i==="on"?e[sc(r)]=!0:i==="off"?e[sc(r)]=!1:e[sc(r)]=void 0:n[r]==="number"?e[sc(r)]=Number.parseFloat(i??"0"):e[sc(r)]=i}}),e}function ep(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}var QG=b1,oN,sN,aN;if(oa()&&!((oN=window.customElements)!=null&&oN.get("math-field"))){window[sN=Symbol.for("io.cortexjs.mathlive")]!=null||(window[sN]={});let t=window[Symbol.for("io.cortexjs.mathlive")];t.version="0.98.6",globalThis.MathfieldElement=b1,(aN=window.customElements)==null||aN.define("math-field",b1)}function qae(t,e,n){let r=n,i=0,o=t.length;for(;r<e.length;){let s=e[r];if(i<=0&&e.slice(r,r+o)===t)return r;s==="\\"?r++:s==="{"?i++:s==="}"&&i--,r++}return-1}function Vx(t,e,n,r,i="latex"){let o=[];for(let s of t)if(s.type==="text"){let a=s.data,l=!0,c=0,u;u=a.indexOf(e),u!==-1&&(c=u,c>0&&o.push({type:"text",data:a.slice(0,c)}),l=!1);let d=!1;for(;!d;){if(l){if(u=a.indexOf(e,c),u===-1){d=!0;break}c!==u&&o.push({type:"text",data:a.slice(c,u)}),c=u}else{if(u=qae(n,a,c+e.length),u===-1){d=!0;break}let h=a.slice(c+e.length,u);i==="ascii-math"&&([,h]=A5(h,{format:"ascii-math"})),o.push({type:"math",data:h,rawData:a.slice(c,u+n.length),mathstyle:r}),c=u+n.length}l=!l}c<a.length&&o.push({type:"text",data:a.slice(c)})}else o.push(s);return o}function eV(t,e){var n,r,i,o,s,a,l,c;let u=[{type:"text",data:t}];return(r=(n=e.TeX)==null?void 0:n.delimiters)!=null&&r.display&&e.TeX.delimiters.display.forEach(([d,h])=>{u=Vx(u,d,h,"displaystyle")}),(o=(i=e.TeX)==null?void 0:i.delimiters)!=null&&o.inline&&e.TeX.delimiters.inline.forEach(([d,h])=>{u=Vx(u,d,h,"textstyle")}),(a=(s=e.asciiMath)==null?void 0:s.delimiters)!=null&&a.inline&&e.asciiMath.delimiters.inline.forEach(([d,h])=>{u=Vx(u,d,h,"textstyle","ascii-math")}),(c=(l=e.asciiMath)==null?void 0:l.delimiters)!=null&&c.display&&e.asciiMath.delimiters.display.forEach(([d,h])=>{u=Vx(u,d,h,"displaystyle","ascii-math")}),u}function Kae(t,e){let n=document.createElement("span");n.setAttribute("translate","no");try{let r="<math xmlns='http://www.w3.org/1998/Math/MathML'>"+e.renderToMathML(t)+"</math>";n.innerHTML=globalThis.MathfieldElement.createHTML(r)}catch(r){console.error(`MathLive 0.98.6:  Could not convert "${t}"' to MathML with ${r}`),n.textContent=t}return n.className="ML__sr-only",n}function Wae(t,e,n,r){try{let i=e.renderToMarkup(t,{mathstyle:n,format:"html"}),o=document.createElement("span");return o.dataset.latex=t,o.style.display=n==="displaystyle"?"flex":"inline-flex",o.setAttribute("aria-hidden","true"),o.setAttribute("translate","no"),o.innerHTML=globalThis.MathfieldElement.createHTML(i),o}catch(i){if(console.error("Could not parse'"+t+"' with ",i),r)return document.createTextNode(t)}return null}function mh(t,e,n,r){var i;let o=Wae(t,n,e||"textstyle",r),s=(i=n.renderAccessibleContent)!=null?i:"";if(o&&/\b(mathml|speakable-text)\b/i.test(s)){let a=document.createElement("span");if(/\bmathml\b/i.test(s)&&n.renderToMathML&&a.append(Kae(t,n)),/\bspeakable-text\b/i.test(s)&&n.renderToSpeakableText){let l=document.createElement("span");l.setAttribute("translate","no");let c=n.renderToSpeakableText(t);l.innerHTML=globalThis.MathfieldElement.createHTML(c),l.className="ML__sr-only",a.append(l)}return a.append(o),a}return o}function Xae(t,e){var n;let r=null;if((n=e.TeX)!=null&&n.processEnvironments&&/^\s*\\begin/.test(t)){r=document.createDocumentFragment();let i=mh(t,"",e,!0);i&&r.appendChild(i)}else{if(!t.trim())return null;let i=eV(t,e);if(i.length===1&&i[0].type==="text")return null;r=document.createDocumentFragment();for(let o of i)if(o.type==="text")r.appendChild(document.createTextNode(o.data));else{let s=mh(o.data,o.mathstyle==="textstyle"?"textstyle":"displaystyle",e,!0);s&&r.appendChild(s)}}return r}function tV(t,e){var n,r,i,o,s,a,l,c,u,d,h,f,p,v,b,y,x;if(t.childNodes.length===1&&t.childNodes[0].nodeType===3){let w=(n=t.childNodes[0].textContent)!=null?n:"";if((r=e.TeX)!=null&&r.processEnvironments&&/^\s*\\begin/.test(w)){t.textContent="";let D=mh(w,"",e,!0);D&&t.append(D);return}let A=eV(w,e);if(A.length===1&&A[0].type==="math"){t.textContent="";let D=mh(A[0].data,A[0].mathstyle==="textstyle"?"textstyle":"displaystyle",e,!0);D&&t.append(D);return}if(A.length===1&&A[0].type==="text")return}for(let w=t.childNodes.length-1;w>=0;w--){let A=t.childNodes[w];if(A.nodeType===3){let D=(i=A.textContent)!=null?i:"";for(;w>0&&t.childNodes[w-1].nodeType===3;)w--,D=((o=t.childNodes[w].textContent)!=null?o:"")+D;if(D=D.trim(),!D)continue;let k=Xae(D,e);k&&(w+=k.childNodes.length-1,A.replaceWith(k))}else if(A.nodeType===1){let D=A,k=A.nodeName.toLowerCase();if(k==="script"){let R=A,L;if((s=e.processScriptTypePattern)!=null&&s.test(R.type))L=(a=R.textContent)!=null?a:"";else if((l=e.processMathJSONScriptTypePattern)!=null&&l.test(R.type))try{L=(u=e.serializeToLatex)==null?void 0:u.call(e,JSON.parse((c=R.textContent)!=null?c:""))}catch(T){console.error(T)}if(L){let T="textstyle";for(let P of R.type.split(";")){let[z,H]=P.toLowerCase().split("=");z.trim()==="mode"&&(T=H.trim()==="display"?"displaystyle":"textstyle")}let C=mh(L,T,e,!0);C&&R.parentNode.replaceChild(C,R)}}else{if((d=e.texClassDisplayPattern)!=null&&d.test(D.className)){let R=D.textContent;D.textContent="";let L=mh(R??"","displaystyle",e,!0);L&&D.append(L);continue}if((h=e.texClassInlinePattern)!=null&&h.test(D.className)){let R=D.textContent;D.textContent="";let L=mh(R??"","textstyle",e,!0);L&&t.append(L);continue}((p=(f=e.processClassPattern)==null?void 0:f.test(D.className))!=null&&p||!((b=(v=e.skipTags)==null?void 0:v.includes(k))!=null&&b||(x=(y=e.ignoreClassPattern)==null?void 0:y.test(D.className))!=null&&x))&&tV(D,e)}}}}var Jae={skipTags:["math-field","noscript","style","textarea","pre","code","annotation","annotation-xml"],processScriptType:"math/tex",processMathJSONScriptType:"math/json",ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",renderAccessibleContent:"mathml",asciiMath:{delimiters:{inline:[["`","`"]]}},TeX:{processEnvironments:!0,delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}};function Yae(t,e){var n,r,i,o,s,a,l,c;try{let u=oe(oe({},Jae),e);u.ignoreClassPattern=new RegExp((n=u.ignoreClass)!=null?n:""),u.processClassPattern=new RegExp((r=u.processClass)!=null?r:""),u.processScriptTypePattern=new RegExp((i=u.processScriptType)!=null?i:""),u.processMathJSONScriptTypePattern=new RegExp((o=u.processMathJSONScriptType)!=null?o:""),(a=(s=u.TeX)==null?void 0:s.className)!=null&&a.display&&(u.texClassDisplayPattern=new RegExp(u.TeX.className.display)),(c=(l=u.TeX)==null?void 0:l.className)!=null&&c.inline&&(u.texClassInlinePattern=new RegExp(u.TeX.className.inline)),U3(),kc("core"),tV(t,u)}catch(u){u instanceof Error?console.error("renderMathInElement(): "+u.message):console.error("renderMathInElement(): Could not render math for element",t)}}function Zae(t,e){let n=dd.singleton;return n?(n.show(),Ay(),n.currentLayer=e,n.render(),n.focus(),!0):!1}function Qae(){let t=window.mathVirtualKeyboard;return t.visible?t.hide({animate:!0}):t.show({animate:!0}),!1}Jo({switchKeyboardLayer:Zae,toggleVirtualKeyboard:Qae,hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});function Au(){var t;return globalThis[t=Symbol.for("io.cortexjs.mathlive")]!=null||(globalThis[t]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}function ele(t){if(typeof t=="string"){let e=document.getElementById(t);if(e===null)throw new Error(`The element with ID "${t}" could not be found.`);return e}return typeof t=="string"?null:t}function $3(t,e){let n=ele(t);if(!n)return;let r=e??{};r.renderToMarkup!=null||(r.renderToMarkup=Zr),r.renderToMathML!=null||(r.renderToMathML=pae),r.renderToSpeakableText!=null||(r.renderToSpeakableText=j5),r.serializeToLatex!=null||(r.serializeToLatex=mae),Yae(n,r)}const Xk="-";function tle(t){const e=rle(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function i(s){const a=s.split(Xk);return a[0]===""&&a.length!==1&&a.shift(),nV(a,e)||nle(s)}function o(s,a){const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function nV(t,e){var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?nV(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Xk);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId}const lN=/^\[(.+)\]$/;function nle(t){if(lN.test(t)){const e=lN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function rle(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return ole(Object.entries(t.classGroups),n).forEach(([o,s])=>{V5(s,r,o,e)}),r}function V5(t,e,n,r){t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:cN(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(ile(i)){V5(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{V5(s,cN(e,o),n,r)})})}function cN(t,e){let n=t;return e.split(Xk).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function ile(t){return t.isThemeGetter}function ole(t,e){return e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t}function sle(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}}const rV="!";function ale(t){const e=t.separator,n=e.length===1,r=e[0],i=e.length;return function(s){const a=[];let l=0,c=0,u;for(let v=0;v<s.length;v++){let b=s[v];if(l===0){if(b===r&&(n||s.slice(v,v+i)===e)){a.push(s.slice(c,v)),c=v+i;continue}if(b==="/"){u=v;continue}}b==="["?l++:b==="]"&&l--}const d=a.length===0?s:s.substring(c),h=d.startsWith(rV),f=h?d.substring(1):d,p=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}}}function lle(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function cle(t){return{cache:sle(t.cacheSize),splitModifiers:ale(t),...tle(t)}}const ule=/\s+/;function dle(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=new Set;return t.trim().split(ule).map(s=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=n(s);let d=r(u?c.substring(0,u):c),h=!!u;if(!d){if(!u)return{isTailwindClass:!1,originalClassName:s};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:s};h=!1}const f=lle(a).join(":");return{isTailwindClass:!0,modifierId:l?f+rV:f,classGroupId:d,originalClassName:s,hasPostfixModifier:h}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=s,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(d=>o.add(a+d)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function hle(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iV(e))&&(r&&(r+=" "),r+=n);return r}function iV(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=iV(t[r]))&&(n&&(n+=" "),n+=e);return n}function fle(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((u,d)=>d(u),t());return n=cle(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=dle(l,n);return i(l,u),u}return function(){return o(hle.apply(null,arguments))}}function rr(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const oV=/^\[(?:([a-z-]+):)?(.+)\]$/i,ple=/^\d+\/\d+$/,mle=new Set(["px","full","screen"]),gle=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ble=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Gl(t){return Ch(t)||mle.has(t)||ple.test(t)}function du(t){return g0(t,"length",kle)}function Ch(t){return!!t&&!Number.isNaN(Number(t))}function qx(t){return g0(t,"number",Ch)}function wg(t){return!!t&&Number.isInteger(Number(t))}function _le(t){return t.endsWith("%")&&Ch(t.slice(0,-1))}function nn(t){return oV.test(t)}function hu(t){return gle.test(t)}const wle=new Set(["length","size","percentage"]);function Sle(t){return g0(t,wle,sV)}function Ale(t){return g0(t,"position",sV)}const Cle=new Set(["image","url"]);function Mle(t){return g0(t,Cle,Dle)}function Ele(t){return g0(t,"",Tle)}function Sg(){return!0}function g0(t,e,n){const r=oV.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function kle(t){return yle.test(t)&&!vle.test(t)}function sV(){return!1}function Tle(t){return ble.test(t)}function Dle(t){return xle.test(t)}function Lle(){const t=rr("colors"),e=rr("spacing"),n=rr("blur"),r=rr("brightness"),i=rr("borderColor"),o=rr("borderRadius"),s=rr("borderSpacing"),a=rr("borderWidth"),l=rr("contrast"),c=rr("grayscale"),u=rr("hueRotate"),d=rr("invert"),h=rr("gap"),f=rr("gradientColorStops"),p=rr("gradientColorStopPositions"),v=rr("inset"),b=rr("margin"),y=rr("opacity"),x=rr("padding"),w=rr("saturate"),A=rr("scale"),D=rr("sepia"),k=rr("skew"),R=rr("space"),L=rr("translate"),T=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",nn,e],z=()=>[nn,e],H=()=>["",Gl,du],$=()=>["auto",Ch,nn],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",nn],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Ch,qx],ye=()=>[Ch,nn];return{cacheSize:500,separator:":",theme:{colors:[Sg],spacing:[Gl,du],blur:["none","",hu,nn],brightness:se(),borderColor:[t],borderRadius:["none","","full",hu,nn],borderSpacing:z(),borderWidth:H(),contrast:se(),grayscale:V(),hueRotate:ye(),invert:V(),gap:z(),gradientColorStops:[t],gradientColorStopPositions:[_le,du],inset:P(),margin:P(),opacity:se(),padding:z(),saturate:se(),scale:se(),sepia:V(),skew:ye(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",nn]}],container:["container"],columns:[{columns:[hu]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),nn]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wg,nn]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nn]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",wg,nn]}],"grid-cols":[{"grid-cols":[Sg]}],"col-start-end":[{col:["auto",{span:["full",wg,nn]},nn]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Sg]}],"row-start-end":[{row:["auto",{span:[wg,nn]},nn]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nn,e]}],"min-w":[{"min-w":[nn,e,"min","max","fit"]}],"max-w":[{"max-w":[nn,e,"none","full","min","max","fit","prose",{screen:[hu]},hu]}],h:[{h:[nn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hu,du]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qx]}],"font-family":[{font:[Sg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nn]}],"line-clamp":[{"line-clamp":["none",Ch,qx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gl,nn]}],"list-image":[{"list-image":["none",nn]}],"list-style-type":[{list:["none","disc","decimal",nn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gl,du]}],"underline-offset":[{"underline-offset":["auto",Gl,nn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),Ale]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sle]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Mle]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Gl,nn]}],"outline-w":[{outline:[Gl,du]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Gl,du]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hu,Ele]}],"shadow-color":[{shadow:[Sg]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hu,nn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nn]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",nn]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",nn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[wg,nn]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gl,du,qx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Jk=fle(Lle);function ie(...t){return Jk(Lk(t))}function aV(t){console.info("makeVocalizable");let e=[],n=0;const r=/\\+\(/,i=/\\+\)/;for(;n!==-1;){let s=uN(t,r,n),a=uN(t,i,n);if(s!==-1&&a!==-1){e.push(t.slice(n,s));let l=t.slice(s+1,a),c=l.indexOf("(");e.push(j5(l.slice(c+1,a))),n=t.indexOf(")",a)+1}else{e.push(t.slice(n));break}}let o=e.join("");for(e=[],n=0;n!==-1;){let s=o.indexOf("$$",n),a=o.indexOf("$$",s+1);if(s!==-1&&a!==-1)e.push(o.slice(n,s)),e.push(j5(o.slice(s+2,a))),n=a+2;else{e.push(o.slice(n));break}}return e.join("")}function uN(t,e,n){var r=t.substring(n||0).search(e);return r>=0?r+(n||0):r}function Rle(t){for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}function $t(){return $t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$t.apply(this,arguments)}function Ble(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function lV(...t){return e=>t.forEach(n=>Ble(n,e))}function Lo(...t){return E.useCallback(lV(...t),t)}const tf=E.forwardRef((t,e)=>{const{children:n,...r}=t,i=E.Children.toArray(n),o=i.find(Nle);if(o){const s=o.props.children,a=i.map(l=>l===o?E.Children.count(s)>1?E.Children.only(null):E.isValidElement(s)?s.props.children:null:l);return E.createElement(q5,$t({},r,{ref:e}),E.isValidElement(s)?E.cloneElement(s,void 0,a):null)}return E.createElement(q5,$t({},r,{ref:e}),n)});tf.displayName="Slot";const q5=E.forwardRef((t,e)=>{const{children:n,...r}=t;return E.isValidElement(n)?E.cloneElement(n,{...Ile(r,n.props),ref:e?lV(e,n.ref):n.ref}):E.Children.count(n)>1?E.Children.only(null):null});q5.displayName="SlotClone";const Ple=({children:t})=>E.createElement(E.Fragment,null,t);function Nle(t){return E.isValidElement(t)&&t.type===Ple}function Ile(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function cV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=cV(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ole(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=cV(t))&&(r&&(r+=" "),r+=e);return r}const dN=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,hN=Ole,Yk=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return hN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const h=dN(u)||dN(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(p=>{let[v,b]=p;return Array.isArray(b)?b.includes({...o,...a}[v]):{...o,...a}[v]===b})?[...c,d,h]:c},[]);return hN(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},Fle=Yk("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ko=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?tf:"button";return _.jsx(s,{className:ie(Fle({variant:e,size:n,className:t})),ref:o,...i})});ko.displayName="Button";const uV=E.createContext(null);function G3(){const t=E.useContext(uV);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const Zk=E.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:o,...s},a)=>{const[l,c]=Dk({...e,axis:t==="horizontal"?"x":"y"},r),[u,d]=E.useState(!1),[h,f]=E.useState(!1),p=E.useCallback(y=>{y&&(d(y.canScrollPrev()),f(y.canScrollNext()))},[]),v=E.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=E.useCallback(()=>{c==null||c.scrollNext()},[c]);return E.useEffect(()=>{!c||!n||n(c)},[c,n]),E.useEffect(()=>{if(c)return p(c),c.on("reInit",p),c.on("select",p),()=>{c==null||c.off("select",p)}},[c,p]),_.jsx(uV.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:b,canScrollPrev:u,canScrollNext:h},children:_.jsx("div",{ref:a,className:ie("relative",i),role:"region","aria-roledescription":"carousel",...s,children:o})})});Zk.displayName="Carousel";const Qk=E.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=G3();return _.jsx("div",{ref:r,className:"carouselRef flex flex-col flex-grow",children:_.jsx("div",{ref:n,className:ie("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});Qk.displayName="CarouselContent";const eT=E.forwardRef(({className:t,...e},n)=>{const{orientation:r}=G3();return _.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ie("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});eT.displayName="CarouselItem";const vf=E.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollPrev:s,canScrollPrev:a}=G3();return _.jsxs(ko,{ref:i,variant:e,size:n,className:ie("absolute  h-8 w-8 rounded-full border-white text-white bg-qqAccent hover:bg-qqBrand hover:text-white disabled:text-slate-400 disabled:border-slate-400 disabled:bg-slate-200",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[_.jsx(lre,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Previous slide"})]})});vf.displayName="CarouselPrevious";const Ci=E.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:o,scrollNext:s,canScrollNext:a}=G3();return _.jsxs(ko,{ref:i,variant:e,size:n,className:ie("absolute h-8 w-8 rounded-full border-white text-white bg-qqAccent hover:bg-qqBrand hover:text-white disabled:text-slate-400 disabled:border-slate-400 disabled:bg-slate-200",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:s,...r,children:[_.jsx(cre,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Next slide"})]})});Ci.displayName="CarouselNext";function vr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function nv(t,e=[]){let n=[];function r(o,s){const a=E.createContext(s),l=n.length;n=[...n,s];function c(d){const{scope:h,children:f,...p}=d,v=(h==null?void 0:h[t][l])||a,b=E.useMemo(()=>p,Object.values(p));return E.createElement(v.Provider,{value:b},f)}function u(d,h){const f=(h==null?void 0:h[t][l])||a,p=E.useContext(f);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>E.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,zle(i,...e)]}function zle(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}const $w=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},Ule=LQ.useId||(()=>{});let jle=0;function Ty(t){const[e,n]=E.useState(Ule());return $w(()=>{t||n(r=>r??String(jle++))},[t]),t||(e?`radix-${e}`:"")}function wo(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function tT({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Hle({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=wo(n),l=E.useCallback(c=>{if(o){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[o,t,i,a]);return[s,l]}function Hle({defaultProp:t,onChange:e}){const n=E.useState(t),[r]=n,i=E.useRef(r),o=wo(e);return E.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const $le=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],fi=$le.reduce((t,e)=>{const n=E.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?tf:e;return E.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),E.createElement(a,$t({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Gle(t,e){t&&pl.flushSync(()=>t.dispatchEvent(e))}function Vle(t,e=globalThis==null?void 0:globalThis.document){const n=wo(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const K5="dismissableLayer.update",qle="dismissableLayer.pointerDownOutside",Kle="dismissableLayer.focusOutside";let fN;const Wle=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xle=E.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=E.useContext(Wle),[d,h]=E.useState(null),f=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,p]=E.useState({}),v=Lo(e,L=>h(L)),b=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(y),w=d?b.indexOf(d):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,D=w>=x,k=Jle(L=>{const T=L.target,C=[...u.branches].some(P=>P.contains(T));!D||C||(o==null||o(L),a==null||a(L),L.defaultPrevented||l==null||l())},f),R=Yle(L=>{const T=L.target;[...u.branches].some(P=>P.contains(T))||(s==null||s(L),a==null||a(L),L.defaultPrevented||l==null||l())},f);return Vle(L=>{w===u.layers.size-1&&(i==null||i(L),!L.defaultPrevented&&l&&(L.preventDefault(),l()))},f),E.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fN=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),pN(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=fN)}},[d,f,r,u]),E.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),pN())},[d,u]),E.useEffect(()=>{const L=()=>p({});return document.addEventListener(K5,L),()=>document.removeEventListener(K5,L)},[]),E.createElement(fi.div,$t({},c,{ref:v,style:{pointerEvents:A?D?"auto":"none":void 0,...t.style},onFocusCapture:vr(t.onFocusCapture,R.onFocusCapture),onBlurCapture:vr(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:vr(t.onPointerDownCapture,k.onPointerDownCapture)}))});function Jle(t,e=globalThis==null?void 0:globalThis.document){const n=wo(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){dV(qle,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Yle(t,e=globalThis==null?void 0:globalThis.document){const n=wo(t),r=E.useRef(!1);return E.useEffect(()=>{const i=o=>{o.target&&!r.current&&dV(Kle,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pN(){const t=new CustomEvent(K5);document.dispatchEvent(t)}function dV(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Gle(i,o):i.dispatchEvent(o)}const DC="focusScope.autoFocusOnMount",LC="focusScope.autoFocusOnUnmount",mN={bubbles:!1,cancelable:!0},Zle=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=E.useState(null),c=wo(i),u=wo(o),d=E.useRef(null),h=Lo(e,v=>l(v)),f=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let v=function(w){if(f.paused||!a)return;const A=w.target;a.contains(A)?d.current=A:Cu(d.current,{select:!0})},b=function(w){if(f.paused||!a)return;const A=w.relatedTarget;A!==null&&(a.contains(A)||Cu(d.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const D of w)D.removedNodes.length>0&&Cu(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),x.disconnect()}}},[r,a,f.paused]),E.useEffect(()=>{if(a){yN.add(f);const v=document.activeElement;if(!a.contains(v)){const y=new CustomEvent(DC,mN);a.addEventListener(DC,c),a.dispatchEvent(y),y.defaultPrevented||(Qle(ice(hV(a)),{select:!0}),document.activeElement===v&&Cu(a))}return()=>{a.removeEventListener(DC,c),setTimeout(()=>{const y=new CustomEvent(LC,mN);a.addEventListener(LC,u),a.dispatchEvent(y),y.defaultPrevented||Cu(v??document.body,{select:!0}),a.removeEventListener(LC,u),yN.remove(f)},0)}}},[a,c,u,f]);const p=E.useCallback(v=>{if(!n&&!r||f.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(b&&y){const x=v.currentTarget,[w,A]=ece(x);w&&A?!v.shiftKey&&y===A?(v.preventDefault(),n&&Cu(w,{select:!0})):v.shiftKey&&y===w&&(v.preventDefault(),n&&Cu(A,{select:!0})):y===x&&v.preventDefault()}},[n,r,f.paused]);return E.createElement(fi.div,$t({tabIndex:-1},s,{ref:h,onKeyDown:p}))});function Qle(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Cu(r,{select:e}),document.activeElement!==n)return}function ece(t){const e=hV(t),n=gN(e,t),r=gN(e.reverse(),t);return[n,r]}function hV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gN(t,e){for(const n of t)if(!tce(n,{upTo:e}))return n}function tce(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function nce(t){return t instanceof HTMLInputElement&&"select"in t}function Cu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&nce(t)&&e&&t.select()}}const yN=rce();function rce(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=vN(t,e),t.unshift(e)},remove(e){var n;t=vN(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function vN(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ice(t){return t.filter(e=>e.tagName!=="A")}const oce=E.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?jte.createPortal(E.createElement(fi.div,$t({},i,{ref:e})),r):null});function sce(t,e){return E.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const Nc=t=>{const{present:e,children:n}=t,r=ace(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),o=Lo(r.ref,i.ref);return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:o}):null};Nc.displayName="Presence";function ace(t){const[e,n]=E.useState(),r=E.useRef({}),i=E.useRef(t),o=E.useRef("none"),s=t?"mounted":"unmounted",[a,l]=sce(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=Kx(r.current);o.current=a==="mounted"?c:"none"},[a]),$w(()=>{const c=r.current,u=i.current;if(u!==t){const h=o.current,f=Kx(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),$w(()=>{if(e){const c=d=>{const f=Kx(r.current).includes(d.animationName);d.target===e&&f&&pl.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(o.current=Kx(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Kx(t){return(t==null?void 0:t.animationName)||"none"}let RC=0;function lce(){E.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:bN()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:bN()),RC++,()=>{RC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),RC--}},[])}function bN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var gl=function(){return gl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},gl.apply(this,arguments)};function fV(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cce(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var k_="right-scroll-bar-position",T_="width-before-scroll-bar",uce="with-scroll-bars-hidden",dce="--removed-body-scroll-bar-size";function BC(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function hce(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var fce=typeof window<"u"?E.useLayoutEffect:E.useEffect,xN=new WeakMap;function pce(t,e){var n=hce(e||null,function(r){return t.forEach(function(i){return BC(i,r)})});return fce(function(){var r=xN.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||BC(a,null)}),o.forEach(function(a){i.has(a)||BC(a,s)})}xN.set(n,t)},[t]),n}function mce(t){return t}function gce(t,e){e===void 0&&(e=mce);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function yce(t){t===void 0&&(t={});var e=gce(null);return e.options=gl({async:!0,ssr:!1},t),e}var pV=function(t){var e=t.sideCar,n=fV(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,gl({},n))};pV.isSideCarExport=!0;function vce(t,e){return t.useMedium(e),pV}var mV=yce(),PC=function(){},V3=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:PC,onWheelCapture:PC,onTouchMoveCapture:PC}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noIsolation,p=t.inert,v=t.allowPinchZoom,b=t.as,y=b===void 0?"div":b,x=fV(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=h,A=pce([n,e]),D=gl(gl({},x),i);return E.createElement(E.Fragment,null,u&&E.createElement(w,{sideCar:mV,removeScrollBar:c,shards:d,noIsolation:f,inert:p,setCallbacks:o,allowPinchZoom:!!v,lockRef:n}),s?E.cloneElement(E.Children.only(a),gl(gl({},D),{ref:A})):E.createElement(y,gl({},D,{className:l,ref:A}),a))});V3.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};V3.classNames={fullWidth:T_,zeroRight:k_};var bce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xce(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=bce();return e&&t.setAttribute("nonce",e),t}function _ce(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function wce(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Sce=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xce())&&(_ce(e,n),wce(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ace=function(){var t=Sce();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gV=function(){var t=Ace(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Cce={left:0,top:0,right:0,gap:0},NC=function(t){return parseInt(t||"",10)||0},Mce=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[NC(n),NC(r),NC(i)]},Ece=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Cce;var e=Mce(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},kce=gV(),wm="data-scroll-locked",Tce=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(uce,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(wm,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(k_,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(T_,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(k_," .").concat(k_,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(T_," .").concat(T_,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wm,`] {
    `).concat(dce,": ").concat(a,`px;
  }
`)},_N=function(){var t=parseInt(document.body.getAttribute(wm)||"0",10);return isFinite(t)?t:0},Dce=function(){E.useEffect(function(){return document.body.setAttribute(wm,(_N()+1).toString()),function(){var t=_N()-1;t<=0?document.body.removeAttribute(wm):document.body.setAttribute(wm,t.toString())}},[])},Lce=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Dce();var o=E.useMemo(function(){return Ece(i)},[i]);return E.createElement(kce,{styles:Tce(o,!e,i,n?"":"!important")})},W5=!1;if(typeof window<"u")try{var Wx=Object.defineProperty({},"passive",{get:function(){return W5=!0,!0}});window.addEventListener("test",Wx,Wx),window.removeEventListener("test",Wx,Wx)}catch{W5=!1}var tp=W5?{passive:!1}:!1,Rce=function(t){return t.tagName==="TEXTAREA"},yV=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rce(t)&&n[e]==="visible")},Bce=function(t){return yV(t,"overflowY")},Pce=function(t){return yV(t,"overflowX")},wN=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=vV(t,n);if(r){var i=bV(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Nce=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Ice=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vV=function(t,e){return t==="v"?Bce(e):Pce(e)},bV=function(t,e){return t==="v"?Nce(e):Ice(e)},Oce=function(t,e){return t==="h"&&e==="rtl"?-1:1},Fce=function(t,e,n,r,i){var o=Oce(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,h=0;do{var f=bV(t,a),p=f[0],v=f[1],b=f[2],y=v-b-o*p;(p||y)&&vV(t,a)&&(d+=y,h+=p),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&d===0||!i&&s>d)||!u&&(i&&h===0||!i&&-s>h))&&(c=!0),c},Xx=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},SN=function(t){return[t.deltaX,t.deltaY]},AN=function(t){return t&&"current"in t?t.current:t},zce=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Uce=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jce=0,np=[];function Hce(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(jce++)[0],o=E.useState(function(){return gV()})[0],s=E.useRef(t);E.useEffect(function(){s.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=cce([t.lockRef.current],(t.shards||[]).map(AN),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(v,b){if("touches"in v&&v.touches.length===2)return!s.current.allowPinchZoom;var y=Xx(v),x=n.current,w="deltaX"in v?v.deltaX:x[0]-y[0],A="deltaY"in v?v.deltaY:x[1]-y[1],D,k=v.target,R=Math.abs(w)>Math.abs(A)?"h":"v";if("touches"in v&&R==="h"&&k.type==="range")return!1;var L=wN(R,k);if(!L)return!0;if(L?D=R:(D=R==="v"?"h":"v",L=wN(R,k)),!L)return!1;if(!r.current&&"changedTouches"in v&&(w||A)&&(r.current=D),!D)return!0;var T=r.current||D;return Fce(T,b,v,T==="h"?w:A,!0)},[]),l=E.useCallback(function(v){var b=v;if(!(!np.length||np[np.length-1]!==o)){var y="deltaY"in b?SN(b):Xx(b),x=e.current.filter(function(D){return D.name===b.type&&D.target===b.target&&zce(D.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(s.current.shards||[]).map(AN).filter(Boolean).filter(function(D){return D.contains(b.target)}),A=w.length>0?a(b,w[0]):!s.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),c=E.useCallback(function(v,b,y,x){var w={name:v,delta:b,target:y,should:x};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(A){return A!==w})},1)},[]),u=E.useCallback(function(v){n.current=Xx(v),r.current=void 0},[]),d=E.useCallback(function(v){c(v.type,SN(v),v.target,a(v,t.lockRef.current))},[]),h=E.useCallback(function(v){c(v.type,Xx(v),v.target,a(v,t.lockRef.current))},[]);E.useEffect(function(){return np.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,tp),document.addEventListener("touchmove",l,tp),document.addEventListener("touchstart",u,tp),function(){np=np.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,tp),document.removeEventListener("touchmove",l,tp),document.removeEventListener("touchstart",u,tp)}},[]);var f=t.removeScrollBar,p=t.inert;return E.createElement(E.Fragment,null,p?E.createElement(o,{styles:Uce(i)}):null,f?E.createElement(Lce,{gapMode:"margin"}):null)}const $ce=vce(mV,Hce);var xV=E.forwardRef(function(t,e){return E.createElement(V3,gl({},t,{ref:e,sideCar:$ce}))});xV.classNames=V3.classNames;const Gce=xV;var Vce=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rp=new WeakMap,Jx=new WeakMap,Yx={},IC=0,_V=function(t){return t&&(t.host||_V(t.parentNode))},qce=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=_V(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Kce=function(t,e,n,r){var i=qce(e,Array.isArray(t)?t:[t]);Yx[n]||(Yx[n]=new WeakMap);var o=Yx[n],s=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),p=f!==null&&f!=="false",v=(rp.get(h)||0)+1,b=(o.get(h)||0)+1;rp.set(h,v),o.set(h,b),s.push(h),v===1&&p&&Jx.set(h,!0),b===1&&h.setAttribute(n,"true"),p||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(e),a.clear(),IC++,function(){s.forEach(function(d){var h=rp.get(d)-1,f=o.get(d)-1;rp.set(d,h),o.set(d,f),h||(Jx.has(d)||d.removeAttribute(r),Jx.delete(d)),f||d.removeAttribute(n)}),IC--,IC||(rp=new WeakMap,rp=new WeakMap,Jx=new WeakMap,Yx={})}},Wce=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||Vce(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Kce(r,i,n,"aria-hidden")):function(){return null}};const wV="Dialog",[SV,W6e]=nv(wV),[Xce,ja]=SV(wV),Jce=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=E.useRef(null),l=E.useRef(null),[c=!1,u]=tT({prop:r,defaultProp:i,onChange:o});return E.createElement(Xce,{scope:e,triggerRef:a,contentRef:l,contentId:Ty(),titleId:Ty(),descriptionId:Ty(),open:c,onOpenChange:u,onOpenToggle:E.useCallback(()=>u(d=>!d),[u]),modal:s},n)},Yce="DialogTrigger",Zce=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ja(Yce,n),o=Lo(e,i.triggerRef);return E.createElement(fi.button,$t({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nT(i.open)},r,{ref:o,onClick:vr(t.onClick,i.onOpenToggle)}))}),AV="DialogPortal",[Qce,CV]=SV(AV,{forceMount:void 0}),eue=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=ja(AV,e);return E.createElement(Qce,{scope:e,forceMount:n},E.Children.map(r,s=>E.createElement(Nc,{present:n||o.open},E.createElement(oce,{asChild:!0,container:i},s))))},X5="DialogOverlay",tue=E.forwardRef((t,e)=>{const n=CV(X5,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=ja(X5,t.__scopeDialog);return o.modal?E.createElement(Nc,{present:r||o.open},E.createElement(nue,$t({},i,{ref:e}))):null}),nue=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ja(X5,n);return E.createElement(Gce,{as:tf,allowPinchZoom:!0,shards:[i.contentRef]},E.createElement(fi.div,$t({"data-state":nT(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),x1="DialogContent",rue=E.forwardRef((t,e)=>{const n=CV(x1,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=ja(x1,t.__scopeDialog);return E.createElement(Nc,{present:r||o.open},o.modal?E.createElement(iue,$t({},i,{ref:e})):E.createElement(oue,$t({},i,{ref:e})))}),iue=E.forwardRef((t,e)=>{const n=ja(x1,t.__scopeDialog),r=E.useRef(null),i=Lo(e,n.contentRef,r);return E.useEffect(()=>{const o=r.current;if(o)return Wce(o)},[]),E.createElement(MV,$t({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vr(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:vr(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:vr(t.onFocusOutside,o=>o.preventDefault())}))}),oue=E.forwardRef((t,e)=>{const n=ja(x1,t.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return E.createElement(MV,$t({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=t.onCloseAutoFocus)===null||s===void 0||s.call(t,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=t.onInteractOutside)===null||s===void 0||s.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),MV=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=ja(x1,n),l=E.useRef(null),c=Lo(e,l);return lce(),E.createElement(E.Fragment,null,E.createElement(Zle,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},E.createElement(Xle,$t({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":nT(a.open)},s,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),sue="DialogTitle",aue=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ja(sue,n);return E.createElement(fi.h2,$t({id:i.titleId},r,{ref:e}))}),lue="DialogDescription",cue=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ja(lue,n);return E.createElement(fi.p,$t({id:i.descriptionId},r,{ref:e}))}),uue="DialogClose",due=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ja(uue,n);return E.createElement(fi.button,$t({type:"button"},r,{ref:e,onClick:vr(t.onClick,()=>i.onOpenChange(!1))}))});function nT(t){return t?"open":"closed"}const hue=Jce,fue=Zce,pue=eue,mue=tue,gue=rue,yue=aue,vue=cue,bue=due;function xue(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const EV=re.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,handleOnly:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),q3=()=>{const t=re.useContext(EV);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};xue("[vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-handle]{display:block;position:relative;opacity:.8;margin-left:auto;margin-right:auto;height:5px;width:56px;border-radius:1rem;touch-action:pan-y;cursor:grab}[vaul-handle]:active,[vaul-handle]:hover{opacity:1}[vaul-handle]:active{cursor:grabbing}[vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=false]){opacity:1}@media (hover:hover) and (pointer:fine){[vaul-drawer]{user-select:none}}@media (pointer:fine){[vaul-handle-hitarea]:{width:100%;height:100%}}");const _ue=typeof window<"u"?E.useLayoutEffect:E.useEffect;function J5(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}function wue(){return rT(/^Mac/)}function Sue(){return rT(/^iPhone/)}function Aue(){return rT(/^iPad/)||wue()&&navigator.maxTouchPoints>1}function kV(){return Sue()||Aue()}function rT(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const OC=typeof document<"u"&&window.visualViewport;function CN(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function TV(t){for(CN(t)&&(t=t.parentElement);t&&!CN(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Cue=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Zx=0,FC;function Mue(t={}){let{isDisabled:e}=t;_ue(()=>{if(!e)return Zx++,Zx===1&&(kV()?FC=kue():FC=Eue()),()=>{Zx--,Zx===0&&FC()}},[e])}function Eue(){return J5(DV(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function kue(){let t,e=0,n=d=>{t=TV(d.target),!(t===document.documentElement&&t===document.body)&&(e=d.changedTouches[0].pageY)},r=d=>{if(!t||t===document.documentElement||t===document.body){d.preventDefault();return}let h=d.changedTouches[0].pageY,f=t.scrollTop,p=t.scrollHeight-t.clientHeight;p!==0&&((f<=0&&h>e||f>=p&&h<e)&&d.preventDefault(),e=h)},i=d=>{let h=d.target;Y5(h)&&h!==document.activeElement&&(d.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},o=d=>{let h=d.target;Y5(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",OC&&(OC.height<window.innerHeight?requestAnimationFrame(()=>{MN(h)}):OC.addEventListener("resize",()=>MN(h),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,c=J5(DV(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=J5(Ag(document,"touchstart",n,{passive:!1,capture:!0}),Ag(document,"touchmove",r,{passive:!1,capture:!0}),Ag(document,"touchend",i,{passive:!1,capture:!0}),Ag(document,"focus",o,!0),Ag(window,"scroll",s));return()=>{c(),u(),window.scrollTo(a,l)}}function DV(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function Ag(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function MN(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=TV(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,i=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const s=n.getBoundingClientRect().bottom;o>s&&(n.scrollTop+=i-r)}t=n.parentElement}}function Y5(t){return t instanceof HTMLInputElement&&!Cue.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Tue(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Due(...t){return e=>t.forEach(n=>Tue(n,e))}function LV(...t){return E.useCallback(Due(...t),t)}let Cg=null;function Lue({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:o}){const[s,a]=re.useState(()=>typeof window<"u"?window.location.href:""),l=re.useRef(0),c=re.useCallback(()=>{if(Cg===null&&t&&!o){Cg={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const f=h-window.innerHeight;f&&l.current>=h&&(document.body.style.top=`${-(l.current+f)}px`)}),300)}},[t]),u=re.useCallback(()=>{if(Cg!==null&&!o){const d=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Cg),window.requestAnimationFrame(()=>{if(i&&s!==window.location.href){a(window.location.href);return}window.scrollTo(h,d)}),Cg=null}},[s]);return re.useEffect(()=>{function d(){l.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),re.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&c(),e||window.setTimeout(()=>{u()},500)):u())},[t,r,s,e,n,c,u]),{restorePositionSetting:u}}const RV=new WeakMap;function or(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([i,o])=>{if(i.startsWith("--")){t.style.setProperty(i,o);return}r[i]=t.style[i],t.style[i]=o}),!n&&RV.set(t,r)}function Qx(t,e){if(!t||!(t instanceof HTMLElement))return;let n=RV.get(t);n&&(e?t.style[e]=n[e]:Object.entries(n).forEach(([r,i])=>{t.style[r]=i}))}const Jr=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function e2(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Jr(e)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Jr(e)?5:4]):null)}function Rue(t){return 8*(Math.log(t+1)-2)}const Wn={DURATION:.5,EASE:[.32,.72,0,1]},BV=.4;function PV(t){const e=re.useRef(t);return re.useEffect(()=>{e.current=t}),re.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function Bue({defaultProp:t,onChange:e}){const n=re.useState(t),[r]=n,i=re.useRef(r),o=PV(e);return re.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function Pue({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Bue({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=PV(n),l=re.useCallback(c=>{if(o){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[o,t,i,a]);return[s,l]}function Nue({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:o,onSnapPointChange:s,direction:a="bottom"}){const[l,c]=Pue({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),u=re.useMemo(()=>l===(n==null?void 0:n[n.length-1])||null,[n,l]),d=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===l||!n,h=re.useMemo(()=>n==null?void 0:n.findIndex(w=>w===l),[n,l]),f=re.useMemo(()=>{var w;return(w=n==null?void 0:n.map(A=>{const D=typeof window<"u",k=typeof A=="string";let R=0;if(k&&(R=parseInt(A,10)),Jr(a)){const T=k?R:D?A*window.innerHeight:0;return D?a==="bottom"?window.innerHeight-T:-window.innerHeight+T:T}const L=k?R:D?A*window.innerWidth:0;return D?a==="right"?window.innerWidth-L:-window.innerWidth+L:L}))!=null?w:[]},[n]),p=re.useMemo(()=>h!==null?f==null?void 0:f[h]:null,[f,h]),v=re.useCallback(w=>{var A;const D=(A=f==null?void 0:f.findIndex(k=>k===w))!=null?A:null;s(D),or(r.current,{transition:`transform ${Wn.DURATION}s cubic-bezier(${Wn.EASE.join(",")})`,transform:Jr(a)?`translate3d(0, ${w}px, 0)`:`translate3d(${w}px, 0, 0)`}),f&&D!==f.length-1&&D!==o?or(i.current,{transition:`opacity ${Wn.DURATION}s cubic-bezier(${Wn.EASE.join(",")})`,opacity:"0"}):or(i.current,{transition:`opacity ${Wn.DURATION}s cubic-bezier(${Wn.EASE.join(",")})`,opacity:"1"}),c(D!==null?n==null?void 0:n[D]:null)},[r.current,n,f,o,i,c]);re.useEffect(()=>{if(l||t){var w;const A=(w=n==null?void 0:n.findIndex(D=>D===t||D===l))!=null?w:-1;f&&A!==-1&&typeof f[A]=="number"&&v(f[A])}},[l,t,n,f,v]);function b({draggedDistance:w,closeDrawer:A,velocity:D,dismissible:k}){if(o===void 0)return;const R=a==="bottom"||a==="right"?(p??0)-w:(p??0)+w,L=h===o-1,T=h===0,C=w>0;if(L&&or(i.current,{transition:`opacity ${Wn.DURATION}s cubic-bezier(${Wn.EASE.join(",")})`}),D>2&&!C){k?A():v(f[0]);return}if(D>2&&C&&f&&n){v(f[n.length-1]);return}const P=f==null?void 0:f.reduce((H,$)=>typeof H!="number"||typeof $!="number"?H:Math.abs($-R)<Math.abs(H-R)?$:H),z=Jr(a)?window.innerHeight:window.innerWidth;if(D>BV&&Math.abs(w)<z*.4){const H=C?1:-1;if(H>0&&u){v(f[n.length-1]);return}if(T&&H<0&&k&&A(),h===null)return;v(f[h+H]);return}v(P)}function y({draggedDistance:w}){if(p===null)return;const A=a==="bottom"||a==="right"?p-w:p+w;(a==="bottom"||a==="right")&&A<f[f.length-1]||(a==="top"||a==="left")&&A>f[f.length-1]||or(r.current,{transform:Jr(a)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`})}function x(w,A){if(!n||typeof h!="number"||!f||o===void 0)return null;const D=h===o-1;if(h>=o&&A)return 0;if(D&&!A)return 1;if(!d&&!D)return null;const R=D?h+1:h-1,L=D?f[R]-f[R-1]:f[R+1]-f[R],T=w/Math.abs(L);return D?1-T:T}return{isLastSnapPoint:u,activeSnapPoint:l,shouldFade:d,getPercentageDragged:x,setActiveSnapPoint:c,activeSnapPointIndex:h,onRelease:b,onDrag:y,snapPointsOffset:f}}const Iue=.25,Oue=100,EN=8,Ud=16,kN=26,zC="vaul-dragging";function NV({open:t,onOpenChange:e,children:n,shouldScaleBackground:r,onDrag:i,onRelease:o,snapPoints:s,nested:a=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=Iue,scrollLockTimeout:u=Oue,dismissible:d=!0,handleOnly:h=!1,fadeFromIndex:f=s&&s.length-1,activeSnapPoint:p,setActiveSnapPoint:v,fixed:b,modal:y=!0,onClose:x,noBodyStyles:w,direction:A="bottom",preventScrollRestoration:D=!0,disablePreventScroll:k=!1}){var R;const[L=!1,T]=re.useState(!1),[C,P]=re.useState(!1),[z,H]=re.useState(!1),[$,X]=re.useState(!1),[Z,K]=re.useState(!1),[O,V]=re.useState(!1),I=re.useRef(null),se=re.useRef(null),ye=re.useRef(null),G=re.useRef(null),ae=re.useRef(null),_e=re.useRef(!1),ve=re.useRef(null),Ae=re.useRef(0),Ve=re.useRef(!1),pt=re.useRef(0),ke=re.useRef(null),ee=re.useRef(((R=ke.current)==null?void 0:R.getBoundingClientRect().height)||0),le=re.useRef(0),xe=re.useCallback(te=>{s&&te===Je.length-1&&(se.current=new Date)},[]),{activeSnapPoint:Fe,activeSnapPointIndex:Be,setActiveSnapPoint:Re,onRelease:Ze,snapPointsOffset:Je,onDrag:_t,shouldFade:Q,getPercentageDragged:U}=Nue({snapPoints:s,activeSnapPointProp:p,setActiveSnapPointProp:v,drawerRef:ke,fadeFromIndex:f,overlayRef:I,onSnapPointChange:xe,direction:A});Mue({isDisabled:!L||Z||!y||O||!C||k});const{restorePositionSetting:pe}=Lue({isOpen:L,modal:y,nested:a,hasBeenOpened:C,preventScrollRestoration:D,noBodyStyles:w});function Te(){return(window.innerWidth-kN)/window.innerWidth}function Oe(te){var ge;!d&&!s||ke.current&&!ke.current.contains(te.target)||(ee.current=((ge=ke.current)==null?void 0:ge.getBoundingClientRect().height)||0,K(!0),ye.current=new Date,kV()&&window.addEventListener("touchend",()=>_e.current=!1,{once:!0}),te.target.setPointerCapture(te.pointerId),Ae.current=Jr(A)?te.clientY:te.clientX)}function Ge(te,ge){var We;let J=te;const He=(We=window.getSelection())==null?void 0:We.toString(),Se=ke.current?e2(ke.current,A):null,Ce=new Date;if(J.hasAttribute("data-vaul-no-drag")||J.closest("[data-vaul-no-drag]"))return!1;if(A==="right"||A==="left")return!0;if(se.current&&Ce.getTime()-se.current.getTime()<500)return!1;if(Se!==null&&(A==="bottom"?Se>0:Se<0))return!0;if(He&&He.length>0)return!1;if(ae.current&&Ce.getTime()-ae.current.getTime()<u&&Se===0||ge)return ae.current=Ce,!1;for(;J;){if(J.scrollHeight>J.clientHeight){if(J.scrollTop!==0)return ae.current=new Date,!1;if(J.getAttribute("role")==="dialog")return!0}J=J.parentNode}return!0}function ce(te){if(ke.current&&Z){const ge=A==="bottom"||A==="right"?1:-1,We=(Ae.current-(Jr(A)?te.clientY:te.clientX))*ge,J=We>0,He=s&&!d&&!J;if(He&&Be===0)return;const Se=Math.abs(We),Ce=document.querySelector("[vaul-drawer-wrapper]");let qe=Se/ee.current;const F=U(Se,J);if(F!==null&&(qe=F),He&&qe>=1||!_e.current&&!Ge(te.target,J))return;if(ke.current.classList.add(zC),_e.current=!0,or(ke.current,{transition:"none"}),or(I.current,{transition:"none"}),s&&_t({draggedDistance:We}),J&&!s){const Y=Rue(We),he=Math.min(Y*-1,0)*ge;or(ke.current,{transform:Jr(A)?`translate3d(0, ${he}px, 0)`:`translate3d(${he}px, 0, 0)`});return}const j=1-qe;if((Q||f&&Be===f-1)&&(i==null||i(te,qe),or(I.current,{opacity:`${j}`,transition:"none"},!0)),Ce&&I.current&&r){const Y=Math.min(Te()+qe*(1-Te()),1),he=8-qe*8,je=Math.max(0,14-qe*14);or(Ce,{borderRadius:`${he}px`,transform:Jr(A)?`scale(${Y}) translate3d(0, ${je}px, 0)`:`scale(${Y}) translate3d(${je}px, 0, 0)`,transition:"none"},!0)}if(!s){const Y=Se*ge;or(ke.current,{transform:Jr(A)?`translate3d(0, ${Y}px, 0)`:`translate3d(${Y}px, 0, 0)`})}}}re.useEffect(()=>()=>{et(!1),pe()},[]),re.useEffect(()=>{var te;function ge(){if(!ke.current)return;const We=document.activeElement;if(Y5(We)||Ve.current){var J;const He=((J=window.visualViewport)==null?void 0:J.height)||0;let Se=window.innerHeight-He;const Ce=ke.current.getBoundingClientRect().height||0;le.current||(le.current=Ce);const qe=ke.current.getBoundingClientRect().top;if(Math.abs(pt.current-Se)>60&&(Ve.current=!Ve.current),s&&s.length>0&&Je&&Be){const F=Je[Be]||0;Se+=F}if(pt.current=Se,Ce>He||Ve.current){const F=ke.current.getBoundingClientRect().height;let j=F;F>He&&(j=He-kN),b?ke.current.style.height=`${F-Math.max(Se,0)}px`:ke.current.style.height=`${Math.max(j,He-qe)}px`}else ke.current.style.height=`${le.current}px`;s&&s.length>0&&!Ve.current?ke.current.style.bottom="0px":ke.current.style.bottom=`${Math.max(Se,0)}px`}}return(te=window.visualViewport)==null||te.addEventListener("resize",ge),()=>{var We;return(We=window.visualViewport)==null?void 0:We.removeEventListener("resize",ge)}},[Be,s,Je]);function de(){ke.current&&(Qe(),x==null||x(),or(ke.current,{transform:Jr(A)?`translate3d(0, ${A==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${A==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${Wn.DURATION}s cubic-bezier(${Wn.EASE.join(",")})`}),or(I.current,{opacity:"0",transition:`opacity ${Wn.DURATION}s cubic-bezier(${Wn.EASE.join(",")})`}),et(!1),setTimeout(()=>{H(!1),T(!1)},300),setTimeout(()=>{s&&Re(s[0])},Wn.DURATION*1e3))}re.useEffect(()=>{if(!L&&r){const te=setTimeout(()=>{Qx(document.body)},200);return()=>clearTimeout(te)}},[L,r]),re.useLayoutEffect(()=>{t?(T(!0),P(!0)):de()},[t]),re.useEffect(()=>{$&&(e==null||e(L))},[L]),re.useEffect(()=>{X(!0)},[]);function De(){if(!ke.current)return;const te=document.querySelector("[vaul-drawer-wrapper]"),ge=e2(ke.current,A);or(ke.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Wn.DURATION}s cubic-bezier(${Wn.EASE.join(",")})`}),or(I.current,{transition:`opacity ${Wn.DURATION}s cubic-bezier(${Wn.EASE.join(",")})`,opacity:"1"}),r&&ge&&ge>0&&L&&or(te,{borderRadius:`${EN}px`,overflow:"hidden",...Jr(A)?{transform:`scale(${Te()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Te()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Wn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Wn.EASE.join(",")})`},!0)}function Qe(){!Z||!ke.current||(ke.current.classList.remove(zC),_e.current=!1,K(!1),G.current=new Date)}function Ie(te){if(!Z||!ke.current)return;ke.current.classList.remove(zC),_e.current=!1,K(!1),G.current=new Date;const ge=e2(ke.current,A);if(!Ge(te.target,!1)||!ge||Number.isNaN(ge)||ye.current===null)return;const We=G.current.getTime()-ye.current.getTime(),J=Ae.current-(Jr(A)?te.clientY:te.clientX),He=Math.abs(J)/We;if(He>.05&&(V(!0),setTimeout(()=>{V(!1)},200)),s){Ze({draggedDistance:J*(A==="bottom"||A==="right"?1:-1),closeDrawer:de,velocity:He,dismissible:d}),o==null||o(te,!0);return}if(A==="bottom"||A==="right"?J>0:J<0){De(),o==null||o(te,!0);return}if(He>BV){de(),o==null||o(te,!1);return}var Se;const Ce=Math.min((Se=ke.current.getBoundingClientRect().height)!=null?Se:0,window.innerHeight);if(ge>=Ce*c){de(),o==null||o(te,!1);return}o==null||o(te,!0),De()}re.useEffect(()=>{L&&(or(document.documentElement,{scrollBehavior:"auto"}),se.current=new Date,et(!0))},[L]),re.useEffect(()=>{if(ke.current&&z){var te;const ge=ke==null||(te=ke.current)==null?void 0:te.querySelectorAll("*");ge==null||ge.forEach(We=>{const J=We;(J.scrollHeight>J.clientHeight||J.scrollWidth>J.clientWidth)&&J.classList.add("vaul-scrollable")})}},[z]);function et(te){const ge=document.querySelector("[vaul-drawer-wrapper]");!ge||!r||(te?(l&&(w||(or(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),or(document.body,{background:"black"},!0))),or(ge,{borderRadius:`${EN}px`,overflow:"hidden",...Jr(A)?{transform:`scale(${Te()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Te()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Wn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Wn.EASE.join(",")})`})):(Qx(ge,"overflow"),Qx(ge,"transform"),Qx(ge,"borderRadius"),or(ge,{transitionProperty:"transform, border-radius",transitionDuration:`${Wn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Wn.EASE.join(",")})`})))}function kt(te){const ge=te?(window.innerWidth-Ud)/window.innerWidth:1,We=te?-Ud:0;ve.current&&window.clearTimeout(ve.current),or(ke.current,{transition:`transform ${Wn.DURATION}s cubic-bezier(${Wn.EASE.join(",")})`,transform:`scale(${ge}) translate3d(0, ${We}px, 0)`}),!te&&ke.current&&(ve.current=setTimeout(()=>{const J=e2(ke.current,A);or(ke.current,{transition:"none",transform:Jr(A)?`translate3d(0, ${J}px, 0)`:`translate3d(${J}px, 0, 0)`})},500))}function vt(te,ge){if(ge<0)return;const We=Jr(A)?window.innerHeight:window.innerWidth,J=(We-Ud)/We,He=J+ge*(1-J),Se=-Ud+ge*Ud;or(ke.current,{transform:Jr(A)?`scale(${He}) translate3d(0, ${Se}px, 0)`:`scale(${He}) translate3d(${Se}px, 0, 0)`,transition:"none"})}function rt(te,ge){const We=Jr(A)?window.innerHeight:window.innerWidth,J=ge?(We-Ud)/We:1,He=ge?-Ud:0;ge&&or(ke.current,{transition:`transform ${Wn.DURATION}s cubic-bezier(${Wn.EASE.join(",")})`,transform:Jr(A)?`scale(${J}) translate3d(0, ${He}px, 0)`:`scale(${J}) translate3d(${He}px, 0, 0)`})}return re.createElement(hue,{modal:y,onOpenChange:te=>{if(t!==void 0){e==null||e(te);return}te?(P(!0),T(te)):de()},open:L},re.createElement(EV.Provider,{value:{visible:z,activeSnapPoint:Fe,snapPoints:s,setActiveSnapPoint:Re,drawerRef:ke,overlayRef:I,scaleBackground:et,onOpenChange:e,onPress:Oe,setVisible:H,onRelease:Ie,onDrag:ce,dismissible:d,handleOnly:h,isOpen:L,isDragging:Z,shouldFade:Q,closeDrawer:de,onNestedDrag:vt,onNestedOpenChange:kt,onNestedRelease:rt,keyboardIsOpen:Ve,openProp:t,modal:y,snapPointsOffset:Je,direction:A}},n))}const Fue=250,zue=120,IV=re.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{visible:i,closeDrawer:o,isDragging:s,snapPoints:a,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,onPress:h,onDrag:f}=q3(),p=re.useRef(null),v=re.useRef(!1);function b(){if(v.current){w();return}window.setTimeout(()=>{y()},zue)}function y(){if(s||t||v.current){w();return}if(w(),(!a||a.length===0)&&u){o();return}if(l===a[a.length-1]&&u){o();return}const D=a.findIndex(R=>R===l);if(D===-1)return;const k=a[D+1];c(k)}function x(){p.current=window.setTimeout(()=>{v.current=!0},Fue)}function w(){window.clearTimeout(p.current),v.current=!1}return re.createElement("div",{onClick:b,onDoubleClick:()=>{v.current=!0,o()},onPointerCancel:w,onPointerDown:A=>{d&&h(A),x()},onPointerMove:A=>{d&&f(A)},ref:r,"vaul-drawer-visible":i?"true":"false","vaul-handle":"","aria-hidden":"true",...n},re.createElement("span",{"vaul-handle-hitarea":"","aria-hidden":"true"},e))});IV.displayName="Drawer.Handle";const OV=re.forwardRef(function({children:t,...e},n){const{overlayRef:r,snapPoints:i,onRelease:o,shouldFade:s,isOpen:a,visible:l}=q3(),c=LV(n,r),u=i&&i.length>0;return re.createElement(mue,{onMouseUp:o,ref:c,"vaul-drawer-visible":l?"true":"false","vaul-overlay":"","vaul-snap-points":a&&u?"true":"false","vaul-snap-points-overlay":a&&s?"true":"false",...e})});OV.displayName="Drawer.Overlay";const FV=re.forwardRef(function({onOpenAutoFocus:t,onPointerDownOutside:e,onAnimationEnd:n,style:r,...i},o){const{drawerRef:s,onPress:a,onRelease:l,onDrag:c,dismissible:u,keyboardIsOpen:d,snapPointsOffset:h,visible:f,closeDrawer:p,modal:v,openProp:b,onOpenChange:y,setVisible:x,handleOnly:w,direction:A}=q3(),D=LV(o,s),k=re.useRef(null),R=re.useRef(!1),L=(T,C,P=0)=>{if(R.current)return!0;const z=Math.abs(T.y),H=Math.abs(T.x),$=H>z,X=["bottom","right"].includes(C)?1:-1;if(C==="left"||C==="right"){if(!(T.x*X<0)&&H>=0&&H<=P)return $}else if(!(T.y*X<0)&&z>=0&&z<=P)return!$;return R.current=!0,!0};return re.useEffect(()=>{x(!0)},[]),re.createElement(gue,{"vaul-drawer":"","vaul-drawer-direction":A,"vaul-drawer-visible":f?"true":"false",...i,ref:D,style:h&&h.length>0?{"--snap-point-height":`${h[0]}px`,...r}:r,onOpenAutoFocus:T=>{if(t)t(T);else{var C;T.preventDefault(),(C=s.current)==null||C.focus()}},onPointerDown:T=>{w||(i.onPointerDown==null||i.onPointerDown.call(i,T),k.current={x:T.clientX,y:T.clientY},a(T))},onPointerDownOutside:T=>{if(e==null||e(T),!v||T.defaultPrevented){T.preventDefault();return}d.current&&(d.current=!1),T.preventDefault(),y==null||y(!1),!(!u||b!==void 0)&&p()},onFocusOutside:T=>{if(!v){T.preventDefault();return}},onEscapeKeyDown:T=>{if(!v){T.preventDefault();return}},onPointerMove:T=>{if(w||(i.onPointerMove==null||i.onPointerMove.call(i,T),!k.current))return;const C=T.clientY-k.current.y,P=T.clientX-k.current.x,z=T.pointerType==="touch"?10:2;L({x:P,y:C},A,z)?c(T):(Math.abs(P)>z||Math.abs(C)>z)&&(k.current=null)},onPointerUp:T=>{i.onPointerUp==null||i.onPointerUp.call(i,T),k.current=null,R.current=!1,l(T)}})});FV.displayName="Drawer.Content";function Uue({onDrag:t,onOpenChange:e,...n}){const{onNestedDrag:r,onNestedOpenChange:i,onNestedRelease:o}=q3();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return re.createElement(NV,{nested:!0,onClose:()=>{i(!1)},onDrag:(s,a)=>{r(s,a),t==null||t(s,a)},onOpenChange:s=>{s&&i(s),e==null||e(s)},onRelease:o,...n})}const Dl={Root:NV,NestedRoot:Uue,Content:FV,Handle:IV,Overlay:OV,Trigger:fue,Portal:pue,Close:bue,Title:yue,Description:vue},zV=({shouldScaleBackground:t=!0,...e})=>_.jsx(Dl.Root,{shouldScaleBackground:t,...e});zV.displayName="Drawer";const jue=Dl.Trigger,Hue=Dl.Portal,UV=E.forwardRef(({className:t,...e},n)=>_.jsx(Dl.Overlay,{ref:n,className:ie("fixed inset-0 z-50 bg-black/80",t),...e}));UV.displayName=Dl.Overlay.displayName;const jV=E.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(Hue,{children:[_.jsx(UV,{}),_.jsxs(Dl.Content,{ref:r,className:ie("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[_.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));jV.displayName="DrawerContent";const $ue=E.forwardRef(({className:t,...e},n)=>_.jsx(Dl.Title,{ref:n,className:ie("text-lg font-semibold leading-none tracking-tight",t),...e}));$ue.displayName=Dl.Title.displayName;const Gue=E.forwardRef(({className:t,...e},n)=>_.jsx(Dl.Description,{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));Gue.displayName=Dl.Description.displayName;function Vue(t){const e=t+"CollectionProvider",[n,r]=nv(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=f=>{const{scope:p,children:v}=f,b=re.useRef(null),y=re.useRef(new Map).current;return re.createElement(i,{scope:p,itemMap:y,collectionRef:b},v)},a=t+"CollectionSlot",l=re.forwardRef((f,p)=>{const{scope:v,children:b}=f,y=o(a,v),x=Lo(p,y.collectionRef);return re.createElement(tf,{ref:x},b)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",d=re.forwardRef((f,p)=>{const{scope:v,children:b,...y}=f,x=re.useRef(null),w=Lo(p,x),A=o(c,v);return re.useEffect(()=>(A.itemMap.set(x,{ref:x,...y}),()=>void A.itemMap.delete(x))),re.createElement(tf,{[u]:"",ref:w},b)});function h(f){const p=o(t+"CollectionConsumer",f);return re.useCallback(()=>{const b=p.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((A,D)=>y.indexOf(A.ref.current)-y.indexOf(D.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},h,r]}const que=E.createContext(void 0);function iT(t){const e=E.useContext(que);return t||e||"ltr"}const UC="rovingFocusGroup.onEntryFocus",Kue={bubbles:!1,cancelable:!0},oT="RovingFocusGroup",[Z5,HV,Wue]=Vue(oT),[Xue,$V]=nv(oT,[Wue]),[Jue,Yue]=Xue(oT),Zue=E.forwardRef((t,e)=>E.createElement(Z5.Provider,{scope:t.__scopeRovingFocusGroup},E.createElement(Z5.Slot,{scope:t.__scopeRovingFocusGroup},E.createElement(Que,$t({},t,{ref:e}))))),Que=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...u}=t,d=E.useRef(null),h=Lo(e,d),f=iT(o),[p=null,v]=tT({prop:s,defaultProp:a,onChange:l}),[b,y]=E.useState(!1),x=wo(c),w=HV(n),A=E.useRef(!1),[D,k]=E.useState(0);return E.useEffect(()=>{const R=d.current;if(R)return R.addEventListener(UC,x),()=>R.removeEventListener(UC,x)},[x]),E.createElement(Jue,{scope:n,orientation:r,dir:f,loop:i,currentTabStopId:p,onItemFocus:E.useCallback(R=>v(R),[v]),onItemShiftTab:E.useCallback(()=>y(!0),[]),onFocusableItemAdd:E.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:E.useCallback(()=>k(R=>R-1),[])},E.createElement(fi.div,$t({tabIndex:b||D===0?-1:0,"data-orientation":r},u,{ref:h,style:{outline:"none",...t.style},onMouseDown:vr(t.onMouseDown,()=>{A.current=!0}),onFocus:vr(t.onFocus,R=>{const L=!A.current;if(R.target===R.currentTarget&&L&&!b){const T=new CustomEvent(UC,Kue);if(R.currentTarget.dispatchEvent(T),!T.defaultPrevented){const C=w().filter(X=>X.focusable),P=C.find(X=>X.active),z=C.find(X=>X.id===p),$=[P,z,...C].filter(Boolean).map(X=>X.ref.current);GV($)}}A.current=!1}),onBlur:vr(t.onBlur,()=>y(!1))})))}),ede="RovingFocusGroupItem",tde=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=Ty(),l=o||a,c=Yue(ede,n),u=c.currentTabStopId===l,d=HV(n),{onFocusableItemAdd:h,onFocusableItemRemove:f}=c;return E.useEffect(()=>{if(r)return h(),()=>f()},[r,h,f]),E.createElement(Z5.ItemSlot,{scope:n,id:l,focusable:r,active:i},E.createElement(fi.span,$t({tabIndex:u?0:-1,"data-orientation":c.orientation},s,{ref:e,onMouseDown:vr(t.onMouseDown,p=>{r?c.onItemFocus(l):p.preventDefault()}),onFocus:vr(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:vr(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const v=ide(p,c.orientation,c.dir);if(v!==void 0){p.preventDefault();let y=d().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const x=y.indexOf(p.currentTarget);y=c.loop?ode(y,x+1):y.slice(x+1)}setTimeout(()=>GV(y))}})})))}),nde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rde(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ide(t,e,n){const r=rde(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return nde[r]}function GV(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function ode(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const sde=Zue,ade=tde,VV="Tabs",[lde,X6e]=nv(VV,[$V]),qV=$V(),[cde,sT]=lde(VV),ude=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=iT(a),[d,h]=tT({prop:r,onChange:i,defaultProp:o});return E.createElement(cde,{scope:n,baseId:Ty(),value:d,onValueChange:h,orientation:s,dir:u,activationMode:l},E.createElement(fi.div,$t({dir:u,"data-orientation":s},c,{ref:e})))}),dde="TabsList",hde=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=sT(dde,n),s=qV(n);return E.createElement(sde,$t({asChild:!0},s,{orientation:o.orientation,dir:o.dir,loop:r}),E.createElement(fi.div,$t({role:"tablist","aria-orientation":o.orientation},i,{ref:e})))}),fde="TabsTrigger",pde=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=sT(fde,n),a=qV(n),l=KV(s.baseId,r),c=WV(s.baseId,r),u=r===s.value;return E.createElement(ade,$t({asChild:!0},a,{focusable:!i,active:u}),E.createElement(fi.button,$t({type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l},o,{ref:e,onMouseDown:vr(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?s.onValueChange(r):d.preventDefault()}),onKeyDown:vr(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(r)}),onFocus:vr(t.onFocus,()=>{const d=s.activationMode!=="manual";!u&&!i&&d&&s.onValueChange(r)})})))}),mde="TabsContent",gde=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=sT(mde,n),l=KV(a.baseId,r),c=WV(a.baseId,r),u=r===a.value,d=E.useRef(u);return E.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),E.createElement(Nc,{present:i||u},({present:h})=>E.createElement(fi.div,$t({"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0},s,{ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0}}),h&&o))});function KV(t,e){return`${t}-trigger-${e}`}function WV(t,e){return`${t}-content-${e}`}const yde=ude,XV=hde,JV=pde,YV=gde,vde=yde,ZV=E.forwardRef(({className:t,...e},n)=>_.jsx(XV,{ref:n,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ZV.displayName=XV.displayName;const Mu=E.forwardRef(({className:t,...e},n)=>_.jsx(JV,{ref:n,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Mu.displayName=JV.displayName;const Eu=E.forwardRef(({className:t,...e},n)=>_.jsx(YV,{ref:n,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Eu.displayName=YV.displayName;/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const rv="165",ah={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},lh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},QV=0,Q5=1,eq=2,bde=3,tq=0,K3=1,Dy=2,wa=3,kl=0,To=1,Ea=2,yc=0,Uh=1,e6=2,t6=3,n6=4,nq=5,Nu=100,rq=101,iq=102,oq=103,sq=104,aq=200,lq=201,cq=202,uq=203,Gw=204,Vw=205,dq=206,hq=207,fq=208,pq=209,mq=210,gq=211,yq=212,vq=213,bq=214,xq=0,_q=1,wq=2,_1=3,Sq=4,Aq=5,Cq=6,Mq=7,iv=0,Eq=1,kq=2,Al=0,Tq=1,Dq=2,Lq=3,aT=4,Rq=5,Bq=6,Pq=7,r6="attached",Nq="detached",W3=300,Tc=301,id=302,w1=303,S1=304,y0=306,od=1e3,gs=1001,Qm=1002,ci=1003,X3=1004,xde=1004,Mh=1005,_de=1005,Pr=1006,Sm=1007,wde=1007,Zs=1008,Sde=1008,Tl=1009,Iq=1010,Oq=1011,A1=1012,lT=1013,nf=1014,ys=1015,ov=1016,cT=1017,uT=1018,rf=1020,Fq=35902,zq=1021,Uq=1022,Co=1023,jq=1024,Hq=1025,jh=1026,of=1027,dT=1028,hT=1029,$q=1030,fT=1031,pT=1033,D_=33776,L_=33777,R_=33778,B_=33779,i6=35840,o6=35841,s6=35842,a6=35843,l6=36196,c6=37492,u6=37496,d6=37808,h6=37809,f6=37810,p6=37811,m6=37812,g6=37813,y6=37814,v6=37815,b6=37816,x6=37817,_6=37818,w6=37819,S6=37820,A6=37821,P_=36492,C6=36494,M6=36495,Gq=36283,E6=36284,k6=36285,T6=36286,Vq=2200,qq=2201,Kq=2202,e0=2300,t0=2301,N_=2302,Eh=2400,kh=2401,C1=2402,J3=2500,mT=2501,Wq=0,gT=1,qw=2,Xq=3200,Jq=3201,hd=0,Yq=1,uc="",Vs="srgb",Ic="srgb-linear",Y3="display-p3",sv="display-p3-linear",M1="linear",Zn="srgb",E1="rec709",k1="p3",Ade=0,ch=7680,Cde=7681,Mde=7682,Ede=7683,kde=34055,Tde=34056,Dde=5386,Lde=512,Rde=513,Bde=514,Pde=515,Nde=516,Ide=517,Ode=518,D6=519,Zq=512,Qq=513,eK=514,yT=515,tK=516,nK=517,rK=518,iK=519,T1=35044,Fde=35048,zde=35040,Ude=35045,jde=35049,Hde=35041,$de=35046,Gde=35050,Vde=35042,qde="100",L6="300 es",xl=2e3,D1=2001;class Ll{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const Xi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let TN=1234567;const Hh=Math.PI/180,n0=180/Math.PI;function xs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Xi[t&255]+Xi[t>>8&255]+Xi[t>>16&255]+Xi[t>>24&255]+"-"+Xi[e&255]+Xi[e>>8&255]+"-"+Xi[e>>16&15|64]+Xi[e>>24&255]+"-"+Xi[n&63|128]+Xi[n>>8&255]+"-"+Xi[n>>16&255]+Xi[n>>24&255]+Xi[r&255]+Xi[r>>8&255]+Xi[r>>16&255]+Xi[r>>24&255]).toLowerCase()}function Br(t,e,n){return Math.max(e,Math.min(n,t))}function vT(t,e){return(t%e+e)%e}function Kde(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Wde(t,e,n){return t!==e?(n-t)/(e-t):0}function Ly(t,e,n){return(1-n)*t+n*e}function Xde(t,e,n,r){return Ly(t,e,1-Math.exp(-n*r))}function Jde(t,e=1){return e-Math.abs(vT(t,e*2)-e)}function Yde(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Zde(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Qde(t,e){return t+Math.floor(Math.random()*(e-t+1))}function ehe(t,e){return t+Math.random()*(e-t)}function the(t){return t*(.5-Math.random())}function nhe(t){t!==void 0&&(TN=t);let e=TN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function rhe(t){return t*Hh}function ihe(t){return t*n0}function ohe(t){return(t&t-1)===0&&t!==0}function she(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function ahe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function lhe(t,e,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((e+r)/2),u=s((e+r)/2),d=o((e-r)/2),h=s((e-r)/2),f=o((r-e)/2),p=s((r-e)/2);switch(i){case"XYX":t.set(a*u,l*d,l*h,a*c);break;case"YZY":t.set(l*h,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*h,a*u,a*c);break;case"XZX":t.set(a*u,l*p,l*f,a*c);break;case"YXY":t.set(l*f,a*u,l*p,a*c);break;case"ZYZ":t.set(l*p,l*f,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function So(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function en(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const oK={DEG2RAD:Hh,RAD2DEG:n0,generateUUID:xs,clamp:Br,euclideanModulo:vT,mapLinear:Kde,inverseLerp:Wde,lerp:Ly,damp:Xde,pingpong:Jde,smoothstep:Yde,smootherstep:Zde,randInt:Qde,randFloat:ehe,randFloatSpread:the,seededRandom:nhe,degToRad:rhe,radToDeg:ihe,isPowerOfTwo:ohe,ceilPowerOfTwo:she,floorPowerOfTwo:ahe,setQuaternionFromProperEuler:lhe,normalize:en,denormalize:So};class $e{constructor(e=0,n=0){$e.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Br(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Qt{constructor(e,n,r,i,o,s,a,l,c){Qt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c)}set(e,n,r,i,o,s,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],h=r[2],f=r[5],p=r[8],v=i[0],b=i[3],y=i[6],x=i[1],w=i[4],A=i[7],D=i[2],k=i[5],R=i[8];return o[0]=s*v+a*x+l*D,o[3]=s*b+a*w+l*k,o[6]=s*y+a*A+l*R,o[1]=c*v+u*x+d*D,o[4]=c*b+u*w+d*k,o[7]=c*y+u*A+d*R,o[2]=h*v+f*x+p*D,o[5]=h*b+f*w+p*k,o[8]=h*y+f*A+p*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*a*c-r*o*u+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*s-a*c,h=a*l-u*o,f=c*o-s*l,p=n*d+r*h+i*f;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/p;return e[0]=d*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*s)*v,e[3]=h*v,e[4]=(u*n-i*l)*v,e[5]=(i*o-a*n)*v,e[6]=f*v,e[7]=(r*l-c*n)*v,e[8]=(s*n-r*o)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(jC.makeScale(e,n)),this}rotate(e){return this.premultiply(jC.makeRotation(-e)),this}translate(e,n){return this.premultiply(jC.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const jC=new Qt;function sK(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const che={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function om(t,e){return new che[t](e)}function L1(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function aK(){const t=L1("canvas");return t.style.display="block",t}const DN={};function bT(t){t in DN||(DN[t]=!0,console.warn(t))}function uhe(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}const LN=new Qt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),RN=new Qt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),t2={[Ic]:{transfer:M1,primaries:E1,toReference:t=>t,fromReference:t=>t},[Vs]:{transfer:Zn,primaries:E1,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[sv]:{transfer:M1,primaries:k1,toReference:t=>t.applyMatrix3(RN),fromReference:t=>t.applyMatrix3(LN)},[Y3]:{transfer:Zn,primaries:k1,toReference:t=>t.convertSRGBToLinear().applyMatrix3(RN),fromReference:t=>t.applyMatrix3(LN).convertLinearToSRGB()}},dhe=new Set([Ic,sv]),Ln={enabled:!0,_workingColorSpace:Ic,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!dhe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=t2[e].toReference,i=t2[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return t2[t].primaries},getTransfer:function(t){return t===uc?M1:t2[t].transfer}};function Am(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function HC(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let ip;class lK{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ip===void 0&&(ip=L1("canvas")),ip.width=e.width,ip.height=e.height;const r=ip.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=ip}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=L1("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=Am(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Am(n[r]/255)*255):n[r]=Am(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let hhe=0;class Th{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:hhe++}),this.uuid=xs(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push($C(i[s].image)):o.push($C(i[s]))}else o=$C(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function $C(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?lK.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let fhe=0;class ur extends Ll{constructor(e=ur.DEFAULT_IMAGE,n=ur.DEFAULT_MAPPING,r=gs,i=gs,o=Pr,s=Zs,a=Co,l=Tl,c=ur.DEFAULT_ANISOTROPY,u=uc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:fhe++}),this.uuid=xs(),this.name="",this.source=new Th(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new $e(0,0),this.repeat=new $e(1,1),this.center=new $e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Qt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==W3)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case od:e.x=e.x-Math.floor(e.x);break;case gs:e.x=e.x<0?0:1;break;case Qm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case od:e.y=e.y-Math.floor(e.y);break;case gs:e.y=e.y<0?0:1;break;case Qm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ur.DEFAULT_IMAGE=null;ur.DEFAULT_MAPPING=W3;ur.DEFAULT_ANISOTROPY=1;class Un{constructor(e=0,n=0,r=0,i=1){Un.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],p=l[9],v=l[2],b=l[6],y=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-v)<.01&&Math.abs(p-b)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+v)<.1&&Math.abs(p+b)<.1&&Math.abs(c+f+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(c+1)/2,A=(f+1)/2,D=(y+1)/2,k=(u+h)/4,R=(d+v)/4,L=(p+b)/4;return w>A&&w>D?w<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(w),i=k/r,o=R/r):A>D?A<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(A),r=k/i,o=L/i):D<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(D),r=R/o,i=L/o),this.set(r,i,o,n),this}let x=Math.sqrt((b-p)*(b-p)+(d-v)*(d-v)+(h-u)*(h-u));return Math.abs(x)<.001&&(x=1),this.x=(b-p)/x,this.y=(d-v)/x,this.z=(h-u)/x,this.w=Math.acos((c+f+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class cK extends Ll{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Un(0,0,e,n),this.scissorTest=!1,this.viewport=new Un(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Pr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new ur(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Th(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Fa extends cK{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Z3 extends ur{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ci,this.minFilter=ci,this.wrapR=gs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class phe extends Fa{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Z3(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class xT extends ur{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ci,this.minFilter=ci,this.wrapR=gs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mhe extends Fa{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new xT(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Ai{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const h=o[s+0],f=o[s+1],p=o[s+2],v=o[s+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=h,e[n+1]=f,e[n+2]=p,e[n+3]=v;return}if(d!==v||l!==h||c!==f||u!==p){let b=1-a;const y=l*h+c*f+u*p+d*v,x=y>=0?1:-1,w=1-y*y;if(w>Number.EPSILON){const D=Math.sqrt(w),k=Math.atan2(D,y*x);b=Math.sin(b*k)/D,a=Math.sin(a*k)/D}const A=a*x;if(l=l*b+h*A,c=c*b+f*A,u=u*b+p*A,d=d*b+v*A,b===1-a){const D=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=D,c*=D,u*=D,d*=D}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[s],h=o[s+1],f=o[s+2],p=o[s+3];return e[n]=a*p+u*d+l*f-c*h,e[n+1]=l*p+u*h+c*d-a*f,e[n+2]=c*p+u*f+a*h-l*d,e[n+3]=u*p-a*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(o/2),h=l(r/2),f=l(i/2),p=l(o/2);switch(s){case"XYZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"YXZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"ZXY":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"ZYX":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"YZX":this._x=h*u*d+c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d-h*f*p;break;case"XZY":this._x=h*u*d-c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d+h*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],h=r+a+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(o-c)*f,this._z=(s-i)*f}else if(r>a&&r>d){const f=2*Math.sqrt(1+r-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(i+s)/f,this._z=(o+c)/f}else if(a>d){const f=2*Math.sqrt(1+a-r-d);this._w=(o-c)/f,this._x=(i+s)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-r-a);this._w=(s-i)/f,this._x=(o+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Br(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*a+i*c-o*l,this._y=i*u+s*l+o*a-r*c,this._z=o*u+s*c+r*l-i*a,this._w=s*u-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-n;return this._w=f*s+n*this._w,this._x=f*r+n*this._x,this._y=f*i+n*this._y,this._z=f*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=s*d+this._w*h,this._x=r*d+this._x*h,this._y=i*d+this._y*h,this._z=o*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(e=0,n=0,r=0){W.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(BN.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(BN.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*i-a*r),u=2*(a*n-o*i),d=2*(o*r-s*n);return this.x=n+l*c+s*d-a*u,this.y=r+l*u+a*c-o*d,this.z=i+l*d+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return GC.copy(this).projectOnVector(e),this.sub(GC)}reflect(e){return this.sub(GC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Br(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const GC=new W,BN=new Ai;class ro{constructor(e=new W(1/0,1/0,1/0),n=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ga.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ga.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ga.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,ga):ga.fromBufferAttribute(o,s),ga.applyMatrix4(e.matrixWorld),this.expandByPoint(ga);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),n2.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),n2.copy(r.boundingBox)),n2.applyMatrix4(e.matrixWorld),this.union(n2)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ga),ga.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Mg),r2.subVectors(this.max,Mg),op.subVectors(e.a,Mg),sp.subVectors(e.b,Mg),ap.subVectors(e.c,Mg),fu.subVectors(sp,op),pu.subVectors(ap,sp),jd.subVectors(op,ap);let n=[0,-fu.z,fu.y,0,-pu.z,pu.y,0,-jd.z,jd.y,fu.z,0,-fu.x,pu.z,0,-pu.x,jd.z,0,-jd.x,-fu.y,fu.x,0,-pu.y,pu.x,0,-jd.y,jd.x,0];return!VC(n,op,sp,ap,r2)||(n=[1,0,0,0,1,0,0,0,1],!VC(n,op,sp,ap,r2))?!1:(i2.crossVectors(fu,pu),n=[i2.x,i2.y,i2.z],VC(n,op,sp,ap,r2))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ga).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ga).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Vl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Vl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Vl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Vl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Vl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Vl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Vl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Vl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Vl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Vl=[new W,new W,new W,new W,new W,new W,new W,new W],ga=new W,n2=new ro,op=new W,sp=new W,ap=new W,fu=new W,pu=new W,jd=new W,Mg=new W,r2=new W,i2=new W,Hd=new W;function VC(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){Hd.fromArray(t,o);const a=i.x*Math.abs(Hd.x)+i.y*Math.abs(Hd.y)+i.z*Math.abs(Hd.z),l=e.dot(Hd),c=n.dot(Hd),u=r.dot(Hd);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const ghe=new ro,Eg=new W,qC=new W;class Fi{constructor(e=new W,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):ghe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Eg.subVectors(e,this.center);const n=Eg.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Eg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(qC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Eg.copy(e.center).add(qC)),this.expandByPoint(Eg.copy(e.center).sub(qC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ql=new W,KC=new W,o2=new W,mu=new W,WC=new W,s2=new W,XC=new W;class bf{constructor(e=new W,n=new W(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ql)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ql.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ql.copy(this.origin).addScaledVector(this.direction,n),ql.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){KC.copy(e).add(n).multiplyScalar(.5),o2.copy(n).sub(e).normalize(),mu.copy(this.origin).sub(KC);const o=e.distanceTo(n)*.5,s=-this.direction.dot(o2),a=mu.dot(this.direction),l=-mu.dot(o2),c=mu.lengthSq(),u=Math.abs(1-s*s);let d,h,f,p;if(u>0)if(d=s*l-a,h=s*a-l,p=o*u,d>=0)if(h>=-p)if(h<=p){const v=1/u;d*=v,h*=v,f=d*(d+s*h+2*a)+h*(s*d+h+2*l)+c}else h=o,d=Math.max(0,-(s*h+a)),f=-d*d+h*(h+2*l)+c;else h=-o,d=Math.max(0,-(s*h+a)),f=-d*d+h*(h+2*l)+c;else h<=-p?(d=Math.max(0,-(-s*o+a)),h=d>0?-o:Math.min(Math.max(-o,-l),o),f=-d*d+h*(h+2*l)+c):h<=p?(d=0,h=Math.min(Math.max(-o,-l),o),f=h*(h+2*l)+c):(d=Math.max(0,-(s*o+a)),h=d>0?o:Math.min(Math.max(-o,-l),o),f=-d*d+h*(h+2*l)+c);else h=s>0?-o:o,d=Math.max(0,-(s*h+a)),f=-d*d+h*(h+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(KC).addScaledVector(o2,h),f}intersectSphere(e,n){ql.subVectors(e.center,this.origin);const r=ql.dot(this.direction),i=ql.dot(ql)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),u>=0?(o=(e.min.y-h.y)*u,s=(e.max.y-h.y)*u):(o=(e.max.y-h.y)*u,s=(e.min.y-h.y)*u),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ql)!==null}intersectTriangle(e,n,r,i,o){WC.subVectors(n,e),s2.subVectors(r,e),XC.crossVectors(WC,s2);let s=this.direction.dot(XC),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;mu.subVectors(this.origin,e);const l=a*this.direction.dot(s2.crossVectors(mu,s2));if(l<0)return null;const c=a*this.direction.dot(WC.cross(mu));if(c<0||l+c>s)return null;const u=-a*mu.dot(XC);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pt{constructor(e,n,r,i,o,s,a,l,c,u,d,h,f,p,v,b){Pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c,u,d,h,f,p,v,b)}set(e,n,r,i,o,s,a,l,c,u,d,h,f,p,v,b){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=o,y[5]=s,y[9]=a,y[13]=l,y[2]=c,y[6]=u,y[10]=d,y[14]=h,y[3]=f,y[7]=p,y[11]=v,y[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/lp.setFromMatrixColumn(e,0).length(),o=1/lp.setFromMatrixColumn(e,1).length(),s=1/lp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const h=s*u,f=s*d,p=a*u,v=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=f+p*c,n[5]=h-v*c,n[9]=-a*l,n[2]=v-h*c,n[6]=p+f*c,n[10]=s*l}else if(e.order==="YXZ"){const h=l*u,f=l*d,p=c*u,v=c*d;n[0]=h+v*a,n[4]=p*a-f,n[8]=s*c,n[1]=s*d,n[5]=s*u,n[9]=-a,n[2]=f*a-p,n[6]=v+h*a,n[10]=s*l}else if(e.order==="ZXY"){const h=l*u,f=l*d,p=c*u,v=c*d;n[0]=h-v*a,n[4]=-s*d,n[8]=p+f*a,n[1]=f+p*a,n[5]=s*u,n[9]=v-h*a,n[2]=-s*c,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const h=s*u,f=s*d,p=a*u,v=a*d;n[0]=l*u,n[4]=p*c-f,n[8]=h*c+v,n[1]=l*d,n[5]=v*c+h,n[9]=f*c-p,n[2]=-c,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const h=s*l,f=s*c,p=a*l,v=a*c;n[0]=l*u,n[4]=v-h*d,n[8]=p*d+f,n[1]=d,n[5]=s*u,n[9]=-a*u,n[2]=-c*u,n[6]=f*d+p,n[10]=h-v*d}else if(e.order==="XZY"){const h=s*l,f=s*c,p=a*l,v=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=h*d+v,n[5]=s*u,n[9]=f*d-p,n[2]=p*d-f,n[6]=a*u,n[10]=v*d+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(yhe,e,vhe)}lookAt(e,n,r){const i=this.elements;return is.subVectors(e,n),is.lengthSq()===0&&(is.z=1),is.normalize(),gu.crossVectors(r,is),gu.lengthSq()===0&&(Math.abs(r.z)===1?is.x+=1e-4:is.z+=1e-4,is.normalize(),gu.crossVectors(r,is)),gu.normalize(),a2.crossVectors(is,gu),i[0]=gu.x,i[4]=a2.x,i[8]=is.x,i[1]=gu.y,i[5]=a2.y,i[9]=is.y,i[2]=gu.z,i[6]=a2.z,i[10]=is.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],h=r[9],f=r[13],p=r[2],v=r[6],b=r[10],y=r[14],x=r[3],w=r[7],A=r[11],D=r[15],k=i[0],R=i[4],L=i[8],T=i[12],C=i[1],P=i[5],z=i[9],H=i[13],$=i[2],X=i[6],Z=i[10],K=i[14],O=i[3],V=i[7],I=i[11],se=i[15];return o[0]=s*k+a*C+l*$+c*O,o[4]=s*R+a*P+l*X+c*V,o[8]=s*L+a*z+l*Z+c*I,o[12]=s*T+a*H+l*K+c*se,o[1]=u*k+d*C+h*$+f*O,o[5]=u*R+d*P+h*X+f*V,o[9]=u*L+d*z+h*Z+f*I,o[13]=u*T+d*H+h*K+f*se,o[2]=p*k+v*C+b*$+y*O,o[6]=p*R+v*P+b*X+y*V,o[10]=p*L+v*z+b*Z+y*I,o[14]=p*T+v*H+b*K+y*se,o[3]=x*k+w*C+A*$+D*O,o[7]=x*R+w*P+A*X+D*V,o[11]=x*L+w*z+A*Z+D*I,o[15]=x*T+w*H+A*K+D*se,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14],p=e[3],v=e[7],b=e[11],y=e[15];return p*(+o*l*d-i*c*d-o*a*h+r*c*h+i*a*f-r*l*f)+v*(+n*l*f-n*c*h+o*s*h-i*s*f+i*c*u-o*l*u)+b*(+n*c*d-n*a*f-o*s*d+r*s*f+o*a*u-r*c*u)+y*(-i*a*u-n*l*d+n*a*h+i*s*d-r*s*h+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],v=e[13],b=e[14],y=e[15],x=d*b*c-v*h*c+v*l*f-a*b*f-d*l*y+a*h*y,w=p*h*c-u*b*c-p*l*f+s*b*f+u*l*y-s*h*y,A=u*v*c-p*d*c+p*a*f-s*v*f-u*a*y+s*d*y,D=p*d*l-u*v*l-p*a*h+s*v*h+u*a*b-s*d*b,k=n*x+r*w+i*A+o*D;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/k;return e[0]=x*R,e[1]=(v*h*o-d*b*o-v*i*f+r*b*f+d*i*y-r*h*y)*R,e[2]=(a*b*o-v*l*o+v*i*c-r*b*c-a*i*y+r*l*y)*R,e[3]=(d*l*o-a*h*o-d*i*c+r*h*c+a*i*f-r*l*f)*R,e[4]=w*R,e[5]=(u*b*o-p*h*o+p*i*f-n*b*f-u*i*y+n*h*y)*R,e[6]=(p*l*o-s*b*o-p*i*c+n*b*c+s*i*y-n*l*y)*R,e[7]=(s*h*o-u*l*o+u*i*c-n*h*c-s*i*f+n*l*f)*R,e[8]=A*R,e[9]=(p*d*o-u*v*o-p*r*f+n*v*f+u*r*y-n*d*y)*R,e[10]=(s*v*o-p*a*o+p*r*c-n*v*c-s*r*y+n*a*y)*R,e[11]=(u*a*o-s*d*o-u*r*c+n*d*c+s*r*f-n*a*f)*R,e[12]=D*R,e[13]=(u*v*i-p*d*i+p*r*h-n*v*h-u*r*b+n*d*b)*R,e[14]=(p*a*i-s*v*i-p*r*l+n*v*l+s*r*b-n*a*b)*R,e[15]=(s*d*i-u*a*i+u*r*l-n*d*l-s*r*h+n*a*h)*R,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*s,0,c*l-i*a,u*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,c=o+o,u=s+s,d=a+a,h=o*c,f=o*u,p=o*d,v=s*u,b=s*d,y=a*d,x=l*c,w=l*u,A=l*d,D=r.x,k=r.y,R=r.z;return i[0]=(1-(v+y))*D,i[1]=(f+A)*D,i[2]=(p-w)*D,i[3]=0,i[4]=(f-A)*k,i[5]=(1-(h+y))*k,i[6]=(b+x)*k,i[7]=0,i[8]=(p+w)*R,i[9]=(b-x)*R,i[10]=(1-(h+v))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=lp.set(i[0],i[1],i[2]).length();const s=lp.set(i[4],i[5],i[6]).length(),a=lp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],ya.copy(this);const c=1/o,u=1/s,d=1/a;return ya.elements[0]*=c,ya.elements[1]*=c,ya.elements[2]*=c,ya.elements[4]*=u,ya.elements[5]*=u,ya.elements[6]*=u,ya.elements[8]*=d,ya.elements[9]*=d,ya.elements[10]*=d,n.setFromRotationMatrix(ya),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=xl){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),d=(n+e)/(n-e),h=(r+i)/(r-i);let f,p;if(a===xl)f=-(s+o)/(s-o),p=-2*s*o/(s-o);else if(a===D1)f=-s/(s-o),p=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=xl){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(s-o),h=(n+e)*c,f=(r+i)*u;let p,v;if(a===xl)p=(s+o)*d,v=-2*d;else if(a===D1)p=o*d,v=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=v,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const lp=new W,ya=new Pt,yhe=new W(0,0,0),vhe=new W(1,1,1),gu=new W,a2=new W,is=new W,PN=new Pt,NN=new Ai;class Ss{constructor(e=0,n=0,r=0,i=Ss.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],h=i[6],f=i[10];switch(n){case"XYZ":this._y=Math.asin(Br(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Br(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Br(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Br(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Br(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-Br(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return PN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(PN,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return NN.setFromEuler(this),this.setFromQuaternion(NN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ss.DEFAULT_ORDER="XYZ";class $h{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let bhe=0;const IN=new W,cp=new Ai,Kl=new Pt,l2=new W,kg=new W,xhe=new W,_he=new Ai,ON=new W(1,0,0),FN=new W(0,1,0),zN=new W(0,0,1),UN={type:"added"},whe={type:"removed"},up={type:"childadded",child:null},JC={type:"childremoved",child:null};class mn extends Ll{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:bhe++}),this.uuid=xs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mn.DEFAULT_UP.clone();const e=new W,n=new Ss,r=new Ai,i=new W(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Pt},normalMatrix:{value:new Qt}}),this.matrix=new Pt,this.matrixWorld=new Pt,this.matrixAutoUpdate=mn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new $h,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return cp.setFromAxisAngle(e,n),this.quaternion.multiply(cp),this}rotateOnWorldAxis(e,n){return cp.setFromAxisAngle(e,n),this.quaternion.premultiply(cp),this}rotateX(e){return this.rotateOnAxis(ON,e)}rotateY(e){return this.rotateOnAxis(FN,e)}rotateZ(e){return this.rotateOnAxis(zN,e)}translateOnAxis(e,n){return IN.copy(e).applyQuaternion(this.quaternion),this.position.add(IN.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(ON,e)}translateY(e){return this.translateOnAxis(FN,e)}translateZ(e){return this.translateOnAxis(zN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Kl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?l2.copy(e):l2.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),kg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Kl.lookAt(kg,l2,this.up):Kl.lookAt(l2,kg,this.up),this.quaternion.setFromRotationMatrix(Kl),i&&(Kl.extractRotation(i.matrixWorld),cp.setFromRotationMatrix(Kl),this.quaternion.premultiply(cp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(UN),up.child=e,this.dispatchEvent(up),up.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(whe),JC.child=e,this.dispatchEvent(JC),JC.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Kl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Kl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Kl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(UN),up.child=e,this.dispatchEvent(up),up.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kg,e,xhe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kg,_he,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++){const a=i[o];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),h=s(e.skeletons),f=s(e.animations),p=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),h.length>0&&(r.skeletons=h),f.length>0&&(r.animations=f),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}mn.DEFAULT_UP=new W(0,1,0);mn.DEFAULT_MATRIX_AUTO_UPDATE=!0;mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const va=new W,Wl=new W,YC=new W,Xl=new W,dp=new W,hp=new W,jN=new W,ZC=new W,QC=new W,eM=new W;class ps{constructor(e=new W,n=new W,r=new W){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),va.subVectors(e,n),i.cross(va);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){va.subVectors(i,n),Wl.subVectors(r,n),YC.subVectors(e,n);const s=va.dot(va),a=va.dot(Wl),l=va.dot(YC),c=Wl.dot(Wl),u=Wl.dot(YC),d=s*c-a*a;if(d===0)return o.set(0,0,0),null;const h=1/d,f=(c*l-a*u)*h,p=(s*u-a*l)*h;return o.set(1-f-p,p,f)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Xl)===null?!1:Xl.x>=0&&Xl.y>=0&&Xl.x+Xl.y<=1}static getInterpolation(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,Xl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Xl.x),l.addScaledVector(s,Xl.y),l.addScaledVector(a,Xl.z),l)}static isFrontFacing(e,n,r,i){return va.subVectors(r,n),Wl.subVectors(e,n),va.cross(Wl).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return va.subVectors(this.c,this.b),Wl.subVectors(this.a,this.b),va.cross(Wl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ps.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ps.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return ps.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return ps.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ps.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;dp.subVectors(i,r),hp.subVectors(o,r),ZC.subVectors(e,r);const l=dp.dot(ZC),c=hp.dot(ZC);if(l<=0&&c<=0)return n.copy(r);QC.subVectors(e,i);const u=dp.dot(QC),d=hp.dot(QC);if(u>=0&&d<=u)return n.copy(i);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(dp,s);eM.subVectors(e,o);const f=dp.dot(eM),p=hp.dot(eM);if(p>=0&&f<=p)return n.copy(o);const v=f*c-l*p;if(v<=0&&c>=0&&p<=0)return a=c/(c-p),n.copy(r).addScaledVector(hp,a);const b=u*p-f*d;if(b<=0&&d-u>=0&&f-p>=0)return jN.subVectors(o,i),a=(d-u)/(d-u+(f-p)),n.copy(i).addScaledVector(jN,a);const y=1/(b+v+h);return s=v*y,a=h*y,n.copy(r).addScaledVector(dp,s).addScaledVector(hp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const uK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yu={h:0,s:0,l:0},c2={h:0,s:0,l:0};function tM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class ut{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Vs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ln.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Ln.workingColorSpace){return this.r=e,this.g=n,this.b=r,Ln.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Ln.workingColorSpace){if(e=vT(e,1),n=Br(n,0,1),r=Br(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=tM(s,o,e+1/3),this.g=tM(s,o,e),this.b=tM(s,o,e-1/3)}return Ln.toWorkingColorSpace(this,i),this}setStyle(e,n=Vs){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Vs){const r=uK[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Am(e.r),this.g=Am(e.g),this.b=Am(e.b),this}copyLinearToSRGB(e){return this.r=HC(e.r),this.g=HC(e.g),this.b=HC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Vs){return Ln.fromWorkingColorSpace(Ji.copy(this),e),Math.round(Br(Ji.r*255,0,255))*65536+Math.round(Br(Ji.g*255,0,255))*256+Math.round(Br(Ji.b*255,0,255))}getHexString(e=Vs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ln.workingColorSpace){Ln.fromWorkingColorSpace(Ji.copy(this),n);const r=Ji.r,i=Ji.g,o=Ji.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Ln.workingColorSpace){return Ln.fromWorkingColorSpace(Ji.copy(this),n),e.r=Ji.r,e.g=Ji.g,e.b=Ji.b,e}getStyle(e=Vs){Ln.fromWorkingColorSpace(Ji.copy(this),e);const n=Ji.r,r=Ji.g,i=Ji.b;return e!==Vs?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(yu),this.setHSL(yu.h+e,yu.s+n,yu.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(yu),e.getHSL(c2);const r=Ly(yu.h,c2.h,n),i=Ly(yu.s,c2.s,n),o=Ly(yu.l,c2.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ji=new ut;ut.NAMES=uK;let She=0;class ei extends Ll{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:She++}),this.uuid=xs(),this.name="",this.type="Material",this.blending=Uh,this.side=kl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Gw,this.blendDst=Vw,this.blendEquation=Nu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ut(0,0,0),this.blendAlpha=0,this.depthFunc=_1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=D6,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ch,this.stencilZFail=ch,this.stencilZPass=ch,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Uh&&(r.blending=this.blending),this.side!==kl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Gw&&(r.blendSrc=this.blendSrc),this.blendDst!==Vw&&(r.blendDst=this.blendDst),this.blendEquation!==Nu&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==_1&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==D6&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ch&&(r.stencilFail=this.stencilFail),this.stencilZFail!==ch&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==ch&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class vs extends ei{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.combine=iv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const dc=Ahe();function Ahe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function jo(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Br(t,-65504,65504),dc.floatView[0]=t;const e=dc.uint32View[0],n=e>>23&511;return dc.baseTable[n]+((e&8388607)>>dc.shiftTable[n])}function sy(t){const e=t>>10;return dc.uint32View[0]=dc.mantissaTable[dc.offsetTable[e]+(t&1023)]+dc.exponentTable[e],dc.floatView[0]}const Che={toHalfFloat:jo,fromHalfFloat:sy},Xr=new W,u2=new $e;class wn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=T1,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ys,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return bT("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)u2.fromBufferAttribute(this,n),u2.applyMatrix3(e),this.setXY(n,u2.x,u2.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Xr.fromBufferAttribute(this,n),Xr.applyMatrix3(e),this.setXYZ(n,Xr.x,Xr.y,Xr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Xr.fromBufferAttribute(this,n),Xr.applyMatrix4(e),this.setXYZ(n,Xr.x,Xr.y,Xr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Xr.fromBufferAttribute(this,n),Xr.applyNormalMatrix(e),this.setXYZ(n,Xr.x,Xr.y,Xr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Xr.fromBufferAttribute(this,n),Xr.transformDirection(e),this.setXYZ(n,Xr.x,Xr.y,Xr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=So(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=en(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=So(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=So(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=So(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=So(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),o=en(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==T1&&(e.usage=this.usage),e}}class Mhe extends wn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Ehe extends wn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class khe extends wn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class The extends wn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class _T extends wn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Dhe extends wn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class wT extends wn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Lhe extends wn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=sy(this.array[e*this.itemSize]);return this.normalized&&(n=So(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=jo(n),this}getY(e){let n=sy(this.array[e*this.itemSize+1]);return this.normalized&&(n=So(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=jo(n),this}getZ(e){let n=sy(this.array[e*this.itemSize+2]);return this.normalized&&(n=So(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=jo(n),this}getW(e){let n=sy(this.array[e*this.itemSize+3]);return this.normalized&&(n=So(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=jo(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.array[e+0]=jo(n),this.array[e+1]=jo(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.array[e+0]=jo(n),this.array[e+1]=jo(r),this.array[e+2]=jo(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),o=en(o,this.array)),this.array[e+0]=jo(n),this.array[e+1]=jo(r),this.array[e+2]=jo(i),this.array[e+3]=jo(o),this}}class Mt extends wn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Rhe=0;const js=new Pt,nM=new mn,fp=new W,os=new ro,Tg=new ro,bi=new W;class Wt extends Ll{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Rhe++}),this.uuid=xs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(sK(e)?wT:_T)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Qt().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return js.makeRotationFromQuaternion(e),this.applyMatrix4(js),this}rotateX(e){return js.makeRotationX(e),this.applyMatrix4(js),this}rotateY(e){return js.makeRotationY(e),this.applyMatrix4(js),this}rotateZ(e){return js.makeRotationZ(e),this.applyMatrix4(js),this}translate(e,n,r){return js.makeTranslation(e,n,r),this.applyMatrix4(js),this}scale(e,n,r){return js.makeScale(e,n,r),this.applyMatrix4(js),this}lookAt(e){return nM.lookAt(e),nM.updateMatrix(),this.applyMatrix4(nM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(fp).negate(),this.translate(fp.x,fp.y,fp.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Mt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ro);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];os.setFromBufferAttribute(o),this.morphTargetsRelative?(bi.addVectors(this.boundingBox.min,os.min),this.boundingBox.expandByPoint(bi),bi.addVectors(this.boundingBox.max,os.max),this.boundingBox.expandByPoint(bi)):(this.boundingBox.expandByPoint(os.min),this.boundingBox.expandByPoint(os.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new W,1/0);return}if(e){const r=this.boundingSphere.center;if(os.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];Tg.setFromBufferAttribute(a),this.morphTargetsRelative?(bi.addVectors(os.min,Tg.min),os.expandByPoint(bi),bi.addVectors(os.max,Tg.max),os.expandByPoint(bi)):(os.expandByPoint(Tg.min),os.expandByPoint(Tg.max))}os.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)bi.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(bi));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)bi.fromBufferAttribute(a,c),l&&(fp.fromBufferAttribute(e,c),bi.add(fp)),i=Math.max(i,r.distanceToSquared(bi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new wn(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),a=[],l=[];for(let L=0;L<r.count;L++)a[L]=new W,l[L]=new W;const c=new W,u=new W,d=new W,h=new $e,f=new $e,p=new $e,v=new W,b=new W;function y(L,T,C){c.fromBufferAttribute(r,L),u.fromBufferAttribute(r,T),d.fromBufferAttribute(r,C),h.fromBufferAttribute(o,L),f.fromBufferAttribute(o,T),p.fromBufferAttribute(o,C),u.sub(c),d.sub(c),f.sub(h),p.sub(h);const P=1/(f.x*p.y-p.x*f.y);isFinite(P)&&(v.copy(u).multiplyScalar(p.y).addScaledVector(d,-f.y).multiplyScalar(P),b.copy(d).multiplyScalar(f.x).addScaledVector(u,-p.x).multiplyScalar(P),a[L].add(v),a[T].add(v),a[C].add(v),l[L].add(b),l[T].add(b),l[C].add(b))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let L=0,T=x.length;L<T;++L){const C=x[L],P=C.start,z=C.count;for(let H=P,$=P+z;H<$;H+=3)y(e.getX(H+0),e.getX(H+1),e.getX(H+2))}const w=new W,A=new W,D=new W,k=new W;function R(L){D.fromBufferAttribute(i,L),k.copy(D);const T=a[L];w.copy(T),w.sub(D.multiplyScalar(D.dot(T))).normalize(),A.crossVectors(k,T);const P=A.dot(l[L])<0?-1:1;s.setXYZW(L,w.x,w.y,w.z,P)}for(let L=0,T=x.length;L<T;++L){const C=x[L],P=C.start,z=C.count;for(let H=P,$=P+z;H<$;H+=3)R(e.getX(H+0)),R(e.getX(H+1)),R(e.getX(H+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new wn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,f=r.count;h<f;h++)r.setXYZ(h,0,0,0);const i=new W,o=new W,s=new W,a=new W,l=new W,c=new W,u=new W,d=new W;if(e)for(let h=0,f=e.count;h<f;h+=3){const p=e.getX(h+0),v=e.getX(h+1),b=e.getX(h+2);i.fromBufferAttribute(n,p),o.fromBufferAttribute(n,v),s.fromBufferAttribute(n,b),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),a.fromBufferAttribute(r,p),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,b),a.add(u),l.add(u),c.add(u),r.setXYZ(p,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(b,c.x,c.y,c.z)}else for(let h=0,f=n.count;h<f;h+=3)i.fromBufferAttribute(n,h+0),o.fromBufferAttribute(n,h+1),s.fromBufferAttribute(n,h+2),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),r.setXYZ(h+0,u.x,u.y,u.z),r.setXYZ(h+1,u.x,u.y,u.z),r.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)bi.fromBufferAttribute(e,n),bi.normalize(),e.setXYZ(n,bi.x,bi.y,bi.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let f=0,p=0;for(let v=0,b=l.length;v<b;v++){a.isInterleavedBufferAttribute?f=l[v]*a.data.stride+a.offset:f=l[v]*u;for(let y=0;y<u;y++)h[p++]=c[f++]}return new wn(h,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Wt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let u=0,d=c.length;u<d;u++){const h=c[u],f=e(h,r);l.push(f)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++){const f=c[d];u.push(f.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const HN=new Pt,$d=new bf,d2=new Fi,$N=new W,pp=new W,mp=new W,gp=new W,rM=new W,h2=new W,f2=new $e,p2=new $e,m2=new $e,GN=new W,VN=new W,qN=new W,g2=new W,y2=new W;class $r extends mn{constructor(e=new Wt,n=new vs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){h2.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=a[l],d=o[l];u!==0&&(rM.fromBufferAttribute(d,e),s?h2.addScaledVector(rM,u):h2.addScaledVector(rM.sub(n),u))}n.add(h2)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),d2.copy(r.boundingSphere),d2.applyMatrix4(o),$d.copy(e.ray).recast(e.near),!(d2.containsPoint($d.origin)===!1&&($d.intersectSphere(d2,$N)===null||$d.origin.distanceToSquared($N)>(e.far-e.near)**2))&&(HN.copy(o).invert(),$d.copy(e.ray).applyMatrix4(HN),!(r.boundingBox!==null&&$d.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,$d)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,h=o.groups,f=o.drawRange;if(a!==null)if(Array.isArray(s))for(let p=0,v=h.length;p<v;p++){const b=h[p],y=s[b.materialIndex],x=Math.max(b.start,f.start),w=Math.min(a.count,Math.min(b.start+b.count,f.start+f.count));for(let A=x,D=w;A<D;A+=3){const k=a.getX(A),R=a.getX(A+1),L=a.getX(A+2);i=v2(this,y,e,r,c,u,d,k,R,L),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const p=Math.max(0,f.start),v=Math.min(a.count,f.start+f.count);for(let b=p,y=v;b<y;b+=3){const x=a.getX(b),w=a.getX(b+1),A=a.getX(b+2);i=v2(this,s,e,r,c,u,d,x,w,A),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let p=0,v=h.length;p<v;p++){const b=h[p],y=s[b.materialIndex],x=Math.max(b.start,f.start),w=Math.min(l.count,Math.min(b.start+b.count,f.start+f.count));for(let A=x,D=w;A<D;A+=3){const k=A,R=A+1,L=A+2;i=v2(this,y,e,r,c,u,d,k,R,L),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const p=Math.max(0,f.start),v=Math.min(l.count,f.start+f.count);for(let b=p,y=v;b<y;b+=3){const x=b,w=b+1,A=b+2;i=v2(this,s,e,r,c,u,d,x,w,A),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}}}function Bhe(t,e,n,r,i,o,s,a){let l;if(e.side===To?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===kl,a),l===null)return null;y2.copy(a),y2.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(y2);return c<n.near||c>n.far?null:{distance:c,point:y2.clone(),object:t}}function v2(t,e,n,r,i,o,s,a,l,c){t.getVertexPosition(a,pp),t.getVertexPosition(l,mp),t.getVertexPosition(c,gp);const u=Bhe(t,e,n,r,pp,mp,gp,g2);if(u){i&&(f2.fromBufferAttribute(i,a),p2.fromBufferAttribute(i,l),m2.fromBufferAttribute(i,c),u.uv=ps.getInterpolation(g2,pp,mp,gp,f2,p2,m2,new $e)),o&&(f2.fromBufferAttribute(o,a),p2.fromBufferAttribute(o,l),m2.fromBufferAttribute(o,c),u.uv1=ps.getInterpolation(g2,pp,mp,gp,f2,p2,m2,new $e)),s&&(GN.fromBufferAttribute(s,a),VN.fromBufferAttribute(s,l),qN.fromBufferAttribute(s,c),u.normal=ps.getInterpolation(g2,pp,mp,gp,GN,VN,qN,new W),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new W,materialIndex:0};ps.getNormal(pp,mp,gp,d.normal),u.face=d}return u}class xf extends Wt{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],u=[],d=[];let h=0,f=0;p("z","y","x",-1,-1,r,n,e,s,o,0),p("z","y","x",1,-1,r,n,-e,s,o,1),p("x","z","y",1,1,e,r,n,i,s,2),p("x","z","y",1,-1,e,r,-n,i,s,3),p("x","y","z",1,-1,e,n,r,i,o,4),p("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Mt(c,3)),this.setAttribute("normal",new Mt(u,3)),this.setAttribute("uv",new Mt(d,2));function p(v,b,y,x,w,A,D,k,R,L,T){const C=A/R,P=D/L,z=A/2,H=D/2,$=k/2,X=R+1,Z=L+1;let K=0,O=0;const V=new W;for(let I=0;I<Z;I++){const se=I*P-H;for(let ye=0;ye<X;ye++){const G=ye*C-z;V[v]=G*x,V[b]=se*w,V[y]=$,c.push(V.x,V.y,V.z),V[v]=0,V[b]=0,V[y]=k>0?1:-1,u.push(V.x,V.y,V.z),d.push(ye/R),d.push(1-I/L),K+=1}}for(let I=0;I<L;I++)for(let se=0;se<R;se++){const ye=h+se+X*I,G=h+se+X*(I+1),ae=h+(se+1)+X*(I+1),_e=h+(se+1)+X*I;l.push(ye,G,_e),l.push(G,ae,_e),O+=6}a.addGroup(f,O,T),f+=O,h+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function r0(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function vo(t){const e={};for(let n=0;n<t.length;n++){const r=r0(t[n]);for(const i in r)e[i]=r[i]}return e}function Phe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function dK(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ln.workingColorSpace}const hK={clone:r0,merge:vo};var Nhe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Ihe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class za extends ei{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Nhe,this.fragmentShader=Ihe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=r0(e.uniforms),this.uniformsGroups=Phe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class av extends mn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pt,this.projectionMatrix=new Pt,this.projectionMatrixInverse=new Pt,this.coordinateSystem=xl}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const vu=new W,KN=new $e,WN=new $e;class Cr extends av{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=n0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Hh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return n0*2*Math.atan(Math.tan(Hh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){vu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(vu.x,vu.y).multiplyScalar(-e/vu.z),vu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(vu.x,vu.y).multiplyScalar(-e/vu.z)}getViewSize(e,n){return this.getViewBounds(e,KN,WN),n.subVectors(WN,KN)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Hh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const yp=-90,vp=1;class fK extends mn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Cr(yp,vp,e,n);i.layers=this.layers,this.add(i);const o=new Cr(yp,vp,e,n);o.layers=this.layers,this.add(o);const s=new Cr(yp,vp,e,n);s.layers=this.layers,this.add(s);const a=new Cr(yp,vp,e,n);a.layers=this.layers,this.add(a);const l=new Cr(yp,vp,e,n);l.layers=this.layers,this.add(l);const c=new Cr(yp,vp,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,l]=n;for(const c of n)this.remove(c);if(e===xl)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===D1)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,l,c,u]=this.children,d=e.getRenderTarget(),h=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=v,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,h,f),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class lv extends ur{constructor(e,n,r,i,o,s,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Tc,super(e,n,r,i,o,s,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class pK extends Fa{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new lv(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Pr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new xf(5,5,5),o=new za({name:"CubemapFromEquirect",uniforms:r0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:To,blending:yc});o.uniforms.tEquirect.value=n;const s=new $r(i,o),a=n.minFilter;return n.minFilter===Zs&&(n.minFilter=Pr),new fK(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const iM=new W,Ohe=new W,Fhe=new Qt;class ac{constructor(e=new W(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=iM.subVectors(r,n).cross(Ohe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(iM),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Fhe.getNormalMatrix(e),i=this.coplanarPoint(iM).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Gd=new Fi,b2=new W;class cv{constructor(e=new ac,n=new ac,r=new ac,i=new ac,o=new ac,s=new ac){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=xl){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],p=i[9],v=i[10],b=i[11],y=i[12],x=i[13],w=i[14],A=i[15];if(r[0].setComponents(l-o,h-c,b-f,A-y).normalize(),r[1].setComponents(l+o,h+c,b+f,A+y).normalize(),r[2].setComponents(l+s,h+u,b+p,A+x).normalize(),r[3].setComponents(l-s,h-u,b-p,A-x).normalize(),r[4].setComponents(l-a,h-d,b-v,A-w).normalize(),n===xl)r[5].setComponents(l+a,h+d,b+v,A+w).normalize();else if(n===D1)r[5].setComponents(a,d,v,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Gd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Gd.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Gd)}intersectsSprite(e){return Gd.center.set(0,0,0),Gd.radius=.7071067811865476,Gd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Gd)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(b2.x=i.normal.x>0?e.max.x:e.min.x,b2.y=i.normal.y>0?e.max.y:e.min.y,b2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(b2)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function mK(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function zhe(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,u),a.onUploadCallback();let f;if(c instanceof Float32Array)f=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?f=t.HALF_FLOAT:f=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)f=t.SHORT;else if(c instanceof Uint32Array)f=t.UNSIGNED_INT;else if(c instanceof Int32Array)f=t.INT;else if(c instanceof Int8Array)f=t.BYTE;else if(c instanceof Uint8Array)f=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)f=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:f,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const u=l.array,d=l._updateRange,h=l.updateRanges;if(t.bindBuffer(c,a),d.count===-1&&h.length===0&&t.bufferSubData(c,0,u),h.length!==0){for(let f=0,p=h.length;f<p;f++){const v=h[f];t.bufferSubData(c,v.start*u.BYTES_PER_ELEMENT,u,v.start,v.count)}l.clearUpdateRanges()}d.count!==-1&&(t.bufferSubData(c,d.offset*u.BYTES_PER_ELEMENT,u,d.offset,d.count),d.count=-1),l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function s(a,l){if(a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:o,update:s}}class v0 extends Wt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,h=n/l,f=[],p=[],v=[],b=[];for(let y=0;y<u;y++){const x=y*h-s;for(let w=0;w<c;w++){const A=w*d-o;p.push(A,-x,0),v.push(0,0,1),b.push(w/a),b.push(1-y/l)}}for(let y=0;y<l;y++)for(let x=0;x<a;x++){const w=x+c*y,A=x+c*(y+1),D=x+1+c*(y+1),k=x+1+c*y;f.push(w,A,k),f.push(A,D,k)}this.setIndex(f),this.setAttribute("position",new Mt(p,3)),this.setAttribute("normal",new Mt(v,3)),this.setAttribute("uv",new Mt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v0(e.width,e.height,e.widthSegments,e.heightSegments)}}var Uhe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,jhe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Hhe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,$he=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ghe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Vhe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qhe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Khe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Whe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Xhe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Jhe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Yhe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Zhe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Qhe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,efe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,tfe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,nfe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,rfe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ife=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ofe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,sfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,afe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,lfe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,cfe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ufe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,dfe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,hfe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ffe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,pfe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,mfe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,gfe="gl_FragColor = linearToOutputTexel( gl_FragColor );",yfe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,vfe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,bfe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,xfe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_fe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,wfe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Sfe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Afe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Cfe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Mfe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Efe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,kfe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Tfe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Dfe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Lfe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Rfe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Bfe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Pfe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Nfe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Ife=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ofe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Ffe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zfe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Ufe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,jfe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Hfe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,$fe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Gfe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Vfe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,qfe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Kfe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Wfe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Xfe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Jfe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Yfe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Zfe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Qfe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,epe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,tpe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,npe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,rpe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ipe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ope=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,spe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ape=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,lpe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,cpe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,upe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,dpe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,hpe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,fpe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ppe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,mpe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,gpe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ype=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,vpe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bpe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,xpe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,_pe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,wpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Spe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ape=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Cpe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Mpe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Epe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,kpe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Tpe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Dpe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Lpe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Rpe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Bpe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Ppe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Npe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ipe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ope=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Fpe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const zpe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Upe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Hpe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$pe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Gpe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Vpe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qpe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Kpe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Wpe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Xpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Jpe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ype=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Zpe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Qpe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,eme=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tme=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nme=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rme=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ime=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ome=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,sme=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ame=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lme=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cme=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ume=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dme=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hme=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fme=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,pme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mme=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gme=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,yme=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,rn={alphahash_fragment:Uhe,alphahash_pars_fragment:jhe,alphamap_fragment:Hhe,alphamap_pars_fragment:$he,alphatest_fragment:Ghe,alphatest_pars_fragment:Vhe,aomap_fragment:qhe,aomap_pars_fragment:Khe,batching_pars_vertex:Whe,batching_vertex:Xhe,begin_vertex:Jhe,beginnormal_vertex:Yhe,bsdfs:Zhe,iridescence_fragment:Qhe,bumpmap_pars_fragment:efe,clipping_planes_fragment:tfe,clipping_planes_pars_fragment:nfe,clipping_planes_pars_vertex:rfe,clipping_planes_vertex:ife,color_fragment:ofe,color_pars_fragment:sfe,color_pars_vertex:afe,color_vertex:lfe,common:cfe,cube_uv_reflection_fragment:ufe,defaultnormal_vertex:dfe,displacementmap_pars_vertex:hfe,displacementmap_vertex:ffe,emissivemap_fragment:pfe,emissivemap_pars_fragment:mfe,colorspace_fragment:gfe,colorspace_pars_fragment:yfe,envmap_fragment:vfe,envmap_common_pars_fragment:bfe,envmap_pars_fragment:xfe,envmap_pars_vertex:_fe,envmap_physical_pars_fragment:Rfe,envmap_vertex:wfe,fog_vertex:Sfe,fog_pars_vertex:Afe,fog_fragment:Cfe,fog_pars_fragment:Mfe,gradientmap_pars_fragment:Efe,lightmap_pars_fragment:kfe,lights_lambert_fragment:Tfe,lights_lambert_pars_fragment:Dfe,lights_pars_begin:Lfe,lights_toon_fragment:Bfe,lights_toon_pars_fragment:Pfe,lights_phong_fragment:Nfe,lights_phong_pars_fragment:Ife,lights_physical_fragment:Ofe,lights_physical_pars_fragment:Ffe,lights_fragment_begin:zfe,lights_fragment_maps:Ufe,lights_fragment_end:jfe,logdepthbuf_fragment:Hfe,logdepthbuf_pars_fragment:$fe,logdepthbuf_pars_vertex:Gfe,logdepthbuf_vertex:Vfe,map_fragment:qfe,map_pars_fragment:Kfe,map_particle_fragment:Wfe,map_particle_pars_fragment:Xfe,metalnessmap_fragment:Jfe,metalnessmap_pars_fragment:Yfe,morphinstance_vertex:Zfe,morphcolor_vertex:Qfe,morphnormal_vertex:epe,morphtarget_pars_vertex:tpe,morphtarget_vertex:npe,normal_fragment_begin:rpe,normal_fragment_maps:ipe,normal_pars_fragment:ope,normal_pars_vertex:spe,normal_vertex:ape,normalmap_pars_fragment:lpe,clearcoat_normal_fragment_begin:cpe,clearcoat_normal_fragment_maps:upe,clearcoat_pars_fragment:dpe,iridescence_pars_fragment:hpe,opaque_fragment:fpe,packing:ppe,premultiplied_alpha_fragment:mpe,project_vertex:gpe,dithering_fragment:ype,dithering_pars_fragment:vpe,roughnessmap_fragment:bpe,roughnessmap_pars_fragment:xpe,shadowmap_pars_fragment:_pe,shadowmap_pars_vertex:wpe,shadowmap_vertex:Spe,shadowmask_pars_fragment:Ape,skinbase_vertex:Cpe,skinning_pars_vertex:Mpe,skinning_vertex:Epe,skinnormal_vertex:kpe,specularmap_fragment:Tpe,specularmap_pars_fragment:Dpe,tonemapping_fragment:Lpe,tonemapping_pars_fragment:Rpe,transmission_fragment:Bpe,transmission_pars_fragment:Ppe,uv_pars_fragment:Npe,uv_pars_vertex:Ipe,uv_vertex:Ope,worldpos_vertex:Fpe,background_vert:zpe,background_frag:Upe,backgroundCube_vert:jpe,backgroundCube_frag:Hpe,cube_vert:$pe,cube_frag:Gpe,depth_vert:Vpe,depth_frag:qpe,distanceRGBA_vert:Kpe,distanceRGBA_frag:Wpe,equirect_vert:Xpe,equirect_frag:Jpe,linedashed_vert:Ype,linedashed_frag:Zpe,meshbasic_vert:Qpe,meshbasic_frag:eme,meshlambert_vert:tme,meshlambert_frag:nme,meshmatcap_vert:rme,meshmatcap_frag:ime,meshnormal_vert:ome,meshnormal_frag:sme,meshphong_vert:ame,meshphong_frag:lme,meshphysical_vert:cme,meshphysical_frag:ume,meshtoon_vert:dme,meshtoon_frag:hme,points_vert:fme,points_frag:pme,shadow_vert:mme,shadow_frag:gme,sprite_vert:yme,sprite_frag:vme},dt={common:{diffuse:{value:new ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Qt},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Qt}},envmap:{envMap:{value:null},envMapRotation:{value:new Qt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Qt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Qt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Qt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Qt},normalScale:{value:new $e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Qt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Qt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Qt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Qt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0},uvTransform:{value:new Qt}},sprite:{diffuse:{value:new ut(16777215)},opacity:{value:1},center:{value:new $e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Qt},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0}}},Ca={basic:{uniforms:vo([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.fog]),vertexShader:rn.meshbasic_vert,fragmentShader:rn.meshbasic_frag},lambert:{uniforms:vo([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new ut(0)}}]),vertexShader:rn.meshlambert_vert,fragmentShader:rn.meshlambert_frag},phong:{uniforms:vo([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new ut(0)},specular:{value:new ut(1118481)},shininess:{value:30}}]),vertexShader:rn.meshphong_vert,fragmentShader:rn.meshphong_frag},standard:{uniforms:vo([dt.common,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.roughnessmap,dt.metalnessmap,dt.fog,dt.lights,{emissive:{value:new ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag},toon:{uniforms:vo([dt.common,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.gradientmap,dt.fog,dt.lights,{emissive:{value:new ut(0)}}]),vertexShader:rn.meshtoon_vert,fragmentShader:rn.meshtoon_frag},matcap:{uniforms:vo([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,{matcap:{value:null}}]),vertexShader:rn.meshmatcap_vert,fragmentShader:rn.meshmatcap_frag},points:{uniforms:vo([dt.points,dt.fog]),vertexShader:rn.points_vert,fragmentShader:rn.points_frag},dashed:{uniforms:vo([dt.common,dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rn.linedashed_vert,fragmentShader:rn.linedashed_frag},depth:{uniforms:vo([dt.common,dt.displacementmap]),vertexShader:rn.depth_vert,fragmentShader:rn.depth_frag},normal:{uniforms:vo([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,{opacity:{value:1}}]),vertexShader:rn.meshnormal_vert,fragmentShader:rn.meshnormal_frag},sprite:{uniforms:vo([dt.sprite,dt.fog]),vertexShader:rn.sprite_vert,fragmentShader:rn.sprite_frag},background:{uniforms:{uvTransform:{value:new Qt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:rn.background_vert,fragmentShader:rn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Qt}},vertexShader:rn.backgroundCube_vert,fragmentShader:rn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:rn.cube_vert,fragmentShader:rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:rn.equirect_vert,fragmentShader:rn.equirect_frag},distanceRGBA:{uniforms:vo([dt.common,dt.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:rn.distanceRGBA_vert,fragmentShader:rn.distanceRGBA_frag},shadow:{uniforms:vo([dt.lights,dt.fog,{color:{value:new ut(0)},opacity:{value:1}}]),vertexShader:rn.shadow_vert,fragmentShader:rn.shadow_frag}};Ca.physical={uniforms:vo([Ca.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Qt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Qt},clearcoatNormalScale:{value:new $e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Qt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Qt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Qt},sheen:{value:0},sheenColor:{value:new ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Qt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Qt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Qt},transmissionSamplerSize:{value:new $e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Qt},attenuationDistance:{value:0},attenuationColor:{value:new ut(0)},specularColor:{value:new ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Qt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Qt},anisotropyVector:{value:new $e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Qt}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag};const x2={r:0,b:0,g:0},Vd=new Ss,bme=new Pt;function xme(t,e,n,r,i,o,s){const a=new ut(0);let l=o===!0?0:1,c,u,d=null,h=0,f=null;function p(x){let w=x.isScene===!0?x.background:null;return w&&w.isTexture&&(w=(x.backgroundBlurriness>0?n:e).get(w)),w}function v(x){let w=!1;const A=p(x);A===null?y(a,l):A&&A.isColor&&(y(A,1),w=!0);const D=t.xr.getEnvironmentBlendMode();D==="additive"?r.buffers.color.setClear(0,0,0,1,s):D==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function b(x,w){const A=p(w);A&&(A.isCubeTexture||A.mapping===y0)?(u===void 0&&(u=new $r(new xf(1,1,1),new za({name:"BackgroundCubeMaterial",uniforms:r0(Ca.backgroundCube.uniforms),vertexShader:Ca.backgroundCube.vertexShader,fragmentShader:Ca.backgroundCube.fragmentShader,side:To,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(D,k,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Vd.copy(w.backgroundRotation),Vd.x*=-1,Vd.y*=-1,Vd.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Vd.y*=-1,Vd.z*=-1),u.material.uniforms.envMap.value=A,u.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(bme.makeRotationFromEuler(Vd)),u.material.toneMapped=Ln.getTransfer(A.colorSpace)!==Zn,(d!==A||h!==A.version||f!==t.toneMapping)&&(u.material.needsUpdate=!0,d=A,h=A.version,f=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):A&&A.isTexture&&(c===void 0&&(c=new $r(new v0(2,2),new za({name:"BackgroundMaterial",uniforms:r0(Ca.background.uniforms),vertexShader:Ca.background.vertexShader,fragmentShader:Ca.background.fragmentShader,side:kl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=A,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=Ln.getTransfer(A.colorSpace)!==Zn,A.matrixAutoUpdate===!0&&A.updateMatrix(),c.material.uniforms.uvTransform.value.copy(A.matrix),(d!==A||h!==A.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,d=A,h=A.version,f=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function y(x,w){x.getRGB(x2,dK(t)),r.buffers.color.setClear(x2.r,x2.g,x2.b,w,s)}return{getClearColor:function(){return a},setClearColor:function(x,w=1){a.set(x),l=w,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,y(a,l)},render:v,addToRenderList:b}}function _me(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let o=i,s=!1;function a(C,P,z,H,$){let X=!1;const Z=d(H,z,P);o!==Z&&(o=Z,c(o.object)),X=f(C,H,z,$),X&&p(C,H,z,$),$!==null&&e.update($,t.ELEMENT_ARRAY_BUFFER),(X||s)&&(s=!1,A(C,P,z,H),$!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get($).buffer))}function l(){return t.createVertexArray()}function c(C){return t.bindVertexArray(C)}function u(C){return t.deleteVertexArray(C)}function d(C,P,z){const H=z.wireframe===!0;let $=r[C.id];$===void 0&&($={},r[C.id]=$);let X=$[P.id];X===void 0&&(X={},$[P.id]=X);let Z=X[H];return Z===void 0&&(Z=h(l()),X[H]=Z),Z}function h(C){const P=[],z=[],H=[];for(let $=0;$<n;$++)P[$]=0,z[$]=0,H[$]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:z,attributeDivisors:H,object:C,attributes:{},index:null}}function f(C,P,z,H){const $=o.attributes,X=P.attributes;let Z=0;const K=z.getAttributes();for(const O in K)if(K[O].location>=0){const I=$[O];let se=X[O];if(se===void 0&&(O==="instanceMatrix"&&C.instanceMatrix&&(se=C.instanceMatrix),O==="instanceColor"&&C.instanceColor&&(se=C.instanceColor)),I===void 0||I.attribute!==se||se&&I.data!==se.data)return!0;Z++}return o.attributesNum!==Z||o.index!==H}function p(C,P,z,H){const $={},X=P.attributes;let Z=0;const K=z.getAttributes();for(const O in K)if(K[O].location>=0){let I=X[O];I===void 0&&(O==="instanceMatrix"&&C.instanceMatrix&&(I=C.instanceMatrix),O==="instanceColor"&&C.instanceColor&&(I=C.instanceColor));const se={};se.attribute=I,I&&I.data&&(se.data=I.data),$[O]=se,Z++}o.attributes=$,o.attributesNum=Z,o.index=H}function v(){const C=o.newAttributes;for(let P=0,z=C.length;P<z;P++)C[P]=0}function b(C){y(C,0)}function y(C,P){const z=o.newAttributes,H=o.enabledAttributes,$=o.attributeDivisors;z[C]=1,H[C]===0&&(t.enableVertexAttribArray(C),H[C]=1),$[C]!==P&&(t.vertexAttribDivisor(C,P),$[C]=P)}function x(){const C=o.newAttributes,P=o.enabledAttributes;for(let z=0,H=P.length;z<H;z++)P[z]!==C[z]&&(t.disableVertexAttribArray(z),P[z]=0)}function w(C,P,z,H,$,X,Z){Z===!0?t.vertexAttribIPointer(C,P,z,$,X):t.vertexAttribPointer(C,P,z,H,$,X)}function A(C,P,z,H){v();const $=H.attributes,X=z.getAttributes(),Z=P.defaultAttributeValues;for(const K in X){const O=X[K];if(O.location>=0){let V=$[K];if(V===void 0&&(K==="instanceMatrix"&&C.instanceMatrix&&(V=C.instanceMatrix),K==="instanceColor"&&C.instanceColor&&(V=C.instanceColor)),V!==void 0){const I=V.normalized,se=V.itemSize,ye=e.get(V);if(ye===void 0)continue;const G=ye.buffer,ae=ye.type,_e=ye.bytesPerElement,ve=ae===t.INT||ae===t.UNSIGNED_INT||V.gpuType===lT;if(V.isInterleavedBufferAttribute){const Ae=V.data,Ve=Ae.stride,pt=V.offset;if(Ae.isInstancedInterleavedBuffer){for(let ke=0;ke<O.locationSize;ke++)y(O.location+ke,Ae.meshPerAttribute);C.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let ke=0;ke<O.locationSize;ke++)b(O.location+ke);t.bindBuffer(t.ARRAY_BUFFER,G);for(let ke=0;ke<O.locationSize;ke++)w(O.location+ke,se/O.locationSize,ae,I,Ve*_e,(pt+se/O.locationSize*ke)*_e,ve)}else{if(V.isInstancedBufferAttribute){for(let Ae=0;Ae<O.locationSize;Ae++)y(O.location+Ae,V.meshPerAttribute);C.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let Ae=0;Ae<O.locationSize;Ae++)b(O.location+Ae);t.bindBuffer(t.ARRAY_BUFFER,G);for(let Ae=0;Ae<O.locationSize;Ae++)w(O.location+Ae,se/O.locationSize,ae,I,se*_e,se/O.locationSize*Ae*_e,ve)}}else if(Z!==void 0){const I=Z[K];if(I!==void 0)switch(I.length){case 2:t.vertexAttrib2fv(O.location,I);break;case 3:t.vertexAttrib3fv(O.location,I);break;case 4:t.vertexAttrib4fv(O.location,I);break;default:t.vertexAttrib1fv(O.location,I)}}}}x()}function D(){L();for(const C in r){const P=r[C];for(const z in P){const H=P[z];for(const $ in H)u(H[$].object),delete H[$];delete P[z]}delete r[C]}}function k(C){if(r[C.id]===void 0)return;const P=r[C.id];for(const z in P){const H=P[z];for(const $ in H)u(H[$].object),delete H[$];delete P[z]}delete r[C.id]}function R(C){for(const P in r){const z=r[P];if(z[C.id]===void 0)continue;const H=z[C.id];for(const $ in H)u(H[$].object),delete H[$];delete z[C.id]}}function L(){T(),s=!0,o!==i&&(o=i,c(o.object))}function T(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:L,resetDefaultState:T,dispose:D,releaseStatesOfGeometry:k,releaseStatesOfProgram:R,initAttributes:v,enableAttribute:b,disableUnusedAttributes:x}}function wme(t,e,n){let r;function i(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function s(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function a(c,u,d){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let f=0;f<d;f++)this.render(c[f],u[f]);else{h.multiDrawArraysWEBGL(r,c,0,u,0,d);let f=0;for(let p=0;p<d;p++)f+=u[p];n.update(f,r,1)}}function l(c,u,d,h){if(d===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let p=0;p<c.length;p++)s(c[p],u[p],h[p]);else{f.multiDrawArraysInstancedWEBGL(r,c,0,u,0,h,0,d);let p=0;for(let v=0;v<d;v++)p+=u[v];for(let v=0;v<h.length;v++)n.update(p,r,h[v])}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Sme(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const k=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(k){return!(k!==Co&&r.convert(k)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(k){const R=k===ov&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(k!==Tl&&r.convert(k)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&k!==ys&&!R)}function l(k){if(k==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";k="mediump"}return k==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),b=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),x=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=f>0,D=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:f,maxTextureSize:p,maxCubemapSize:v,maxAttributes:b,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:w,vertexTextures:A,maxSamples:D}}function Ame(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new ac,a=new Qt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const f=d.length!==0||h||r!==0||i;return i=h,r=d.length,f},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,h){n=u(d,h,0)},this.setState=function(d,h,f){const p=d.clippingPlanes,v=d.clipIntersection,b=d.clipShadows,y=t.get(d);if(!i||p===null||p.length===0||o&&!b)o?u(null):c();else{const x=o?0:r,w=x*4;let A=y.clippingState||null;l.value=A,A=u(p,h,w,f);for(let D=0;D!==w;++D)A[D]=n[D];y.clippingState=A,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,h,f,p){const v=d!==null?d.length:0;let b=null;if(v!==0){if(b=l.value,p!==!0||b===null){const y=f+v*4,x=h.matrixWorldInverse;a.getNormalMatrix(x),(b===null||b.length<y)&&(b=new Float32Array(y));for(let w=0,A=f;w!==v;++w,A+=4)s.copy(d[w]).applyMatrix4(x,a),s.normal.toArray(b,A),b[A+3]=s.constant}l.value=b,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,b}}function Cme(t){let e=new WeakMap;function n(s,a){return a===w1?s.mapping=Tc:a===S1&&(s.mapping=id),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===w1||a===S1)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new pK(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class _l extends av{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const sm=4,XN=[.125,.215,.35,.446,.526,.582],gh=20,oM=new _l,JN=new ut;let sM=null,aM=0,lM=0,cM=!1;const uh=(1+Math.sqrt(5))/2,bp=1/uh,YN=[new W(-uh,bp,0),new W(uh,bp,0),new W(-bp,0,uh),new W(bp,0,uh),new W(0,uh,-bp),new W(0,uh,bp),new W(-1,1,-1),new W(1,1,-1),new W(-1,1,1),new W(1,1,1)];class R6{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){sM=this._renderer.getRenderTarget(),aM=this._renderer.getActiveCubeFace(),lM=this._renderer.getActiveMipmapLevel(),cM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=QN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(sM,aM,lM),this._renderer.xr.enabled=cM,e.scissorTest=!1,_2(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Tc||e.mapping===id?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),sM=this._renderer.getRenderTarget(),aM=this._renderer.getActiveCubeFace(),lM=this._renderer.getActiveMipmapLevel(),cM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Pr,minFilter:Pr,generateMipmaps:!1,type:ov,format:Co,colorSpace:Ic,depthBuffer:!1},i=ZN(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ZN(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Mme(o)),this._blurMaterial=Eme(o,e,n)}return i}_compileMaterial(e){const n=new $r(this._lodPlanes[0],e);this._renderer.compile(n,oM)}_sceneToCubeUV(e,n,r,i){const a=new Cr(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(JN),u.toneMapping=Al,u.autoClear=!1;const f=new vs({name:"PMREM.Background",side:To,depthWrite:!1,depthTest:!1}),p=new $r(new xf,f);let v=!1;const b=e.background;b?b.isColor&&(f.color.copy(b),e.background=null,v=!0):(f.color.copy(JN),v=!0);for(let y=0;y<6;y++){const x=y%3;x===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):x===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const w=this._cubeSize;_2(i,x*w,y>2?w:0,w,w),u.setRenderTarget(i),v&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Tc||e.mapping===id;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=eI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=QN());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new $r(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;_2(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,oM)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=YN[(i-o-1)%YN.length];this._blur(e,o-1,o,s,a)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new $r(this._lodPlanes[i],c),h=c.uniforms,f=this._sizeLods[r]-1,p=isFinite(o)?Math.PI/(2*f):2*Math.PI/(2*gh-1),v=o/p,b=isFinite(o)?1+Math.floor(u*v):gh;b>gh&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${gh}`);const y=[];let x=0;for(let R=0;R<gh;++R){const L=R/v,T=Math.exp(-L*L/2);y.push(T),R===0?x+=T:R<b&&(x+=2*T)}for(let R=0;R<y.length;R++)y[R]=y[R]/x;h.envMap.value=e.texture,h.samples.value=b,h.weights.value=y,h.latitudinal.value=s==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:w}=this;h.dTheta.value=p,h.mipInt.value=w-r;const A=this._sizeLods[i],D=3*A*(i>w-sm?i-w+sm:0),k=4*(this._cubeSize-A);_2(n,D,k,3*A,2*A),l.setRenderTarget(n),l.render(d,oM)}}function Mme(t){const e=[],n=[],r=[];let i=t;const o=t-sm+1+XN.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let l=1/a;s>t-sm?l=XN[s-t+sm-1]:s===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,p=6,v=3,b=2,y=1,x=new Float32Array(v*p*f),w=new Float32Array(b*p*f),A=new Float32Array(y*p*f);for(let k=0;k<f;k++){const R=k%3*2/3-1,L=k>2?0:-1,T=[R,L,0,R+2/3,L,0,R+2/3,L+1,0,R,L,0,R+2/3,L+1,0,R,L+1,0];x.set(T,v*p*k),w.set(h,b*p*k);const C=[k,k,k,k,k,k];A.set(C,y*p*k)}const D=new Wt;D.setAttribute("position",new wn(x,v)),D.setAttribute("uv",new wn(w,b)),D.setAttribute("faceIndex",new wn(A,y)),e.push(D),i>sm&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function ZN(t,e,n){const r=new Fa(t,e,n);return r.texture.mapping=y0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function _2(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Eme(t,e,n){const r=new Float32Array(gh),i=new W(0,1,0);return new za({name:"SphericalGaussianBlur",defines:{n:gh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:ST(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:yc,depthTest:!1,depthWrite:!1})}function QN(){return new za({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ST(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:yc,depthTest:!1,depthWrite:!1})}function eI(){return new za({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ST(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:yc,depthTest:!1,depthWrite:!1})}function ST(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kme(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===w1||l===S1,u=l===Tc||l===id;if(c||u){let d=e.get(a);const h=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return n===null&&(n=new R6(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const f=a.image;return c&&f&&f.height>0||u&&f&&i(f)?(n===null&&(n=new R6(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",o),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function Tme(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&bT("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Dme(t,e,n,r){const i={},o=new WeakMap;function s(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);for(const p in h.morphAttributes){const v=h.morphAttributes[p];for(let b=0,y=v.length;b<y;b++)e.remove(v[b])}h.removeEventListener("dispose",s),delete i[h.id];const f=o.get(h);f&&(e.remove(f),o.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(d,h){return i[h.id]===!0||(h.addEventListener("dispose",s),i[h.id]=!0,n.memory.geometries++),h}function l(d){const h=d.attributes;for(const p in h)e.update(h[p],t.ARRAY_BUFFER);const f=d.morphAttributes;for(const p in f){const v=f[p];for(let b=0,y=v.length;b<y;b++)e.update(v[b],t.ARRAY_BUFFER)}}function c(d){const h=[],f=d.index,p=d.attributes.position;let v=0;if(f!==null){const x=f.array;v=f.version;for(let w=0,A=x.length;w<A;w+=3){const D=x[w+0],k=x[w+1],R=x[w+2];h.push(D,k,k,R,R,D)}}else if(p!==void 0){const x=p.array;v=p.version;for(let w=0,A=x.length/3-1;w<A;w+=3){const D=w+0,k=w+1,R=w+2;h.push(D,k,k,R,R,D)}}else return;const b=new(sK(h)?wT:_T)(h,1);b.version=v;const y=o.get(d);y&&e.remove(y),o.set(d,b)}function u(d){const h=o.get(d);if(h){const f=d.index;f!==null&&h.version<f.version&&c(d)}else c(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Lme(t,e,n){let r;function i(h){r=h}let o,s;function a(h){o=h.type,s=h.bytesPerElement}function l(h,f){t.drawElements(r,f,o,h*s),n.update(f,r,1)}function c(h,f,p){p!==0&&(t.drawElementsInstanced(r,f,o,h*s,p),n.update(f,r,p))}function u(h,f,p){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let b=0;b<p;b++)this.render(h[b]/s,f[b]);else{v.multiDrawElementsWEBGL(r,f,0,o,h,0,p);let b=0;for(let y=0;y<p;y++)b+=f[y];n.update(b,r,1)}}function d(h,f,p,v){if(p===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let y=0;y<h.length;y++)c(h[y]/s,f[y],v[y]);else{b.multiDrawElementsInstancedWEBGL(r,f,0,o,h,0,v,0,p);let y=0;for(let x=0;x<p;x++)y+=f[x];for(let x=0;x<v.length;x++)n.update(y,r,v[x])}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Rme(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Bme(t,e,n){const r=new WeakMap,i=new Un;function o(s,a,l){const c=s.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let h=r.get(a);if(h===void 0||h.count!==d){let T=function(){R.dispose(),r.delete(a),a.removeEventListener("dispose",T)};h!==void 0&&h.texture.dispose();const f=a.morphAttributes.position!==void 0,p=a.morphAttributes.normal!==void 0,v=a.morphAttributes.color!==void 0,b=a.morphAttributes.position||[],y=a.morphAttributes.normal||[],x=a.morphAttributes.color||[];let w=0;f===!0&&(w=1),p===!0&&(w=2),v===!0&&(w=3);let A=a.attributes.position.count*w,D=1;A>e.maxTextureSize&&(D=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const k=new Float32Array(A*D*4*d),R=new Z3(k,A,D,d);R.type=ys,R.needsUpdate=!0;const L=w*4;for(let C=0;C<d;C++){const P=b[C],z=y[C],H=x[C],$=A*D*4*C;for(let X=0;X<P.count;X++){const Z=X*L;f===!0&&(i.fromBufferAttribute(P,X),k[$+Z+0]=i.x,k[$+Z+1]=i.y,k[$+Z+2]=i.z,k[$+Z+3]=0),p===!0&&(i.fromBufferAttribute(z,X),k[$+Z+4]=i.x,k[$+Z+5]=i.y,k[$+Z+6]=i.z,k[$+Z+7]=0),v===!0&&(i.fromBufferAttribute(H,X),k[$+Z+8]=i.x,k[$+Z+9]=i.y,k[$+Z+10]=i.z,k[$+Z+11]=H.itemSize===4?i.w:1)}}h={count:d,texture:R,size:new $e(A,D)},r.set(a,h),a.addEventListener("dispose",T)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let f=0;for(let v=0;v<c.length;v++)f+=c[v];const p=a.morphTargetsRelative?1:1-f;l.getUniforms().setValue(t,"morphTargetBaseInfluence",p),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:o}}function Pme(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==c&&(h.update(),i.set(h,c))}return d}function s(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}class AT extends ur{constructor(e,n,r,i,o,s,a,l,c,u=jh){if(u!==jh&&u!==of)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===jh&&(r=nf),r===void 0&&u===of&&(r=rf),super(null,i,o,s,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:ci,this.minFilter=l!==void 0?l:ci,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const gK=new ur,yK=new AT(1,1);yK.compareFunction=yT;const vK=new Z3,bK=new xT,xK=new lv,tI=[],nI=[],rI=new Float32Array(16),iI=new Float32Array(9),oI=new Float32Array(4);function b0(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=tI[i];if(o===void 0&&(o=new Float32Array(i),tI[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function ui(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function di(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Q3(t,e){let n=nI[e];n===void 0&&(n=new Int32Array(e),nI[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Nme(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Ime(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ui(n,e))return;t.uniform2fv(this.addr,e),di(n,e)}}function Ome(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ui(n,e))return;t.uniform3fv(this.addr,e),di(n,e)}}function Fme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ui(n,e))return;t.uniform4fv(this.addr,e),di(n,e)}}function zme(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ui(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),di(n,e)}else{if(ui(n,r))return;oI.set(r),t.uniformMatrix2fv(this.addr,!1,oI),di(n,r)}}function Ume(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ui(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),di(n,e)}else{if(ui(n,r))return;iI.set(r),t.uniformMatrix3fv(this.addr,!1,iI),di(n,r)}}function jme(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ui(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),di(n,e)}else{if(ui(n,r))return;rI.set(r),t.uniformMatrix4fv(this.addr,!1,rI),di(n,r)}}function Hme(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function $me(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ui(n,e))return;t.uniform2iv(this.addr,e),di(n,e)}}function Gme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ui(n,e))return;t.uniform3iv(this.addr,e),di(n,e)}}function Vme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ui(n,e))return;t.uniform4iv(this.addr,e),di(n,e)}}function qme(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Kme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ui(n,e))return;t.uniform2uiv(this.addr,e),di(n,e)}}function Wme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ui(n,e))return;t.uniform3uiv(this.addr,e),di(n,e)}}function Xme(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ui(n,e))return;t.uniform4uiv(this.addr,e),di(n,e)}}function Jme(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?yK:gK;n.setTexture2D(e||o,i)}function Yme(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||bK,i)}function Zme(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||xK,i)}function Qme(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||vK,i)}function e0e(t){switch(t){case 5126:return Nme;case 35664:return Ime;case 35665:return Ome;case 35666:return Fme;case 35674:return zme;case 35675:return Ume;case 35676:return jme;case 5124:case 35670:return Hme;case 35667:case 35671:return $me;case 35668:case 35672:return Gme;case 35669:case 35673:return Vme;case 5125:return qme;case 36294:return Kme;case 36295:return Wme;case 36296:return Xme;case 35678:case 36198:case 36298:case 36306:case 35682:return Jme;case 35679:case 36299:case 36307:return Yme;case 35680:case 36300:case 36308:case 36293:return Zme;case 36289:case 36303:case 36311:case 36292:return Qme}}function t0e(t,e){t.uniform1fv(this.addr,e)}function n0e(t,e){const n=b0(e,this.size,2);t.uniform2fv(this.addr,n)}function r0e(t,e){const n=b0(e,this.size,3);t.uniform3fv(this.addr,n)}function i0e(t,e){const n=b0(e,this.size,4);t.uniform4fv(this.addr,n)}function o0e(t,e){const n=b0(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function s0e(t,e){const n=b0(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function a0e(t,e){const n=b0(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function l0e(t,e){t.uniform1iv(this.addr,e)}function c0e(t,e){t.uniform2iv(this.addr,e)}function u0e(t,e){t.uniform3iv(this.addr,e)}function d0e(t,e){t.uniform4iv(this.addr,e)}function h0e(t,e){t.uniform1uiv(this.addr,e)}function f0e(t,e){t.uniform2uiv(this.addr,e)}function p0e(t,e){t.uniform3uiv(this.addr,e)}function m0e(t,e){t.uniform4uiv(this.addr,e)}function g0e(t,e,n){const r=this.cache,i=e.length,o=Q3(n,i);ui(r,o)||(t.uniform1iv(this.addr,o),di(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||gK,o[s])}function y0e(t,e,n){const r=this.cache,i=e.length,o=Q3(n,i);ui(r,o)||(t.uniform1iv(this.addr,o),di(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||bK,o[s])}function v0e(t,e,n){const r=this.cache,i=e.length,o=Q3(n,i);ui(r,o)||(t.uniform1iv(this.addr,o),di(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||xK,o[s])}function b0e(t,e,n){const r=this.cache,i=e.length,o=Q3(n,i);ui(r,o)||(t.uniform1iv(this.addr,o),di(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||vK,o[s])}function x0e(t){switch(t){case 5126:return t0e;case 35664:return n0e;case 35665:return r0e;case 35666:return i0e;case 35674:return o0e;case 35675:return s0e;case 35676:return a0e;case 5124:case 35670:return l0e;case 35667:case 35671:return c0e;case 35668:case 35672:return u0e;case 35669:case 35673:return d0e;case 5125:return h0e;case 36294:return f0e;case 36295:return p0e;case 36296:return m0e;case 35678:case 36198:case 36298:case 36306:case 35682:return g0e;case 35679:case 36299:case 36307:return y0e;case 35680:case 36300:case 36308:case 36293:return v0e;case 36289:case 36303:case 36311:case 36292:return b0e}}class _0e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=e0e(n.type)}}class w0e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=x0e(n.type)}}class S0e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,n[a.id],r)}}}const uM=/(\w+)(\])?(\[|\.)?/g;function sI(t,e){t.seq.push(e),t.map[e.id]=e}function A0e(t,e,n){const r=t.name,i=r.length;for(uM.lastIndex=0;;){const o=uM.exec(r),s=uM.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){sI(n,c===void 0?new _0e(a,t,e):new w0e(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new S0e(a),sI(n,d)),n=d}}}class I_{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);A0e(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const a=n[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function aI(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const C0e=37297;let M0e=0;function E0e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}function k0e(t){const e=Ln.getPrimaries(Ln.workingColorSpace),n=Ln.getPrimaries(t);let r;switch(e===n?r="":e===k1&&n===E1?r="LinearDisplayP3ToLinearSRGB":e===E1&&n===k1&&(r="LinearSRGBToLinearDisplayP3"),t){case Ic:case sv:return[r,"LinearTransferOETF"];case Vs:case Y3:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function lI(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+E0e(t.getShaderSource(e),s)}else return i}function T0e(t,e){const n=k0e(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function D0e(t,e){let n;switch(e){case Tq:n="Linear";break;case Dq:n="Reinhard";break;case Lq:n="OptimizedCineon";break;case aT:n="ACESFilmic";break;case Bq:n="AgX";break;case Pq:n="Neutral";break;case Rq:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function L0e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(ay).join(`
`)}function R0e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function B0e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function ay(t){return t!==""}function cI(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function uI(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const P0e=/^[ \t]*#include +<([\w\d./]+)>/gm;function B6(t){return t.replace(P0e,I0e)}const N0e=new Map;function I0e(t,e){let n=rn[e];if(n===void 0){const r=N0e.get(e);if(r!==void 0)n=rn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return B6(n)}const O0e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function dI(t){return t.replace(O0e,F0e)}function F0e(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function hI(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function z0e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===K3?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Dy?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===wa&&(e="SHADOWMAP_TYPE_VSM"),e}function U0e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Tc:case id:e="ENVMAP_TYPE_CUBE";break;case y0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function j0e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case id:e="ENVMAP_MODE_REFRACTION";break}return e}function H0e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case iv:e="ENVMAP_BLENDING_MULTIPLY";break;case Eq:e="ENVMAP_BLENDING_MIX";break;case kq:e="ENVMAP_BLENDING_ADD";break}return e}function $0e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function G0e(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=z0e(n),c=U0e(n),u=j0e(n),d=H0e(n),h=$0e(n),f=L0e(n),p=R0e(o),v=i.createProgram();let b,y,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(ay).join(`
`),b.length>0&&(b+=`
`),y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(ay).join(`
`),y.length>0&&(y+=`
`)):(b=[hI(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ay).join(`
`),y=[hI(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Al?"#define TONE_MAPPING":"",n.toneMapping!==Al?rn.tonemapping_pars_fragment:"",n.toneMapping!==Al?D0e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",rn.colorspace_pars_fragment,T0e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(ay).join(`
`)),s=B6(s),s=cI(s,n),s=uI(s,n),a=B6(a),a=cI(a,n),a=uI(a,n),s=dI(s),a=dI(a),n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,b=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,y=["#define varying in",n.glslVersion===L6?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===L6?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const w=x+b+s,A=x+y+a,D=aI(i,i.VERTEX_SHADER,w),k=aI(i,i.FRAGMENT_SHADER,A);i.attachShader(v,D),i.attachShader(v,k),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function R(P){if(t.debug.checkShaderErrors){const z=i.getProgramInfoLog(v).trim(),H=i.getShaderInfoLog(D).trim(),$=i.getShaderInfoLog(k).trim();let X=!0,Z=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(X=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,D,k);else{const K=lI(i,D,"vertex"),O=lI(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Material Name: `+P.name+`
Material Type: `+P.type+`

Program Info Log: `+z+`
`+K+`
`+O)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):(H===""||$==="")&&(Z=!1);Z&&(P.diagnostics={runnable:X,programLog:z,vertexShader:{log:H,prefix:b},fragmentShader:{log:$,prefix:y}})}i.deleteShader(D),i.deleteShader(k),L=new I_(i,v),T=B0e(i,v)}let L;this.getUniforms=function(){return L===void 0&&R(this),L};let T;this.getAttributes=function(){return T===void 0&&R(this),T};let C=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return C===!1&&(C=i.getProgramParameter(v,C0e)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=M0e++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=D,this.fragmentShader=k,this}let V0e=0;class q0e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new K0e(e),n.set(e,r)),r}}class K0e{constructor(e){this.id=V0e++,this.code=e,this.usedTimes=0}}function W0e(t,e,n,r,i,o,s){const a=new $h,l=new q0e,c=new Set,u=[],d=i.logarithmicDepthBuffer,h=i.vertexTextures;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(T){return c.add(T),T===0?"uv":`uv${T}`}function b(T,C,P,z,H){const $=z.fog,X=H.geometry,Z=T.isMeshStandardMaterial?z.environment:null,K=(T.isMeshStandardMaterial?n:e).get(T.envMap||Z),O=K&&K.mapping===y0?K.image.height:null,V=p[T.type];T.precision!==null&&(f=i.getMaxPrecision(T.precision),f!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",f,"instead."));const I=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,se=I!==void 0?I.length:0;let ye=0;X.morphAttributes.position!==void 0&&(ye=1),X.morphAttributes.normal!==void 0&&(ye=2),X.morphAttributes.color!==void 0&&(ye=3);let G,ae,_e,ve;if(V){const je=Ca[V];G=je.vertexShader,ae=je.fragmentShader}else G=T.vertexShader,ae=T.fragmentShader,l.update(T),_e=l.getVertexShaderID(T),ve=l.getFragmentShaderID(T);const Ae=t.getRenderTarget(),Ve=H.isInstancedMesh===!0,pt=H.isBatchedMesh===!0,ke=!!T.map,ee=!!T.matcap,le=!!K,xe=!!T.aoMap,Fe=!!T.lightMap,Be=!!T.bumpMap,Re=!!T.normalMap,Ze=!!T.displacementMap,Je=!!T.emissiveMap,_t=!!T.metalnessMap,Q=!!T.roughnessMap,U=T.anisotropy>0,pe=T.clearcoat>0,Te=T.dispersion>0,Oe=T.iridescence>0,Ge=T.sheen>0,ce=T.transmission>0,de=U&&!!T.anisotropyMap,De=pe&&!!T.clearcoatMap,Qe=pe&&!!T.clearcoatNormalMap,Ie=pe&&!!T.clearcoatRoughnessMap,et=Oe&&!!T.iridescenceMap,kt=Oe&&!!T.iridescenceThicknessMap,vt=Ge&&!!T.sheenColorMap,rt=Ge&&!!T.sheenRoughnessMap,te=!!T.specularMap,ge=!!T.specularColorMap,We=!!T.specularIntensityMap,J=ce&&!!T.transmissionMap,He=ce&&!!T.thicknessMap,Se=!!T.gradientMap,Ce=!!T.alphaMap,qe=T.alphaTest>0,F=!!T.alphaHash,j=!!T.extensions;let Y=Al;T.toneMapped&&(Ae===null||Ae.isXRRenderTarget===!0)&&(Y=t.toneMapping);const he={shaderID:V,shaderType:T.type,shaderName:T.name,vertexShader:G,fragmentShader:ae,defines:T.defines,customVertexShaderID:_e,customFragmentShaderID:ve,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:f,batching:pt,batchingColor:pt&&H._colorsTexture!==null,instancing:Ve,instancingColor:Ve&&H.instanceColor!==null,instancingMorph:Ve&&H.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:Ae===null?t.outputColorSpace:Ae.isXRRenderTarget===!0?Ae.texture.colorSpace:Ic,alphaToCoverage:!!T.alphaToCoverage,map:ke,matcap:ee,envMap:le,envMapMode:le&&K.mapping,envMapCubeUVHeight:O,aoMap:xe,lightMap:Fe,bumpMap:Be,normalMap:Re,displacementMap:h&&Ze,emissiveMap:Je,normalMapObjectSpace:Re&&T.normalMapType===Yq,normalMapTangentSpace:Re&&T.normalMapType===hd,metalnessMap:_t,roughnessMap:Q,anisotropy:U,anisotropyMap:de,clearcoat:pe,clearcoatMap:De,clearcoatNormalMap:Qe,clearcoatRoughnessMap:Ie,dispersion:Te,iridescence:Oe,iridescenceMap:et,iridescenceThicknessMap:kt,sheen:Ge,sheenColorMap:vt,sheenRoughnessMap:rt,specularMap:te,specularColorMap:ge,specularIntensityMap:We,transmission:ce,transmissionMap:J,thicknessMap:He,gradientMap:Se,opaque:T.transparent===!1&&T.blending===Uh&&T.alphaToCoverage===!1,alphaMap:Ce,alphaTest:qe,alphaHash:F,combine:T.combine,mapUv:ke&&v(T.map.channel),aoMapUv:xe&&v(T.aoMap.channel),lightMapUv:Fe&&v(T.lightMap.channel),bumpMapUv:Be&&v(T.bumpMap.channel),normalMapUv:Re&&v(T.normalMap.channel),displacementMapUv:Ze&&v(T.displacementMap.channel),emissiveMapUv:Je&&v(T.emissiveMap.channel),metalnessMapUv:_t&&v(T.metalnessMap.channel),roughnessMapUv:Q&&v(T.roughnessMap.channel),anisotropyMapUv:de&&v(T.anisotropyMap.channel),clearcoatMapUv:De&&v(T.clearcoatMap.channel),clearcoatNormalMapUv:Qe&&v(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ie&&v(T.clearcoatRoughnessMap.channel),iridescenceMapUv:et&&v(T.iridescenceMap.channel),iridescenceThicknessMapUv:kt&&v(T.iridescenceThicknessMap.channel),sheenColorMapUv:vt&&v(T.sheenColorMap.channel),sheenRoughnessMapUv:rt&&v(T.sheenRoughnessMap.channel),specularMapUv:te&&v(T.specularMap.channel),specularColorMapUv:ge&&v(T.specularColorMap.channel),specularIntensityMapUv:We&&v(T.specularIntensityMap.channel),transmissionMapUv:J&&v(T.transmissionMap.channel),thicknessMapUv:He&&v(T.thicknessMap.channel),alphaMapUv:Ce&&v(T.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(Re||U),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,pointsUvs:H.isPoints===!0&&!!X.attributes.uv&&(ke||Ce),fog:!!$,useFog:T.fog===!0,fogExp2:!!$&&$.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:H.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:se,morphTextureStride:ye,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:Y,decodeVideoTexture:ke&&T.map.isVideoTexture===!0&&Ln.getTransfer(T.map.colorSpace)===Zn,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Ea,flipSided:T.side===To,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:j&&T.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:j&&T.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return he.vertexUv1s=c.has(1),he.vertexUv2s=c.has(2),he.vertexUv3s=c.has(3),c.clear(),he}function y(T){const C=[];if(T.shaderID?C.push(T.shaderID):(C.push(T.customVertexShaderID),C.push(T.customFragmentShaderID)),T.defines!==void 0)for(const P in T.defines)C.push(P),C.push(T.defines[P]);return T.isRawShaderMaterial===!1&&(x(C,T),w(C,T),C.push(t.outputColorSpace)),C.push(T.customProgramCacheKey),C.join()}function x(T,C){T.push(C.precision),T.push(C.outputColorSpace),T.push(C.envMapMode),T.push(C.envMapCubeUVHeight),T.push(C.mapUv),T.push(C.alphaMapUv),T.push(C.lightMapUv),T.push(C.aoMapUv),T.push(C.bumpMapUv),T.push(C.normalMapUv),T.push(C.displacementMapUv),T.push(C.emissiveMapUv),T.push(C.metalnessMapUv),T.push(C.roughnessMapUv),T.push(C.anisotropyMapUv),T.push(C.clearcoatMapUv),T.push(C.clearcoatNormalMapUv),T.push(C.clearcoatRoughnessMapUv),T.push(C.iridescenceMapUv),T.push(C.iridescenceThicknessMapUv),T.push(C.sheenColorMapUv),T.push(C.sheenRoughnessMapUv),T.push(C.specularMapUv),T.push(C.specularColorMapUv),T.push(C.specularIntensityMapUv),T.push(C.transmissionMapUv),T.push(C.thicknessMapUv),T.push(C.combine),T.push(C.fogExp2),T.push(C.sizeAttenuation),T.push(C.morphTargetsCount),T.push(C.morphAttributeCount),T.push(C.numDirLights),T.push(C.numPointLights),T.push(C.numSpotLights),T.push(C.numSpotLightMaps),T.push(C.numHemiLights),T.push(C.numRectAreaLights),T.push(C.numDirLightShadows),T.push(C.numPointLightShadows),T.push(C.numSpotLightShadows),T.push(C.numSpotLightShadowsWithMaps),T.push(C.numLightProbes),T.push(C.shadowMapType),T.push(C.toneMapping),T.push(C.numClippingPlanes),T.push(C.numClipIntersection),T.push(C.depthPacking)}function w(T,C){a.disableAll(),C.supportsVertexTextures&&a.enable(0),C.instancing&&a.enable(1),C.instancingColor&&a.enable(2),C.instancingMorph&&a.enable(3),C.matcap&&a.enable(4),C.envMap&&a.enable(5),C.normalMapObjectSpace&&a.enable(6),C.normalMapTangentSpace&&a.enable(7),C.clearcoat&&a.enable(8),C.iridescence&&a.enable(9),C.alphaTest&&a.enable(10),C.vertexColors&&a.enable(11),C.vertexAlphas&&a.enable(12),C.vertexUv1s&&a.enable(13),C.vertexUv2s&&a.enable(14),C.vertexUv3s&&a.enable(15),C.vertexTangents&&a.enable(16),C.anisotropy&&a.enable(17),C.alphaHash&&a.enable(18),C.batching&&a.enable(19),C.dispersion&&a.enable(20),C.batchingColor&&a.enable(21),T.push(a.mask),a.disableAll(),C.fog&&a.enable(0),C.useFog&&a.enable(1),C.flatShading&&a.enable(2),C.logarithmicDepthBuffer&&a.enable(3),C.skinning&&a.enable(4),C.morphTargets&&a.enable(5),C.morphNormals&&a.enable(6),C.morphColors&&a.enable(7),C.premultipliedAlpha&&a.enable(8),C.shadowMapEnabled&&a.enable(9),C.doubleSided&&a.enable(10),C.flipSided&&a.enable(11),C.useDepthPacking&&a.enable(12),C.dithering&&a.enable(13),C.transmission&&a.enable(14),C.sheen&&a.enable(15),C.opaque&&a.enable(16),C.pointsUvs&&a.enable(17),C.decodeVideoTexture&&a.enable(18),C.alphaToCoverage&&a.enable(19),T.push(a.mask)}function A(T){const C=p[T.type];let P;if(C){const z=Ca[C];P=hK.clone(z.uniforms)}else P=T.uniforms;return P}function D(T,C){let P;for(let z=0,H=u.length;z<H;z++){const $=u[z];if($.cacheKey===C){P=$,++P.usedTimes;break}}return P===void 0&&(P=new G0e(t,C,T,o),u.push(P)),P}function k(T){if(--T.usedTimes===0){const C=u.indexOf(T);u[C]=u[u.length-1],u.pop(),T.destroy()}}function R(T){l.remove(T)}function L(){l.dispose()}return{getParameters:b,getProgramCacheKey:y,getUniforms:A,acquireProgram:D,releaseProgram:k,releaseShaderCache:R,programs:u,dispose:L}}function X0e(){let t=new WeakMap;function e(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function n(o){t.delete(o)}function r(o,s,a){t.get(o)[s]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function J0e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function fI(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function pI(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(d,h,f,p,v,b){let y=t[e];return y===void 0?(y={id:d.id,object:d,geometry:h,material:f,groupOrder:p,renderOrder:d.renderOrder,z:v,group:b},t[e]=y):(y.id=d.id,y.object=d,y.geometry=h,y.material=f,y.groupOrder=p,y.renderOrder=d.renderOrder,y.z=v,y.group=b),e++,y}function a(d,h,f,p,v,b){const y=s(d,h,f,p,v,b);f.transmission>0?r.push(y):f.transparent===!0?i.push(y):n.push(y)}function l(d,h,f,p,v,b){const y=s(d,h,f,p,v,b);f.transmission>0?r.unshift(y):f.transparent===!0?i.unshift(y):n.unshift(y)}function c(d,h){n.length>1&&n.sort(d||J0e),r.length>1&&r.sort(h||fI),i.length>1&&i.sort(h||fI)}function u(){for(let d=e,h=t.length;d<h;d++){const f=t[d];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function Y0e(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new pI,t.set(r,[s])):i>=o.length?(s=new pI,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function Z0e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new W,color:new ut};break;case"SpotLight":n={position:new W,direction:new W,color:new ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new W,color:new ut,distance:0,decay:0};break;case"HemisphereLight":n={direction:new W,skyColor:new ut,groundColor:new ut};break;case"RectAreaLight":n={color:new ut,position:new W,halfWidth:new W,halfHeight:new W};break}return t[e.id]=n,n}}}function Q0e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let ege=0;function tge(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function nge(t){const e=new Z0e,n=Q0e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new W);const i=new W,o=new Pt,s=new Pt;function a(c){let u=0,d=0,h=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let f=0,p=0,v=0,b=0,y=0,x=0,w=0,A=0,D=0,k=0,R=0;c.sort(tge);for(let T=0,C=c.length;T<C;T++){const P=c[T],z=P.color,H=P.intensity,$=P.distance,X=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)u+=z.r*H,d+=z.g*H,h+=z.b*H;else if(P.isLightProbe){for(let Z=0;Z<9;Z++)r.probe[Z].addScaledVector(P.sh.coefficients[Z],H);R++}else if(P.isDirectionalLight){const Z=e.get(P);if(Z.color.copy(P.color).multiplyScalar(P.intensity),P.castShadow){const K=P.shadow,O=n.get(P);O.shadowBias=K.bias,O.shadowNormalBias=K.normalBias,O.shadowRadius=K.radius,O.shadowMapSize=K.mapSize,r.directionalShadow[f]=O,r.directionalShadowMap[f]=X,r.directionalShadowMatrix[f]=P.shadow.matrix,x++}r.directional[f]=Z,f++}else if(P.isSpotLight){const Z=e.get(P);Z.position.setFromMatrixPosition(P.matrixWorld),Z.color.copy(z).multiplyScalar(H),Z.distance=$,Z.coneCos=Math.cos(P.angle),Z.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),Z.decay=P.decay,r.spot[v]=Z;const K=P.shadow;if(P.map&&(r.spotLightMap[D]=P.map,D++,K.updateMatrices(P),P.castShadow&&k++),r.spotLightMatrix[v]=K.matrix,P.castShadow){const O=n.get(P);O.shadowBias=K.bias,O.shadowNormalBias=K.normalBias,O.shadowRadius=K.radius,O.shadowMapSize=K.mapSize,r.spotShadow[v]=O,r.spotShadowMap[v]=X,A++}v++}else if(P.isRectAreaLight){const Z=e.get(P);Z.color.copy(z).multiplyScalar(H),Z.halfWidth.set(P.width*.5,0,0),Z.halfHeight.set(0,P.height*.5,0),r.rectArea[b]=Z,b++}else if(P.isPointLight){const Z=e.get(P);if(Z.color.copy(P.color).multiplyScalar(P.intensity),Z.distance=P.distance,Z.decay=P.decay,P.castShadow){const K=P.shadow,O=n.get(P);O.shadowBias=K.bias,O.shadowNormalBias=K.normalBias,O.shadowRadius=K.radius,O.shadowMapSize=K.mapSize,O.shadowCameraNear=K.camera.near,O.shadowCameraFar=K.camera.far,r.pointShadow[p]=O,r.pointShadowMap[p]=X,r.pointShadowMatrix[p]=P.shadow.matrix,w++}r.point[p]=Z,p++}else if(P.isHemisphereLight){const Z=e.get(P);Z.skyColor.copy(P.color).multiplyScalar(H),Z.groundColor.copy(P.groundColor).multiplyScalar(H),r.hemi[y]=Z,y++}}b>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=dt.LTC_FLOAT_1,r.rectAreaLTC2=dt.LTC_FLOAT_2):(r.rectAreaLTC1=dt.LTC_HALF_1,r.rectAreaLTC2=dt.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=h;const L=r.hash;(L.directionalLength!==f||L.pointLength!==p||L.spotLength!==v||L.rectAreaLength!==b||L.hemiLength!==y||L.numDirectionalShadows!==x||L.numPointShadows!==w||L.numSpotShadows!==A||L.numSpotMaps!==D||L.numLightProbes!==R)&&(r.directional.length=f,r.spot.length=v,r.rectArea.length=b,r.point.length=p,r.hemi.length=y,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=A+D-k,r.spotLightMap.length=D,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=R,L.directionalLength=f,L.pointLength=p,L.spotLength=v,L.rectAreaLength=b,L.hemiLength=y,L.numDirectionalShadows=x,L.numPointShadows=w,L.numSpotShadows=A,L.numSpotMaps=D,L.numLightProbes=R,r.version=ege++)}function l(c,u){let d=0,h=0,f=0,p=0,v=0;const b=u.matrixWorldInverse;for(let y=0,x=c.length;y<x;y++){const w=c[y];if(w.isDirectionalLight){const A=r.directional[d];A.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(b),d++}else if(w.isSpotLight){const A=r.spot[f];A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(b),A.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(b),f++}else if(w.isRectAreaLight){const A=r.rectArea[p];A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(b),s.identity(),o.copy(w.matrixWorld),o.premultiply(b),s.extractRotation(o),A.halfWidth.set(w.width*.5,0,0),A.halfHeight.set(0,w.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),p++}else if(w.isPointLight){const A=r.point[h];A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(b),h++}else if(w.isHemisphereLight){const A=r.hemi[v];A.direction.setFromMatrixPosition(w.matrixWorld),A.direction.transformDirection(b),v++}}}return{setup:a,setupView:l,state:r}}function mI(t){const e=new nge(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function s(u){r.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function rge(t){let e=new WeakMap;function n(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new mI(t),e.set(i,[a])):o>=s.length?(a=new mI(t),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class CT extends ei{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Xq,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MT extends ei{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ige=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,oge=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function sge(t,e,n){let r=new cv;const i=new $e,o=new $e,s=new Un,a=new CT({depthPacking:Jq}),l=new MT,c={},u=n.maxTextureSize,d={[kl]:To,[To]:kl,[Ea]:Ea},h=new za({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $e},radius:{value:4}},vertexShader:ige,fragmentShader:oge}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new Wt;p.setAttribute("position",new wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new $r(p,h),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=K3;let y=this.type;this.render=function(k,R,L){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||k.length===0)return;const T=t.getRenderTarget(),C=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),z=t.state;z.setBlending(yc),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const H=y!==wa&&this.type===wa,$=y===wa&&this.type!==wa;for(let X=0,Z=k.length;X<Z;X++){const K=k[X],O=K.shadow;if(O===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(O.autoUpdate===!1&&O.needsUpdate===!1)continue;i.copy(O.mapSize);const V=O.getFrameExtents();if(i.multiply(V),o.copy(O.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/V.x),i.x=o.x*V.x,O.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/V.y),i.y=o.y*V.y,O.mapSize.y=o.y)),O.map===null||H===!0||$===!0){const se=this.type!==wa?{minFilter:ci,magFilter:ci}:{};O.map!==null&&O.map.dispose(),O.map=new Fa(i.x,i.y,se),O.map.texture.name=K.name+".shadowMap",O.camera.updateProjectionMatrix()}t.setRenderTarget(O.map),t.clear();const I=O.getViewportCount();for(let se=0;se<I;se++){const ye=O.getViewport(se);s.set(o.x*ye.x,o.y*ye.y,o.x*ye.z,o.y*ye.w),z.viewport(s),O.updateMatrices(K,se),r=O.getFrustum(),A(R,L,O.camera,K,this.type)}O.isPointLightShadow!==!0&&this.type===wa&&x(O,L),O.needsUpdate=!1}y=this.type,b.needsUpdate=!1,t.setRenderTarget(T,C,P)};function x(k,R){const L=e.update(v);h.defines.VSM_SAMPLES!==k.blurSamples&&(h.defines.VSM_SAMPLES=k.blurSamples,f.defines.VSM_SAMPLES=k.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new Fa(i.x,i.y)),h.uniforms.shadow_pass.value=k.map.texture,h.uniforms.resolution.value=k.mapSize,h.uniforms.radius.value=k.radius,t.setRenderTarget(k.mapPass),t.clear(),t.renderBufferDirect(R,null,L,h,v,null),f.uniforms.shadow_pass.value=k.mapPass.texture,f.uniforms.resolution.value=k.mapSize,f.uniforms.radius.value=k.radius,t.setRenderTarget(k.map),t.clear(),t.renderBufferDirect(R,null,L,f,v,null)}function w(k,R,L,T){let C=null;const P=L.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(P!==void 0)C=P;else if(C=L.isPointLight===!0?l:a,t.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const z=C.uuid,H=R.uuid;let $=c[z];$===void 0&&($={},c[z]=$);let X=$[H];X===void 0&&(X=C.clone(),$[H]=X,R.addEventListener("dispose",D)),C=X}if(C.visible=R.visible,C.wireframe=R.wireframe,T===wa?C.side=R.shadowSide!==null?R.shadowSide:R.side:C.side=R.shadowSide!==null?R.shadowSide:d[R.side],C.alphaMap=R.alphaMap,C.alphaTest=R.alphaTest,C.map=R.map,C.clipShadows=R.clipShadows,C.clippingPlanes=R.clippingPlanes,C.clipIntersection=R.clipIntersection,C.displacementMap=R.displacementMap,C.displacementScale=R.displacementScale,C.displacementBias=R.displacementBias,C.wireframeLinewidth=R.wireframeLinewidth,C.linewidth=R.linewidth,L.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const z=t.properties.get(C);z.light=L}return C}function A(k,R,L,T,C){if(k.visible===!1)return;if(k.layers.test(R.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&C===wa)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,k.matrixWorld);const H=e.update(k),$=k.material;if(Array.isArray($)){const X=H.groups;for(let Z=0,K=X.length;Z<K;Z++){const O=X[Z],V=$[O.materialIndex];if(V&&V.visible){const I=w(k,V,T,C);k.onBeforeShadow(t,k,R,L,H,I,O),t.renderBufferDirect(L,null,H,I,k,O),k.onAfterShadow(t,k,R,L,H,I,O)}}}else if($.visible){const X=w(k,$,T,C);k.onBeforeShadow(t,k,R,L,H,X,null),t.renderBufferDirect(L,null,H,X,k,null),k.onAfterShadow(t,k,R,L,H,X,null)}}const z=k.children;for(let H=0,$=z.length;H<$;H++)A(z[H],R,L,T,C)}function D(k){k.target.removeEventListener("dispose",D);for(const L in c){const T=c[L],C=k.target.uuid;C in T&&(T[C].dispose(),delete T[C])}}}function age(t){function e(){let J=!1;const He=new Un;let Se=null;const Ce=new Un(0,0,0,0);return{setMask:function(qe){Se!==qe&&!J&&(t.colorMask(qe,qe,qe,qe),Se=qe)},setLocked:function(qe){J=qe},setClear:function(qe,F,j,Y,he){he===!0&&(qe*=Y,F*=Y,j*=Y),He.set(qe,F,j,Y),Ce.equals(He)===!1&&(t.clearColor(qe,F,j,Y),Ce.copy(He))},reset:function(){J=!1,Se=null,Ce.set(-1,0,0,0)}}}function n(){let J=!1,He=null,Se=null,Ce=null;return{setTest:function(qe){qe?ve(t.DEPTH_TEST):Ae(t.DEPTH_TEST)},setMask:function(qe){He!==qe&&!J&&(t.depthMask(qe),He=qe)},setFunc:function(qe){if(Se!==qe){switch(qe){case xq:t.depthFunc(t.NEVER);break;case _q:t.depthFunc(t.ALWAYS);break;case wq:t.depthFunc(t.LESS);break;case _1:t.depthFunc(t.LEQUAL);break;case Sq:t.depthFunc(t.EQUAL);break;case Aq:t.depthFunc(t.GEQUAL);break;case Cq:t.depthFunc(t.GREATER);break;case Mq:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Se=qe}},setLocked:function(qe){J=qe},setClear:function(qe){Ce!==qe&&(t.clearDepth(qe),Ce=qe)},reset:function(){J=!1,He=null,Se=null,Ce=null}}}function r(){let J=!1,He=null,Se=null,Ce=null,qe=null,F=null,j=null,Y=null,he=null;return{setTest:function(je){J||(je?ve(t.STENCIL_TEST):Ae(t.STENCIL_TEST))},setMask:function(je){He!==je&&!J&&(t.stencilMask(je),He=je)},setFunc:function(je,mt,Tt){(Se!==je||Ce!==mt||qe!==Tt)&&(t.stencilFunc(je,mt,Tt),Se=je,Ce=mt,qe=Tt)},setOp:function(je,mt,Tt){(F!==je||j!==mt||Y!==Tt)&&(t.stencilOp(je,mt,Tt),F=je,j=mt,Y=Tt)},setLocked:function(je){J=je},setClear:function(je){he!==je&&(t.clearStencil(je),he=je)},reset:function(){J=!1,He=null,Se=null,Ce=null,qe=null,F=null,j=null,Y=null,he=null}}}const i=new e,o=new n,s=new r,a=new WeakMap,l=new WeakMap;let c={},u={},d=new WeakMap,h=[],f=null,p=!1,v=null,b=null,y=null,x=null,w=null,A=null,D=null,k=new ut(0,0,0),R=0,L=!1,T=null,C=null,P=null,z=null,H=null;const $=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,Z=0;const K=t.getParameter(t.VERSION);K.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(K)[1]),X=Z>=1):K.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),X=Z>=2);let O=null,V={};const I=t.getParameter(t.SCISSOR_BOX),se=t.getParameter(t.VIEWPORT),ye=new Un().fromArray(I),G=new Un().fromArray(se);function ae(J,He,Se,Ce){const qe=new Uint8Array(4),F=t.createTexture();t.bindTexture(J,F),t.texParameteri(J,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(J,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let j=0;j<Se;j++)J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY?t.texImage3D(He,0,t.RGBA,1,1,Ce,0,t.RGBA,t.UNSIGNED_BYTE,qe):t.texImage2D(He+j,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,qe);return F}const _e={};_e[t.TEXTURE_2D]=ae(t.TEXTURE_2D,t.TEXTURE_2D,1),_e[t.TEXTURE_CUBE_MAP]=ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),_e[t.TEXTURE_2D_ARRAY]=ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),_e[t.TEXTURE_3D]=ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),s.setClear(0),ve(t.DEPTH_TEST),o.setFunc(_1),Be(!1),Re(Q5),ve(t.CULL_FACE),xe(yc);function ve(J){c[J]!==!0&&(t.enable(J),c[J]=!0)}function Ae(J){c[J]!==!1&&(t.disable(J),c[J]=!1)}function Ve(J,He){return u[J]!==He?(t.bindFramebuffer(J,He),u[J]=He,J===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=He),J===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=He),!0):!1}function pt(J,He){let Se=h,Ce=!1;if(J){Se=d.get(He),Se===void 0&&(Se=[],d.set(He,Se));const qe=J.textures;if(Se.length!==qe.length||Se[0]!==t.COLOR_ATTACHMENT0){for(let F=0,j=qe.length;F<j;F++)Se[F]=t.COLOR_ATTACHMENT0+F;Se.length=qe.length,Ce=!0}}else Se[0]!==t.BACK&&(Se[0]=t.BACK,Ce=!0);Ce&&t.drawBuffers(Se)}function ke(J){return f!==J?(t.useProgram(J),f=J,!0):!1}const ee={[Nu]:t.FUNC_ADD,[rq]:t.FUNC_SUBTRACT,[iq]:t.FUNC_REVERSE_SUBTRACT};ee[oq]=t.MIN,ee[sq]=t.MAX;const le={[aq]:t.ZERO,[lq]:t.ONE,[cq]:t.SRC_COLOR,[Gw]:t.SRC_ALPHA,[mq]:t.SRC_ALPHA_SATURATE,[fq]:t.DST_COLOR,[dq]:t.DST_ALPHA,[uq]:t.ONE_MINUS_SRC_COLOR,[Vw]:t.ONE_MINUS_SRC_ALPHA,[pq]:t.ONE_MINUS_DST_COLOR,[hq]:t.ONE_MINUS_DST_ALPHA,[gq]:t.CONSTANT_COLOR,[yq]:t.ONE_MINUS_CONSTANT_COLOR,[vq]:t.CONSTANT_ALPHA,[bq]:t.ONE_MINUS_CONSTANT_ALPHA};function xe(J,He,Se,Ce,qe,F,j,Y,he,je){if(J===yc){p===!0&&(Ae(t.BLEND),p=!1);return}if(p===!1&&(ve(t.BLEND),p=!0),J!==nq){if(J!==v||je!==L){if((b!==Nu||w!==Nu)&&(t.blendEquation(t.FUNC_ADD),b=Nu,w=Nu),je)switch(J){case Uh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case e6:t.blendFunc(t.ONE,t.ONE);break;case t6:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case n6:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}else switch(J){case Uh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case e6:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case t6:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case n6:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}y=null,x=null,A=null,D=null,k.set(0,0,0),R=0,v=J,L=je}return}qe=qe||He,F=F||Se,j=j||Ce,(He!==b||qe!==w)&&(t.blendEquationSeparate(ee[He],ee[qe]),b=He,w=qe),(Se!==y||Ce!==x||F!==A||j!==D)&&(t.blendFuncSeparate(le[Se],le[Ce],le[F],le[j]),y=Se,x=Ce,A=F,D=j),(Y.equals(k)===!1||he!==R)&&(t.blendColor(Y.r,Y.g,Y.b,he),k.copy(Y),R=he),v=J,L=!1}function Fe(J,He){J.side===Ea?Ae(t.CULL_FACE):ve(t.CULL_FACE);let Se=J.side===To;He&&(Se=!Se),Be(Se),J.blending===Uh&&J.transparent===!1?xe(yc):xe(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.blendColor,J.blendAlpha,J.premultipliedAlpha),o.setFunc(J.depthFunc),o.setTest(J.depthTest),o.setMask(J.depthWrite),i.setMask(J.colorWrite);const Ce=J.stencilWrite;s.setTest(Ce),Ce&&(s.setMask(J.stencilWriteMask),s.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),s.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),Je(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?ve(t.SAMPLE_ALPHA_TO_COVERAGE):Ae(t.SAMPLE_ALPHA_TO_COVERAGE)}function Be(J){T!==J&&(J?t.frontFace(t.CW):t.frontFace(t.CCW),T=J)}function Re(J){J!==QV?(ve(t.CULL_FACE),J!==C&&(J===Q5?t.cullFace(t.BACK):J===eq?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ae(t.CULL_FACE),C=J}function Ze(J){J!==P&&(X&&t.lineWidth(J),P=J)}function Je(J,He,Se){J?(ve(t.POLYGON_OFFSET_FILL),(z!==He||H!==Se)&&(t.polygonOffset(He,Se),z=He,H=Se)):Ae(t.POLYGON_OFFSET_FILL)}function _t(J){J?ve(t.SCISSOR_TEST):Ae(t.SCISSOR_TEST)}function Q(J){J===void 0&&(J=t.TEXTURE0+$-1),O!==J&&(t.activeTexture(J),O=J)}function U(J,He,Se){Se===void 0&&(O===null?Se=t.TEXTURE0+$-1:Se=O);let Ce=V[Se];Ce===void 0&&(Ce={type:void 0,texture:void 0},V[Se]=Ce),(Ce.type!==J||Ce.texture!==He)&&(O!==Se&&(t.activeTexture(Se),O=Se),t.bindTexture(J,He||_e[J]),Ce.type=J,Ce.texture=He)}function pe(){const J=V[O];J!==void 0&&J.type!==void 0&&(t.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function Te(){try{t.compressedTexImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Oe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ge(){try{t.texSubImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ce(){try{t.texSubImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function de(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function De(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Qe(){try{t.texStorage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ie(){try{t.texStorage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function et(){try{t.texImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function kt(){try{t.texImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function vt(J){ye.equals(J)===!1&&(t.scissor(J.x,J.y,J.z,J.w),ye.copy(J))}function rt(J){G.equals(J)===!1&&(t.viewport(J.x,J.y,J.z,J.w),G.copy(J))}function te(J,He){let Se=l.get(He);Se===void 0&&(Se=new WeakMap,l.set(He,Se));let Ce=Se.get(J);Ce===void 0&&(Ce=t.getUniformBlockIndex(He,J.name),Se.set(J,Ce))}function ge(J,He){const Ce=l.get(He).get(J);a.get(He)!==Ce&&(t.uniformBlockBinding(He,Ce,J.__bindingPointIndex),a.set(He,Ce))}function We(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},O=null,V={},u={},d=new WeakMap,h=[],f=null,p=!1,v=null,b=null,y=null,x=null,w=null,A=null,D=null,k=new ut(0,0,0),R=0,L=!1,T=null,C=null,P=null,z=null,H=null,ye.set(0,0,t.canvas.width,t.canvas.height),G.set(0,0,t.canvas.width,t.canvas.height),i.reset(),o.reset(),s.reset()}return{buffers:{color:i,depth:o,stencil:s},enable:ve,disable:Ae,bindFramebuffer:Ve,drawBuffers:pt,useProgram:ke,setBlending:xe,setMaterial:Fe,setFlipSided:Be,setCullFace:Re,setLineWidth:Ze,setPolygonOffset:Je,setScissorTest:_t,activeTexture:Q,bindTexture:U,unbindTexture:pe,compressedTexImage2D:Te,compressedTexImage3D:Oe,texImage2D:et,texImage3D:kt,updateUBOMapping:te,uniformBlockBinding:ge,texStorage2D:Qe,texStorage3D:Ie,texSubImage2D:Ge,texSubImage3D:ce,compressedTexSubImage2D:de,compressedTexSubImage3D:De,scissor:vt,viewport:rt,reset:We}}function lge(t,e,n,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new $e,u=new WeakMap;let d;const h=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(Q,U){return f?new OffscreenCanvas(Q,U):L1("canvas")}function v(Q,U,pe){let Te=1;const Oe=_t(Q);if((Oe.width>pe||Oe.height>pe)&&(Te=pe/Math.max(Oe.width,Oe.height)),Te<1)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap||typeof VideoFrame<"u"&&Q instanceof VideoFrame){const Ge=Math.floor(Te*Oe.width),ce=Math.floor(Te*Oe.height);d===void 0&&(d=p(Ge,ce));const de=U?p(Ge,ce):d;return de.width=Ge,de.height=ce,de.getContext("2d").drawImage(Q,0,0,Ge,ce),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Oe.width+"x"+Oe.height+") to ("+Ge+"x"+ce+")."),de}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Oe.width+"x"+Oe.height+")."),Q;return Q}function b(Q){return Q.generateMipmaps&&Q.minFilter!==ci&&Q.minFilter!==Pr}function y(Q){t.generateMipmap(Q)}function x(Q,U,pe,Te,Oe=!1){if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Ge=U;if(U===t.RED&&(pe===t.FLOAT&&(Ge=t.R32F),pe===t.HALF_FLOAT&&(Ge=t.R16F),pe===t.UNSIGNED_BYTE&&(Ge=t.R8)),U===t.RED_INTEGER&&(pe===t.UNSIGNED_BYTE&&(Ge=t.R8UI),pe===t.UNSIGNED_SHORT&&(Ge=t.R16UI),pe===t.UNSIGNED_INT&&(Ge=t.R32UI),pe===t.BYTE&&(Ge=t.R8I),pe===t.SHORT&&(Ge=t.R16I),pe===t.INT&&(Ge=t.R32I)),U===t.RG&&(pe===t.FLOAT&&(Ge=t.RG32F),pe===t.HALF_FLOAT&&(Ge=t.RG16F),pe===t.UNSIGNED_BYTE&&(Ge=t.RG8)),U===t.RG_INTEGER&&(pe===t.UNSIGNED_BYTE&&(Ge=t.RG8UI),pe===t.UNSIGNED_SHORT&&(Ge=t.RG16UI),pe===t.UNSIGNED_INT&&(Ge=t.RG32UI),pe===t.BYTE&&(Ge=t.RG8I),pe===t.SHORT&&(Ge=t.RG16I),pe===t.INT&&(Ge=t.RG32I)),U===t.RGB&&pe===t.UNSIGNED_INT_5_9_9_9_REV&&(Ge=t.RGB9_E5),U===t.RGBA){const ce=Oe?M1:Ln.getTransfer(Te);pe===t.FLOAT&&(Ge=t.RGBA32F),pe===t.HALF_FLOAT&&(Ge=t.RGBA16F),pe===t.UNSIGNED_BYTE&&(Ge=ce===Zn?t.SRGB8_ALPHA8:t.RGBA8),pe===t.UNSIGNED_SHORT_4_4_4_4&&(Ge=t.RGBA4),pe===t.UNSIGNED_SHORT_5_5_5_1&&(Ge=t.RGB5_A1)}return(Ge===t.R16F||Ge===t.R32F||Ge===t.RG16F||Ge===t.RG32F||Ge===t.RGBA16F||Ge===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ge}function w(Q,U){let pe;return Q?U===null||U===nf||U===rf?pe=t.DEPTH24_STENCIL8:U===ys?pe=t.DEPTH32F_STENCIL8:U===A1&&(pe=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):U===null||U===nf||U===rf?pe=t.DEPTH_COMPONENT24:U===ys?pe=t.DEPTH_COMPONENT32F:U===A1&&(pe=t.DEPTH_COMPONENT16),pe}function A(Q,U){return b(Q)===!0||Q.isFramebufferTexture&&Q.minFilter!==ci&&Q.minFilter!==Pr?Math.log2(Math.max(U.width,U.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?U.mipmaps.length:1}function D(Q){const U=Q.target;U.removeEventListener("dispose",D),R(U),U.isVideoTexture&&u.delete(U)}function k(Q){const U=Q.target;U.removeEventListener("dispose",k),T(U)}function R(Q){const U=r.get(Q);if(U.__webglInit===void 0)return;const pe=Q.source,Te=h.get(pe);if(Te){const Oe=Te[U.__cacheKey];Oe.usedTimes--,Oe.usedTimes===0&&L(Q),Object.keys(Te).length===0&&h.delete(pe)}r.remove(Q)}function L(Q){const U=r.get(Q);t.deleteTexture(U.__webglTexture);const pe=Q.source,Te=h.get(pe);delete Te[U.__cacheKey],s.memory.textures--}function T(Q){const U=r.get(Q);if(Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++){if(Array.isArray(U.__webglFramebuffer[Te]))for(let Oe=0;Oe<U.__webglFramebuffer[Te].length;Oe++)t.deleteFramebuffer(U.__webglFramebuffer[Te][Oe]);else t.deleteFramebuffer(U.__webglFramebuffer[Te]);U.__webglDepthbuffer&&t.deleteRenderbuffer(U.__webglDepthbuffer[Te])}else{if(Array.isArray(U.__webglFramebuffer))for(let Te=0;Te<U.__webglFramebuffer.length;Te++)t.deleteFramebuffer(U.__webglFramebuffer[Te]);else t.deleteFramebuffer(U.__webglFramebuffer);if(U.__webglDepthbuffer&&t.deleteRenderbuffer(U.__webglDepthbuffer),U.__webglMultisampledFramebuffer&&t.deleteFramebuffer(U.__webglMultisampledFramebuffer),U.__webglColorRenderbuffer)for(let Te=0;Te<U.__webglColorRenderbuffer.length;Te++)U.__webglColorRenderbuffer[Te]&&t.deleteRenderbuffer(U.__webglColorRenderbuffer[Te]);U.__webglDepthRenderbuffer&&t.deleteRenderbuffer(U.__webglDepthRenderbuffer)}const pe=Q.textures;for(let Te=0,Oe=pe.length;Te<Oe;Te++){const Ge=r.get(pe[Te]);Ge.__webglTexture&&(t.deleteTexture(Ge.__webglTexture),s.memory.textures--),r.remove(pe[Te])}r.remove(Q)}let C=0;function P(){C=0}function z(){const Q=C;return Q>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+i.maxTextures),C+=1,Q}function H(Q){const U=[];return U.push(Q.wrapS),U.push(Q.wrapT),U.push(Q.wrapR||0),U.push(Q.magFilter),U.push(Q.minFilter),U.push(Q.anisotropy),U.push(Q.internalFormat),U.push(Q.format),U.push(Q.type),U.push(Q.generateMipmaps),U.push(Q.premultiplyAlpha),U.push(Q.flipY),U.push(Q.unpackAlignment),U.push(Q.colorSpace),U.join()}function $(Q,U){const pe=r.get(Q);if(Q.isVideoTexture&&Ze(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&pe.__version!==Q.version){const Te=Q.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{G(pe,Q,U);return}}n.bindTexture(t.TEXTURE_2D,pe.__webglTexture,t.TEXTURE0+U)}function X(Q,U){const pe=r.get(Q);if(Q.version>0&&pe.__version!==Q.version){G(pe,Q,U);return}n.bindTexture(t.TEXTURE_2D_ARRAY,pe.__webglTexture,t.TEXTURE0+U)}function Z(Q,U){const pe=r.get(Q);if(Q.version>0&&pe.__version!==Q.version){G(pe,Q,U);return}n.bindTexture(t.TEXTURE_3D,pe.__webglTexture,t.TEXTURE0+U)}function K(Q,U){const pe=r.get(Q);if(Q.version>0&&pe.__version!==Q.version){ae(pe,Q,U);return}n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture,t.TEXTURE0+U)}const O={[od]:t.REPEAT,[gs]:t.CLAMP_TO_EDGE,[Qm]:t.MIRRORED_REPEAT},V={[ci]:t.NEAREST,[X3]:t.NEAREST_MIPMAP_NEAREST,[Mh]:t.NEAREST_MIPMAP_LINEAR,[Pr]:t.LINEAR,[Sm]:t.LINEAR_MIPMAP_NEAREST,[Zs]:t.LINEAR_MIPMAP_LINEAR},I={[Zq]:t.NEVER,[iK]:t.ALWAYS,[Qq]:t.LESS,[yT]:t.LEQUAL,[eK]:t.EQUAL,[rK]:t.GEQUAL,[tK]:t.GREATER,[nK]:t.NOTEQUAL};function se(Q,U){if(U.type===ys&&e.has("OES_texture_float_linear")===!1&&(U.magFilter===Pr||U.magFilter===Sm||U.magFilter===Mh||U.magFilter===Zs||U.minFilter===Pr||U.minFilter===Sm||U.minFilter===Mh||U.minFilter===Zs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(Q,t.TEXTURE_WRAP_S,O[U.wrapS]),t.texParameteri(Q,t.TEXTURE_WRAP_T,O[U.wrapT]),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,O[U.wrapR]),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,V[U.magFilter]),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,V[U.minFilter]),U.compareFunction&&(t.texParameteri(Q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Q,t.TEXTURE_COMPARE_FUNC,I[U.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(U.magFilter===ci||U.minFilter!==Mh&&U.minFilter!==Zs||U.type===ys&&e.has("OES_texture_float_linear")===!1)return;if(U.anisotropy>1||r.get(U).__currentAnisotropy){const pe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(Q,pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,i.getMaxAnisotropy())),r.get(U).__currentAnisotropy=U.anisotropy}}}function ye(Q,U){let pe=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,U.addEventListener("dispose",D));const Te=U.source;let Oe=h.get(Te);Oe===void 0&&(Oe={},h.set(Te,Oe));const Ge=H(U);if(Ge!==Q.__cacheKey){Oe[Ge]===void 0&&(Oe[Ge]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,pe=!0),Oe[Ge].usedTimes++;const ce=Oe[Q.__cacheKey];ce!==void 0&&(Oe[Q.__cacheKey].usedTimes--,ce.usedTimes===0&&L(U)),Q.__cacheKey=Ge,Q.__webglTexture=Oe[Ge].texture}return pe}function G(Q,U,pe){let Te=t.TEXTURE_2D;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(Te=t.TEXTURE_2D_ARRAY),U.isData3DTexture&&(Te=t.TEXTURE_3D);const Oe=ye(Q,U),Ge=U.source;n.bindTexture(Te,Q.__webglTexture,t.TEXTURE0+pe);const ce=r.get(Ge);if(Ge.version!==ce.__version||Oe===!0){n.activeTexture(t.TEXTURE0+pe);const de=Ln.getPrimaries(Ln.workingColorSpace),De=U.colorSpace===uc?null:Ln.getPrimaries(U.colorSpace),Qe=U.colorSpace===uc||de===De?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qe);let Ie=v(U.image,!1,i.maxTextureSize);Ie=Je(U,Ie);const et=o.convert(U.format,U.colorSpace),kt=o.convert(U.type);let vt=x(U.internalFormat,et,kt,U.colorSpace,U.isVideoTexture);se(Te,U);let rt;const te=U.mipmaps,ge=U.isVideoTexture!==!0,We=ce.__version===void 0||Oe===!0,J=Ge.dataReady,He=A(U,Ie);if(U.isDepthTexture)vt=w(U.format===of,U.type),We&&(ge?n.texStorage2D(t.TEXTURE_2D,1,vt,Ie.width,Ie.height):n.texImage2D(t.TEXTURE_2D,0,vt,Ie.width,Ie.height,0,et,kt,null));else if(U.isDataTexture)if(te.length>0){ge&&We&&n.texStorage2D(t.TEXTURE_2D,He,vt,te[0].width,te[0].height);for(let Se=0,Ce=te.length;Se<Ce;Se++)rt=te[Se],ge?J&&n.texSubImage2D(t.TEXTURE_2D,Se,0,0,rt.width,rt.height,et,kt,rt.data):n.texImage2D(t.TEXTURE_2D,Se,vt,rt.width,rt.height,0,et,kt,rt.data);U.generateMipmaps=!1}else ge?(We&&n.texStorage2D(t.TEXTURE_2D,He,vt,Ie.width,Ie.height),J&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ie.width,Ie.height,et,kt,Ie.data)):n.texImage2D(t.TEXTURE_2D,0,vt,Ie.width,Ie.height,0,et,kt,Ie.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){ge&&We&&n.texStorage3D(t.TEXTURE_2D_ARRAY,He,vt,te[0].width,te[0].height,Ie.depth);for(let Se=0,Ce=te.length;Se<Ce;Se++)if(rt=te[Se],U.format!==Co)if(et!==null)if(ge){if(J)if(U.layerUpdates.size>0){for(const qe of U.layerUpdates){const F=rt.width*rt.height;n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,qe,rt.width,rt.height,1,et,rt.data.slice(F*qe,F*(qe+1)),0,0)}U.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,0,rt.width,rt.height,Ie.depth,et,rt.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Se,vt,rt.width,rt.height,Ie.depth,0,rt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ge?J&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Se,0,0,0,rt.width,rt.height,Ie.depth,et,kt,rt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Se,vt,rt.width,rt.height,Ie.depth,0,et,kt,rt.data)}else{ge&&We&&n.texStorage2D(t.TEXTURE_2D,He,vt,te[0].width,te[0].height);for(let Se=0,Ce=te.length;Se<Ce;Se++)rt=te[Se],U.format!==Co?et!==null?ge?J&&n.compressedTexSubImage2D(t.TEXTURE_2D,Se,0,0,rt.width,rt.height,et,rt.data):n.compressedTexImage2D(t.TEXTURE_2D,Se,vt,rt.width,rt.height,0,rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ge?J&&n.texSubImage2D(t.TEXTURE_2D,Se,0,0,rt.width,rt.height,et,kt,rt.data):n.texImage2D(t.TEXTURE_2D,Se,vt,rt.width,rt.height,0,et,kt,rt.data)}else if(U.isDataArrayTexture)if(ge){if(We&&n.texStorage3D(t.TEXTURE_2D_ARRAY,He,vt,Ie.width,Ie.height,Ie.depth),J)if(U.layerUpdates.size>0){let Se;switch(kt){case t.UNSIGNED_BYTE:switch(et){case t.ALPHA:Se=1;break;case t.LUMINANCE:Se=1;break;case t.LUMINANCE_ALPHA:Se=2;break;case t.RGB:Se=3;break;case t.RGBA:Se=4;break;default:throw new Error(`Unknown texel size for format ${et}.`)}break;case t.UNSIGNED_SHORT_4_4_4_4:case t.UNSIGNED_SHORT_5_5_5_1:case t.UNSIGNED_SHORT_5_6_5:Se=1;break;default:throw new Error(`Unknown texel size for type ${kt}.`)}const Ce=Ie.width*Ie.height*Se;for(const qe of U.layerUpdates)n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,qe,Ie.width,Ie.height,1,et,kt,Ie.data.slice(Ce*qe,Ce*(qe+1)));U.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ie.width,Ie.height,Ie.depth,et,kt,Ie.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,vt,Ie.width,Ie.height,Ie.depth,0,et,kt,Ie.data);else if(U.isData3DTexture)ge?(We&&n.texStorage3D(t.TEXTURE_3D,He,vt,Ie.width,Ie.height,Ie.depth),J&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ie.width,Ie.height,Ie.depth,et,kt,Ie.data)):n.texImage3D(t.TEXTURE_3D,0,vt,Ie.width,Ie.height,Ie.depth,0,et,kt,Ie.data);else if(U.isFramebufferTexture){if(We)if(ge)n.texStorage2D(t.TEXTURE_2D,He,vt,Ie.width,Ie.height);else{let Se=Ie.width,Ce=Ie.height;for(let qe=0;qe<He;qe++)n.texImage2D(t.TEXTURE_2D,qe,vt,Se,Ce,0,et,kt,null),Se>>=1,Ce>>=1}}else if(te.length>0){if(ge&&We){const Se=_t(te[0]);n.texStorage2D(t.TEXTURE_2D,He,vt,Se.width,Se.height)}for(let Se=0,Ce=te.length;Se<Ce;Se++)rt=te[Se],ge?J&&n.texSubImage2D(t.TEXTURE_2D,Se,0,0,et,kt,rt):n.texImage2D(t.TEXTURE_2D,Se,vt,et,kt,rt);U.generateMipmaps=!1}else if(ge){if(We){const Se=_t(Ie);n.texStorage2D(t.TEXTURE_2D,He,vt,Se.width,Se.height)}J&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,et,kt,Ie)}else n.texImage2D(t.TEXTURE_2D,0,vt,et,kt,Ie);b(U)&&y(Te),ce.__version=Ge.version,U.onUpdate&&U.onUpdate(U)}Q.__version=U.version}function ae(Q,U,pe){if(U.image.length!==6)return;const Te=ye(Q,U),Oe=U.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+pe);const Ge=r.get(Oe);if(Oe.version!==Ge.__version||Te===!0){n.activeTexture(t.TEXTURE0+pe);const ce=Ln.getPrimaries(Ln.workingColorSpace),de=U.colorSpace===uc?null:Ln.getPrimaries(U.colorSpace),De=U.colorSpace===uc||ce===de?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,De);const Qe=U.isCompressedTexture||U.image[0].isCompressedTexture,Ie=U.image[0]&&U.image[0].isDataTexture,et=[];for(let Ce=0;Ce<6;Ce++)!Qe&&!Ie?et[Ce]=v(U.image[Ce],!0,i.maxCubemapSize):et[Ce]=Ie?U.image[Ce].image:U.image[Ce],et[Ce]=Je(U,et[Ce]);const kt=et[0],vt=o.convert(U.format,U.colorSpace),rt=o.convert(U.type),te=x(U.internalFormat,vt,rt,U.colorSpace),ge=U.isVideoTexture!==!0,We=Ge.__version===void 0||Te===!0,J=Oe.dataReady;let He=A(U,kt);se(t.TEXTURE_CUBE_MAP,U);let Se;if(Qe){ge&&We&&n.texStorage2D(t.TEXTURE_CUBE_MAP,He,te,kt.width,kt.height);for(let Ce=0;Ce<6;Ce++){Se=et[Ce].mipmaps;for(let qe=0;qe<Se.length;qe++){const F=Se[qe];U.format!==Co?vt!==null?ge?J&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,qe,0,0,F.width,F.height,vt,F.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,qe,te,F.width,F.height,0,F.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ge?J&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,qe,0,0,F.width,F.height,vt,rt,F.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,qe,te,F.width,F.height,0,vt,rt,F.data)}}}else{if(Se=U.mipmaps,ge&&We){Se.length>0&&He++;const Ce=_t(et[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,He,te,Ce.width,Ce.height)}for(let Ce=0;Ce<6;Ce++)if(Ie){ge?J&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,et[Ce].width,et[Ce].height,vt,rt,et[Ce].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,te,et[Ce].width,et[Ce].height,0,vt,rt,et[Ce].data);for(let qe=0;qe<Se.length;qe++){const j=Se[qe].image[Ce].image;ge?J&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,qe+1,0,0,j.width,j.height,vt,rt,j.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,qe+1,te,j.width,j.height,0,vt,rt,j.data)}}else{ge?J&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,vt,rt,et[Ce]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,te,vt,rt,et[Ce]);for(let qe=0;qe<Se.length;qe++){const F=Se[qe];ge?J&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,qe+1,0,0,vt,rt,F.image[Ce]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,qe+1,te,vt,rt,F.image[Ce])}}}b(U)&&y(t.TEXTURE_CUBE_MAP),Ge.__version=Oe.version,U.onUpdate&&U.onUpdate(U)}Q.__version=U.version}function _e(Q,U,pe,Te,Oe,Ge){const ce=o.convert(pe.format,pe.colorSpace),de=o.convert(pe.type),De=x(pe.internalFormat,ce,de,pe.colorSpace);if(!r.get(U).__hasExternalTextures){const Ie=Math.max(1,U.width>>Ge),et=Math.max(1,U.height>>Ge);Oe===t.TEXTURE_3D||Oe===t.TEXTURE_2D_ARRAY?n.texImage3D(Oe,Ge,De,Ie,et,U.depth,0,ce,de,null):n.texImage2D(Oe,Ge,De,Ie,et,0,ce,de,null)}n.bindFramebuffer(t.FRAMEBUFFER,Q),Re(U)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Te,Oe,r.get(pe).__webglTexture,0,Be(U)):(Oe===t.TEXTURE_2D||Oe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Oe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Te,Oe,r.get(pe).__webglTexture,Ge),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ve(Q,U,pe){if(t.bindRenderbuffer(t.RENDERBUFFER,Q),U.depthBuffer){const Te=U.depthTexture,Oe=Te&&Te.isDepthTexture?Te.type:null,Ge=w(U.stencilBuffer,Oe),ce=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,de=Be(U);Re(U)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,de,Ge,U.width,U.height):pe?t.renderbufferStorageMultisample(t.RENDERBUFFER,de,Ge,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,Ge,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ce,t.RENDERBUFFER,Q)}else{const Te=U.textures;for(let Oe=0;Oe<Te.length;Oe++){const Ge=Te[Oe],ce=o.convert(Ge.format,Ge.colorSpace),de=o.convert(Ge.type),De=x(Ge.internalFormat,ce,de,Ge.colorSpace),Qe=Be(U);pe&&Re(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Qe,De,U.width,U.height):Re(U)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Qe,De,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,De,U.width,U.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ae(Q,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Q),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),$(U.depthTexture,0);const Te=r.get(U.depthTexture).__webglTexture,Oe=Be(U);if(U.depthTexture.format===jh)Re(U)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Te,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Te,0);else if(U.depthTexture.format===of)Re(U)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Te,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Te,0);else throw new Error("Unknown depthTexture format")}function Ve(Q){const U=r.get(Q),pe=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!U.__autoAllocateDepthBuffer){if(pe)throw new Error("target.depthTexture not supported in Cube render targets");Ae(U.__webglFramebuffer,Q)}else if(pe){U.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer[Te]),U.__webglDepthbuffer[Te]=t.createRenderbuffer(),ve(U.__webglDepthbuffer[Te],Q,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer),U.__webglDepthbuffer=t.createRenderbuffer(),ve(U.__webglDepthbuffer,Q,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function pt(Q,U,pe){const Te=r.get(Q);U!==void 0&&_e(Te.__webglFramebuffer,Q,Q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),pe!==void 0&&Ve(Q)}function ke(Q){const U=Q.texture,pe=r.get(Q),Te=r.get(U);Q.addEventListener("dispose",k);const Oe=Q.textures,Ge=Q.isWebGLCubeRenderTarget===!0,ce=Oe.length>1;if(ce||(Te.__webglTexture===void 0&&(Te.__webglTexture=t.createTexture()),Te.__version=U.version,s.memory.textures++),Ge){pe.__webglFramebuffer=[];for(let de=0;de<6;de++)if(U.mipmaps&&U.mipmaps.length>0){pe.__webglFramebuffer[de]=[];for(let De=0;De<U.mipmaps.length;De++)pe.__webglFramebuffer[de][De]=t.createFramebuffer()}else pe.__webglFramebuffer[de]=t.createFramebuffer()}else{if(U.mipmaps&&U.mipmaps.length>0){pe.__webglFramebuffer=[];for(let de=0;de<U.mipmaps.length;de++)pe.__webglFramebuffer[de]=t.createFramebuffer()}else pe.__webglFramebuffer=t.createFramebuffer();if(ce)for(let de=0,De=Oe.length;de<De;de++){const Qe=r.get(Oe[de]);Qe.__webglTexture===void 0&&(Qe.__webglTexture=t.createTexture(),s.memory.textures++)}if(Q.samples>0&&Re(Q)===!1){pe.__webglMultisampledFramebuffer=t.createFramebuffer(),pe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,pe.__webglMultisampledFramebuffer);for(let de=0;de<Oe.length;de++){const De=Oe[de];pe.__webglColorRenderbuffer[de]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,pe.__webglColorRenderbuffer[de]);const Qe=o.convert(De.format,De.colorSpace),Ie=o.convert(De.type),et=x(De.internalFormat,Qe,Ie,De.colorSpace,Q.isXRRenderTarget===!0),kt=Be(Q);t.renderbufferStorageMultisample(t.RENDERBUFFER,kt,et,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+de,t.RENDERBUFFER,pe.__webglColorRenderbuffer[de])}t.bindRenderbuffer(t.RENDERBUFFER,null),Q.depthBuffer&&(pe.__webglDepthRenderbuffer=t.createRenderbuffer(),ve(pe.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ge){n.bindTexture(t.TEXTURE_CUBE_MAP,Te.__webglTexture),se(t.TEXTURE_CUBE_MAP,U);for(let de=0;de<6;de++)if(U.mipmaps&&U.mipmaps.length>0)for(let De=0;De<U.mipmaps.length;De++)_e(pe.__webglFramebuffer[de][De],Q,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+de,De);else _e(pe.__webglFramebuffer[de],Q,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+de,0);b(U)&&y(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ce){for(let de=0,De=Oe.length;de<De;de++){const Qe=Oe[de],Ie=r.get(Qe);n.bindTexture(t.TEXTURE_2D,Ie.__webglTexture),se(t.TEXTURE_2D,Qe),_e(pe.__webglFramebuffer,Q,Qe,t.COLOR_ATTACHMENT0+de,t.TEXTURE_2D,0),b(Qe)&&y(t.TEXTURE_2D)}n.unbindTexture()}else{let de=t.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(de=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(de,Te.__webglTexture),se(de,U),U.mipmaps&&U.mipmaps.length>0)for(let De=0;De<U.mipmaps.length;De++)_e(pe.__webglFramebuffer[De],Q,U,t.COLOR_ATTACHMENT0,de,De);else _e(pe.__webglFramebuffer,Q,U,t.COLOR_ATTACHMENT0,de,0);b(U)&&y(de),n.unbindTexture()}Q.depthBuffer&&Ve(Q)}function ee(Q){const U=Q.textures;for(let pe=0,Te=U.length;pe<Te;pe++){const Oe=U[pe];if(b(Oe)){const Ge=Q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,ce=r.get(Oe).__webglTexture;n.bindTexture(Ge,ce),y(Ge),n.unbindTexture()}}}const le=[],xe=[];function Fe(Q){if(Q.samples>0){if(Re(Q)===!1){const U=Q.textures,pe=Q.width,Te=Q.height;let Oe=t.COLOR_BUFFER_BIT;const Ge=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ce=r.get(Q),de=U.length>1;if(de)for(let De=0;De<U.length;De++)n.bindFramebuffer(t.FRAMEBUFFER,ce.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ce.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ce.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ce.__webglFramebuffer);for(let De=0;De<U.length;De++){if(Q.resolveDepthBuffer&&(Q.depthBuffer&&(Oe|=t.DEPTH_BUFFER_BIT),Q.stencilBuffer&&Q.resolveStencilBuffer&&(Oe|=t.STENCIL_BUFFER_BIT)),de){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ce.__webglColorRenderbuffer[De]);const Qe=r.get(U[De]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Qe,0)}t.blitFramebuffer(0,0,pe,Te,0,0,pe,Te,Oe,t.NEAREST),l===!0&&(le.length=0,xe.length=0,le.push(t.COLOR_ATTACHMENT0+De),Q.depthBuffer&&Q.resolveDepthBuffer===!1&&(le.push(Ge),xe.push(Ge),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,xe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,le))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),de)for(let De=0;De<U.length;De++){n.bindFramebuffer(t.FRAMEBUFFER,ce.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.RENDERBUFFER,ce.__webglColorRenderbuffer[De]);const Qe=r.get(U[De]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ce.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.TEXTURE_2D,Qe,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ce.__webglMultisampledFramebuffer)}else if(Q.depthBuffer&&Q.resolveDepthBuffer===!1&&l){const U=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[U])}}}function Be(Q){return Math.min(i.maxSamples,Q.samples)}function Re(Q){const U=r.get(Q);return Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function Ze(Q){const U=s.render.frame;u.get(Q)!==U&&(u.set(Q,U),Q.update())}function Je(Q,U){const pe=Q.colorSpace,Te=Q.format,Oe=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||pe!==Ic&&pe!==uc&&(Ln.getTransfer(pe)===Zn?(Te!==Co||Oe!==Tl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",pe)),U}function _t(Q){return typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement?(c.width=Q.naturalWidth||Q.width,c.height=Q.naturalHeight||Q.height):typeof VideoFrame<"u"&&Q instanceof VideoFrame?(c.width=Q.displayWidth,c.height=Q.displayHeight):(c.width=Q.width,c.height=Q.height),c}this.allocateTextureUnit=z,this.resetTextureUnits=P,this.setTexture2D=$,this.setTexture2DArray=X,this.setTexture3D=Z,this.setTextureCube=K,this.rebindTextures=pt,this.setupRenderTarget=ke,this.updateRenderTargetMipmap=ee,this.updateMultisampleRenderTarget=Fe,this.setupDepthRenderbuffer=Ve,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=Re}function _K(t,e){function n(r,i=uc){let o;const s=Ln.getTransfer(i);if(r===Tl)return t.UNSIGNED_BYTE;if(r===cT)return t.UNSIGNED_SHORT_4_4_4_4;if(r===uT)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Fq)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===Iq)return t.BYTE;if(r===Oq)return t.SHORT;if(r===A1)return t.UNSIGNED_SHORT;if(r===lT)return t.INT;if(r===nf)return t.UNSIGNED_INT;if(r===ys)return t.FLOAT;if(r===ov)return t.HALF_FLOAT;if(r===zq)return t.ALPHA;if(r===Uq)return t.RGB;if(r===Co)return t.RGBA;if(r===jq)return t.LUMINANCE;if(r===Hq)return t.LUMINANCE_ALPHA;if(r===jh)return t.DEPTH_COMPONENT;if(r===of)return t.DEPTH_STENCIL;if(r===dT)return t.RED;if(r===hT)return t.RED_INTEGER;if(r===$q)return t.RG;if(r===fT)return t.RG_INTEGER;if(r===pT)return t.RGBA_INTEGER;if(r===D_||r===L_||r===R_||r===B_)if(s===Zn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===D_)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===L_)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===R_)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===B_)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===D_)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===L_)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===R_)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===B_)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===i6||r===o6||r===s6||r===a6)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===i6)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===o6)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===s6)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===a6)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===l6||r===c6||r===u6)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===l6||r===c6)return s===Zn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===u6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===d6||r===h6||r===f6||r===p6||r===m6||r===g6||r===y6||r===v6||r===b6||r===x6||r===_6||r===w6||r===S6||r===A6)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===d6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===h6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===f6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===p6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===m6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===g6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===y6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===v6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===b6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===x6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===_6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===w6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===S6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===A6)return s===Zn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===P_||r===C6||r===M6)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===P_)return s===Zn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===C6)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===M6)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Gq||r===E6||r===k6||r===T6)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===P_)return o.COMPRESSED_RED_RGTC1_EXT;if(r===E6)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===k6)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===T6)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===rf?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class wK extends Cr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class pc extends mn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const cge={type:"move"};class dM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new pc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new pc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new pc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const v of e.hand.values()){const b=n.getJointPose(v,r),y=this._getHandJoint(c,v);b!==null&&(y.matrix.fromArray(b.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=b.radius),y.visible=b!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=u.position.distanceTo(d.position),f=.02,p=.005;c.inputState.pinching&&h>f+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(cge)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new pc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const uge=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,dge=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class hge{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new ur,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new za({vertexShader:uge,fragmentShader:dge,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new $r(new v0(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class fge extends Ll{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=1,c=null,u=null,d=null,h=null,f=null,p=null;const v=new hge,b=n.getContextAttributes();let y=null,x=null;const w=[],A=[],D=new $e;let k=null;const R=new Cr;R.layers.enable(1),R.viewport=new Un;const L=new Cr;L.layers.enable(2),L.viewport=new Un;const T=[R,L],C=new wK;C.layers.enable(1),C.layers.enable(2);let P=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let _e=w[ae];return _e===void 0&&(_e=new dM,w[ae]=_e),_e.getTargetRaySpace()},this.getControllerGrip=function(ae){let _e=w[ae];return _e===void 0&&(_e=new dM,w[ae]=_e),_e.getGripSpace()},this.getHand=function(ae){let _e=w[ae];return _e===void 0&&(_e=new dM,w[ae]=_e),_e.getHandSpace()};function H(ae){const _e=A.indexOf(ae.inputSource);if(_e===-1)return;const ve=w[_e];ve!==void 0&&(ve.update(ae.inputSource,ae.frame,c||s),ve.dispatchEvent({type:ae.type,data:ae.inputSource}))}function $(){i.removeEventListener("select",H),i.removeEventListener("selectstart",H),i.removeEventListener("selectend",H),i.removeEventListener("squeeze",H),i.removeEventListener("squeezestart",H),i.removeEventListener("squeezeend",H),i.removeEventListener("end",$),i.removeEventListener("inputsourceschange",X);for(let ae=0;ae<w.length;ae++){const _e=A[ae];_e!==null&&(A[ae]=null,w[ae].disconnect(_e))}P=null,z=null,v.reset(),e.setRenderTarget(y),f=null,h=null,d=null,i=null,x=null,G.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(D.width,D.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){o=ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){a=ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(ae){c=ae},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",H),i.addEventListener("selectstart",H),i.addEventListener("selectend",H),i.addEventListener("squeeze",H),i.addEventListener("squeezestart",H),i.addEventListener("squeezeend",H),i.addEventListener("end",$),i.addEventListener("inputsourceschange",X),b.xrCompatible!==!0&&await n.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(D),i.renderState.layers===void 0){const _e={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:o};f=new XRWebGLLayer(i,n,_e),i.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),x=new Fa(f.framebufferWidth,f.framebufferHeight,{format:Co,type:Tl,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil})}else{let _e=null,ve=null,Ae=null;b.depth&&(Ae=b.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,_e=b.stencil?of:jh,ve=b.stencil?rf:nf);const Ve={colorFormat:n.RGBA8,depthFormat:Ae,scaleFactor:o};d=new XRWebGLBinding(i,n),h=d.createProjectionLayer(Ve),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),x=new Fa(h.textureWidth,h.textureHeight,{format:Co,type:Tl,depthTexture:new AT(h.textureWidth,h.textureHeight,ve,void 0,void 0,void 0,void 0,void 0,void 0,_e),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(a),G.setContext(i),G.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function X(ae){for(let _e=0;_e<ae.removed.length;_e++){const ve=ae.removed[_e],Ae=A.indexOf(ve);Ae>=0&&(A[Ae]=null,w[Ae].disconnect(ve))}for(let _e=0;_e<ae.added.length;_e++){const ve=ae.added[_e];let Ae=A.indexOf(ve);if(Ae===-1){for(let pt=0;pt<w.length;pt++)if(pt>=A.length){A.push(ve),Ae=pt;break}else if(A[pt]===null){A[pt]=ve,Ae=pt;break}if(Ae===-1)break}const Ve=w[Ae];Ve&&Ve.connect(ve)}}const Z=new W,K=new W;function O(ae,_e,ve){Z.setFromMatrixPosition(_e.matrixWorld),K.setFromMatrixPosition(ve.matrixWorld);const Ae=Z.distanceTo(K),Ve=_e.projectionMatrix.elements,pt=ve.projectionMatrix.elements,ke=Ve[14]/(Ve[10]-1),ee=Ve[14]/(Ve[10]+1),le=(Ve[9]+1)/Ve[5],xe=(Ve[9]-1)/Ve[5],Fe=(Ve[8]-1)/Ve[0],Be=(pt[8]+1)/pt[0],Re=ke*Fe,Ze=ke*Be,Je=Ae/(-Fe+Be),_t=Je*-Fe;_e.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(_t),ae.translateZ(Je),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert();const Q=ke+Je,U=ee+Je,pe=Re-_t,Te=Ze+(Ae-_t),Oe=le*ee/U*Q,Ge=xe*ee/U*Q;ae.projectionMatrix.makePerspective(pe,Te,Oe,Ge,Q,U),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}function V(ae,_e){_e===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(_e.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;v.texture!==null&&(ae.near=v.depthNear,ae.far=v.depthFar),C.near=L.near=R.near=ae.near,C.far=L.far=R.far=ae.far,(P!==C.near||z!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),P=C.near,z=C.far,R.near=P,R.far=z,L.near=P,L.far=z,R.updateProjectionMatrix(),L.updateProjectionMatrix(),ae.updateProjectionMatrix());const _e=ae.parent,ve=C.cameras;V(C,_e);for(let Ae=0;Ae<ve.length;Ae++)V(ve[Ae],_e);ve.length===2?O(C,R,L):C.projectionMatrix.copy(R.projectionMatrix),I(ae,C,_e)};function I(ae,_e,ve){ve===null?ae.matrix.copy(_e.matrixWorld):(ae.matrix.copy(ve.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(_e.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(_e.projectionMatrix),ae.projectionMatrixInverse.copy(_e.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=n0*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(h===null&&f===null))return l},this.setFoveation=function(ae){l=ae,h!==null&&(h.fixedFoveation=ae),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=ae)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(C)};let se=null;function ye(ae,_e){if(u=_e.getViewerPose(c||s),p=_e,u!==null){const ve=u.views;f!==null&&(e.setRenderTargetFramebuffer(x,f.framebuffer),e.setRenderTarget(x));let Ae=!1;ve.length!==C.cameras.length&&(C.cameras.length=0,Ae=!0);for(let pt=0;pt<ve.length;pt++){const ke=ve[pt];let ee=null;if(f!==null)ee=f.getViewport(ke);else{const xe=d.getViewSubImage(h,ke);ee=xe.viewport,pt===0&&(e.setRenderTargetTextures(x,xe.colorTexture,h.ignoreDepthValues?void 0:xe.depthStencilTexture),e.setRenderTarget(x))}let le=T[pt];le===void 0&&(le=new Cr,le.layers.enable(pt),le.viewport=new Un,T[pt]=le),le.matrix.fromArray(ke.transform.matrix),le.matrix.decompose(le.position,le.quaternion,le.scale),le.projectionMatrix.fromArray(ke.projectionMatrix),le.projectionMatrixInverse.copy(le.projectionMatrix).invert(),le.viewport.set(ee.x,ee.y,ee.width,ee.height),pt===0&&(C.matrix.copy(le.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),Ae===!0&&C.cameras.push(le)}const Ve=i.enabledFeatures;if(Ve&&Ve.includes("depth-sensing")){const pt=d.getDepthInformation(ve[0]);pt&&pt.isValid&&pt.texture&&v.init(e,pt,i.renderState)}}for(let ve=0;ve<w.length;ve++){const Ae=A[ve],Ve=w[ve];Ae!==null&&Ve!==void 0&&Ve.update(Ae,_e,c||s)}se&&se(ae,_e),_e.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:_e}),p=null}const G=new mK;G.setAnimationLoop(ye),this.setAnimationLoop=function(ae){se=ae},this.dispose=function(){}}}const qd=new Ss,pge=new Pt;function mge(t,e){function n(b,y){b.matrixAutoUpdate===!0&&b.updateMatrix(),y.value.copy(b.matrix)}function r(b,y){y.color.getRGB(b.fogColor.value,dK(t)),y.isFog?(b.fogNear.value=y.near,b.fogFar.value=y.far):y.isFogExp2&&(b.fogDensity.value=y.density)}function i(b,y,x,w,A){y.isMeshBasicMaterial||y.isMeshLambertMaterial?o(b,y):y.isMeshToonMaterial?(o(b,y),d(b,y)):y.isMeshPhongMaterial?(o(b,y),u(b,y)):y.isMeshStandardMaterial?(o(b,y),h(b,y),y.isMeshPhysicalMaterial&&f(b,y,A)):y.isMeshMatcapMaterial?(o(b,y),p(b,y)):y.isMeshDepthMaterial?o(b,y):y.isMeshDistanceMaterial?(o(b,y),v(b,y)):y.isMeshNormalMaterial?o(b,y):y.isLineBasicMaterial?(s(b,y),y.isLineDashedMaterial&&a(b,y)):y.isPointsMaterial?l(b,y,x,w):y.isSpriteMaterial?c(b,y):y.isShadowMaterial?(b.color.value.copy(y.color),b.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function o(b,y){b.opacity.value=y.opacity,y.color&&b.diffuse.value.copy(y.color),y.emissive&&b.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(b.map.value=y.map,n(y.map,b.mapTransform)),y.alphaMap&&(b.alphaMap.value=y.alphaMap,n(y.alphaMap,b.alphaMapTransform)),y.bumpMap&&(b.bumpMap.value=y.bumpMap,n(y.bumpMap,b.bumpMapTransform),b.bumpScale.value=y.bumpScale,y.side===To&&(b.bumpScale.value*=-1)),y.normalMap&&(b.normalMap.value=y.normalMap,n(y.normalMap,b.normalMapTransform),b.normalScale.value.copy(y.normalScale),y.side===To&&b.normalScale.value.negate()),y.displacementMap&&(b.displacementMap.value=y.displacementMap,n(y.displacementMap,b.displacementMapTransform),b.displacementScale.value=y.displacementScale,b.displacementBias.value=y.displacementBias),y.emissiveMap&&(b.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,b.emissiveMapTransform)),y.specularMap&&(b.specularMap.value=y.specularMap,n(y.specularMap,b.specularMapTransform)),y.alphaTest>0&&(b.alphaTest.value=y.alphaTest);const x=e.get(y),w=x.envMap,A=x.envMapRotation;w&&(b.envMap.value=w,qd.copy(A),qd.x*=-1,qd.y*=-1,qd.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(qd.y*=-1,qd.z*=-1),b.envMapRotation.value.setFromMatrix4(pge.makeRotationFromEuler(qd)),b.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=y.reflectivity,b.ior.value=y.ior,b.refractionRatio.value=y.refractionRatio),y.lightMap&&(b.lightMap.value=y.lightMap,b.lightMapIntensity.value=y.lightMapIntensity,n(y.lightMap,b.lightMapTransform)),y.aoMap&&(b.aoMap.value=y.aoMap,b.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,b.aoMapTransform))}function s(b,y){b.diffuse.value.copy(y.color),b.opacity.value=y.opacity,y.map&&(b.map.value=y.map,n(y.map,b.mapTransform))}function a(b,y){b.dashSize.value=y.dashSize,b.totalSize.value=y.dashSize+y.gapSize,b.scale.value=y.scale}function l(b,y,x,w){b.diffuse.value.copy(y.color),b.opacity.value=y.opacity,b.size.value=y.size*x,b.scale.value=w*.5,y.map&&(b.map.value=y.map,n(y.map,b.uvTransform)),y.alphaMap&&(b.alphaMap.value=y.alphaMap,n(y.alphaMap,b.alphaMapTransform)),y.alphaTest>0&&(b.alphaTest.value=y.alphaTest)}function c(b,y){b.diffuse.value.copy(y.color),b.opacity.value=y.opacity,b.rotation.value=y.rotation,y.map&&(b.map.value=y.map,n(y.map,b.mapTransform)),y.alphaMap&&(b.alphaMap.value=y.alphaMap,n(y.alphaMap,b.alphaMapTransform)),y.alphaTest>0&&(b.alphaTest.value=y.alphaTest)}function u(b,y){b.specular.value.copy(y.specular),b.shininess.value=Math.max(y.shininess,1e-4)}function d(b,y){y.gradientMap&&(b.gradientMap.value=y.gradientMap)}function h(b,y){b.metalness.value=y.metalness,y.metalnessMap&&(b.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,b.metalnessMapTransform)),b.roughness.value=y.roughness,y.roughnessMap&&(b.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,b.roughnessMapTransform)),y.envMap&&(b.envMapIntensity.value=y.envMapIntensity)}function f(b,y,x){b.ior.value=y.ior,y.sheen>0&&(b.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),b.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(b.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,b.sheenColorMapTransform)),y.sheenRoughnessMap&&(b.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,b.sheenRoughnessMapTransform))),y.clearcoat>0&&(b.clearcoat.value=y.clearcoat,b.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(b.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,b.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(b.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===To&&b.clearcoatNormalScale.value.negate())),y.dispersion>0&&(b.dispersion.value=y.dispersion),y.iridescence>0&&(b.iridescence.value=y.iridescence,b.iridescenceIOR.value=y.iridescenceIOR,b.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(b.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,b.iridescenceMapTransform)),y.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),y.transmission>0&&(b.transmission.value=y.transmission,b.transmissionSamplerMap.value=x.texture,b.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(b.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,b.transmissionMapTransform)),b.thickness.value=y.thickness,y.thicknessMap&&(b.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=y.attenuationDistance,b.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(b.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(b.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=y.specularIntensity,b.specularColor.value.copy(y.specularColor),y.specularColorMap&&(b.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,b.specularColorMapTransform)),y.specularIntensityMap&&(b.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,b.specularIntensityMapTransform))}function p(b,y){y.matcap&&(b.matcap.value=y.matcap)}function v(b,y){const x=e.get(y).light;b.referencePosition.value.setFromMatrixPosition(x.matrixWorld),b.nearDistance.value=x.shadow.camera.near,b.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function gge(t,e,n,r){let i={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,w){const A=w.program;r.uniformBlockBinding(x,A)}function c(x,w){let A=i[x.id];A===void 0&&(p(x),A=u(x),i[x.id]=A,x.addEventListener("dispose",b));const D=w.program;r.updateUBOMapping(x,D);const k=e.render.frame;o[x.id]!==k&&(h(x),o[x.id]=k)}function u(x){const w=d();x.__bindingPointIndex=w;const A=t.createBuffer(),D=x.__size,k=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,A),t.bufferData(t.UNIFORM_BUFFER,D,k),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,A),A}function d(){for(let x=0;x<a;x++)if(s.indexOf(x)===-1)return s.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){const w=i[x.id],A=x.uniforms,D=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let k=0,R=A.length;k<R;k++){const L=Array.isArray(A[k])?A[k]:[A[k]];for(let T=0,C=L.length;T<C;T++){const P=L[T];if(f(P,k,T,D)===!0){const z=P.__offset,H=Array.isArray(P.value)?P.value:[P.value];let $=0;for(let X=0;X<H.length;X++){const Z=H[X],K=v(Z);typeof Z=="number"||typeof Z=="boolean"?(P.__data[0]=Z,t.bufferSubData(t.UNIFORM_BUFFER,z+$,P.__data)):Z.isMatrix3?(P.__data[0]=Z.elements[0],P.__data[1]=Z.elements[1],P.__data[2]=Z.elements[2],P.__data[3]=0,P.__data[4]=Z.elements[3],P.__data[5]=Z.elements[4],P.__data[6]=Z.elements[5],P.__data[7]=0,P.__data[8]=Z.elements[6],P.__data[9]=Z.elements[7],P.__data[10]=Z.elements[8],P.__data[11]=0):(Z.toArray(P.__data,$),$+=K.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,z,P.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function f(x,w,A,D){const k=x.value,R=w+"_"+A;if(D[R]===void 0)return typeof k=="number"||typeof k=="boolean"?D[R]=k:D[R]=k.clone(),!0;{const L=D[R];if(typeof k=="number"||typeof k=="boolean"){if(L!==k)return D[R]=k,!0}else if(L.equals(k)===!1)return L.copy(k),!0}return!1}function p(x){const w=x.uniforms;let A=0;const D=16;for(let R=0,L=w.length;R<L;R++){const T=Array.isArray(w[R])?w[R]:[w[R]];for(let C=0,P=T.length;C<P;C++){const z=T[C],H=Array.isArray(z.value)?z.value:[z.value];for(let $=0,X=H.length;$<X;$++){const Z=H[$],K=v(Z),O=A%D;O!==0&&D-O<K.boundary&&(A+=D-O),z.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=A,A+=K.storage}}}const k=A%D;return k>0&&(A+=D-k),x.__size=A,x.__cache={},this}function v(x){const w={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(w.boundary=4,w.storage=4):x.isVector2?(w.boundary=8,w.storage=8):x.isVector3||x.isColor?(w.boundary=16,w.storage=12):x.isVector4?(w.boundary=16,w.storage=16):x.isMatrix3?(w.boundary=48,w.storage=48):x.isMatrix4?(w.boundary=64,w.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),w}function b(x){const w=x.target;w.removeEventListener("dispose",b);const A=s.indexOf(w.__bindingPointIndex);s.splice(A,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete o[w.id]}function y(){for(const x in i)t.deleteBuffer(i[x]);s=[],i={},o={}}return{bind:l,update:c,dispose:y}}class SK{constructor(e={}){const{canvas:n=aK(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const f=new Uint32Array(4),p=new Int32Array(4);let v=null,b=null;const y=[],x=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Vs,this.toneMapping=Al,this.toneMappingExposure=1;const w=this;let A=!1,D=0,k=0,R=null,L=-1,T=null;const C=new Un,P=new Un;let z=null;const H=new ut(0);let $=0,X=n.width,Z=n.height,K=1,O=null,V=null;const I=new Un(0,0,X,Z),se=new Un(0,0,X,Z);let ye=!1;const G=new cv;let ae=!1,_e=!1;const ve=new Pt,Ae=new W,Ve={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let pt=!1;function ke(){return R===null?K:1}let ee=r;function le(q,fe){return n.getContext(q,fe)}try{const q={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${rv}`),n.addEventListener("webglcontextlost",He,!1),n.addEventListener("webglcontextrestored",Se,!1),n.addEventListener("webglcontextcreationerror",Ce,!1),ee===null){const fe="webgl2";if(ee=le(fe,q),ee===null)throw le(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let xe,Fe,Be,Re,Ze,Je,_t,Q,U,pe,Te,Oe,Ge,ce,de,De,Qe,Ie,et,kt,vt,rt,te,ge;function We(){xe=new Tme(ee),xe.init(),rt=new _K(ee,xe),Fe=new Sme(ee,xe,e,rt),Be=new age(ee),Re=new Rme(ee),Ze=new X0e,Je=new lge(ee,xe,Be,Ze,Fe,rt,Re),_t=new Cme(w),Q=new kme(w),U=new zhe(ee),te=new _me(ee,U),pe=new Dme(ee,U,Re,te),Te=new Pme(ee,pe,U,Re),et=new Bme(ee,Fe,Je),De=new Ame(Ze),Oe=new W0e(w,_t,Q,xe,Fe,te,De),Ge=new mge(w,Ze),ce=new Y0e,de=new rge(xe),Ie=new xme(w,_t,Q,Be,Te,h,l),Qe=new sge(w,Te,Fe),ge=new gge(ee,Re,Fe,Be),kt=new wme(ee,xe,Re),vt=new Lme(ee,xe,Re),Re.programs=Oe.programs,w.capabilities=Fe,w.extensions=xe,w.properties=Ze,w.renderLists=ce,w.shadowMap=Qe,w.state=Be,w.info=Re}We();const J=new fge(w,ee);this.xr=J,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const q=xe.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=xe.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(q){q!==void 0&&(K=q,this.setSize(X,Z,!1))},this.getSize=function(q){return q.set(X,Z)},this.setSize=function(q,fe,Ee=!0){if(J.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=q,Z=fe,n.width=Math.floor(q*K),n.height=Math.floor(fe*K),Ee===!0&&(n.style.width=q+"px",n.style.height=fe+"px"),this.setViewport(0,0,q,fe)},this.getDrawingBufferSize=function(q){return q.set(X*K,Z*K).floor()},this.setDrawingBufferSize=function(q,fe,Ee){X=q,Z=fe,K=Ee,n.width=Math.floor(q*Ee),n.height=Math.floor(fe*Ee),this.setViewport(0,0,q,fe)},this.getCurrentViewport=function(q){return q.copy(C)},this.getViewport=function(q){return q.copy(I)},this.setViewport=function(q,fe,Ee,Le){q.isVector4?I.set(q.x,q.y,q.z,q.w):I.set(q,fe,Ee,Le),Be.viewport(C.copy(I).multiplyScalar(K).round())},this.getScissor=function(q){return q.copy(se)},this.setScissor=function(q,fe,Ee,Le){q.isVector4?se.set(q.x,q.y,q.z,q.w):se.set(q,fe,Ee,Le),Be.scissor(P.copy(se).multiplyScalar(K).round())},this.getScissorTest=function(){return ye},this.setScissorTest=function(q){Be.setScissorTest(ye=q)},this.setOpaqueSort=function(q){O=q},this.setTransparentSort=function(q){V=q},this.getClearColor=function(q){return q.copy(Ie.getClearColor())},this.setClearColor=function(){Ie.setClearColor.apply(Ie,arguments)},this.getClearAlpha=function(){return Ie.getClearAlpha()},this.setClearAlpha=function(){Ie.setClearAlpha.apply(Ie,arguments)},this.clear=function(q=!0,fe=!0,Ee=!0){let Le=0;if(q){let be=!1;if(R!==null){const st=R.texture.format;be=st===pT||st===fT||st===hT}if(be){const st=R.texture.type,bt=st===Tl||st===nf||st===A1||st===rf||st===cT||st===uT,At=Ie.getClearColor(),Et=Ie.getClearAlpha(),Ft=At.r,Nt=At.g,Bt=At.b;bt?(f[0]=Ft,f[1]=Nt,f[2]=Bt,f[3]=Et,ee.clearBufferuiv(ee.COLOR,0,f)):(p[0]=Ft,p[1]=Nt,p[2]=Bt,p[3]=Et,ee.clearBufferiv(ee.COLOR,0,p))}else Le|=ee.COLOR_BUFFER_BIT}fe&&(Le|=ee.DEPTH_BUFFER_BIT),Ee&&(Le|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(Le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",He,!1),n.removeEventListener("webglcontextrestored",Se,!1),n.removeEventListener("webglcontextcreationerror",Ce,!1),ce.dispose(),de.dispose(),Ze.dispose(),_t.dispose(),Q.dispose(),Te.dispose(),te.dispose(),ge.dispose(),Oe.dispose(),J.dispose(),J.removeEventListener("sessionstart",mt),J.removeEventListener("sessionend",Tt),jt.stop()};function He(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const q=Re.autoReset,fe=Qe.enabled,Ee=Qe.autoUpdate,Le=Qe.needsUpdate,be=Qe.type;We(),Re.autoReset=q,Qe.enabled=fe,Qe.autoUpdate=Ee,Qe.needsUpdate=Le,Qe.type=be}function Ce(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function qe(q){const fe=q.target;fe.removeEventListener("dispose",qe),F(fe)}function F(q){j(q),Ze.remove(q)}function j(q){const fe=Ze.get(q).programs;fe!==void 0&&(fe.forEach(function(Ee){Oe.releaseProgram(Ee)}),q.isShaderMaterial&&Oe.releaseShaderCache(q))}this.renderBufferDirect=function(q,fe,Ee,Le,be,st){fe===null&&(fe=Ve);const bt=be.isMesh&&be.matrixWorld.determinant()<0,At=qa(q,fe,Ee,Le,be);Be.setMaterial(Le,bt);let Et=Ee.index,Ft=1;if(Le.wireframe===!0){if(Et=pe.getWireframeAttribute(Ee),Et===void 0)return;Ft=2}const Nt=Ee.drawRange,Bt=Ee.attributes.position;let vn=Nt.start*Ft,hr=(Nt.start+Nt.count)*Ft;st!==null&&(vn=Math.max(vn,st.start*Ft),hr=Math.min(hr,(st.start+st.count)*Ft)),Et!==null?(vn=Math.max(vn,0),hr=Math.min(hr,Et.count)):Bt!=null&&(vn=Math.max(vn,0),hr=Math.min(hr,Bt.count));const Jn=hr-vn;if(Jn<0||Jn===1/0)return;te.setup(be,Le,At,Ee,Et);let Vr,cn=kt;if(Et!==null&&(Vr=U.get(Et),cn=vt,cn.setIndex(Vr)),be.isMesh)Le.wireframe===!0?(Be.setLineWidth(Le.wireframeLinewidth*ke()),cn.setMode(ee.LINES)):cn.setMode(ee.TRIANGLES);else if(be.isLine){let ct=Le.linewidth;ct===void 0&&(ct=1),Be.setLineWidth(ct*ke()),be.isLineSegments?cn.setMode(ee.LINES):be.isLineLoop?cn.setMode(ee.LINE_LOOP):cn.setMode(ee.LINE_STRIP)}else be.isPoints?cn.setMode(ee.POINTS):be.isSprite&&cn.setMode(ee.TRIANGLES);if(be.isBatchedMesh)be._multiDrawInstances!==null?cn.renderMultiDrawInstances(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount,be._multiDrawInstances):cn.renderMultiDraw(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount);else if(be.isInstancedMesh)cn.renderInstances(vn,Jn,be.count);else if(Ee.isInstancedBufferGeometry){const ct=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,Xt=Math.min(Ee.instanceCount,ct);cn.renderInstances(vn,Jn,Xt)}else cn.render(vn,Jn)};function Y(q,fe,Ee){q.transparent===!0&&q.side===Ea&&q.forceSinglePass===!1?(q.side=To,q.needsUpdate=!0,_r(q,fe,Ee),q.side=kl,q.needsUpdate=!0,_r(q,fe,Ee),q.side=Ea):_r(q,fe,Ee)}this.compile=function(q,fe,Ee=null){Ee===null&&(Ee=q),b=de.get(Ee),b.init(fe),x.push(b),Ee.traverseVisible(function(be){be.isLight&&be.layers.test(fe.layers)&&(b.pushLight(be),be.castShadow&&b.pushShadow(be))}),q!==Ee&&q.traverseVisible(function(be){be.isLight&&be.layers.test(fe.layers)&&(b.pushLight(be),be.castShadow&&b.pushShadow(be))}),b.setupLights();const Le=new Set;return q.traverse(function(be){const st=be.material;if(st)if(Array.isArray(st))for(let bt=0;bt<st.length;bt++){const At=st[bt];Y(At,Ee,be),Le.add(At)}else Y(st,Ee,be),Le.add(st)}),x.pop(),b=null,Le},this.compileAsync=function(q,fe,Ee=null){const Le=this.compile(q,fe,Ee);return new Promise(be=>{function st(){if(Le.forEach(function(bt){Ze.get(bt).currentProgram.isReady()&&Le.delete(bt)}),Le.size===0){be(q);return}setTimeout(st,10)}xe.get("KHR_parallel_shader_compile")!==null?st():setTimeout(st,10)})};let he=null;function je(q){he&&he(q)}function mt(){jt.stop()}function Tt(){jt.start()}const jt=new mK;jt.setAnimationLoop(je),typeof self<"u"&&jt.setContext(self),this.setAnimationLoop=function(q){he=q,J.setAnimationLoop(q),q===null?jt.stop():jt.start()},J.addEventListener("sessionstart",mt),J.addEventListener("sessionend",Tt),this.render=function(q,fe){if(fe!==void 0&&fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;if(q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),fe.parent===null&&fe.matrixWorldAutoUpdate===!0&&fe.updateMatrixWorld(),J.enabled===!0&&J.isPresenting===!0&&(J.cameraAutoUpdate===!0&&J.updateCamera(fe),fe=J.getCamera()),q.isScene===!0&&q.onBeforeRender(w,q,fe,R),b=de.get(q,x.length),b.init(fe),x.push(b),ve.multiplyMatrices(fe.projectionMatrix,fe.matrixWorldInverse),G.setFromProjectionMatrix(ve),_e=this.localClippingEnabled,ae=De.init(this.clippingPlanes,_e),v=ce.get(q,y.length),v.init(),y.push(v),J.enabled===!0&&J.isPresenting===!0){const st=w.xr.getDepthSensingMesh();st!==null&&On(st,fe,-1/0,w.sortObjects)}On(q,fe,0,w.sortObjects),v.finish(),w.sortObjects===!0&&v.sort(O,V),pt=J.enabled===!1||J.isPresenting===!1||J.hasDepthSensing()===!1,pt&&Ie.addToRenderList(v,q),this.info.render.frame++,ae===!0&&De.beginShadows();const Ee=b.state.shadowsArray;Qe.render(Ee,q,fe),ae===!0&&De.endShadows(),this.info.autoReset===!0&&this.info.reset();const Le=v.opaque,be=v.transmissive;if(b.setupLights(),fe.isArrayCamera){const st=fe.cameras;if(be.length>0)for(let bt=0,At=st.length;bt<At;bt++){const Et=st[bt];xr(Le,be,q,Et)}pt&&Ie.render(q);for(let bt=0,At=st.length;bt<At;bt++){const Et=st[bt];dr(v,q,Et,Et.viewport)}}else be.length>0&&xr(Le,be,q,fe),pt&&Ie.render(q),dr(v,q,fe);R!==null&&(Je.updateMultisampleRenderTarget(R),Je.updateRenderTargetMipmap(R)),q.isScene===!0&&q.onAfterRender(w,q,fe),te.resetDefaultState(),L=-1,T=null,x.pop(),x.length>0?(b=x[x.length-1],ae===!0&&De.setGlobalState(w.clippingPlanes,b.state.camera)):b=null,y.pop(),y.length>0?v=y[y.length-1]:v=null};function On(q,fe,Ee,Le){if(q.visible===!1)return;if(q.layers.test(fe.layers)){if(q.isGroup)Ee=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(fe);else if(q.isLight)b.pushLight(q),q.castShadow&&b.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||G.intersectsSprite(q)){Le&&Ae.setFromMatrixPosition(q.matrixWorld).applyMatrix4(ve);const bt=Te.update(q),At=q.material;At.visible&&v.push(q,bt,At,Ee,Ae.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(!q.frustumCulled||G.intersectsObject(q))){const bt=Te.update(q),At=q.material;if(Le&&(q.boundingSphere!==void 0?(q.boundingSphere===null&&q.computeBoundingSphere(),Ae.copy(q.boundingSphere.center)):(bt.boundingSphere===null&&bt.computeBoundingSphere(),Ae.copy(bt.boundingSphere.center)),Ae.applyMatrix4(q.matrixWorld).applyMatrix4(ve)),Array.isArray(At)){const Et=bt.groups;for(let Ft=0,Nt=Et.length;Ft<Nt;Ft++){const Bt=Et[Ft],vn=At[Bt.materialIndex];vn&&vn.visible&&v.push(q,bt,vn,Ee,Ae.z,Bt)}}else At.visible&&v.push(q,bt,At,Ee,Ae.z,null)}}const st=q.children;for(let bt=0,At=st.length;bt<At;bt++)On(st[bt],fe,Ee,Le)}function dr(q,fe,Ee,Le){const be=q.opaque,st=q.transmissive,bt=q.transparent;b.setupLightsView(Ee),ae===!0&&De.setGlobalState(w.clippingPlanes,Ee),Le&&Be.viewport(C.copy(Le)),be.length>0&&Fn(be,fe,Ee),st.length>0&&Fn(st,fe,Ee),bt.length>0&&Fn(bt,fe,Ee),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function xr(q,fe,Ee,Le){if((Ee.isScene===!0?Ee.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[Le.id]===void 0&&(b.state.transmissionRenderTarget[Le.id]=new Fa(1,1,{generateMipmaps:!0,type:xe.has("EXT_color_buffer_half_float")||xe.has("EXT_color_buffer_float")?ov:Tl,minFilter:Zs,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ln.workingColorSpace}));const st=b.state.transmissionRenderTarget[Le.id],bt=Le.viewport||C;st.setSize(bt.z,bt.w);const At=w.getRenderTarget();w.setRenderTarget(st),w.getClearColor(H),$=w.getClearAlpha(),$<1&&w.setClearColor(16777215,.5),pt?Ie.render(Ee):w.clear();const Et=w.toneMapping;w.toneMapping=Al;const Ft=Le.viewport;if(Le.viewport!==void 0&&(Le.viewport=void 0),b.setupLightsView(Le),ae===!0&&De.setGlobalState(w.clippingPlanes,Le),Fn(q,Ee,Le),Je.updateMultisampleRenderTarget(st),Je.updateRenderTargetMipmap(st),xe.has("WEBGL_multisampled_render_to_texture")===!1){let Nt=!1;for(let Bt=0,vn=fe.length;Bt<vn;Bt++){const hr=fe[Bt],Jn=hr.object,Vr=hr.geometry,cn=hr.material,ct=hr.group;if(cn.side===Ea&&Jn.layers.test(Le.layers)){const Xt=cn.side;cn.side=To,cn.needsUpdate=!0,mi(Jn,Ee,Le,Vr,cn,ct),cn.side=Xt,cn.needsUpdate=!0,Nt=!0}}Nt===!0&&(Je.updateMultisampleRenderTarget(st),Je.updateRenderTargetMipmap(st))}w.setRenderTarget(At),w.setClearColor(H,$),Ft!==void 0&&(Le.viewport=Ft),w.toneMapping=Et}function Fn(q,fe,Ee){const Le=fe.isScene===!0?fe.overrideMaterial:null;for(let be=0,st=q.length;be<st;be++){const bt=q[be],At=bt.object,Et=bt.geometry,Ft=Le===null?bt.material:Le,Nt=bt.group;At.layers.test(Ee.layers)&&mi(At,fe,Ee,Et,Ft,Nt)}}function mi(q,fe,Ee,Le,be,st){q.onBeforeRender(w,fe,Ee,Le,be,st),q.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),be.onBeforeRender(w,fe,Ee,Le,q,st),be.transparent===!0&&be.side===Ea&&be.forceSinglePass===!1?(be.side=To,be.needsUpdate=!0,w.renderBufferDirect(Ee,fe,Le,be,q,st),be.side=kl,be.needsUpdate=!0,w.renderBufferDirect(Ee,fe,Le,be,q,st),be.side=Ea):w.renderBufferDirect(Ee,fe,Le,be,q,st),q.onAfterRender(w,fe,Ee,Le,be,st)}function _r(q,fe,Ee){fe.isScene!==!0&&(fe=Ve);const Le=Ze.get(q),be=b.state.lights,st=b.state.shadowsArray,bt=be.state.version,At=Oe.getParameters(q,be.state,st,fe,Ee),Et=Oe.getProgramCacheKey(At);let Ft=Le.programs;Le.environment=q.isMeshStandardMaterial?fe.environment:null,Le.fog=fe.fog,Le.envMap=(q.isMeshStandardMaterial?Q:_t).get(q.envMap||Le.environment),Le.envMapRotation=Le.environment!==null&&q.envMap===null?fe.environmentRotation:q.envMapRotation,Ft===void 0&&(q.addEventListener("dispose",qe),Ft=new Map,Le.programs=Ft);let Nt=Ft.get(Et);if(Nt!==void 0){if(Le.currentProgram===Nt&&Le.lightsStateVersion===bt)return Po(q,At),Nt}else At.uniforms=Oe.getUniforms(q),q.onBuild(Ee,At,w),q.onBeforeCompile(At,w),Nt=Oe.acquireProgram(At,Et),Ft.set(Et,Nt),Le.uniforms=At.uniforms;const Bt=Le.uniforms;return(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(Bt.clippingPlanes=De.uniform),Po(q,At),Le.needsLights=Cf(q),Le.lightsStateVersion=bt,Le.needsLights&&(Bt.ambientLightColor.value=be.state.ambient,Bt.lightProbe.value=be.state.probe,Bt.directionalLights.value=be.state.directional,Bt.directionalLightShadows.value=be.state.directionalShadow,Bt.spotLights.value=be.state.spot,Bt.spotLightShadows.value=be.state.spotShadow,Bt.rectAreaLights.value=be.state.rectArea,Bt.ltc_1.value=be.state.rectAreaLTC1,Bt.ltc_2.value=be.state.rectAreaLTC2,Bt.pointLights.value=be.state.point,Bt.pointLightShadows.value=be.state.pointShadow,Bt.hemisphereLights.value=be.state.hemi,Bt.directionalShadowMap.value=be.state.directionalShadowMap,Bt.directionalShadowMatrix.value=be.state.directionalShadowMatrix,Bt.spotShadowMap.value=be.state.spotShadowMap,Bt.spotLightMatrix.value=be.state.spotLightMatrix,Bt.spotLightMap.value=be.state.spotLightMap,Bt.pointShadowMap.value=be.state.pointShadowMap,Bt.pointShadowMatrix.value=be.state.pointShadowMatrix),Le.currentProgram=Nt,Le.uniformsList=null,Nt}function ji(q){if(q.uniformsList===null){const fe=q.currentProgram.getUniforms();q.uniformsList=I_.seqWithValue(fe.seq,q.uniforms)}return q.uniformsList}function Po(q,fe){const Ee=Ze.get(q);Ee.outputColorSpace=fe.outputColorSpace,Ee.batching=fe.batching,Ee.batchingColor=fe.batchingColor,Ee.instancing=fe.instancing,Ee.instancingColor=fe.instancingColor,Ee.instancingMorph=fe.instancingMorph,Ee.skinning=fe.skinning,Ee.morphTargets=fe.morphTargets,Ee.morphNormals=fe.morphNormals,Ee.morphColors=fe.morphColors,Ee.morphTargetsCount=fe.morphTargetsCount,Ee.numClippingPlanes=fe.numClippingPlanes,Ee.numIntersection=fe.numClipIntersection,Ee.vertexAlphas=fe.vertexAlphas,Ee.vertexTangents=fe.vertexTangents,Ee.toneMapping=fe.toneMapping}function qa(q,fe,Ee,Le,be){fe.isScene!==!0&&(fe=Ve),Je.resetTextureUnits();const st=fe.fog,bt=Le.isMeshStandardMaterial?fe.environment:null,At=R===null?w.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Ic,Et=(Le.isMeshStandardMaterial?Q:_t).get(Le.envMap||bt),Ft=Le.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,Nt=!!Ee.attributes.tangent&&(!!Le.normalMap||Le.anisotropy>0),Bt=!!Ee.morphAttributes.position,vn=!!Ee.morphAttributes.normal,hr=!!Ee.morphAttributes.color;let Jn=Al;Le.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Jn=w.toneMapping);const Vr=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,cn=Vr!==void 0?Vr.length:0,ct=Ze.get(Le),Xt=b.state.lights;if(ae===!0&&(_e===!0||q!==T)){const uo=q===T&&Le.id===L;De.setState(Le,q,uo)}let dn=!1;Le.version===ct.__version?(ct.needsLights&&ct.lightsStateVersion!==Xt.state.version||ct.outputColorSpace!==At||be.isBatchedMesh&&ct.batching===!1||!be.isBatchedMesh&&ct.batching===!0||be.isBatchedMesh&&ct.batchingColor===!0&&be.colorTexture===null||be.isBatchedMesh&&ct.batchingColor===!1&&be.colorTexture!==null||be.isInstancedMesh&&ct.instancing===!1||!be.isInstancedMesh&&ct.instancing===!0||be.isSkinnedMesh&&ct.skinning===!1||!be.isSkinnedMesh&&ct.skinning===!0||be.isInstancedMesh&&ct.instancingColor===!0&&be.instanceColor===null||be.isInstancedMesh&&ct.instancingColor===!1&&be.instanceColor!==null||be.isInstancedMesh&&ct.instancingMorph===!0&&be.morphTexture===null||be.isInstancedMesh&&ct.instancingMorph===!1&&be.morphTexture!==null||ct.envMap!==Et||Le.fog===!0&&ct.fog!==st||ct.numClippingPlanes!==void 0&&(ct.numClippingPlanes!==De.numPlanes||ct.numIntersection!==De.numIntersection)||ct.vertexAlphas!==Ft||ct.vertexTangents!==Nt||ct.morphTargets!==Bt||ct.morphNormals!==vn||ct.morphColors!==hr||ct.toneMapping!==Jn||ct.morphTargetsCount!==cn)&&(dn=!0):(dn=!0,ct.__version=Le.version);let Yn=ct.currentProgram;dn===!0&&(Yn=_r(Le,fe,be));let ti=!1,co=!1,Ka=!1;const Sn=Yn.getUniforms(),Qo=ct.uniforms;if(Be.useProgram(Yn.program)&&(ti=!0,co=!0,Ka=!0),Le.id!==L&&(L=Le.id,co=!0),ti||T!==q){Sn.setValue(ee,"projectionMatrix",q.projectionMatrix),Sn.setValue(ee,"viewMatrix",q.matrixWorldInverse);const uo=Sn.map.cameraPosition;uo!==void 0&&uo.setValue(ee,Ae.setFromMatrixPosition(q.matrixWorld)),Fe.logarithmicDepthBuffer&&Sn.setValue(ee,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),(Le.isMeshPhongMaterial||Le.isMeshToonMaterial||Le.isMeshLambertMaterial||Le.isMeshBasicMaterial||Le.isMeshStandardMaterial||Le.isShaderMaterial)&&Sn.setValue(ee,"isOrthographic",q.isOrthographicCamera===!0),T!==q&&(T=q,co=!0,Ka=!0)}if(be.isSkinnedMesh){Sn.setOptional(ee,be,"bindMatrix"),Sn.setOptional(ee,be,"bindMatrixInverse");const uo=be.skeleton;uo&&(uo.boneTexture===null&&uo.computeBoneTexture(),Sn.setValue(ee,"boneTexture",uo.boneTexture,Je))}be.isBatchedMesh&&(Sn.setOptional(ee,be,"batchingTexture"),Sn.setValue(ee,"batchingTexture",be._matricesTexture,Je),Sn.setOptional(ee,be,"batchingColorTexture"),be._colorsTexture!==null&&Sn.setValue(ee,"batchingColorTexture",be._colorsTexture,Je));const Mf=Ee.morphAttributes;if((Mf.position!==void 0||Mf.normal!==void 0||Mf.color!==void 0)&&et.update(be,Ee,Yn),(co||ct.receiveShadow!==be.receiveShadow)&&(ct.receiveShadow=be.receiveShadow,Sn.setValue(ee,"receiveShadow",be.receiveShadow)),Le.isMeshGouraudMaterial&&Le.envMap!==null&&(Qo.envMap.value=Et,Qo.flipEnvMap.value=Et.isCubeTexture&&Et.isRenderTargetTexture===!1?-1:1),Le.isMeshStandardMaterial&&Le.envMap===null&&fe.environment!==null&&(Qo.envMapIntensity.value=fe.environmentIntensity),co&&(Sn.setValue(ee,"toneMappingExposure",w.toneMappingExposure),ct.needsLights&&jc(Qo,Ka),st&&Le.fog===!0&&Ge.refreshFogUniforms(Qo,st),Ge.refreshMaterialUniforms(Qo,Le,K,Z,b.state.transmissionRenderTarget[q.id]),I_.upload(ee,ji(ct),Qo,Je)),Le.isShaderMaterial&&Le.uniformsNeedUpdate===!0&&(I_.upload(ee,ji(ct),Qo,Je),Le.uniformsNeedUpdate=!1),Le.isSpriteMaterial&&Sn.setValue(ee,"center",be.center),Sn.setValue(ee,"modelViewMatrix",be.modelViewMatrix),Sn.setValue(ee,"normalMatrix",be.normalMatrix),Sn.setValue(ee,"modelMatrix",be.matrixWorld),Le.isShaderMaterial||Le.isRawShaderMaterial){const uo=Le.uniformsGroups;for(let Hc=0,Bv=uo.length;Hc<Bv;Hc++){const No=uo[Hc];ge.update(No,Yn),ge.bind(No,Yn)}}return Yn}function jc(q,fe){q.ambientLightColor.needsUpdate=fe,q.lightProbe.needsUpdate=fe,q.directionalLights.needsUpdate=fe,q.directionalLightShadows.needsUpdate=fe,q.pointLights.needsUpdate=fe,q.pointLightShadows.needsUpdate=fe,q.spotLights.needsUpdate=fe,q.spotLightShadows.needsUpdate=fe,q.rectAreaLights.needsUpdate=fe,q.hemisphereLights.needsUpdate=fe}function Cf(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(q,fe,Ee){Ze.get(q.texture).__webglTexture=fe,Ze.get(q.depthTexture).__webglTexture=Ee;const Le=Ze.get(q);Le.__hasExternalTextures=!0,Le.__autoAllocateDepthBuffer=Ee===void 0,Le.__autoAllocateDepthBuffer||xe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Le.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(q,fe){const Ee=Ze.get(q);Ee.__webglFramebuffer=fe,Ee.__useDefaultFramebuffer=fe===void 0},this.setRenderTarget=function(q,fe=0,Ee=0){R=q,D=fe,k=Ee;let Le=!0,be=null,st=!1,bt=!1;if(q){const Et=Ze.get(q);Et.__useDefaultFramebuffer!==void 0?(Be.bindFramebuffer(ee.FRAMEBUFFER,null),Le=!1):Et.__webglFramebuffer===void 0?Je.setupRenderTarget(q):Et.__hasExternalTextures&&Je.rebindTextures(q,Ze.get(q.texture).__webglTexture,Ze.get(q.depthTexture).__webglTexture);const Ft=q.texture;(Ft.isData3DTexture||Ft.isDataArrayTexture||Ft.isCompressedArrayTexture)&&(bt=!0);const Nt=Ze.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(Array.isArray(Nt[fe])?be=Nt[fe][Ee]:be=Nt[fe],st=!0):q.samples>0&&Je.useMultisampledRTT(q)===!1?be=Ze.get(q).__webglMultisampledFramebuffer:Array.isArray(Nt)?be=Nt[Ee]:be=Nt,C.copy(q.viewport),P.copy(q.scissor),z=q.scissorTest}else C.copy(I).multiplyScalar(K).floor(),P.copy(se).multiplyScalar(K).floor(),z=ye;if(Be.bindFramebuffer(ee.FRAMEBUFFER,be)&&Le&&Be.drawBuffers(q,be),Be.viewport(C),Be.scissor(P),Be.setScissorTest(z),st){const Et=Ze.get(q.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Et.__webglTexture,Ee)}else if(bt){const Et=Ze.get(q.texture),Ft=fe||0;ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Et.__webglTexture,Ee||0,Ft)}L=-1},this.readRenderTargetPixels=function(q,fe,Ee,Le,be,st,bt){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let At=Ze.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&bt!==void 0&&(At=At[bt]),At){Be.bindFramebuffer(ee.FRAMEBUFFER,At);try{const Et=q.texture,Ft=Et.format,Nt=Et.type;if(!Fe.textureFormatReadable(Ft)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Fe.textureTypeReadable(Nt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}fe>=0&&fe<=q.width-Le&&Ee>=0&&Ee<=q.height-be&&ee.readPixels(fe,Ee,Le,be,rt.convert(Ft),rt.convert(Nt),st)}finally{const Et=R!==null?Ze.get(R).__webglFramebuffer:null;Be.bindFramebuffer(ee.FRAMEBUFFER,Et)}}},this.readRenderTargetPixelsAsync=async function(q,fe,Ee,Le,be,st,bt){if(!(q&&q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let At=Ze.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&bt!==void 0&&(At=At[bt]),At){Be.bindFramebuffer(ee.FRAMEBUFFER,At);try{const Et=q.texture,Ft=Et.format,Nt=Et.type;if(!Fe.textureFormatReadable(Ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Fe.textureTypeReadable(Nt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(fe>=0&&fe<=q.width-Le&&Ee>=0&&Ee<=q.height-be){const Bt=ee.createBuffer();ee.bindBuffer(ee.PIXEL_PACK_BUFFER,Bt),ee.bufferData(ee.PIXEL_PACK_BUFFER,st.byteLength,ee.STREAM_READ),ee.readPixels(fe,Ee,Le,be,rt.convert(Ft),rt.convert(Nt),0),ee.flush();const vn=ee.fenceSync(ee.SYNC_GPU_COMMANDS_COMPLETE,0);await uhe(ee,vn,4);try{ee.bindBuffer(ee.PIXEL_PACK_BUFFER,Bt),ee.getBufferSubData(ee.PIXEL_PACK_BUFFER,0,st)}finally{ee.deleteBuffer(Bt),ee.deleteSync(vn)}return st}}finally{const Et=R!==null?Ze.get(R).__webglFramebuffer:null;Be.bindFramebuffer(ee.FRAMEBUFFER,Et)}}},this.copyFramebufferToTexture=function(q,fe=null,Ee=0){q.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),fe=arguments[0]||null,q=arguments[1]);const Le=Math.pow(2,-Ee),be=Math.floor(q.image.width*Le),st=Math.floor(q.image.height*Le),bt=fe!==null?fe.x:0,At=fe!==null?fe.y:0;Je.setTexture2D(q,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,Ee,0,0,bt,At,be,st),Be.unbindTexture()},this.copyTextureToTexture=function(q,fe,Ee=null,Le=null,be=0){q.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),Le=arguments[0]||null,q=arguments[1],fe=arguments[2],be=arguments[3]||0,Ee=null);let st,bt,At,Et,Ft,Nt;Ee!==null?(st=Ee.max.x-Ee.min.x,bt=Ee.max.y-Ee.min.y,At=Ee.min.x,Et=Ee.min.y):(st=q.image.width,bt=q.image.height,At=0,Et=0),Le!==null?(Ft=Le.x,Nt=Le.y):(Ft=0,Nt=0);const Bt=rt.convert(fe.format),vn=rt.convert(fe.type);Je.setTexture2D(fe,0),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,fe.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,fe.unpackAlignment);const hr=ee.getParameter(ee.UNPACK_ROW_LENGTH),Jn=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),Vr=ee.getParameter(ee.UNPACK_SKIP_PIXELS),cn=ee.getParameter(ee.UNPACK_SKIP_ROWS),ct=ee.getParameter(ee.UNPACK_SKIP_IMAGES),Xt=q.isCompressedTexture?q.mipmaps[be]:q.image;ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Xt.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Xt.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,At),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Et),q.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,be,Ft,Nt,st,bt,Bt,vn,Xt.data):q.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,be,Ft,Nt,Xt.width,Xt.height,Bt,Xt.data):ee.texSubImage2D(ee.TEXTURE_2D,be,Ft,Nt,Bt,vn,Xt),ee.pixelStorei(ee.UNPACK_ROW_LENGTH,hr),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Jn),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Vr),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,cn),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,ct),be===0&&fe.generateMipmaps&&ee.generateMipmap(ee.TEXTURE_2D),Be.unbindTexture()},this.copyTextureToTexture3D=function(q,fe,Ee=null,Le=null,be=0){q.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ee=arguments[0]||null,Le=arguments[1]||null,q=arguments[2],fe=arguments[3],be=arguments[4]||0);let st,bt,At,Et,Ft,Nt,Bt,vn,hr;const Jn=q.isCompressedTexture?q.mipmaps[be]:q.image;Ee!==null?(st=Ee.max.x-Ee.min.x,bt=Ee.max.y-Ee.min.y,At=Ee.max.z-Ee.min.z,Et=Ee.min.x,Ft=Ee.min.y,Nt=Ee.min.z):(st=Jn.width,bt=Jn.height,At=Jn.depth,Et=0,Ft=0,Nt=0),Le!==null?(Bt=Le.x,vn=Le.y,hr=Le.z):(Bt=0,vn=0,hr=0);const Vr=rt.convert(fe.format),cn=rt.convert(fe.type);let ct;if(fe.isData3DTexture)Je.setTexture3D(fe,0),ct=ee.TEXTURE_3D;else if(fe.isDataArrayTexture||fe.isCompressedArrayTexture)Je.setTexture2DArray(fe,0),ct=ee.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,fe.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,fe.unpackAlignment);const Xt=ee.getParameter(ee.UNPACK_ROW_LENGTH),dn=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),Yn=ee.getParameter(ee.UNPACK_SKIP_PIXELS),ti=ee.getParameter(ee.UNPACK_SKIP_ROWS),co=ee.getParameter(ee.UNPACK_SKIP_IMAGES);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Jn.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Jn.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Et),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Ft),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Nt),q.isDataTexture||q.isData3DTexture?ee.texSubImage3D(ct,be,Bt,vn,hr,st,bt,At,Vr,cn,Jn.data):fe.isCompressedArrayTexture?ee.compressedTexSubImage3D(ct,be,Bt,vn,hr,st,bt,At,Vr,Jn.data):ee.texSubImage3D(ct,be,Bt,vn,hr,st,bt,At,Vr,cn,Jn),ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Xt),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,dn),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Yn),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,ti),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,co),be===0&&fe.generateMipmaps&&ee.generateMipmap(ct),Be.unbindTexture()},this.initRenderTarget=function(q){Ze.get(q).__webglFramebuffer===void 0&&Je.setupRenderTarget(q)},this.initTexture=function(q){q.isCubeTexture?Je.setTextureCube(q,0):q.isData3DTexture?Je.setTexture3D(q,0):q.isDataArrayTexture||q.isCompressedArrayTexture?Je.setTexture2DArray(q,0):Je.setTexture2D(q,0),Be.unbindTexture()},this.resetState=function(){D=0,k=0,R=null,Be.reset(),te.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return xl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Y3?"display-p3":"srgb",n.unpackColorSpace=Ln.workingColorSpace===sv?"display-p3":"srgb"}}class e4{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ut(e),this.density=n}clone(){return new e4(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class t4{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new ut(e),this.near=n,this.far=r}clone(){return new t4(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Kw extends mn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ss,this.environmentIntensity=1,this.environmentRotation=new Ss,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class uv{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=T1,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=xs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return bT("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const mo=new W;class sd{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)mo.fromBufferAttribute(this,n),mo.applyMatrix4(e),this.setXYZ(n,mo.x,mo.y,mo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)mo.fromBufferAttribute(this,n),mo.applyNormalMatrix(e),this.setXYZ(n,mo.x,mo.y,mo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)mo.fromBufferAttribute(this,n),mo.transformDirection(e),this.setXYZ(n,mo.x,mo.y,mo.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=So(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=en(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=So(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=So(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=So(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=So(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),o=en(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new wn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new sd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ET extends ei{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let xp;const Dg=new W,_p=new W,wp=new W,Sp=new $e,Lg=new $e,AK=new Pt,w2=new W,Rg=new W,S2=new W,gI=new $e,hM=new $e,yI=new $e;class CK extends mn{constructor(e=new ET){if(super(),this.isSprite=!0,this.type="Sprite",xp===void 0){xp=new Wt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new uv(n,5);xp.setIndex([0,1,2,0,2,3]),xp.setAttribute("position",new sd(r,3,0,!1)),xp.setAttribute("uv",new sd(r,2,3,!1))}this.geometry=xp,this.material=e,this.center=new $e(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_p.setFromMatrixScale(this.matrixWorld),AK.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),wp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_p.multiplyScalar(-wp.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;A2(w2.set(-.5,-.5,0),wp,s,_p,i,o),A2(Rg.set(.5,-.5,0),wp,s,_p,i,o),A2(S2.set(.5,.5,0),wp,s,_p,i,o),gI.set(0,0),hM.set(1,0),yI.set(1,1);let a=e.ray.intersectTriangle(w2,Rg,S2,!1,Dg);if(a===null&&(A2(Rg.set(-.5,.5,0),wp,s,_p,i,o),hM.set(0,1),a=e.ray.intersectTriangle(w2,S2,Rg,!1,Dg),a===null))return;const l=e.ray.origin.distanceTo(Dg);l<e.near||l>e.far||n.push({distance:l,point:Dg.clone(),uv:ps.getInterpolation(Dg,w2,Rg,S2,gI,hM,yI,new $e),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function A2(t,e,n,r,i,o){Sp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Lg.x=o*Sp.x-i*Sp.y,Lg.y=i*Sp.x+o*Sp.y):Lg.copy(Sp),t.copy(e),t.x+=Lg.x,t.y+=Lg.y,t.applyMatrix4(AK)}const C2=new W,vI=new W;class MK extends mn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){C2.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(C2);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){C2.setFromMatrixPosition(e.matrixWorld),vI.setFromMatrixPosition(this.matrixWorld);const r=C2.distanceTo(vI)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const bI=new W,xI=new Un,_I=new Un,yge=new W,wI=new Pt,M2=new W,fM=new Fi,SI=new Pt,pM=new bf;class kT extends $r{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=r6,this.bindMatrix=new Pt,this.bindMatrixInverse=new Pt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ro),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,M2),this.boundingBox.expandByPoint(M2)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fi),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,M2),this.boundingSphere.expandByPoint(M2)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),fM.copy(this.boundingSphere),fM.applyMatrix4(i),e.ray.intersectsSphere(fM)!==!1&&(SI.copy(i).invert(),pM.copy(e.ray).applyMatrix4(SI),!(this.boundingBox!==null&&pM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,pM)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Un,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===r6?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Nq?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;xI.fromBufferAttribute(i.attributes.skinIndex,e),_I.fromBufferAttribute(i.attributes.skinWeight,e),bI.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const s=_I.getComponent(o);if(s!==0){const a=xI.getComponent(o);wI.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(yge.copy(bI).applyMatrix4(wI),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}class n4 extends mn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vc extends ur{constructor(e=null,n=1,r=1,i,o,s,a,l,c=ci,u=ci,d,h){super(null,s,a,l,c,u,i,o,d,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const AI=new Pt,vge=new Pt;class dv{constructor(e=[],n=[]){this.uuid=xs(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Pt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:vge;AI.multiplyMatrices(a,n[o]),AI.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new dv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new vc(n,e,e,Co,ys);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=n[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new n4),this.bones.push(s),this.boneInverses.push(new Pt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const s=n[i];e.bones.push(s.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class sf extends wn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ap=new Pt,CI=new Pt,E2=[],MI=new ro,bge=new Pt,Bg=new $r,Pg=new Fi;class TT extends $r{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new sf(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,bge)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ro),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Ap),MI.copy(e.boundingBox).applyMatrix4(Ap),this.boundingBox.union(MI)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Ap),Pg.copy(e.boundingSphere).applyMatrix4(Ap),this.boundingSphere.union(Pg)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,s=e*o+1;for(let a=0;a<r.length;a++)r[a]=i[s+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Bg.geometry=this.geometry,Bg.material=this.material,Bg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Pg.copy(this.boundingSphere),Pg.applyMatrix4(r),e.ray.intersectsSphere(Pg)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Ap),CI.multiplyMatrices(r,Ap),Bg.matrixWorld=CI,Bg.raycast(e,E2);for(let s=0,a=E2.length;s<a;s++){const l=E2[s];l.instanceId=o,l.object=this,n.push(l)}E2.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new sf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new vc(new Float32Array(i*this.count),i,this.count,dT,ys));const o=this.morphTexture.source.data.data;let s=0;for(let c=0;c<r.length;c++)s+=r[c];const a=this.geometry.morphTargetsRelative?1:1-s,l=i*e;o[l]=a,o.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function xge(t,e){return t.z-e.z}function _ge(t,e){return e.z-t.z}class wge{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n}reset(){this.list.length=0,this.index=0}}const Cp="batchId",bu=new Pt,mM=new Pt,Sge=new Pt,Age=new ut(1,1,1),EI=new Pt,gM=new cv,k2=new ro,Kd=new Fi,Ng=new W,kI=new W,Cge=new W,yM=new wge,Yi=new $r,T2=[];function Mge(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let s=0;s<r;s++)e.setComponent(o+n,s,t.getComponent(o,s))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class EK extends $r{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Wt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new vc(n,e,e,Co,ys);this._matricesTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxGeometryCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new vc(n,e,e,Co,ys);r.colorSpace=Ln.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:d}=l,h=new c.constructor(r*u),f=new wn(h,u,d);n.setAttribute(a,f)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(o):new Uint16Array(o);n.setIndex(new wn(a,1))}const s=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(Cp,new wn(s,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Cp))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Cp}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===Cp)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ro);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,bu),this.getBoundingBoxAt(i,k2).applyMatrix4(bu),n.union(k2))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fi);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,bu),this.getBoundingSphereAt(i,Kd).applyMatrix4(bu),n.union(Kd))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const s=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=s[s.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,h=this._active,f=this._matricesTexture,p=this._matricesTexture.image.data,v=this._colorsTexture;d.push(!0),h.push(!0);const b=this._geometryCount;this._geometryCount++,Sge.toArray(p,b*16),f.needsUpdate=!0,v!==null&&(Age.toArray(v.image.data,b*4),v.needsUpdate=!0),s.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new ro,sphereInitialized:!1,sphere:new Fi});const y=this.geometry.getAttribute(Cp);for(let x=0;x<i.vertexCount;x++)y.setX(i.vertexStart+x,b);return y.needsUpdate=!0,this.setGeometryAt(b,e),b}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),s=n.getIndex(),a=this._reservedRanges[e];if(i&&s.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const f in r.attributes){if(f===Cp)continue;const p=n.getAttribute(f),v=r.getAttribute(f);Mge(p,v,l);const b=p.itemSize;for(let y=p.count,x=c;y<x;y++){const w=l+y;for(let A=0;A<b;A++)v.setComponent(w,A,0)}v.needsUpdate=!0,v.addUpdateRange(l*b,c*b)}if(i){const f=a.indexStart;for(let p=0;p<s.count;p++)o.setX(f+p,l+s.getX(p));for(let p=s.count,v=a.indexCount;p<v;p++)o.setX(f+p,l);o.needsUpdate=!0,o.addUpdateRange(f,a.indexCount)}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const d=this._drawRanges[e],h=n.getAttribute("position");return d.count=i?s.count:h.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,n){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=n,e}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.box,s=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const a=s.index,l=s.attributes.position,c=this._drawRanges[e];for(let u=c.start,d=c.start+c.count;u<d;u++){let h=u;a&&(h=a.getX(h)),o.expandByPoint(Ng.fromBufferAttribute(l,h))}i.boxInitialized=!0}return n.copy(o),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.sphere,s=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,k2),k2.getCenter(o.center);const a=s.index,l=s.attributes.position,c=this._drawRanges[e];let u=0;for(let d=c.start,h=c.start+c.count;d<h;d++){let f=d;a&&(f=a.getX(f)),Ng.fromBufferAttribute(l,f),u=Math.max(u,o.center.distanceToSquared(Ng))}o.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(o),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const r=this._active,i=this._colorsTexture,o=this._colorsTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?this:(n.toArray(o,e*4),i.needsUpdate=!0,this)}getColorAt(e,n){const r=this._active,i=this._colorsTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*4)}setVisibleAt(e,n){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,o=this._drawRanges,s=this._geometryCount,a=this.matrixWorld,l=this.geometry;Yi.material=this.material,Yi.geometry.index=l.index,Yi.geometry.attributes=l.attributes,Yi.geometry.boundingBox===null&&(Yi.geometry.boundingBox=new ro),Yi.geometry.boundingSphere===null&&(Yi.geometry.boundingSphere=new Fi);for(let c=0;c<s;c++){if(!r[c]||!i[c])continue;const u=o[c];Yi.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Yi.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Yi.geometry.boundingBox),this.getBoundingSphereAt(c,Yi.geometry.boundingSphere),Yi.raycast(e,T2);for(let d=0,h=T2.length;d<h;d++){const f=T2[d];f.object=this,f.batchId=c,n.push(f)}T2.length=0}Yi.material=null,Yi.geometry.index=null,Yi.geometry.attributes={},Yi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),a=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,u=this._multiDrawStarts,d=this._multiDrawCounts,h=this._drawRanges,f=this.perObjectFrustumCulled;f&&(EI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),gM.setFromProjectionMatrix(EI,e.coordinateSystem));let p=0;if(this.sortObjects){mM.copy(this.matrixWorld).invert(),Ng.setFromMatrixPosition(r.matrixWorld).applyMatrix4(mM),kI.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(mM);for(let y=0,x=c.length;y<x;y++)if(c[y]&&l[y]){this.getMatrixAt(y,bu),this.getBoundingSphereAt(y,Kd).applyMatrix4(bu);let w=!1;if(f&&(w=!gM.intersectsSphere(Kd)),!w){const A=Cge.subVectors(Kd.center,Ng).dot(kI);yM.push(h[y],A)}}const v=yM.list,b=this.customSort;b===null?v.sort(o.transparent?_ge:xge):b.call(this,v,r);for(let y=0,x=v.length;y<x;y++){const w=v[y];u[p]=w.start*a,d[p]=w.count,p++}yM.reset()}else for(let v=0,b=c.length;v<b;v++)if(c[v]&&l[v]){let y=!1;if(f&&(this.getMatrixAt(v,bu),this.getBoundingSphereAt(v,Kd).applyMatrix4(bu),y=!gM.intersectsSphere(Kd)),!y){const x=h[v];u[p]=x.start*a,d[p]=x.count,p++}}this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,s){this.onBeforeRender(e,null,i,o,s)}}class so extends ei{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ww=new W,Xw=new W,TI=new Pt,Ig=new bf,D2=new Fi,vM=new W,DI=new W;class Dc extends mn{constructor(e=new Wt,n=new so){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)Ww.fromBufferAttribute(n,i-1),Xw.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Ww.distanceTo(Xw);e.setAttribute("lineDistance",new Mt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),D2.copy(r.boundingSphere),D2.applyMatrix4(i),D2.radius+=o,e.ray.intersectsSphere(D2)===!1)return;TI.copy(i).invert(),Ig.copy(e.ray).applyMatrix4(TI);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=r.index,h=r.attributes.position;if(u!==null){const f=Math.max(0,s.start),p=Math.min(u.count,s.start+s.count);for(let v=f,b=p-1;v<b;v+=c){const y=u.getX(v),x=u.getX(v+1),w=L2(this,e,Ig,l,y,x);w&&n.push(w)}if(this.isLineLoop){const v=u.getX(p-1),b=u.getX(f),y=L2(this,e,Ig,l,v,b);y&&n.push(y)}}else{const f=Math.max(0,s.start),p=Math.min(h.count,s.start+s.count);for(let v=f,b=p-1;v<b;v+=c){const y=L2(this,e,Ig,l,v,v+1);y&&n.push(y)}if(this.isLineLoop){const v=L2(this,e,Ig,l,p-1,f);v&&n.push(v)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function L2(t,e,n,r,i,o){const s=t.geometry.attributes.position;if(Ww.fromBufferAttribute(s,i),Xw.fromBufferAttribute(s,o),n.distanceSqToSegment(Ww,Xw,vM,DI)>r)return;vM.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(vM);if(!(l<e.near||l>e.far))return{distance:l,point:DI.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,object:t}}const LI=new W,RI=new W;class Ha extends Dc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)LI.fromBufferAttribute(n,i),RI.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+LI.distanceTo(RI);e.setAttribute("lineDistance",new Mt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class DT extends Dc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class r4 extends ei{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const BI=new Pt,P6=new bf,R2=new Fi,B2=new W;class LT extends mn{constructor(e=new Wt,n=new r4){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),R2.copy(r.boundingSphere),R2.applyMatrix4(i),R2.radius+=o,e.ray.intersectsSphere(R2)===!1)return;BI.copy(i).invert(),P6.copy(e.ray).applyMatrix4(BI);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const h=Math.max(0,s.start),f=Math.min(c.count,s.start+s.count);for(let p=h,v=f;p<v;p++){const b=c.getX(p);B2.fromBufferAttribute(d,b),PI(B2,b,l,i,e,n,this)}}else{const h=Math.max(0,s.start),f=Math.min(d.count,s.start+s.count);for(let p=h,v=f;p<v;p++)B2.fromBufferAttribute(d,p),PI(B2,p,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function PI(t,e,n,r,i,o,s){const a=P6.distanceSqToPoint(t);if(a<n){const l=new W;P6.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}class Ege extends ur{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:Pr,this.magFilter=o!==void 0?o:Pr,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class kge extends ur{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=ci,this.minFilter=ci,this.generateMipmaps=!1,this.needsUpdate=!0}}class i4 extends ur{constructor(e,n,r,i,o,s,a,l,c,u,d,h){super(null,s,a,l,c,u,i,o,d,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Tge extends i4{constructor(e,n,r,i,o,s){super(e,n,r,o,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=gs,this.layerUpdates=new Set}addLayerUpdates(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Dge extends i4{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Tc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Lge extends ur{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class $a{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let s;n?s=n:s=e*r[o-1];let a=0,l=o-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-s,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);const u=r[i],h=r[i+1]-u,f=(s-u)/h;return(i+f)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),l=n||(s.isVector2?new $e:new W);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new W,i=[],o=[],s=[],a=new W,l=new Pt;for(let f=0;f<=e;f++){const p=f/e;i[f]=this.getTangentAt(p,new W)}o[0]=new W,s[0]=new W;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),h=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),h<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let f=1;f<=e;f++){if(o[f]=o[f-1].clone(),s[f]=s[f-1].clone(),a.crossVectors(i[f-1],i[f]),a.length()>Number.EPSILON){a.normalize();const p=Math.acos(Br(i[f-1].dot(i[f]),-1,1));o[f].applyMatrix4(l.makeRotationAxis(a,p))}s[f].crossVectors(i[f],o[f])}if(n===!0){let f=Math.acos(Br(o[0].dot(o[e]),-1,1));f/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(f=-f);for(let p=1;p<=e;p++)o[p].applyMatrix4(l.makeRotationAxis(i[p],f*p)),s[p].crossVectors(i[p],o[p])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class o4 extends $a{constructor(e=0,n=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new $e){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,f=c-this.aY;l=h*u-f*d+this.aX,c=h*d+f*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class kK extends o4{constructor(e,n,r,i,o,s){super(e,n,r,r,i,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function RT(){let t=0,e=0,n=0,r=0;function i(o,s,a,l){t=o,e=a,n=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){i(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,u,d){let h=(s-o)/c-(a-o)/(c+u)+(a-s)/u,f=(a-s)/u-(l-s)/(u+d)+(l-a)/d;h*=u,f*=u,i(s,a,h,f)},calc:function(o){const s=o*o,a=s*o;return t+e*o+n*s+r*a}}}const P2=new W,bM=new RT,xM=new RT,_M=new RT;class TK extends $a{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new W){const r=n,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%o]:(P2.subVectors(i[0],i[1]).add(i[0]),c=P2);const d=i[a%o],h=i[(a+1)%o];if(this.closed||a+2<o?u=i[(a+2)%o]:(P2.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=P2),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(d),f),v=Math.pow(d.distanceToSquared(h),f),b=Math.pow(h.distanceToSquared(u),f);v<1e-4&&(v=1),p<1e-4&&(p=v),b<1e-4&&(b=v),bM.initNonuniformCatmullRom(c.x,d.x,h.x,u.x,p,v,b),xM.initNonuniformCatmullRom(c.y,d.y,h.y,u.y,p,v,b),_M.initNonuniformCatmullRom(c.z,d.z,h.z,u.z,p,v,b)}else this.curveType==="catmullrom"&&(bM.initCatmullRom(c.x,d.x,h.x,u.x,this.tension),xM.initCatmullRom(c.y,d.y,h.y,u.y,this.tension),_M.initCatmullRom(c.z,d.z,h.z,u.z,this.tension));return r.set(bM.calc(l),xM.calc(l),_M.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new W().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function NI(t,e,n,r,i){const o=(r-e)*.5,s=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+o+s)*l+(-3*n+3*r-2*o-s)*a+o*t+n}function Rge(t,e){const n=1-t;return n*n*e}function Bge(t,e){return 2*(1-t)*t*e}function Pge(t,e){return t*t*e}function Ry(t,e,n,r){return Rge(t,e)+Bge(t,n)+Pge(t,r)}function Nge(t,e){const n=1-t;return n*n*n*e}function Ige(t,e){const n=1-t;return 3*n*n*t*e}function Oge(t,e){return 3*(1-t)*t*t*e}function Fge(t,e){return t*t*t*e}function By(t,e,n,r,i){return Nge(t,e)+Ige(t,n)+Oge(t,r)+Fge(t,i)}class BT extends $a{constructor(e=new $e,n=new $e,r=new $e,i=new $e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new $e){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(By(e,i.x,o.x,s.x,a.x),By(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class DK extends $a{constructor(e=new W,n=new W,r=new W,i=new W){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new W){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(By(e,i.x,o.x,s.x,a.x),By(e,i.y,o.y,s.y,a.y),By(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class PT extends $a{constructor(e=new $e,n=new $e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new $e){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new $e){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LK extends $a{constructor(e=new W,n=new W){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new W){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new W){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NT extends $a{constructor(e=new $e,n=new $e,r=new $e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new $e){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Ry(e,i.x,o.x,s.x),Ry(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IT extends $a{constructor(e=new W,n=new W,r=new W){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new W){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Ry(e,i.x,o.x,s.x),Ry(e,i.y,o.y,s.y),Ry(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OT extends $a{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new $e){const r=n,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set(NI(a,l.x,c.x,u.x,d.x),NI(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new $e().fromArray(i))}return this}}var Jw=Object.freeze({__proto__:null,ArcCurve:kK,CatmullRomCurve3:TK,CubicBezierCurve:BT,CubicBezierCurve3:DK,EllipseCurve:o4,LineCurve:PT,LineCurve3:LK,QuadraticBezierCurve:NT,QuadraticBezierCurve3:IT,SplineCurve:OT});class RK extends $a{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Jw[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],l=a.getLength(),c=l===0?0:1-s/l;return a.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Jw[i.type]().fromJSON(i))}return this}}class R1 extends RK{constructor(e){super(),this.type="Path",this.currentPoint=new $e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new PT(this.currentPoint.clone(),new $e(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new NT(this.currentPoint.clone(),new $e(e,n),new $e(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,s){const a=new BT(this.currentPoint.clone(),new $e(e,n),new $e(r,i),new $e(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new OT(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,o,s),this}absarc(e,n,r,i,o,s){return this.absellipse(e,n,r,r,i,o,s),this}ellipse(e,n,r,i,o,s,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,s,a,l),this}absellipse(e,n,r,i,o,s,a,l){const c=new o4(e,n,r,i,o,s,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hv extends Wt{constructor(e=[new $e(0,-.5),new $e(.5,0),new $e(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Br(i,0,Math.PI*2);const o=[],s=[],a=[],l=[],c=[],u=1/n,d=new W,h=new $e,f=new W,p=new W,v=new W;let b=0,y=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:b=e[x+1].x-e[x].x,y=e[x+1].y-e[x].y,f.x=y*1,f.y=-b,f.z=y*0,v.copy(f),f.normalize(),l.push(f.x,f.y,f.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:b=e[x+1].x-e[x].x,y=e[x+1].y-e[x].y,f.x=y*1,f.y=-b,f.z=y*0,p.copy(f),f.x+=v.x,f.y+=v.y,f.z+=v.z,f.normalize(),l.push(f.x,f.y,f.z),v.copy(p)}for(let x=0;x<=n;x++){const w=r+x*u*i,A=Math.sin(w),D=Math.cos(w);for(let k=0;k<=e.length-1;k++){d.x=e[k].x*A,d.y=e[k].y,d.z=e[k].x*D,s.push(d.x,d.y,d.z),h.x=x/n,h.y=k/(e.length-1),a.push(h.x,h.y);const R=l[3*k+0]*A,L=l[3*k+1],T=l[3*k+0]*D;c.push(R,L,T)}}for(let x=0;x<n;x++)for(let w=0;w<e.length-1;w++){const A=w+x*e.length,D=A,k=A+e.length,R=A+e.length+1,L=A+1;o.push(D,k,L),o.push(R,L,k)}this.setIndex(o),this.setAttribute("position",new Mt(s,3)),this.setAttribute("uv",new Mt(a,2)),this.setAttribute("normal",new Mt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hv(e.points,e.segments,e.phiStart,e.phiLength)}}class s4 extends hv{constructor(e=1,n=1,r=4,i=8){const o=new R1;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new s4(e.radius,e.length,e.capSegments,e.radialSegments)}}class a4 extends Wt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],s=[],a=[],l=[],c=new W,u=new $e;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=n;d++,h+=3){const f=r+d/n*i;c.x=e*Math.cos(f),c.y=e*Math.sin(f),s.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(s[h]/e+1)/2,u.y=(s[h+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new Mt(s,3)),this.setAttribute("normal",new Mt(a,3)),this.setAttribute("uv",new Mt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a4(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class x0 extends Wt{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],h=[],f=[];let p=0;const v=[],b=r/2;let y=0;x(),s===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new Mt(d,3)),this.setAttribute("normal",new Mt(h,3)),this.setAttribute("uv",new Mt(f,2));function x(){const A=new W,D=new W;let k=0;const R=(n-e)/r;for(let L=0;L<=o;L++){const T=[],C=L/o,P=C*(n-e)+e;for(let z=0;z<=i;z++){const H=z/i,$=H*l+a,X=Math.sin($),Z=Math.cos($);D.x=P*X,D.y=-C*r+b,D.z=P*Z,d.push(D.x,D.y,D.z),A.set(X,R,Z).normalize(),h.push(A.x,A.y,A.z),f.push(H,1-C),T.push(p++)}v.push(T)}for(let L=0;L<i;L++)for(let T=0;T<o;T++){const C=v[T][L],P=v[T+1][L],z=v[T+1][L+1],H=v[T][L+1];u.push(C,P,H),u.push(P,z,H),k+=6}c.addGroup(y,k,0),y+=k}function w(A){const D=p,k=new $e,R=new W;let L=0;const T=A===!0?e:n,C=A===!0?1:-1;for(let z=1;z<=i;z++)d.push(0,b*C,0),h.push(0,C,0),f.push(.5,.5),p++;const P=p;for(let z=0;z<=i;z++){const $=z/i*l+a,X=Math.cos($),Z=Math.sin($);R.x=T*Z,R.y=b*C,R.z=T*X,d.push(R.x,R.y,R.z),h.push(0,C,0),k.x=X*.5+.5,k.y=Z*.5*C+.5,f.push(k.x,k.y),p++}for(let z=0;z<i;z++){const H=D+z,$=P+z;A===!0?u.push($,$+1,H):u.push($+1,$,H),L+=3}c.addGroup(y,L,A===!0?1:2),y+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class l4 extends x0{constructor(e=1,n=1,r=32,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,n,r,i,o,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new l4(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fd extends Wt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],s=[];a(i),c(r),u(),this.setAttribute("position",new Mt(o,3)),this.setAttribute("normal",new Mt(o.slice(),3)),this.setAttribute("uv",new Mt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const w=new W,A=new W,D=new W;for(let k=0;k<n.length;k+=3)f(n[k+0],w),f(n[k+1],A),f(n[k+2],D),l(w,A,D,x)}function l(x,w,A,D){const k=D+1,R=[];for(let L=0;L<=k;L++){R[L]=[];const T=x.clone().lerp(A,L/k),C=w.clone().lerp(A,L/k),P=k-L;for(let z=0;z<=P;z++)z===0&&L===k?R[L][z]=T:R[L][z]=T.clone().lerp(C,z/P)}for(let L=0;L<k;L++)for(let T=0;T<2*(k-L)-1;T++){const C=Math.floor(T/2);T%2===0?(h(R[L][C+1]),h(R[L+1][C]),h(R[L][C])):(h(R[L][C+1]),h(R[L+1][C+1]),h(R[L+1][C]))}}function c(x){const w=new W;for(let A=0;A<o.length;A+=3)w.x=o[A+0],w.y=o[A+1],w.z=o[A+2],w.normalize().multiplyScalar(x),o[A+0]=w.x,o[A+1]=w.y,o[A+2]=w.z}function u(){const x=new W;for(let w=0;w<o.length;w+=3){x.x=o[w+0],x.y=o[w+1],x.z=o[w+2];const A=b(x)/2/Math.PI+.5,D=y(x)/Math.PI+.5;s.push(A,1-D)}p(),d()}function d(){for(let x=0;x<s.length;x+=6){const w=s[x+0],A=s[x+2],D=s[x+4],k=Math.max(w,A,D),R=Math.min(w,A,D);k>.9&&R<.1&&(w<.2&&(s[x+0]+=1),A<.2&&(s[x+2]+=1),D<.2&&(s[x+4]+=1))}}function h(x){o.push(x.x,x.y,x.z)}function f(x,w){const A=x*3;w.x=e[A+0],w.y=e[A+1],w.z=e[A+2]}function p(){const x=new W,w=new W,A=new W,D=new W,k=new $e,R=new $e,L=new $e;for(let T=0,C=0;T<o.length;T+=9,C+=6){x.set(o[T+0],o[T+1],o[T+2]),w.set(o[T+3],o[T+4],o[T+5]),A.set(o[T+6],o[T+7],o[T+8]),k.set(s[C+0],s[C+1]),R.set(s[C+2],s[C+3]),L.set(s[C+4],s[C+5]),D.copy(x).add(w).add(A).divideScalar(3);const P=b(D);v(k,C+0,x,P),v(R,C+2,w,P),v(L,C+4,A,P)}}function v(x,w,A,D){D<0&&x.x===1&&(s[w]=x.x-1),A.x===0&&A.z===0&&(s[w]=D/2/Math.PI+.5)}function b(x){return Math.atan2(x.z,-x.x)}function y(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fd(e.vertices,e.indices,e.radius,e.details)}}class c4 extends fd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new c4(e.radius,e.detail)}}const N2=new W,I2=new W,wM=new W,O2=new ps;class BK extends Wt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(Hh*n),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),h={},f=[];for(let p=0;p<l;p+=3){s?(c[0]=s.getX(p),c[1]=s.getX(p+1),c[2]=s.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:v,b,c:y}=O2;if(v.fromBufferAttribute(a,c[0]),b.fromBufferAttribute(a,c[1]),y.fromBufferAttribute(a,c[2]),O2.getNormal(wM),d[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[1]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,d[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const w=(x+1)%3,A=d[x],D=d[w],k=O2[u[x]],R=O2[u[w]],L=`${A}_${D}`,T=`${D}_${A}`;T in h&&h[T]?(wM.dot(h[T].normal)<=o&&(f.push(k.x,k.y,k.z),f.push(R.x,R.y,R.z)),h[T]=null):L in h||(h[L]={index0:c[x],index1:c[w],normal:wM.clone()})}}for(const p in h)if(h[p]){const{index0:v,index1:b}=h[p];N2.fromBufferAttribute(a,v),I2.fromBufferAttribute(a,b),f.push(N2.x,N2.y,N2.z),f.push(I2.x,I2.y,I2.z)}this.setAttribute("position",new Mt(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Gh extends R1{constructor(e){super(e),this.uuid=xs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new R1().fromJSON(i))}return this}}const zge={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=PK(t,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,d,h,f;if(r&&(o=Gge(t,e,o,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let p=n;p<i;p+=n)d=t[p],h=t[p+1],d<a&&(a=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-a,u-l),f=f!==0?32767/f:0}return B1(o,s,n,a,l,f,0),s}};function PK(t,e,n,r,i){let o,s;if(i===tye(t,e,n,r)>0)for(o=e;o<n;o+=r)s=II(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=II(o,t[o],t[o+1],s);return s&&u4(s,s.next)&&(N1(s),s=s.next),s}function af(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(u4(n,n.next)||Mr(n.prev,n,n.next)===0)){if(N1(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function B1(t,e,n,r,i,o,s){if(!t)return;!s&&o&&Xge(t,r,i,o);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?jge(t,r,i,o):Uge(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),N1(t),t=c.next,a=c.next;continue}if(t=c,t===a){s?s===1?(t=Hge(af(t),e,n),B1(t,e,n,r,i,o,2)):s===2&&$ge(t,e,n,r,i,o):B1(af(t),e,n,r,i,o,1);break}}}function Uge(t){const e=t.prev,n=t,r=t.next;if(Mr(e,n,r)>=0)return!1;const i=e.x,o=n.x,s=r.x,a=e.y,l=n.y,c=r.y,u=i<o?i<s?i:s:o<s?o:s,d=a<l?a<c?a:c:l<c?l:c,h=i>o?i>s?i:s:o>s?o:s,f=a>l?a>c?a:c:l>c?l:c;let p=r.next;for(;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=d&&p.y<=f&&am(i,a,o,l,s,c,p.x,p.y)&&Mr(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function jge(t,e,n,r){const i=t.prev,o=t,s=t.next;if(Mr(i,o,s)>=0)return!1;const a=i.x,l=o.x,c=s.x,u=i.y,d=o.y,h=s.y,f=a<l?a<c?a:c:l<c?l:c,p=u<d?u<h?u:h:d<h?d:h,v=a>l?a>c?a:c:l>c?l:c,b=u>d?u>h?u:h:d>h?d:h,y=N6(f,p,e,n,r),x=N6(v,b,e,n,r);let w=t.prevZ,A=t.nextZ;for(;w&&w.z>=y&&A&&A.z<=x;){if(w.x>=f&&w.x<=v&&w.y>=p&&w.y<=b&&w!==i&&w!==s&&am(a,u,l,d,c,h,w.x,w.y)&&Mr(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=f&&A.x<=v&&A.y>=p&&A.y<=b&&A!==i&&A!==s&&am(a,u,l,d,c,h,A.x,A.y)&&Mr(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=y;){if(w.x>=f&&w.x<=v&&w.y>=p&&w.y<=b&&w!==i&&w!==s&&am(a,u,l,d,c,h,w.x,w.y)&&Mr(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=x;){if(A.x>=f&&A.x<=v&&A.y>=p&&A.y<=b&&A!==i&&A!==s&&am(a,u,l,d,c,h,A.x,A.y)&&Mr(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function Hge(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!u4(i,o)&&NK(i,r,r.next,o)&&P1(i,o)&&P1(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),N1(r),N1(r.next),r=t=o),r=r.next}while(r!==t);return af(r)}function $ge(t,e,n,r,i,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&Zge(s,a)){let l=IK(s,a);s=af(s,s.next),l=af(l,l.next),B1(s,e,n,r,i,o,0),B1(l,e,n,r,i,o,0);return}a=a.next}s=s.next}while(s!==t)}function Gge(t,e,n,r){const i=[];let o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:t.length,c=PK(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Yge(c));for(i.sort(Vge),o=0;o<i.length;o++)n=qge(i[o],n);return n}function Vge(t,e){return t.x-e.x}function qge(t,e){const n=Kge(t,e);if(!n)return e;const r=IK(n,t);return af(r,r.next),af(n,n.next)}function Kge(t,e){let n=e,r=-1/0,i;const o=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const h=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=o&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===o))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,d;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&am(s<c?o:r,s,l,c,s<c?r:o,s,n.x,n.y)&&(d=Math.abs(s-n.y)/(o-n.x),P1(n,t)&&(d<u||d===u&&(n.x>i.x||n.x===i.x&&Wge(i,n)))&&(i=n,u=d)),n=n.next;while(n!==a);return i}function Wge(t,e){return Mr(t.prev,t,e.prev)<0&&Mr(e.next,t,t.next)<0}function Xge(t,e,n,r){let i=t;do i.z===0&&(i.z=N6(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Jge(i)}function Jge(t){let e,n,r,i,o,s,a,l,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1);return t}function N6(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Yge(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function am(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function Zge(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Qge(t,e)&&(P1(t,e)&&P1(e,t)&&eye(t,e)&&(Mr(t.prev,t,e.prev)||Mr(t,e.prev,e))||u4(t,e)&&Mr(t.prev,t,t.next)>0&&Mr(e.prev,e,e.next)>0)}function Mr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function u4(t,e){return t.x===e.x&&t.y===e.y}function NK(t,e,n,r){const i=z2(Mr(t,e,n)),o=z2(Mr(t,e,r)),s=z2(Mr(n,r,t)),a=z2(Mr(n,r,e));return!!(i!==o&&s!==a||i===0&&F2(t,n,e)||o===0&&F2(t,r,e)||s===0&&F2(n,t,r)||a===0&&F2(n,e,r))}function F2(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function z2(t){return t>0?1:t<0?-1:0}function Qge(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&NK(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function P1(t,e){return Mr(t.prev,t,t.next)<0?Mr(t,e,t.next)>=0&&Mr(t,t.prev,e)>=0:Mr(t,e,t.prev)<0||Mr(t,t.next,e)<0}function eye(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function IK(t,e){const n=new I6(t.i,t.x,t.y),r=new I6(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function II(t,e,n,r){const i=new I6(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function N1(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function I6(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tye(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}class Cl{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Cl.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];OI(e),FI(r,e);let s=e.length;n.forEach(OI);for(let l=0;l<n.length;l++)i.push(s),s+=n[l].length,FI(r,n[l]);const a=zge.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function OI(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function FI(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class d4 extends Wt{constructor(e=new Gh([new $e(.5,.5),new $e(-.5,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];s(c)}this.setAttribute("position",new Mt(i,3)),this.setAttribute("uv",new Mt(o,2)),this.computeVertexNormals();function s(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,f=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:f-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:nye;let w,A=!1,D,k,R,L;y&&(w=y.getSpacedPoints(u),A=!0,h=!1,D=y.computeFrenetFrames(u,!1),k=new W,R=new W,L=new W),h||(b=0,f=0,p=0,v=0);const T=a.extractPoints(c);let C=T.shape;const P=T.holes;if(!Cl.isClockWise(C)){C=C.reverse();for(let le=0,xe=P.length;le<xe;le++){const Fe=P[le];Cl.isClockWise(Fe)&&(P[le]=Fe.reverse())}}const H=Cl.triangulateShape(C,P),$=C;for(let le=0,xe=P.length;le<xe;le++){const Fe=P[le];C=C.concat(Fe)}function X(le,xe,Fe){return xe||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().addScaledVector(xe,Fe)}const Z=C.length,K=H.length;function O(le,xe,Fe){let Be,Re,Ze;const Je=le.x-xe.x,_t=le.y-xe.y,Q=Fe.x-le.x,U=Fe.y-le.y,pe=Je*Je+_t*_t,Te=Je*U-_t*Q;if(Math.abs(Te)>Number.EPSILON){const Oe=Math.sqrt(pe),Ge=Math.sqrt(Q*Q+U*U),ce=xe.x-_t/Oe,de=xe.y+Je/Oe,De=Fe.x-U/Ge,Qe=Fe.y+Q/Ge,Ie=((De-ce)*U-(Qe-de)*Q)/(Je*U-_t*Q);Be=ce+Je*Ie-le.x,Re=de+_t*Ie-le.y;const et=Be*Be+Re*Re;if(et<=2)return new $e(Be,Re);Ze=Math.sqrt(et/2)}else{let Oe=!1;Je>Number.EPSILON?Q>Number.EPSILON&&(Oe=!0):Je<-Number.EPSILON?Q<-Number.EPSILON&&(Oe=!0):Math.sign(_t)===Math.sign(U)&&(Oe=!0),Oe?(Be=-_t,Re=Je,Ze=Math.sqrt(pe)):(Be=Je,Re=_t,Ze=Math.sqrt(pe/2))}return new $e(Be/Ze,Re/Ze)}const V=[];for(let le=0,xe=$.length,Fe=xe-1,Be=le+1;le<xe;le++,Fe++,Be++)Fe===xe&&(Fe=0),Be===xe&&(Be=0),V[le]=O($[le],$[Fe],$[Be]);const I=[];let se,ye=V.concat();for(let le=0,xe=P.length;le<xe;le++){const Fe=P[le];se=[];for(let Be=0,Re=Fe.length,Ze=Re-1,Je=Be+1;Be<Re;Be++,Ze++,Je++)Ze===Re&&(Ze=0),Je===Re&&(Je=0),se[Be]=O(Fe[Be],Fe[Ze],Fe[Je]);I.push(se),ye=ye.concat(se)}for(let le=0;le<b;le++){const xe=le/b,Fe=f*Math.cos(xe*Math.PI/2),Be=p*Math.sin(xe*Math.PI/2)+v;for(let Re=0,Ze=$.length;Re<Ze;Re++){const Je=X($[Re],V[Re],Be);Ae(Je.x,Je.y,-Fe)}for(let Re=0,Ze=P.length;Re<Ze;Re++){const Je=P[Re];se=I[Re];for(let _t=0,Q=Je.length;_t<Q;_t++){const U=X(Je[_t],se[_t],Be);Ae(U.x,U.y,-Fe)}}}const G=p+v;for(let le=0;le<Z;le++){const xe=h?X(C[le],ye[le],G):C[le];A?(R.copy(D.normals[0]).multiplyScalar(xe.x),k.copy(D.binormals[0]).multiplyScalar(xe.y),L.copy(w[0]).add(R).add(k),Ae(L.x,L.y,L.z)):Ae(xe.x,xe.y,0)}for(let le=1;le<=u;le++)for(let xe=0;xe<Z;xe++){const Fe=h?X(C[xe],ye[xe],G):C[xe];A?(R.copy(D.normals[le]).multiplyScalar(Fe.x),k.copy(D.binormals[le]).multiplyScalar(Fe.y),L.copy(w[le]).add(R).add(k),Ae(L.x,L.y,L.z)):Ae(Fe.x,Fe.y,d/u*le)}for(let le=b-1;le>=0;le--){const xe=le/b,Fe=f*Math.cos(xe*Math.PI/2),Be=p*Math.sin(xe*Math.PI/2)+v;for(let Re=0,Ze=$.length;Re<Ze;Re++){const Je=X($[Re],V[Re],Be);Ae(Je.x,Je.y,d+Fe)}for(let Re=0,Ze=P.length;Re<Ze;Re++){const Je=P[Re];se=I[Re];for(let _t=0,Q=Je.length;_t<Q;_t++){const U=X(Je[_t],se[_t],Be);A?Ae(U.x,U.y+w[u-1].y,w[u-1].x+Fe):Ae(U.x,U.y,d+Fe)}}}ae(),_e();function ae(){const le=i.length/3;if(h){let xe=0,Fe=Z*xe;for(let Be=0;Be<K;Be++){const Re=H[Be];Ve(Re[2]+Fe,Re[1]+Fe,Re[0]+Fe)}xe=u+b*2,Fe=Z*xe;for(let Be=0;Be<K;Be++){const Re=H[Be];Ve(Re[0]+Fe,Re[1]+Fe,Re[2]+Fe)}}else{for(let xe=0;xe<K;xe++){const Fe=H[xe];Ve(Fe[2],Fe[1],Fe[0])}for(let xe=0;xe<K;xe++){const Fe=H[xe];Ve(Fe[0]+Z*u,Fe[1]+Z*u,Fe[2]+Z*u)}}r.addGroup(le,i.length/3-le,0)}function _e(){const le=i.length/3;let xe=0;ve($,xe),xe+=$.length;for(let Fe=0,Be=P.length;Fe<Be;Fe++){const Re=P[Fe];ve(Re,xe),xe+=Re.length}r.addGroup(le,i.length/3-le,1)}function ve(le,xe){let Fe=le.length;for(;--Fe>=0;){const Be=Fe;let Re=Fe-1;Re<0&&(Re=le.length-1);for(let Ze=0,Je=u+b*2;Ze<Je;Ze++){const _t=Z*Ze,Q=Z*(Ze+1),U=xe+Be+_t,pe=xe+Re+_t,Te=xe+Re+Q,Oe=xe+Be+Q;pt(U,pe,Te,Oe)}}}function Ae(le,xe,Fe){l.push(le),l.push(xe),l.push(Fe)}function Ve(le,xe,Fe){ke(le),ke(xe),ke(Fe);const Be=i.length/3,Re=x.generateTopUV(r,i,Be-3,Be-2,Be-1);ee(Re[0]),ee(Re[1]),ee(Re[2])}function pt(le,xe,Fe,Be){ke(le),ke(xe),ke(Be),ke(xe),ke(Fe),ke(Be);const Re=i.length/3,Ze=x.generateSideWallUV(r,i,Re-6,Re-3,Re-2,Re-1);ee(Ze[0]),ee(Ze[1]),ee(Ze[3]),ee(Ze[1]),ee(Ze[2]),ee(Ze[3])}function ke(le){i.push(l[le*3+0]),i.push(l[le*3+1]),i.push(l[le*3+2])}function ee(le){o.push(le.x),o.push(le.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return rye(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=n[e.shapes[o]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Jw[i.type]().fromJSON(i)),new d4(r,e.options)}}const nye={generateTopUV:function(t,e,n,r,i){const o=e[n*3],s=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new $e(o,s),new $e(a,l),new $e(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const s=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],h=e[i*3],f=e[i*3+1],p=e[i*3+2],v=e[o*3],b=e[o*3+1],y=e[o*3+2];return Math.abs(a-u)<Math.abs(s-c)?[new $e(s,1-l),new $e(c,1-d),new $e(h,1-p),new $e(v,1-y)]:[new $e(a,1-l),new $e(u,1-d),new $e(f,1-p),new $e(b,1-y)]}};function rye(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class h4 extends fd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new h4(e.radius,e.detail)}}class fv extends fd{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new fv(e.radius,e.detail)}}class f4 extends Wt{constructor(e=.5,n=1,r=32,i=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const h=(n-e)/i,f=new W,p=new $e;for(let v=0;v<=i;v++){for(let b=0;b<=r;b++){const y=o+b/r*s;f.x=d*Math.cos(y),f.y=d*Math.sin(y),l.push(f.x,f.y,f.z),c.push(0,0,1),p.x=(f.x/n+1)/2,p.y=(f.y/n+1)/2,u.push(p.x,p.y)}d+=h}for(let v=0;v<i;v++){const b=v*(r+1);for(let y=0;y<r;y++){const x=y+b,w=x,A=x+r+1,D=x+r+2,k=x+1;a.push(w,A,k),a.push(A,D,k)}}this.setIndex(a),this.setAttribute("position",new Mt(l,3)),this.setAttribute("normal",new Mt(c,3)),this.setAttribute("uv",new Mt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new f4(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class p4 extends Wt{constructor(e=new Gh([new $e(0,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Mt(i,3)),this.setAttribute("normal",new Mt(o,3)),this.setAttribute("uv",new Mt(s,2));function c(u){const d=i.length/3,h=u.extractPoints(n);let f=h.shape;const p=h.holes;Cl.isClockWise(f)===!1&&(f=f.reverse());for(let b=0,y=p.length;b<y;b++){const x=p[b];Cl.isClockWise(x)===!0&&(p[b]=x.reverse())}const v=Cl.triangulateShape(f,p);for(let b=0,y=p.length;b<y;b++){const x=p[b];f=f.concat(x)}for(let b=0,y=f.length;b<y;b++){const x=f[b];i.push(x.x,x.y,0),o.push(0,0,1),s.push(x.x,x.y)}for(let b=0,y=v.length;b<y;b++){const x=v[b],w=x[0]+d,A=x[1]+d,D=x[2]+d;r.push(w,A,D),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return iye(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=n[e.shapes[i]];r.push(s)}return new p4(r,e.curveSegments)}}function iye(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class pv extends Wt{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(s+a,Math.PI);let c=0;const u=[],d=new W,h=new W,f=[],p=[],v=[],b=[];for(let y=0;y<=r;y++){const x=[],w=y/r;let A=0;y===0&&s===0?A=.5/n:y===r&&l===Math.PI&&(A=-.5/n);for(let D=0;D<=n;D++){const k=D/n;d.x=-e*Math.cos(i+k*o)*Math.sin(s+w*a),d.y=e*Math.cos(s+w*a),d.z=e*Math.sin(i+k*o)*Math.sin(s+w*a),p.push(d.x,d.y,d.z),h.copy(d).normalize(),v.push(h.x,h.y,h.z),b.push(k+A,1-w),x.push(c++)}u.push(x)}for(let y=0;y<r;y++)for(let x=0;x<n;x++){const w=u[y][x+1],A=u[y][x],D=u[y+1][x],k=u[y+1][x+1];(y!==0||s>0)&&f.push(w,A,k),(y!==r-1||l<Math.PI)&&f.push(A,D,k)}this.setIndex(f),this.setAttribute("position",new Mt(p,3)),this.setAttribute("normal",new Mt(v,3)),this.setAttribute("uv",new Mt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class m4 extends fd{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new m4(e.radius,e.detail)}}class g4 extends Wt{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],l=[],c=[],u=new W,d=new W,h=new W;for(let f=0;f<=r;f++)for(let p=0;p<=i;p++){const v=p/i*o,b=f/r*Math.PI*2;d.x=(e+n*Math.cos(b))*Math.cos(v),d.y=(e+n*Math.cos(b))*Math.sin(v),d.z=n*Math.sin(b),a.push(d.x,d.y,d.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),h.subVectors(d,u).normalize(),l.push(h.x,h.y,h.z),c.push(p/i),c.push(f/r)}for(let f=1;f<=r;f++)for(let p=1;p<=i;p++){const v=(i+1)*f+p-1,b=(i+1)*(f-1)+p-1,y=(i+1)*(f-1)+p,x=(i+1)*f+p;s.push(v,b,x),s.push(b,y,x)}this.setIndex(s),this.setAttribute("position",new Mt(a,3)),this.setAttribute("normal",new Mt(l,3)),this.setAttribute("uv",new Mt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g4(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class y4 extends Wt{constructor(e=1,n=.4,r=64,i=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new W,h=new W,f=new W,p=new W,v=new W,b=new W,y=new W;for(let w=0;w<=r;++w){const A=w/r*o*Math.PI*2;x(A,o,s,e,f),x(A+.01,o,s,e,p),b.subVectors(p,f),y.addVectors(p,f),v.crossVectors(b,y),y.crossVectors(v,b),v.normalize(),y.normalize();for(let D=0;D<=i;++D){const k=D/i*Math.PI*2,R=-n*Math.cos(k),L=n*Math.sin(k);d.x=f.x+(R*y.x+L*v.x),d.y=f.y+(R*y.y+L*v.y),d.z=f.z+(R*y.z+L*v.z),l.push(d.x,d.y,d.z),h.subVectors(d,f).normalize(),c.push(h.x,h.y,h.z),u.push(w/r),u.push(D/i)}}for(let w=1;w<=r;w++)for(let A=1;A<=i;A++){const D=(i+1)*(w-1)+(A-1),k=(i+1)*w+(A-1),R=(i+1)*w+A,L=(i+1)*(w-1)+A;a.push(D,k,L),a.push(k,R,L)}this.setIndex(a),this.setAttribute("position",new Mt(l,3)),this.setAttribute("normal",new Mt(c,3)),this.setAttribute("uv",new Mt(u,2));function x(w,A,D,k,R){const L=Math.cos(w),T=Math.sin(w),C=D/A*w,P=Math.cos(C);R.x=k*(2+P)*.5*L,R.y=k*(2+P)*T*.5,R.z=k*Math.sin(C)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y4(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class v4 extends Wt{constructor(e=new IT(new W(-1,-1,0),new W(-1,1,0),new W(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(n,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new W,l=new W,c=new $e;let u=new W;const d=[],h=[],f=[],p=[];v(),this.setIndex(p),this.setAttribute("position",new Mt(d,3)),this.setAttribute("normal",new Mt(h,3)),this.setAttribute("uv",new Mt(f,2));function v(){for(let w=0;w<n;w++)b(w);b(o===!1?n:0),x(),y()}function b(w){u=e.getPointAt(w/n,u);const A=s.normals[w],D=s.binormals[w];for(let k=0;k<=i;k++){const R=k/i*Math.PI*2,L=Math.sin(R),T=-Math.cos(R);l.x=T*A.x+L*D.x,l.y=T*A.y+L*D.y,l.z=T*A.z+L*D.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function y(){for(let w=1;w<=n;w++)for(let A=1;A<=i;A++){const D=(i+1)*(w-1)+(A-1),k=(i+1)*w+(A-1),R=(i+1)*w+A,L=(i+1)*(w-1)+A;p.push(D,k,L),p.push(k,R,L)}}function x(){for(let w=0;w<=n;w++)for(let A=0;A<=i;A++)c.x=w/n,c.y=A/i,f.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new v4(new Jw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class OK extends Wt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new W,o=new W;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],h=d.start,f=d.count;for(let p=h,v=h+f;p<v;p+=3)for(let b=0;b<3;b++){const y=a.getX(p+b),x=a.getX(p+(b+1)%3);i.fromBufferAttribute(s,y),o.fromBufferAttribute(s,x),zI(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(s,u),o.fromBufferAttribute(s,d),zI(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Mt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function zI(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var UI=Object.freeze({__proto__:null,BoxGeometry:xf,CapsuleGeometry:s4,CircleGeometry:a4,ConeGeometry:l4,CylinderGeometry:x0,DodecahedronGeometry:c4,EdgesGeometry:BK,ExtrudeGeometry:d4,IcosahedronGeometry:h4,LatheGeometry:hv,OctahedronGeometry:fv,PlaneGeometry:v0,PolyhedronGeometry:fd,RingGeometry:f4,ShapeGeometry:p4,SphereGeometry:pv,TetrahedronGeometry:m4,TorusGeometry:g4,TorusKnotGeometry:y4,TubeGeometry:v4,WireframeGeometry:OK});class FK extends ei{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class zK extends za{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class mv extends ei{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hd,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aa extends mv{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Br(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class UK extends ei{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ut(16777215),this.specular=new ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hd,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.combine=iv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jK extends ei{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hd,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class HK extends ei{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hd,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class $K extends ei{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hd,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.combine=iv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GK extends ei{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hd,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VK extends so{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Dh(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function qK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function KK(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function O6(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){const a=n[o]*e;for(let l=0;l!==e;++l)i[s++]=t[a+l]}return i}function FT(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),n.push.apply(n,s)),o=t[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),n.push(s)),o=t[i++];while(o!==void 0)}function oye(t,e,n,r,i=30){const o=t.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),d=[],h=[];for(let f=0;f<c.times.length;++f){const p=c.times[f]*i;if(!(p<n||p>=r)){d.push(c.times[f]);for(let v=0;v<u;++v)h.push(c.values[f*u+v])}}d.length!==0&&(c.times=Dh(d,c.times.constructor),c.values=Dh(h,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o}function sye(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=n.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let h=0;const f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);const p=a.times.length-1;let v;if(o<=a.times[0]){const y=u,x=d-u;v=a.values.slice(y,x)}else if(o>=a.times[p]){const y=p*d+u,x=y+d-u;v=a.values.slice(y,x)}else{const y=a.createInterpolant(),x=u,w=d-u;y.evaluate(o),v=y.resultBuffer.slice(x,w)}l==="quaternion"&&new Ai().fromArray(v).normalize().conjugate().toArray(v);const b=c.times.length;for(let y=0;y<b;++y){const x=y*f+h;if(l==="quaternion")Ai.multiplyQuaternionsFlat(c.values,x,v,0,c.values,x);else{const w=f-h*2;for(let A=0;A<w;++A)c.values[x+A]-=v[A]}}}return t.blendMode=mT,t}const aye={convertArray:Dh,isTypedArray:qK,getKeyframeOrder:KK,sortedArray:O6,flattenJSON:FT,subclip:oye,makeClipAdditive:sye};class _0{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=o)){const a=n[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const a=r+s>>>1;e<n[a]?s=a:r=a+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)n[s]=r[o+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class WK extends _0{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Eh,endingEnd:Eh}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case kh:o=e,a=2*n-r;break;case C1:o=i.length-2,a=n+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case kh:s=e,l=2*r-n;break;case C1:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=s*u}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(r-n)/(i-n),v=p*p,b=v*p,y=-h*b+2*h*v-h*p,x=(1+h)*b+(-1.5-2*h)*v+(-.5+h)*p+1,w=(-1-f)*b+(1.5+f)*v+.5*p,A=f*b-f*v;for(let D=0;D!==a;++D)o[D]=y*s[u+D]+x*s[c+D]+w*s[l+D]+A*s[d+D];return o}}class zT extends _0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),d=1-u;for(let h=0;h!==a;++h)o[h]=s[c+h]*d+s[l+h]*u;return o}}class XK extends _0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ga{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Dh(n,this.TimeBufferType),this.values=Dh(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Dh(e.times,Array),values:Dh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new XK(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new WK(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case e0:n=this.InterpolantFactoryMethodDiscrete;break;case t0:n=this.InterpolantFactoryMethodLinear;break;case N_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return e0;case this.InterpolantFactoryMethodLinear:return t0;case this.InterpolantFactoryMethodSmooth:return N_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>n;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=r.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&qK(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===N_,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,h=d-r,f=d+r;for(let p=0;p!==r;++p){const v=n[d+p];if(v!==n[h+p]||v!==n[f+p]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const d=a*r,h=s*r;for(let f=0;f!==r;++f)n[h+f]=n[d+f]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,c=0;c!==r;++c)n[l+c]=n[a+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ga.prototype.TimeBufferType=Float32Array;Ga.prototype.ValueBufferType=Float32Array;Ga.prototype.DefaultInterpolation=t0;class _f extends Ga{constructor(e,n,r){super(e,n,r)}}_f.prototype.ValueTypeName="bool";_f.prototype.ValueBufferType=Array;_f.prototype.DefaultInterpolation=e0;_f.prototype.InterpolantFactoryMethodLinear=void 0;_f.prototype.InterpolantFactoryMethodSmooth=void 0;class UT extends Ga{}UT.prototype.ValueTypeName="color";class lf extends Ga{}lf.prototype.ValueTypeName="number";class JK extends _0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Ai.slerpFlat(o,0,s,c-a,s,c,l);return o}}class cf extends Ga{InterpolantFactoryMethodLinear(e){return new JK(this.times,this.values,this.getValueSize(),e)}}cf.prototype.ValueTypeName="quaternion";cf.prototype.InterpolantFactoryMethodSmooth=void 0;class wf extends Ga{constructor(e,n,r){super(e,n,r)}}wf.prototype.ValueTypeName="string";wf.prototype.ValueBufferType=Array;wf.prototype.DefaultInterpolation=e0;wf.prototype.InterpolantFactoryMethodLinear=void 0;wf.prototype.InterpolantFactoryMethodSmooth=void 0;class uf extends Ga{}uf.prototype.ValueTypeName="vector";class i0{constructor(e="",n=-1,r=[],i=J3){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=xs(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)n.push(cye(r[s]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)n.push(Ga.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,s=[];for(let a=0;a<o;a++){let l=[],c=[];l.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);const u=KK(l);l=O6(l,1,u),c=O6(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),s.push(new lf(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(o);if(u&&u.length>1){const d=u[1];let h=i[d];h||(i[d]=h=[]),h.push(c)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,h,f,p,v){if(f.length!==0){const b=[],y=[];FT(f,b,y,p),b.length!==0&&v.push(new d(h,b,y))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const f={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let v=0;v<h[p].morphTargets.length;v++)f[h[p].morphTargets[v]]=-1;for(const v in f){const b=[],y=[];for(let x=0;x!==h[p].morphTargets.length;++x){const w=h[p];b.push(w.time),y.push(w.morphTarget===v?1:0)}i.push(new lf(".morphTargetInfluence["+v+"]",b,y))}l=f.length*s}else{const f=".bones["+n[d].name+"]";r(uf,f+".position",h,"pos",i),r(cf,f+".quaternion",h,"rot",i),r(uf,f+".scale",h,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function lye(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return lf;case"vector":case"vector2":case"vector3":case"vector4":return uf;case"color":return UT;case"quaternion":return cf;case"bool":case"boolean":return _f;case"string":return wf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function cye(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=lye(t.type);if(t.times===void 0){const n=[],r=[];FT(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const mc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class jT{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const f=c[d],p=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return p}return null}}}const YK=new jT;class ao{constructor(e){this.manager=e!==void 0?e:YK,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ao.DEFAULT_MATERIAL_NAME="__DEFAULT";const Jl={};class uye extends Error{constructor(e,n){super(e),this.response=n}}class As extends ao{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=mc.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Jl[e]!==void 0){Jl[e].push({onLoad:n,onProgress:r,onError:i});return}Jl[e]=[],Jl[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Jl[e],d=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),f=h?parseInt(h):0,p=f!==0;let v=0;const b=new ReadableStream({start(y){x();function x(){d.read().then(({done:w,value:A})=>{if(w)y.close();else{v+=A.byteLength;const D=new ProgressEvent("progress",{lengthComputable:p,loaded:v,total:f});for(let k=0,R=u.length;k<R;k++){const L=u[k];L.onProgress&&L.onProgress(D)}y.enqueue(A),x()}},w=>{y.error(w)})}}});return new Response(b)}else throw new uye(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),h=d&&d[1]?d[1].toLowerCase():void 0,f=new TextDecoder(h);return c.arrayBuffer().then(p=>f.decode(p))}}}).then(c=>{mc.add(e,c);const u=Jl[e];delete Jl[e];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onLoad&&f.onLoad(c)}}).catch(c=>{const u=Jl[e];if(u===void 0)throw this.manager.itemError(e),c;delete Jl[e];for(let d=0,h=u.length;d<h;d++){const f=u[d];f.onError&&f.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class dye extends ao{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new As(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=i0.parse(e[r]);n.push(i)}return n}}class hye extends ao{constructor(e){super(e)}load(e,n,r,i){const o=this,s=[],a=new i4,l=new As(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(d){l.load(e[d],function(h){const f=o.parse(h,!0);s[d]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},c+=1,c===6&&(f.mipmapCount===1&&(a.minFilter=Pr),a.image=s,a.format=f.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,h=e.length;d<h;++d)u(d);else l.load(e,function(d){const h=o.parse(d,!0);if(h.isCubemap){const f=h.mipmaps.length/h.mipmapCount;for(let p=0;p<f;p++){s[p]={mipmaps:[]};for(let v=0;v<h.mipmapCount;v++)s[p].mipmaps.push(h.mipmaps[p*h.mipmapCount+v]),s[p].format=h.format,s[p].width=h.width,s[p].height=h.height}a.image=s}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=Pr),a.format=h.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class I1 extends ao{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=mc.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=L1("img");function l(){u(),mc.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class fye extends ao{constructor(e){super(e)}load(e,n,r,i){const o=new lv;o.colorSpace=Vs;const s=new I1(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(c){s.load(e[c],function(u){o.images[c]=u,a++,a===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class pye extends ao{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new vc,a=new As(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:gs,s.wrapT=c.wrapT!==void 0?c.wrapT:gs,s.magFilter=c.magFilter!==void 0?c.magFilter:Pr,s.minFilter=c.minFilter!==void 0?c.minFilter:Pr,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Zs),c.mipmapCount===1&&(s.minFilter=Pr),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,n&&n(s,c)},r,i),s}}class ZK extends ao{constructor(e){super(e)}load(e,n,r,i){const o=new ur,s=new I1(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class pd extends mn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ut(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class QK extends pd{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(mn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ut(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const SM=new Pt,jI=new W,HI=new W;class HT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $e(512,512),this.map=null,this.mapPass=null,this.matrix=new Pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new cv,this._frameExtents=new $e(1,1),this._viewportCount=1,this._viewports=[new Un(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;jI.setFromMatrixPosition(e.matrixWorld),n.position.copy(jI),HI.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(HI),n.updateMatrixWorld(),SM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(SM),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(SM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class mye extends HT{constructor(){super(new Cr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=n0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class $T extends pd{constructor(e,n,r=0,i=Math.PI/3,o=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(mn.DEFAULT_UP),this.updateMatrix(),this.target=new mn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new mye}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const $I=new Pt,Og=new W,AM=new W;class gye extends HT{constructor(){super(new Cr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $e(4,2),this._viewportCount=6,this._viewports=[new Un(2,1,1,1),new Un(0,1,1,1),new Un(3,1,1,1),new Un(1,1,1,1),new Un(3,0,1,1),new Un(1,0,1,1)],this._cubeDirections=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],this._cubeUps=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Og.setFromMatrixPosition(e.matrixWorld),r.position.copy(Og),AM.copy(r.position),AM.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(AM),r.updateMatrixWorld(),i.makeTranslation(-Og.x,-Og.y,-Og.z),$I.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix($I)}}class GT extends pd{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new gye}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class yye extends HT{constructor(){super(new _l(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class VT extends pd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(mn.DEFAULT_UP),this.updateMatrix(),this.target=new mn,this.shadow=new yye}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class eW extends pd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class tW extends pd{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class nW{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new W)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(r*o)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*r*o),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class rW extends pd{constructor(e=new nW,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class b4 extends ao{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,s=new As(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=b4.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new ut().setHex(s.value);break;case"v2":i.uniforms[o].value=new $e().fromArray(s.value);break;case"v3":i.uniforms[o].value=new W().fromArray(s.value);break;case"v4":i.uniforms[o].value=new Un().fromArray(s.value);break;case"m3":i.uniforms[o].value=new Qt().fromArray(s.value);break;case"m4":i.uniforms[o].value=new Pt().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new $e().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new $e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:FK,SpriteMaterial:ET,RawShaderMaterial:zK,ShaderMaterial:za,PointsMaterial:r4,MeshPhysicalMaterial:aa,MeshStandardMaterial:mv,MeshPhongMaterial:UK,MeshToonMaterial:jK,MeshNormalMaterial:HK,MeshLambertMaterial:$K,MeshDepthMaterial:CT,MeshDistanceMaterial:MT,MeshBasicMaterial:vs,MeshMatcapMaterial:GK,LineDashedMaterial:VK,LineBasicMaterial:so,Material:ei};return new n[e]}}class Yu{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class iW extends Wt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class oW extends ao{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new As(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(f,p){if(n[p]!==void 0)return n[p];const b=f.interleavedBuffers[p],y=o(f,b.buffer),x=om(b.type,y),w=new uv(x,b.stride);return w.uuid=b.uuid,n[p]=w,w}function o(f,p){if(r[p]!==void 0)return r[p];const b=f.arrayBuffers[p],y=new Uint32Array(b).buffer;return r[p]=y,y}const s=e.isInstancedBufferGeometry?new iW:new Wt,a=e.data.index;if(a!==void 0){const f=om(a.type,a.array);s.setIndex(new wn(f,1))}const l=e.data.attributes;for(const f in l){const p=l[f];let v;if(p.isInterleavedBufferAttribute){const b=i(e.data,p.data);v=new sd(b,p.itemSize,p.offset,p.normalized)}else{const b=om(p.type,p.array),y=p.isInstancedBufferAttribute?sf:wn;v=new y(b,p.itemSize,p.normalized)}p.name!==void 0&&(v.name=p.name),p.usage!==void 0&&v.setUsage(p.usage),s.setAttribute(f,v)}const c=e.data.morphAttributes;if(c)for(const f in c){const p=c[f],v=[];for(let b=0,y=p.length;b<y;b++){const x=p[b];let w;if(x.isInterleavedBufferAttribute){const A=i(e.data,x.data);w=new sd(A,x.itemSize,x.offset,x.normalized)}else{const A=om(x.type,x.array);w=new wn(A,x.itemSize,x.normalized)}x.name!==void 0&&(w.name=x.name),v.push(w)}s.morphAttributes[f]=v}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let f=0,p=d.length;f!==p;++f){const v=d[f];s.addGroup(v.start,v.count,v.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const f=new W;h.center!==void 0&&f.fromArray(h.center),s.boundingSphere=new Fi(f,h.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class vye extends ao{constructor(e){super(e)}load(e,n,r,i){const o=this,s=this.path===""?Yu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new As(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Yu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new As(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,n),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,o,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const h in s)if(s[h].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new Gh().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new dv().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new oW;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in UI?a=UI[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new b4;o.setTextures(n);for(let s=0,a=e.length;s<a;s++){const l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=i0.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function s(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(u)}else return l.data?{data:om(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new jT(n);o=new I1(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],h=d.url;if(Array.isArray(h)){const f=[];for(let p=0,v=h.length;p<v;p++){const b=h[p],y=a(b);y!==null&&(y instanceof HTMLImageElement?f.push(y):f.push(new vc(y.data,y.width,y.height)))}i[d.uuid]=new Th(f)}else{const f=a(d.url);i[d.uuid]=new Th(f)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(s){if(typeof s=="string"){const a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return s.data?{data:om(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new I1(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,h=c.length;d<h;d++){const f=c[d],p=await o(f);p!==null&&(p instanceof HTMLImageElement?u.push(p):u.push(new vc(p.data,p.width,p.height)))}r[l.uuid]=new Th(u)}else{const u=await o(l.url);r[l.uuid]=new Th(u)}}}return r}parseTextures(e,n){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new lv,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new vc:u=new ur,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,bye)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],GI),u.wrapT=r(a.wrap[1],GI)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,VI)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,VI)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,o){let s;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const f=[];for(let p=0,v=h.length;p<v;p++){const b=h[p];r[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),f.push(r[b])}return f}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function c(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let u,d;switch(e.type){case"Scene":s=new Kw,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new ut(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new t4(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new e4(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Cr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new _l(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new eW(e.color,e.intensity);break;case"DirectionalLight":s=new VT(e.color,e.intensity);break;case"PointLight":s=new GT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new tW(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new $T(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new QK(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new rW().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),s=new kT(u,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),s=new $r(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const h=e.count,f=e.instanceMatrix,p=e.instanceColor;s=new TT(u,d,h),s.instanceMatrix=new sf(new Float32Array(f.array),16),p!==void 0&&(s.instanceColor=new sf(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":u=a(e.geometry),d=l(e.material),s=new EK(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),s.geometry=u,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(v=>{const b=new ro;b.min.fromArray(v.boxMin),b.max.fromArray(v.boxMax);const y=new Fi;return y.radius=v.sphereRadius,y.center.fromArray(v.sphereCenter),{boxInitialized:v.boxInitialized,box:b,sphereInitialized:v.sphereInitialized,sphere:y}}),s._maxGeometryCount=e.maxGeometryCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":s=new MK;break;case"Line":s=new Dc(a(e.geometry),l(e.material));break;case"LineLoop":s=new DT(a(e.geometry),l(e.material));break;case"LineSegments":s=new Ha(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new LT(a(e.geometry),l(e.material));break;case"Sprite":s=new CK(l(e.material));break;case"Group":s=new pc;break;case"Bone":s=new n4;break;default:s=new mn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let f=0;f<h.length;f++)s.add(this.parseObject(h[f],n,r,i,o))}if(e.animations!==void 0){const h=e.animations;for(let f=0;f<h.length;f++){const p=h[f];s.animations.push(o[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const h=e.levels;for(let f=0;f<h.length;f++){const p=h[f],v=s.getObjectByProperty("uuid",p.object);v!==void 0&&s.addLevel(v,p.distance,p.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const bye={UVMapping:W3,CubeReflectionMapping:Tc,CubeRefractionMapping:id,EquirectangularReflectionMapping:w1,EquirectangularRefractionMapping:S1,CubeUVReflectionMapping:y0},GI={RepeatWrapping:od,ClampToEdgeWrapping:gs,MirroredRepeatWrapping:Qm},VI={NearestFilter:ci,NearestMipmapNearestFilter:X3,NearestMipmapLinearFilter:Mh,LinearFilter:Pr,LinearMipmapNearestFilter:Sm,LinearMipmapLinearFilter:Zs};class sW extends ao{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=mc.get(e);if(s!==void 0){if(o.manager.itemStart(e),s.then){s.then(c=>{n&&n(c),o.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return mc.add(e,c),n&&n(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),mc.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});mc.add(e,l),o.manager.itemStart(e)}}let U2,qT=class{static getContext(){return U2===void 0&&(U2=new(window.AudioContext||window.webkitAudioContext)),U2}static setContext(e){U2=e}};class xye extends ao{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new As(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);qT.getContext().decodeAudioData(c,function(d){n(d)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const qI=new Pt,KI=new Pt,Wd=new Pt;class _ye{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Cr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Cr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Wd.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,s=n.near*Math.tan(Hh*n.fov*.5)/n.zoom;let a,l;KI.elements[12]=-i,qI.elements[12]=i,a=-s*n.aspect+o,l=s*n.aspect+o,Wd.elements[0]=2*n.near/(l-a),Wd.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Wd),a=-s*n.aspect-o,l=s*n.aspect-o,Wd.elements[0]=2*n.near/(l-a),Wd.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Wd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(KI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(qI)}}class KT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=WI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=WI();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function WI(){return(typeof performance>"u"?Date:performance).now()}const Xd=new W,XI=new Ai,wye=new W,Jd=new W;class Sye extends mn{constructor(){super(),this.type="AudioListener",this.context=qT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new KT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Xd,XI,wye),Jd.set(0,0,-1).applyQuaternion(XI),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Xd.x,i),n.positionY.linearRampToValueAtTime(Xd.y,i),n.positionZ.linearRampToValueAtTime(Xd.z,i),n.forwardX.linearRampToValueAtTime(Jd.x,i),n.forwardY.linearRampToValueAtTime(Jd.y,i),n.forwardZ.linearRampToValueAtTime(Jd.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Xd.x,Xd.y,Xd.z),n.setOrientation(Jd.x,Jd.y,Jd.z,r.x,r.y,r.z)}}let aW=class extends mn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const Yd=new W,JI=new Ai,Aye=new W,Zd=new W;class Cye extends aW{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Yd,JI,Aye),Zd.set(0,0,1).applyQuaternion(JI);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Yd.x,r),n.positionY.linearRampToValueAtTime(Yd.y,r),n.positionZ.linearRampToValueAtTime(Yd.z,r),n.orientationX.linearRampToValueAtTime(Zd.x,r),n.orientationY.linearRampToValueAtTime(Zd.y,r),n.orientationZ.linearRampToValueAtTime(Zd.z,r)}else n.setPosition(Yd.x,Yd.y,Yd.z),n.setOrientation(Zd.x,Zd.y,Zd.z)}}class Mye{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class lW{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,s;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=n}else{s+=n;const a=n/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,s=i;o!==s;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){Ai.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const s=this._workIndex*o;Ai.multiplyQuaternionsFlat(e,s,e,n,e,r),Ai.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const l=n+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,n,r,i,o){for(let s=0;s!==o;++s){const a=n+s;e[a]=e[a]+e[r+s]*i}}}const WT="\\[\\]\\.:\\/",Eye=new RegExp("["+WT+"]","g"),XT="[^"+WT+"]",kye="[^"+WT.replace("\\.","")+"]",Tye=/((?:WC+[\/:])*)/.source.replace("WC",XT),Dye=/(WCOD+)?/.source.replace("WCOD",kye),Lye=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",XT),Rye=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",XT),Bye=new RegExp("^"+Tye+Dye+Lye+Rye+"$"),Pye=["material","materials","bones","map"];class Nye{constructor(e,n,r){const i=r||xn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class xn{constructor(e,n,r){this.path=n,this.parsedPath=r||xn.parseTrackName(n),this.node=xn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new xn.Composite(e,n,r):new xn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Eye,"")}static parseTrackName(e){const n=Bye.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);Pye.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=xn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}xn.Composite=Nye;xn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};xn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};xn.prototype.GetterByBindingType=[xn.prototype._getValue_direct,xn.prototype._getValue_array,xn.prototype._getValue_arrayElement,xn.prototype._getValue_toArray];xn.prototype.SetterByBindingTypeAndVersioning=[[xn.prototype._setValue_direct,xn.prototype._setValue_direct_setNeedsUpdate,xn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[xn.prototype._setValue_array,xn.prototype._setValue_array_setNeedsUpdate,xn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[xn.prototype._setValue_arrayElement,xn.prototype._setValue_arrayElement_setNeedsUpdate,xn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[xn.prototype._setValue_fromArray,xn.prototype._setValue_fromArray_setNeedsUpdate,xn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Iye{constructor(){this.isAnimationObjectGroup=!0,this.uuid=xs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const h=arguments[u],f=h.uuid;let p=n[f];if(p===void 0){p=l++,n[f]=p,e.push(h);for(let v=0,b=s;v!==b;++v)o[v].push(new xn(h,r[v],i[v]))}else if(p<c){a=e[p];const v=--c,b=e[v];n[b.uuid]=p,e[p]=b,n[f]=v,e[v]=h;for(let y=0,x=s;y!==x;++y){const w=o[y],A=w[v];let D=w[p];w[p]=A,D===void 0&&(D=new xn(h,r[y],i[y])),w[v]=D}}else e[p]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],c=l.uuid,u=n[c];if(u!==void 0&&u>=o){const d=o++,h=e[d];n[h.uuid]=u,e[u]=h,n[c]=d,e[d]=l;for(let f=0,p=i;f!==p;++f){const v=r[f],b=v[d],y=v[u];v[u]=b,v[d]=y}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<o){const h=--o,f=e[h],p=--s,v=e[p];n[f.uuid]=d,e[d]=f,n[v.uuid]=h,e[h]=v,e.pop();for(let b=0,y=i;b!==y;++b){const x=r[b],w=x[h],A=x[p];x[d]=w,x[h]=A,x.pop()}}else{const h=--s,f=e[h];h>0&&(n[f.uuid]=d),e[d]=f,e.pop();for(let p=0,v=i;p!==v;++p){const b=r[p];b[d]=b[h],b.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=o.length,r[e]=i,s.push(e),a.push(n),o.push(d);for(let h=u,f=l.length;h!==f;++h){const p=l[h];d[h]=new xn(p,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],c=e[a];n[c]=r,s[r]=l,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}}class cW{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,s=o.length,a=new Array(s),l={endingStart:Eh,endingEnd:Eh};for(let c=0;c!==s;++c){const u=o[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=qq,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/s,c[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const s=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case mT:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulateAdditive(a);break;case J3:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===Kq;if(e===0)return o===-1?i:s&&(o&1)===1?n-i:i;if(r===Vq){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=kh,i.endingEnd=kh):(e?i.endingStart=this.zeroSlopeAtStart?kh:Eh:i.endingStart=C1,n?i.endingEnd=this.zeroSlopeAtEnd?kh:Eh:i.endingEnd=C1)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=n,a[1]=o+e,l[1]=r,this}}const Oye=new Float32Array(1);class uW extends Ll{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==o;++d){const h=i[d],f=h.name;let p=u[f];if(p!==void 0)++p.referenceCount,s[d]=p;else{if(p=s[d],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,f));continue}const v=n&&n._propertyBindings[d].binding.parsedPath;p=new lW(xn.create(r,f,v),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,f),s[d]=p}a[d].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let s=o[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new zT(new Float32Array(2),new Float32Array(2),1,Oye),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let s=typeof e=="string"?i0.findByName(i,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=J3),l!==void 0){const d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new cW(this,s,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,o),u}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?i0.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const c=s[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const a=r[s].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class JT{constructor(e){this.value=e}clone(){return new JT(this.value.clone===void 0?this.value:this.value.clone())}}let Fye=0;class zye extends Ll{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Fye++}),this.name="",this.usage=T1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let s=0;s<o.length;s++)this.uniforms.push(o[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class Uye extends uv{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class jye{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const YI=new Pt;class dW{constructor(e,n,r=0,i=1/0){this.ray=new bf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new $h,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return YI.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(YI),this}intersectObject(e,n=!0,r=[]){return F6(e,this,r,n),r.sort(ZI),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)F6(e[i],this,r,n);return r.sort(ZI),r}}function ZI(t,e){return t.distance-e.distance}function F6(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const o=t.children;for(let s=0,a=o.length;s<a;s++)F6(o[s],e,n,!0)}}class z6{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Br(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Hye{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const QI=new $e;class $ye{constructor(e=new $e(1/0,1/0),n=new $e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=QI.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,QI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const eO=new W,j2=new W;class Gye{constructor(e=new W,n=new W){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){eO.subVectors(e,this.start),j2.subVectors(this.end,this.start);const r=j2.dot(j2);let o=j2.dot(eO)/r;return n&&(o=Br(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const tO=new W;class Vye extends mn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Wt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){const c=s/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Mt(i,3));const o=new so({fog:!1,toneMapped:!1});this.cone=new Ha(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),tO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(tO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const xu=new W,H2=new Pt,CM=new Pt;class qye extends Ha{constructor(e){const n=hW(e),r=new Wt,i=[],o=[],s=new ut(0,0,1),a=new ut(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new Mt(i,3)),r.setAttribute("color",new Mt(o,3));const l=new so({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");CM.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){const a=n[o];a.parent&&a.parent.isBone&&(H2.multiplyMatrices(CM,a.matrixWorld),xu.setFromMatrixPosition(H2),i.setXYZ(s,xu.x,xu.y,xu.z),H2.multiplyMatrices(CM,a.parent.matrixWorld),xu.setFromMatrixPosition(H2),i.setXYZ(s+1,xu.x,xu.y,xu.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function hW(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,hW(t.children[n]));return e}class Kye extends $r{constructor(e,n,r){const i=new pv(n,4,2),o=new vs({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Wye=new W,nO=new ut,rO=new ut;class Xye extends mn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new fv(n);i.rotateY(Math.PI*.5),this.material=new vs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new wn(s,3)),this.add(new $r(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");nO.copy(this.light.color),rO.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?nO:rO;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Wye.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Jye extends Ha{constructor(e=10,n=10,r=4473924,i=8947848){r=new ut(r),i=new ut(i);const o=n/2,s=e/n,a=e/2,l=[],c=[];for(let h=0,f=0,p=-a;h<=n;h++,p+=s){l.push(-a,0,p,a,0,p),l.push(p,0,-a,p,0,a);const v=h===o?r:i;v.toArray(c,f),f+=3,v.toArray(c,f),f+=3,v.toArray(c,f),f+=3,v.toArray(c,f),f+=3}const u=new Wt;u.setAttribute("position",new Mt(l,3)),u.setAttribute("color",new Mt(c,3));const d=new so({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Yye extends Ha{constructor(e=10,n=16,r=8,i=64,o=4473924,s=8947848){o=new ut(o),s=new ut(s);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const h=d/n*(Math.PI*2),f=Math.sin(h)*e,p=Math.cos(h)*e;a.push(0,0,0),a.push(f,0,p);const v=d&1?o:s;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<r;d++){const h=d&1?o:s,f=e-e/r*d;for(let p=0;p<i;p++){let v=p/i*(Math.PI*2),b=Math.sin(v)*f,y=Math.cos(v)*f;a.push(b,0,y),l.push(h.r,h.g,h.b),v=(p+1)/i*(Math.PI*2),b=Math.sin(v)*f,y=Math.cos(v)*f,a.push(b,0,y),l.push(h.r,h.g,h.b)}}const c=new Wt;c.setAttribute("position",new Mt(a,3)),c.setAttribute("color",new Mt(l,3));const u=new so({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const iO=new W,$2=new W,oO=new W;class Zye extends mn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Wt;i.setAttribute("position",new Mt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new so({fog:!1,toneMapped:!1});this.lightPlane=new Dc(i,o),this.add(this.lightPlane),i=new Wt,i.setAttribute("position",new Mt([0,0,0,0,0,1],3)),this.targetLine=new Dc(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),iO.setFromMatrixPosition(this.light.matrixWorld),$2.setFromMatrixPosition(this.light.target.matrixWorld),oO.subVectors($2,iO),this.lightPlane.lookAt($2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt($2),this.targetLine.scale.z=oO.length()}}const G2=new W,Lr=new av;class Qye extends Ha{constructor(e){const n=new Wt,r=new so({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(p,v){l(p),l(v)}function l(p){i.push(0,0,0),o.push(0,0,0),s[p]===void 0&&(s[p]=[]),s[p].push(i.length/3-1)}n.setAttribute("position",new Mt(i,3)),n.setAttribute("color",new Mt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new ut(16755200),u=new ut(16711680),d=new ut(43775),h=new ut(16777215),f=new ut(3355443);this.setColors(c,u,d,h,f)}setColors(e,n,r,i,o){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Lr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Fr("c",n,e,Lr,0,0,-1),Fr("t",n,e,Lr,0,0,1),Fr("n1",n,e,Lr,-r,-i,-1),Fr("n2",n,e,Lr,r,-i,-1),Fr("n3",n,e,Lr,-r,i,-1),Fr("n4",n,e,Lr,r,i,-1),Fr("f1",n,e,Lr,-r,-i,1),Fr("f2",n,e,Lr,r,-i,1),Fr("f3",n,e,Lr,-r,i,1),Fr("f4",n,e,Lr,r,i,1),Fr("u1",n,e,Lr,r*.7,i*1.1,-1),Fr("u2",n,e,Lr,-r*.7,i*1.1,-1),Fr("u3",n,e,Lr,0,i*2,-1),Fr("cf1",n,e,Lr,-r,0,1),Fr("cf2",n,e,Lr,r,0,1),Fr("cf3",n,e,Lr,0,-i,1),Fr("cf4",n,e,Lr,0,i,1),Fr("cn1",n,e,Lr,-r,0,-1),Fr("cn2",n,e,Lr,r,0,-1),Fr("cn3",n,e,Lr,0,-i,-1),Fr("cn4",n,e,Lr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fr(t,e,n,r,i,o,s){G2.set(i,o,s).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],G2.x,G2.y,G2.z)}}const V2=new ro;class e1e extends Ha{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Wt;o.setIndex(new wn(r,1)),o.setAttribute("position",new wn(i,3)),super(o,new so({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&V2.setFromObject(this.object),V2.isEmpty())return;const n=V2.min,r=V2.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class t1e extends Ha{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Wt;o.setIndex(new wn(r,1)),o.setAttribute("position",new Mt(i,3)),super(o,new so({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class n1e extends Dc{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Wt;s.setAttribute("position",new Mt(o,3)),s.computeBoundingSphere(),super(s,new so({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Wt;l.setAttribute("position",new Mt(a,3)),l.computeBoundingSphere(),this.add(new $r(l,new vs({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const sO=new W;let q2,MM;class r1e extends mn{constructor(e=new W(0,0,1),n=new W(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super(),this.type="ArrowHelper",q2===void 0&&(q2=new Wt,q2.setAttribute("position",new Mt([0,0,0,0,1,0],3)),MM=new x0(0,.5,1,5,1),MM.translate(0,-.5,0)),this.position.copy(n),this.line=new Dc(q2,new so({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new $r(MM,new vs({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sO.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(sO,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class i1e extends Ha{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Wt;i.setAttribute("position",new Mt(n,3)),i.setAttribute("color",new Mt(r,3));const o=new so({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new ut,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class o1e{constructor(){this.type="ShapePath",this.color=new ut,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new R1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,s){return this.currentPath.bezierCurveTo(e,n,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const x=[];for(let w=0,A=y.length;w<A;w++){const D=y[w],k=new Gh;k.curves=D.curves,x.push(k)}return x}function r(y,x){const w=x.length;let A=!1;for(let D=w-1,k=0;k<w;D=k++){let R=x[D],L=x[k],T=L.x-R.x,C=L.y-R.y;if(Math.abs(C)>Number.EPSILON){if(C<0&&(R=x[k],T=-T,L=x[D],C=-C),y.y<R.y||y.y>L.y)continue;if(y.y===R.y){if(y.x===R.x)return!0}else{const P=C*(y.x-R.x)-T*(y.y-R.y);if(P===0)return!0;if(P<0)continue;A=!A}}else{if(y.y!==R.y)continue;if(L.x<=y.x&&y.x<=R.x||R.x<=y.x&&y.x<=L.x)return!0}}return A}const i=Cl.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,a,l;const c=[];if(o.length===1)return a=o[0],l=new Gh,l.curves=a.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const d=[],h=[];let f=[],p=0,v;h[p]=void 0,f[p]=[];for(let y=0,x=o.length;y<x;y++)a=o[y],v=a.getPoints(),s=i(v),s=e?!s:s,s?(!u&&h[p]&&p++,h[p]={s:new Gh,p:v},h[p].s.curves=a.curves,u&&p++,f[p]=[]):f[p].push({h:a,p:v[0]});if(!h[0])return n(o);if(h.length>1){let y=!1,x=0;for(let w=0,A=h.length;w<A;w++)d[w]=[];for(let w=0,A=h.length;w<A;w++){const D=f[w];for(let k=0;k<D.length;k++){const R=D[k];let L=!0;for(let T=0;T<h.length;T++)r(R.p,h[T].p)&&(w!==T&&x++,L?(L=!1,d[T].push(R)):y=!0);L&&d[w].push(R)}}x>0&&y===!1&&(f=d)}let b;for(let y=0,x=h.length;y<x;y++){l=h[y].s,c.push(l),b=f[y];for(let w=0,A=b.length;w<A;w++)l.holes.push(b[w].h)}return c}}class s1e extends Fa{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:rv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=rv);const a1e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:aT,AddEquation:Nu,AddOperation:kq,AdditiveAnimationBlendMode:mT,AdditiveBlending:e6,AgXToneMapping:Bq,AlphaFormat:zq,AlwaysCompare:iK,AlwaysDepth:_q,AlwaysStencilFunc:D6,AmbientLight:eW,AnimationAction:cW,AnimationClip:i0,AnimationLoader:dye,AnimationMixer:uW,AnimationObjectGroup:Iye,AnimationUtils:aye,ArcCurve:kK,ArrayCamera:wK,ArrowHelper:r1e,AttachedBindMode:r6,Audio:aW,AudioAnalyser:Mye,AudioContext:qT,AudioListener:Sye,AudioLoader:xye,AxesHelper:i1e,BackSide:To,BasicDepthPacking:Xq,BasicShadowMap:tq,BatchedMesh:EK,Bone:n4,BooleanKeyframeTrack:_f,Box2:$ye,Box3:ro,Box3Helper:t1e,BoxGeometry:xf,BoxHelper:e1e,BufferAttribute:wn,BufferGeometry:Wt,BufferGeometryLoader:oW,ByteType:Iq,Cache:mc,Camera:av,CameraHelper:Qye,CanvasTexture:Lge,CapsuleGeometry:s4,CatmullRomCurve3:TK,CineonToneMapping:Lq,CircleGeometry:a4,ClampToEdgeWrapping:gs,Clock:KT,Color:ut,ColorKeyframeTrack:UT,ColorManagement:Ln,CompressedArrayTexture:Tge,CompressedCubeTexture:Dge,CompressedTexture:i4,CompressedTextureLoader:hye,ConeGeometry:l4,ConstantAlphaFactor:vq,ConstantColorFactor:gq,CubeCamera:fK,CubeReflectionMapping:Tc,CubeRefractionMapping:id,CubeTexture:lv,CubeTextureLoader:fye,CubeUVReflectionMapping:y0,CubicBezierCurve:BT,CubicBezierCurve3:DK,CubicInterpolant:WK,CullFaceBack:Q5,CullFaceFront:eq,CullFaceFrontBack:bde,CullFaceNone:QV,Curve:$a,CurvePath:RK,CustomBlending:nq,CustomToneMapping:Rq,CylinderGeometry:x0,Cylindrical:Hye,Data3DTexture:xT,DataArrayTexture:Z3,DataTexture:vc,DataTextureLoader:pye,DataUtils:Che,DecrementStencilOp:Ede,DecrementWrapStencilOp:Tde,DefaultLoadingManager:YK,DepthFormat:jh,DepthStencilFormat:of,DepthTexture:AT,DetachedBindMode:Nq,DirectionalLight:VT,DirectionalLightHelper:Zye,DiscreteInterpolant:XK,DisplayP3ColorSpace:Y3,DodecahedronGeometry:c4,DoubleSide:Ea,DstAlphaFactor:dq,DstColorFactor:fq,DynamicCopyUsage:Gde,DynamicDrawUsage:Fde,DynamicReadUsage:jde,EdgesGeometry:BK,EllipseCurve:o4,EqualCompare:eK,EqualDepth:Sq,EqualStencilFunc:Bde,EquirectangularReflectionMapping:w1,EquirectangularRefractionMapping:S1,Euler:Ss,EventDispatcher:Ll,ExtrudeGeometry:d4,FileLoader:As,Float16BufferAttribute:Lhe,Float32BufferAttribute:Mt,FloatType:ys,Fog:t4,FogExp2:e4,FramebufferTexture:kge,FrontSide:kl,Frustum:cv,GLBufferAttribute:jye,GLSL1:qde,GLSL3:L6,GreaterCompare:tK,GreaterDepth:Cq,GreaterEqualCompare:rK,GreaterEqualDepth:Aq,GreaterEqualStencilFunc:Ode,GreaterStencilFunc:Nde,GridHelper:Jye,Group:pc,HalfFloatType:ov,HemisphereLight:QK,HemisphereLightHelper:Xye,IcosahedronGeometry:h4,ImageBitmapLoader:sW,ImageLoader:I1,ImageUtils:lK,IncrementStencilOp:Mde,IncrementWrapStencilOp:kde,InstancedBufferAttribute:sf,InstancedBufferGeometry:iW,InstancedInterleavedBuffer:Uye,InstancedMesh:TT,Int16BufferAttribute:The,Int32BufferAttribute:Dhe,Int8BufferAttribute:Mhe,IntType:lT,InterleavedBuffer:uv,InterleavedBufferAttribute:sd,Interpolant:_0,InterpolateDiscrete:e0,InterpolateLinear:t0,InterpolateSmooth:N_,InvertStencilOp:Dde,KeepStencilOp:ch,KeyframeTrack:Ga,LOD:MK,LatheGeometry:hv,Layers:$h,LessCompare:Qq,LessDepth:wq,LessEqualCompare:yT,LessEqualDepth:_1,LessEqualStencilFunc:Pde,LessStencilFunc:Rde,Light:pd,LightProbe:rW,Line:Dc,Line3:Gye,LineBasicMaterial:so,LineCurve:PT,LineCurve3:LK,LineDashedMaterial:VK,LineLoop:DT,LineSegments:Ha,LinearDisplayP3ColorSpace:sv,LinearFilter:Pr,LinearInterpolant:zT,LinearMipMapLinearFilter:Sde,LinearMipMapNearestFilter:wde,LinearMipmapLinearFilter:Zs,LinearMipmapNearestFilter:Sm,LinearSRGBColorSpace:Ic,LinearToneMapping:Tq,LinearTransfer:M1,Loader:ao,LoaderUtils:Yu,LoadingManager:jT,LoopOnce:Vq,LoopPingPong:Kq,LoopRepeat:qq,LuminanceAlphaFormat:Hq,LuminanceFormat:jq,MOUSE:ah,Material:ei,MaterialLoader:b4,MathUtils:oK,Matrix3:Qt,Matrix4:Pt,MaxEquation:sq,Mesh:$r,MeshBasicMaterial:vs,MeshDepthMaterial:CT,MeshDistanceMaterial:MT,MeshLambertMaterial:$K,MeshMatcapMaterial:GK,MeshNormalMaterial:HK,MeshPhongMaterial:UK,MeshPhysicalMaterial:aa,MeshStandardMaterial:mv,MeshToonMaterial:jK,MinEquation:oq,MirroredRepeatWrapping:Qm,MixOperation:Eq,MultiplyBlending:n6,MultiplyOperation:iv,NearestFilter:ci,NearestMipMapLinearFilter:_de,NearestMipMapNearestFilter:xde,NearestMipmapLinearFilter:Mh,NearestMipmapNearestFilter:X3,NeutralToneMapping:Pq,NeverCompare:Zq,NeverDepth:xq,NeverStencilFunc:Lde,NoBlending:yc,NoColorSpace:uc,NoToneMapping:Al,NormalAnimationBlendMode:J3,NormalBlending:Uh,NotEqualCompare:nK,NotEqualDepth:Mq,NotEqualStencilFunc:Ide,NumberKeyframeTrack:lf,Object3D:mn,ObjectLoader:vye,ObjectSpaceNormalMap:Yq,OctahedronGeometry:fv,OneFactor:lq,OneMinusConstantAlphaFactor:bq,OneMinusConstantColorFactor:yq,OneMinusDstAlphaFactor:hq,OneMinusDstColorFactor:pq,OneMinusSrcAlphaFactor:Vw,OneMinusSrcColorFactor:uq,OrthographicCamera:_l,P3Primaries:k1,PCFShadowMap:K3,PCFSoftShadowMap:Dy,PMREMGenerator:R6,Path:R1,PerspectiveCamera:Cr,Plane:ac,PlaneGeometry:v0,PlaneHelper:n1e,PointLight:GT,PointLightHelper:Kye,Points:LT,PointsMaterial:r4,PolarGridHelper:Yye,PolyhedronGeometry:fd,PositionalAudio:Cye,PropertyBinding:xn,PropertyMixer:lW,QuadraticBezierCurve:NT,QuadraticBezierCurve3:IT,Quaternion:Ai,QuaternionKeyframeTrack:cf,QuaternionLinearInterpolant:JK,RED_GREEN_RGTC2_Format:k6,RED_RGTC1_Format:Gq,REVISION:rv,RGBADepthPacking:Jq,RGBAFormat:Co,RGBAIntegerFormat:pT,RGBA_ASTC_10x10_Format:w6,RGBA_ASTC_10x5_Format:b6,RGBA_ASTC_10x6_Format:x6,RGBA_ASTC_10x8_Format:_6,RGBA_ASTC_12x10_Format:S6,RGBA_ASTC_12x12_Format:A6,RGBA_ASTC_4x4_Format:d6,RGBA_ASTC_5x4_Format:h6,RGBA_ASTC_5x5_Format:f6,RGBA_ASTC_6x5_Format:p6,RGBA_ASTC_6x6_Format:m6,RGBA_ASTC_8x5_Format:g6,RGBA_ASTC_8x6_Format:y6,RGBA_ASTC_8x8_Format:v6,RGBA_BPTC_Format:P_,RGBA_ETC2_EAC_Format:u6,RGBA_PVRTC_2BPPV1_Format:a6,RGBA_PVRTC_4BPPV1_Format:s6,RGBA_S3TC_DXT1_Format:L_,RGBA_S3TC_DXT3_Format:R_,RGBA_S3TC_DXT5_Format:B_,RGBFormat:Uq,RGB_BPTC_SIGNED_Format:C6,RGB_BPTC_UNSIGNED_Format:M6,RGB_ETC1_Format:l6,RGB_ETC2_Format:c6,RGB_PVRTC_2BPPV1_Format:o6,RGB_PVRTC_4BPPV1_Format:i6,RGB_S3TC_DXT1_Format:D_,RGFormat:$q,RGIntegerFormat:fT,RawShaderMaterial:zK,Ray:bf,Raycaster:dW,Rec709Primaries:E1,RectAreaLight:tW,RedFormat:dT,RedIntegerFormat:hT,ReinhardToneMapping:Dq,RenderTarget:cK,RepeatWrapping:od,ReplaceStencilOp:Cde,ReverseSubtractEquation:iq,RingGeometry:f4,SIGNED_RED_GREEN_RGTC2_Format:T6,SIGNED_RED_RGTC1_Format:E6,SRGBColorSpace:Vs,SRGBTransfer:Zn,Scene:Kw,ShaderChunk:rn,ShaderLib:Ca,ShaderMaterial:za,ShadowMaterial:FK,Shape:Gh,ShapeGeometry:p4,ShapePath:o1e,ShapeUtils:Cl,ShortType:Oq,Skeleton:dv,SkeletonHelper:qye,SkinnedMesh:kT,Source:Th,Sphere:Fi,SphereGeometry:pv,Spherical:z6,SphericalHarmonics3:nW,SplineCurve:OT,SpotLight:$T,SpotLightHelper:Vye,Sprite:CK,SpriteMaterial:ET,SrcAlphaFactor:Gw,SrcAlphaSaturateFactor:mq,SrcColorFactor:cq,StaticCopyUsage:$de,StaticDrawUsage:T1,StaticReadUsage:Ude,StereoCamera:_ye,StreamCopyUsage:Vde,StreamDrawUsage:zde,StreamReadUsage:Hde,StringKeyframeTrack:wf,SubtractEquation:rq,SubtractiveBlending:t6,TOUCH:lh,TangentSpaceNormalMap:hd,TetrahedronGeometry:m4,Texture:ur,TextureLoader:ZK,TorusGeometry:g4,TorusKnotGeometry:y4,Triangle:ps,TriangleFanDrawMode:qw,TriangleStripDrawMode:gT,TrianglesDrawMode:Wq,TubeGeometry:v4,UVMapping:W3,Uint16BufferAttribute:_T,Uint32BufferAttribute:wT,Uint8BufferAttribute:Ehe,Uint8ClampedBufferAttribute:khe,Uniform:JT,UniformsGroup:zye,UniformsLib:dt,UniformsUtils:hK,UnsignedByteType:Tl,UnsignedInt248Type:rf,UnsignedInt5999Type:Fq,UnsignedIntType:nf,UnsignedShort4444Type:cT,UnsignedShort5551Type:uT,UnsignedShortType:A1,VSMShadowMap:wa,Vector2:$e,Vector3:W,Vector4:Un,VectorKeyframeTrack:uf,VideoTexture:Ege,WebGL3DRenderTarget:mhe,WebGLArrayRenderTarget:phe,WebGLCoordinateSystem:xl,WebGLCubeRenderTarget:pK,WebGLMultipleRenderTargets:s1e,WebGLRenderTarget:Fa,WebGLRenderer:SK,WebGLUtils:_K,WebGPUCoordinateSystem:D1,WireframeGeometry:OK,WrapAroundEnding:C1,ZeroCurvatureEnding:Eh,ZeroFactor:aq,ZeroSlopeEnding:kh,ZeroStencilOp:Ade,createCanvasElement:aK},Symbol.toStringTag,{value:"Module"}));var fW={exports:{}},Sf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Sf.ConcurrentRoot=1;Sf.ContinuousEventPriority=4;Sf.DefaultEventPriority=16;Sf.DiscreteEventPriority=1;Sf.IdleEventPriority=536870912;Sf.LegacyRoot=0;fW.exports=Sf;var lm=fW.exports;function l1e(t){let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const h=e;e=u?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},i=()=>e,o=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function f(){const p=u(e);if(!d(h,p)){const v=h;c(h=p,v)}}return n.add(f),()=>n.delete(f)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?o(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const c1e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),aO=c1e?E.useEffect:E.useLayoutEffect;function u1e(t){const e=typeof t=="function"?l1e(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=E.useReducer(b=>b+1,0),s=e.getState(),a=E.useRef(s),l=E.useRef(r),c=E.useRef(i),u=E.useRef(!1),d=E.useRef();d.current===void 0&&(d.current=r(s));let h,f=!1;(a.current!==s||l.current!==r||c.current!==i||u.current)&&(h=r(s),f=!i(d.current,h)),aO(()=>{f&&(d.current=h),a.current=s,l.current=r,c.current=i,u.current=!1});const p=E.useRef(s);aO(()=>{const b=()=>{try{const x=e.getState(),w=l.current(x);c.current(d.current,w)||(a.current=x,d.current=w,o())}catch{u.current=!0,o()}},y=e.subscribe(b);return e.getState()!==p.current&&b(),y},[]);const v=f?h:d.current;return E.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var pW={exports:{}},EM={exports:{}},kM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lO;function d1e(){return lO||(lO=1,function(t){function e(O,V){var I=O.length;O.push(V);e:for(;0<I;){var se=I-1>>>1,ye=O[se];if(0<i(ye,V))O[se]=V,O[I]=ye,I=se;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],I=O.pop();if(I!==V){O[0]=I;e:for(var se=0,ye=O.length,G=ye>>>1;se<G;){var ae=2*(se+1)-1,_e=O[ae],ve=ae+1,Ae=O[ve];if(0>i(_e,I))ve<ye&&0>i(Ae,_e)?(O[se]=Ae,O[ve]=I,se=ve):(O[se]=_e,O[ae]=I,se=ae);else if(ve<ye&&0>i(Ae,I))O[se]=Ae,O[ve]=I,se=ve;else break e}}return V}function i(O,V){var I=O.sortIndex-V.sortIndex;return I!==0?I:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=O)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function A(O){if(v=!1,w(O),!p)if(n(l)!==null)p=!0,Z(D);else{var V=n(c);V!==null&&K(A,V.startTime-O)}}function D(O,V){p=!1,v&&(v=!1,y(L),L=-1),f=!0;var I=h;try{for(w(V),d=n(l);d!==null&&(!(d.expirationTime>V)||O&&!P());){var se=d.callback;if(typeof se=="function"){d.callback=null,h=d.priorityLevel;var ye=se(d.expirationTime<=V);V=t.unstable_now(),typeof ye=="function"?d.callback=ye:d===n(l)&&r(l),w(V)}else r(l);d=n(l)}if(d!==null)var G=!0;else{var ae=n(c);ae!==null&&K(A,ae.startTime-V),G=!1}return G}finally{d=null,h=I,f=!1}}var k=!1,R=null,L=-1,T=5,C=-1;function P(){return!(t.unstable_now()-C<T)}function z(){if(R!==null){var O=t.unstable_now();C=O;var V=!0;try{V=R(!0,O)}finally{V?H():(k=!1,R=null)}}else k=!1}var H;if(typeof x=="function")H=function(){x(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=z,H=function(){X.postMessage(null)}}else H=function(){b(z,0)};function Z(O){R=O,k||(k=!0,H())}function K(O,V){L=b(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Z(D))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var I=h;h=V;try{return O()}finally{h=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=h;h=O;try{return V()}finally{h=I}},t.unstable_scheduleCallback=function(O,V,I){var se=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?se+I:se):I=se,O){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=I+ye,O={id:u++,callback:V,priorityLevel:O,startTime:I,expirationTime:ye,sortIndex:-1},I>se?(O.sortIndex=I,e(c,O),n(l)===null&&O===n(c)&&(v?(y(L),L=-1):v=!0,K(A,I-se))):(O.sortIndex=ye,e(l,O),p||f||(p=!0,Z(D))),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var V=h;return function(){var I=h;h=V;try{return O.apply(this,arguments)}finally{h=I}}}}(kM)),kM}var cO;function h1e(){return cO||(cO=1,EM.exports=d1e()),EM.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1e=function(e){var n={},r=E,i=h1e(),o=Object.assign;function s(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),D=Symbol.iterator;function k(m){return m===null||typeof m!="object"?null:(m=D&&m[D]||m["@@iterator"],typeof m=="function"?m:null)}function R(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case b:return"Suspense";case y:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case p:return(m.displayName||"Context")+".Consumer";case f:return(m._context.displayName||"Context")+".Provider";case v:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case x:return g=m.displayName||null,g!==null?g:R(m.type)||"Memo";case w:g=m._payload,m=m._init;try{return R(m(g))}catch{}}return null}function L(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(g);case 8:return g===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function T(m){var g=m,S=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,g.flags&4098&&(S=g.return),m=g.return;while(m)}return g.tag===3?S:null}function C(m){if(T(m)!==m)throw Error(s(188))}function P(m){var g=m.alternate;if(!g){if(g=T(m),g===null)throw Error(s(188));return g!==m?null:m}for(var S=m,M=g;;){var B=S.return;if(B===null)break;var N=B.alternate;if(N===null){if(M=B.return,M!==null){S=M;continue}break}if(B.child===N.child){for(N=B.child;N;){if(N===S)return C(B),m;if(N===M)return C(B),g;N=N.sibling}throw Error(s(188))}if(S.return!==M.return)S=B,M=N;else{for(var ne=!1,ue=B.child;ue;){if(ue===S){ne=!0,S=B,M=N;break}if(ue===M){ne=!0,M=B,S=N;break}ue=ue.sibling}if(!ne){for(ue=N.child;ue;){if(ue===S){ne=!0,S=N,M=B;break}if(ue===M){ne=!0,M=N,S=B;break}ue=ue.sibling}if(!ne)throw Error(s(189))}}if(S.alternate!==M)throw Error(s(190))}if(S.tag!==3)throw Error(s(188));return S.stateNode.current===S?m:g}function z(m){return m=P(m),m!==null?H(m):null}function H(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=H(m);if(g!==null)return g;m=m.sibling}return null}function $(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var g=$(m);if(g!==null)return g}m=m.sibling}return null}var X=Array.isArray,Z=e.getPublicInstance,K=e.getRootHostContext,O=e.getChildHostContext,V=e.prepareForCommit,I=e.resetAfterCommit,se=e.createInstance,ye=e.appendInitialChild,G=e.finalizeInitialChildren,ae=e.prepareUpdate,_e=e.shouldSetTextContent,ve=e.createTextInstance,Ae=e.scheduleTimeout,Ve=e.cancelTimeout,pt=e.noTimeout,ke=e.isPrimaryRenderer,ee=e.supportsMutation,le=e.supportsPersistence,xe=e.supportsHydration,Fe=e.getInstanceFromNode,Be=e.preparePortalMount,Re=e.getCurrentEventPriority,Ze=e.detachDeletedInstance,Je=e.supportsMicrotasks,_t=e.scheduleMicrotask,Q=e.supportsTestSelectors,U=e.findFiberRoot,pe=e.getBoundingRect,Te=e.getTextContent,Oe=e.isHiddenSubtree,Ge=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,de=e.setupIntersectionObserver,De=e.appendChild,Qe=e.appendChildToContainer,Ie=e.commitTextUpdate,et=e.commitMount,kt=e.commitUpdate,vt=e.insertBefore,rt=e.insertInContainerBefore,te=e.removeChild,ge=e.removeChildFromContainer,We=e.resetTextContent,J=e.hideInstance,He=e.hideTextInstance,Se=e.unhideInstance,Ce=e.unhideTextInstance,qe=e.clearContainer,F=e.cloneInstance,j=e.createContainerChildSet,Y=e.appendChildToContainerChildSet,he=e.finalizeContainerChildren,je=e.replaceContainerChildren,mt=e.cloneHiddenInstance,Tt=e.cloneHiddenTextInstance,jt=e.canHydrateInstance,On=e.canHydrateTextInstance,dr=e.canHydrateSuspenseInstance,xr=e.isSuspenseInstancePending,Fn=e.isSuspenseInstanceFallback,mi=e.registerSuspenseInstanceRetry,_r=e.getNextHydratableSibling,ji=e.getFirstHydratableChild,Po=e.getFirstHydratableChildWithinContainer,qa=e.getFirstHydratableChildWithinSuspenseInstance,jc=e.hydrateInstance,Cf=e.hydrateTextInstance,q=e.hydrateSuspenseInstance,fe=e.getNextHydratableInstanceAfterSuspenseInstance,Ee=e.commitHydratedContainer,Le=e.commitHydratedSuspenseInstance,be=e.clearSuspenseBoundary,st=e.clearSuspenseBoundaryFromContainer,bt=e.shouldDeleteUnhydratedTailInstances,At=e.didNotMatchHydratedContainerTextInstance,Et=e.didNotMatchHydratedTextInstance,Ft;function Nt(m){if(Ft===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);Ft=g&&g[1]||""}return`
`+Ft+m}var Bt=!1;function vn(m,g){if(!m||Bt)return"";Bt=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(ot){var M=ot}Reflect.construct(m,[],g)}else{try{g.call()}catch(ot){M=ot}m.call(g.prototype)}else{try{throw Error()}catch(ot){M=ot}m()}}catch(ot){if(ot&&M&&typeof ot.stack=="string"){for(var B=ot.stack.split(`
`),N=M.stack.split(`
`),ne=B.length-1,ue=N.length-1;1<=ne&&0<=ue&&B[ne]!==N[ue];)ue--;for(;1<=ne&&0<=ue;ne--,ue--)if(B[ne]!==N[ue]){if(ne!==1||ue!==1)do if(ne--,ue--,0>ue||B[ne]!==N[ue]){var ze=`
`+B[ne].replace(" at new "," at ");return m.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",m.displayName)),ze}while(1<=ne&&0<=ue);break}}}finally{Bt=!1,Error.prepareStackTrace=S}return(m=m?m.displayName||m.name:"")?Nt(m):""}var hr=Object.prototype.hasOwnProperty,Jn=[],Vr=-1;function cn(m){return{current:m}}function ct(m){0>Vr||(m.current=Jn[Vr],Jn[Vr]=null,Vr--)}function Xt(m,g){Vr++,Jn[Vr]=m.current,m.current=g}var dn={},Yn=cn(dn),ti=cn(!1),co=dn;function Ka(m,g){var S=m.type.contextTypes;if(!S)return dn;var M=m.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===g)return M.__reactInternalMemoizedMaskedChildContext;var B={},N;for(N in S)B[N]=g[N];return M&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=B),B}function Sn(m){return m=m.childContextTypes,m!=null}function Qo(){ct(ti),ct(Yn)}function Mf(m,g,S){if(Yn.current!==dn)throw Error(s(168));Xt(Yn,g),Xt(ti,S)}function uo(m,g,S){var M=m.stateNode;if(g=g.childContextTypes,typeof M.getChildContext!="function")return S;M=M.getChildContext();for(var B in M)if(!(B in g))throw Error(s(108,L(m)||"Unknown",B));return o({},S,M)}function Hc(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||dn,co=Yn.current,Xt(Yn,m),Xt(ti,ti.current),!0}function Bv(m,g,S){var M=m.stateNode;if(!M)throw Error(s(169));S?(m=uo(m,g,co),M.__reactInternalMemoizedMergedChildContext=m,ct(ti),ct(Yn),Xt(Yn,m)):ct(ti),Xt(ti,S)}var No=Math.clz32?Math.clz32:AZ,wZ=Math.log,SZ=Math.LN2;function AZ(m){return m>>>=0,m===0?32:31-(wZ(m)/SZ|0)|0}var Pv=64,Nv=4194304;function M0(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Iv(m,g){var S=m.pendingLanes;if(S===0)return 0;var M=0,B=m.suspendedLanes,N=m.pingedLanes,ne=S&268435455;if(ne!==0){var ue=ne&~B;ue!==0?M=M0(ue):(N&=ne,N!==0&&(M=M0(N)))}else ne=S&~B,ne!==0?M=M0(ne):N!==0&&(M=M0(N));if(M===0)return 0;if(g!==0&&g!==M&&!(g&B)&&(B=M&-M,N=g&-g,B>=N||B===16&&(N&4194240)!==0))return g;if(M&4&&(M|=S&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=M;0<g;)S=31-No(g),B=1<<S,M|=m[S],g&=~B;return M}function CZ(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MZ(m,g){for(var S=m.suspendedLanes,M=m.pingedLanes,B=m.expirationTimes,N=m.pendingLanes;0<N;){var ne=31-No(N),ue=1<<ne,ze=B[ne];ze===-1?(!(ue&S)||ue&M)&&(B[ne]=CZ(ue,g)):ze<=g&&(m.expiredLanes|=ue),N&=~ue}}function Z4(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function Q4(m){for(var g=[],S=0;31>S;S++)g.push(m);return g}function E0(m,g,S){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-No(g),m[g]=S}function EZ(m,g){var S=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var M=m.eventTimes;for(m=m.expirationTimes;0<S;){var B=31-No(S),N=1<<B;g[B]=0,M[B]=-1,m[B]=-1,S&=~N}}function eS(m,g){var S=m.entangledLanes|=g;for(m=m.entanglements;S;){var M=31-No(S),B=1<<M;B&g|m[M]&g&&(m[M]|=g),S&=~B}}var Mn=0;function N9(m){return m&=-m,1<m?4<m?m&268435455?16:536870912:4:1}var tS=i.unstable_scheduleCallback,I9=i.unstable_cancelCallback,kZ=i.unstable_shouldYield,TZ=i.unstable_requestPaint,gi=i.unstable_now,nS=i.unstable_ImmediatePriority,DZ=i.unstable_UserBlockingPriority,rS=i.unstable_NormalPriority,LZ=i.unstable_IdlePriority,Ov=null,Wa=null;function RZ(m){if(Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(Ov,m,void 0,(m.current.flags&128)===128)}catch{}}function BZ(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var Xa=typeof Object.is=="function"?Object.is:BZ,Pl=null,Fv=!1,iS=!1;function O9(m){Pl===null?Pl=[m]:Pl.push(m)}function PZ(m){Fv=!0,O9(m)}function Ja(){if(!iS&&Pl!==null){iS=!0;var m=0,g=Mn;try{var S=Pl;for(Mn=1;m<S.length;m++){var M=S[m];do M=M(!0);while(M!==null)}Pl=null,Fv=!1}catch(B){throw Pl!==null&&(Pl=Pl.slice(m+1)),tS(nS,Ja),B}finally{Mn=g,iS=!1}}return null}var NZ=a.ReactCurrentBatchConfig;function zv(m,g){if(Xa(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var S=Object.keys(m),M=Object.keys(g);if(S.length!==M.length)return!1;for(M=0;M<S.length;M++){var B=S[M];if(!hr.call(g,B)||!Xa(m[B],g[B]))return!1}return!0}function IZ(m){switch(m.tag){case 5:return Nt(m.type);case 16:return Nt("Lazy");case 13:return Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 2:case 15:return m=vn(m.type,!1),m;case 11:return m=vn(m.type.render,!1),m;case 1:return m=vn(m.type,!0),m;default:return""}}function ua(m,g){if(m&&m.defaultProps){g=o({},g),m=m.defaultProps;for(var S in m)g[S]===void 0&&(g[S]=m[S]);return g}return g}var Uv=cn(null),jv=null,Ef=null,oS=null;function sS(){oS=Ef=jv=null}function F9(m,g,S){ke?(Xt(Uv,g._currentValue),g._currentValue=S):(Xt(Uv,g._currentValue2),g._currentValue2=S)}function aS(m){var g=Uv.current;ct(Uv),ke?m._currentValue=g:m._currentValue2=g}function lS(m,g,S){for(;m!==null;){var M=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,M!==null&&(M.childLanes|=g)):M!==null&&(M.childLanes&g)!==g&&(M.childLanes|=g),m===S)break;m=m.return}}function kf(m,g){jv=m,oS=Ef=null,m=m.dependencies,m!==null&&m.firstContext!==null&&(m.lanes&g&&(ns=!0),m.firstContext=null)}function Ts(m){var g=ke?m._currentValue:m._currentValue2;if(oS!==m)if(m={context:m,memoizedValue:g,next:null},Ef===null){if(jv===null)throw Error(s(308));Ef=m,jv.dependencies={lanes:0,firstContext:m}}else Ef=Ef.next=m;return g}var Ya=null,$c=!1;function cS(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z9(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Nl(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function Gc(m,g){var S=m.updateQueue;S!==null&&(S=S.shared,qr!==null&&m.mode&1&&!(sn&2)?(m=S.interleaved,m===null?(g.next=g,Ya===null?Ya=[S]:Ya.push(S)):(g.next=m.next,m.next=g),S.interleaved=g):(m=S.pending,m===null?g.next=g:(g.next=m.next,m.next=g),S.pending=g))}function Hv(m,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var M=g.lanes;M&=m.pendingLanes,S|=M,g.lanes=S,eS(m,S)}}function U9(m,g){var S=m.updateQueue,M=m.alternate;if(M!==null&&(M=M.updateQueue,S===M)){var B=null,N=null;if(S=S.firstBaseUpdate,S!==null){do{var ne={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};N===null?B=N=ne:N=N.next=ne,S=S.next}while(S!==null);N===null?B=N=g:N=N.next=g}else B=N=g;S={baseState:M.baseState,firstBaseUpdate:B,lastBaseUpdate:N,shared:M.shared,effects:M.effects},m.updateQueue=S;return}m=S.lastBaseUpdate,m===null?S.firstBaseUpdate=g:m.next=g,S.lastBaseUpdate=g}function $v(m,g,S,M){var B=m.updateQueue;$c=!1;var N=B.firstBaseUpdate,ne=B.lastBaseUpdate,ue=B.shared.pending;if(ue!==null){B.shared.pending=null;var ze=ue,ot=ze.next;ze.next=null,ne===null?N=ot:ne.next=ot,ne=ze;var St=m.alternate;St!==null&&(St=St.updateQueue,ue=St.lastBaseUpdate,ue!==ne&&(ue===null?St.firstBaseUpdate=ot:ue.next=ot,St.lastBaseUpdate=ze))}if(N!==null){var Gt=B.baseState;ne=0,St=ot=ze=null,ue=N;do{var It=ue.lane,qn=ue.eventTime;if((M&It)===It){St!==null&&(St=St.next={eventTime:qn,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var Lt=m,Vi=ue;switch(It=g,qn=S,Vi.tag){case 1:if(Lt=Vi.payload,typeof Lt=="function"){Gt=Lt.call(qn,Gt,It);break e}Gt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Vi.payload,It=typeof Lt=="function"?Lt.call(qn,Gt,It):Lt,It==null)break e;Gt=o({},Gt,It);break e;case 2:$c=!0}}ue.callback!==null&&ue.lane!==0&&(m.flags|=64,It=B.effects,It===null?B.effects=[ue]:It.push(ue))}else qn={eventTime:qn,lane:It,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},St===null?(ot=St=qn,ze=Gt):St=St.next=qn,ne|=It;if(ue=ue.next,ue===null){if(ue=B.shared.pending,ue===null)break;It=ue,ue=It.next,It.next=null,B.lastBaseUpdate=It,B.shared.pending=null}}while(!0);if(St===null&&(ze=Gt),B.baseState=ze,B.firstBaseUpdate=ot,B.lastBaseUpdate=St,g=B.shared.interleaved,g!==null){B=g;do ne|=B.lane,B=B.next;while(B!==g)}else N===null&&(B.shared.lanes=0);Of|=ne,m.lanes=ne,m.memoizedState=Gt}}function j9(m,g,S){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var M=m[g],B=M.callback;if(B!==null){if(M.callback=null,M=S,typeof B!="function")throw Error(s(191,B));B.call(M)}}}var H9=new r.Component().refs;function uS(m,g,S,M){g=m.memoizedState,S=S(M,g),S=S==null?g:o({},g,S),m.memoizedState=S,m.lanes===0&&(m.updateQueue.baseState=S)}var Gv={isMounted:function(m){return(m=m._reactInternals)?T(m)===m:!1},enqueueSetState:function(m,g,S){m=m._reactInternals;var M=fo(),B=Kc(m),N=Nl(M,B);N.payload=g,S!=null&&(N.callback=S),Gc(m,N),g=Ps(m,B,M),g!==null&&Hv(g,m,B)},enqueueReplaceState:function(m,g,S){m=m._reactInternals;var M=fo(),B=Kc(m),N=Nl(M,B);N.tag=1,N.payload=g,S!=null&&(N.callback=S),Gc(m,N),g=Ps(m,B,M),g!==null&&Hv(g,m,B)},enqueueForceUpdate:function(m,g){m=m._reactInternals;var S=fo(),M=Kc(m),B=Nl(S,M);B.tag=2,g!=null&&(B.callback=g),Gc(m,B),g=Ps(m,M,S),g!==null&&Hv(g,m,M)}};function $9(m,g,S,M,B,N,ne){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(M,N,ne):g.prototype&&g.prototype.isPureReactComponent?!zv(S,M)||!zv(B,N):!0}function G9(m,g,S){var M=!1,B=dn,N=g.contextType;return typeof N=="object"&&N!==null?N=Ts(N):(B=Sn(g)?co:Yn.current,M=g.contextTypes,N=(M=M!=null)?Ka(m,B):dn),g=new g(S,N),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gv,m.stateNode=g,g._reactInternals=m,M&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=B,m.__reactInternalMemoizedMaskedChildContext=N),g}function V9(m,g,S,M){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,M),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,M),g.state!==m&&Gv.enqueueReplaceState(g,g.state,null)}function dS(m,g,S,M){var B=m.stateNode;B.props=S,B.state=m.memoizedState,B.refs=H9,cS(m);var N=g.contextType;typeof N=="object"&&N!==null?B.context=Ts(N):(N=Sn(g)?co:Yn.current,B.context=Ka(m,N)),B.state=m.memoizedState,N=g.getDerivedStateFromProps,typeof N=="function"&&(uS(m,g,N,S),B.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(g=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),g!==B.state&&Gv.enqueueReplaceState(B,B.state,null),$v(m,S,B,M),B.state=m.memoizedState),typeof B.componentDidMount=="function"&&(m.flags|=4194308)}var Tf=[],Df=0,Vv=null,qv=0,Ds=[],Ls=0,yd=null,Il=1,Ol="";function vd(m,g){Tf[Df++]=qv,Tf[Df++]=Vv,Vv=m,qv=g}function q9(m,g,S){Ds[Ls++]=Il,Ds[Ls++]=Ol,Ds[Ls++]=yd,yd=m;var M=Il;m=Ol;var B=32-No(M)-1;M&=~(1<<B),S+=1;var N=32-No(g)+B;if(30<N){var ne=B-B%5;N=(M&(1<<ne)-1).toString(32),M>>=ne,B-=ne,Il=1<<32-No(g)+B|S<<B|M,Ol=N+m}else Il=1<<N|S<<B|M,Ol=m}function hS(m){m.return!==null&&(vd(m,1),q9(m,1,0))}function fS(m){for(;m===Vv;)Vv=Tf[--Df],Tf[Df]=null,qv=Tf[--Df],Tf[Df]=null;for(;m===yd;)yd=Ds[--Ls],Ds[Ls]=null,Ol=Ds[--Ls],Ds[Ls]=null,Il=Ds[--Ls],Ds[Ls]=null}var es=null,ts=null,fr=!1,k0=!1,da=null;function K9(m,g){var S=Ns(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=m,g=m.deletions,g===null?(m.deletions=[S],m.flags|=16):g.push(S)}function W9(m,g){switch(m.tag){case 5:return g=jt(g,m.type,m.pendingProps),g!==null?(m.stateNode=g,es=m,ts=ji(g),!0):!1;case 6:return g=On(g,m.pendingProps),g!==null?(m.stateNode=g,es=m,ts=null,!0):!1;case 13:if(g=dr(g),g!==null){var S=yd!==null?{id:Il,overflow:Ol}:null;return m.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=Ns(18,null,null,0),S.stateNode=g,S.return=m,m.child=S,es=m,ts=null,!0}return!1;default:return!1}}function pS(m){return(m.mode&1)!==0&&(m.flags&128)===0}function mS(m){if(fr){var g=ts;if(g){var S=g;if(!W9(m,g)){if(pS(m))throw Error(s(418));g=_r(S);var M=es;g&&W9(m,g)?K9(M,S):(m.flags=m.flags&-4097|2,fr=!1,es=m)}}else{if(pS(m))throw Error(s(418));m.flags=m.flags&-4097|2,fr=!1,es=m}}}function X9(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;es=m}function T0(m){if(!xe||m!==es)return!1;if(!fr)return X9(m),fr=!0,!1;if(m.tag!==3&&(m.tag!==5||bt(m.type)&&!_e(m.type,m.memoizedProps))){var g=ts;if(g){if(pS(m)){for(m=ts;m;)m=_r(m);throw Error(s(418))}for(;g;)K9(m,g),g=_r(g)}}if(X9(m),m.tag===13){if(!xe)throw Error(s(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));ts=fe(m)}else ts=es?_r(m.stateNode):null;return!0}function Lf(){xe&&(ts=es=null,k0=fr=!1)}function gS(m){da===null?da=[m]:da.push(m)}function D0(m,g,S){if(m=S.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(s(309));var M=S.stateNode}if(!M)throw Error(s(147,m));var B=M,N=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===N?g.ref:(g=function(ne){var ue=B.refs;ue===H9&&(ue=B.refs={}),ne===null?delete ue[N]:ue[N]=ne},g._stringRef=N,g)}if(typeof m!="string")throw Error(s(284));if(!S._owner)throw Error(s(290,m))}return m}function Kv(m,g){throw m=Object.prototype.toString.call(g),Error(s(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function J9(m){var g=m._init;return g(m._payload)}function Y9(m){function g(Me,me){if(m){var Ne=Me.deletions;Ne===null?(Me.deletions=[me],Me.flags|=16):Ne.push(me)}}function S(Me,me){if(!m)return null;for(;me!==null;)g(Me,me),me=me.sibling;return null}function M(Me,me){for(Me=new Map;me!==null;)me.key!==null?Me.set(me.key,me):Me.set(me.index,me),me=me.sibling;return Me}function B(Me,me){return Me=Xc(Me,me),Me.index=0,Me.sibling=null,Me}function N(Me,me,Ne){return Me.index=Ne,m?(Ne=Me.alternate,Ne!==null?(Ne=Ne.index,Ne<me?(Me.flags|=2,me):Ne):(Me.flags|=2,me)):(Me.flags|=1048576,me)}function ne(Me){return m&&Me.alternate===null&&(Me.flags|=2),Me}function ue(Me,me,Ne,yt){return me===null||me.tag!==6?(me=QS(Ne,Me.mode,yt),me.return=Me,me):(me=B(me,Ne),me.return=Me,me)}function ze(Me,me,Ne,yt){var Dt=Ne.type;return Dt===u?St(Me,me,Ne.props.children,yt,Ne.key):me!==null&&(me.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===w&&J9(Dt)===me.type)?(yt=B(me,Ne.props),yt.ref=D0(Me,me,Ne),yt.return=Me,yt):(yt=Ab(Ne.type,Ne.key,Ne.props,null,Me.mode,yt),yt.ref=D0(Me,me,Ne),yt.return=Me,yt)}function ot(Me,me,Ne,yt){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ne.containerInfo||me.stateNode.implementation!==Ne.implementation?(me=eA(Ne,Me.mode,yt),me.return=Me,me):(me=B(me,Ne.children||[]),me.return=Me,me)}function St(Me,me,Ne,yt,Dt){return me===null||me.tag!==7?(me=Cd(Ne,Me.mode,yt,Dt),me.return=Me,me):(me=B(me,Ne),me.return=Me,me)}function Gt(Me,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number")return me=QS(""+me,Me.mode,Ne),me.return=Me,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return Ne=Ab(me.type,me.key,me.props,null,Me.mode,Ne),Ne.ref=D0(Me,null,me),Ne.return=Me,Ne;case c:return me=eA(me,Me.mode,Ne),me.return=Me,me;case w:var yt=me._init;return Gt(Me,yt(me._payload),Ne)}if(X(me)||k(me))return me=Cd(me,Me.mode,Ne,null),me.return=Me,me;Kv(Me,me)}return null}function It(Me,me,Ne,yt){var Dt=me!==null?me.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Dt!==null?null:ue(Me,me,""+Ne,yt);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case l:return Ne.key===Dt?ze(Me,me,Ne,yt):null;case c:return Ne.key===Dt?ot(Me,me,Ne,yt):null;case w:return Dt=Ne._init,It(Me,me,Dt(Ne._payload),yt)}if(X(Ne)||k(Ne))return Dt!==null?null:St(Me,me,Ne,yt,null);Kv(Me,Ne)}return null}function qn(Me,me,Ne,yt,Dt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return Me=Me.get(Ne)||null,ue(me,Me,""+yt,Dt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case l:return Me=Me.get(yt.key===null?Ne:yt.key)||null,ze(me,Me,yt,Dt);case c:return Me=Me.get(yt.key===null?Ne:yt.key)||null,ot(me,Me,yt,Dt);case w:var on=yt._init;return qn(Me,me,Ne,on(yt._payload),Dt)}if(X(yt)||k(yt))return Me=Me.get(Ne)||null,St(me,Me,yt,Dt,null);Kv(me,yt)}return null}function Lt(Me,me,Ne,yt){for(var Dt=null,on=null,Vt=me,En=me=0,vi=null;Vt!==null&&En<Ne.length;En++){Vt.index>En?(vi=Vt,Vt=null):vi=Vt.sibling;var kn=It(Me,Vt,Ne[En],yt);if(kn===null){Vt===null&&(Vt=vi);break}m&&Vt&&kn.alternate===null&&g(Me,Vt),me=N(kn,me,En),on===null?Dt=kn:on.sibling=kn,on=kn,Vt=vi}if(En===Ne.length)return S(Me,Vt),fr&&vd(Me,En),Dt;if(Vt===null){for(;En<Ne.length;En++)Vt=Gt(Me,Ne[En],yt),Vt!==null&&(me=N(Vt,me,En),on===null?Dt=Vt:on.sibling=Vt,on=Vt);return fr&&vd(Me,En),Dt}for(Vt=M(Me,Vt);En<Ne.length;En++)vi=qn(Vt,Me,En,Ne[En],yt),vi!==null&&(m&&vi.alternate!==null&&Vt.delete(vi.key===null?En:vi.key),me=N(vi,me,En),on===null?Dt=vi:on.sibling=vi,on=vi);return m&&Vt.forEach(function(Jc){return g(Me,Jc)}),fr&&vd(Me,En),Dt}function Vi(Me,me,Ne,yt){var Dt=k(Ne);if(typeof Dt!="function")throw Error(s(150));if(Ne=Dt.call(Ne),Ne==null)throw Error(s(151));for(var on=Dt=null,Vt=me,En=me=0,vi=null,kn=Ne.next();Vt!==null&&!kn.done;En++,kn=Ne.next()){Vt.index>En?(vi=Vt,Vt=null):vi=Vt.sibling;var Jc=It(Me,Vt,kn.value,yt);if(Jc===null){Vt===null&&(Vt=vi);break}m&&Vt&&Jc.alternate===null&&g(Me,Vt),me=N(Jc,me,En),on===null?Dt=Jc:on.sibling=Jc,on=Jc,Vt=vi}if(kn.done)return S(Me,Vt),fr&&vd(Me,En),Dt;if(Vt===null){for(;!kn.done;En++,kn=Ne.next())kn=Gt(Me,kn.value,yt),kn!==null&&(me=N(kn,me,En),on===null?Dt=kn:on.sibling=kn,on=kn);return fr&&vd(Me,En),Dt}for(Vt=M(Me,Vt);!kn.done;En++,kn=Ne.next())kn=qn(Vt,Me,En,kn.value,yt),kn!==null&&(m&&kn.alternate!==null&&Vt.delete(kn.key===null?En:kn.key),me=N(kn,me,En),on===null?Dt=kn:on.sibling=kn,on=kn);return m&&Vt.forEach(function(hQ){return g(Me,hQ)}),fr&&vd(Me,En),Dt}function Is(Me,me,Ne,yt){if(typeof Ne=="object"&&Ne!==null&&Ne.type===u&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case l:e:{for(var Dt=Ne.key,on=me;on!==null;){if(on.key===Dt){if(Dt=Ne.type,Dt===u){if(on.tag===7){S(Me,on.sibling),me=B(on,Ne.props.children),me.return=Me,Me=me;break e}}else if(on.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===w&&J9(Dt)===on.type){S(Me,on.sibling),me=B(on,Ne.props),me.ref=D0(Me,on,Ne),me.return=Me,Me=me;break e}S(Me,on);break}else g(Me,on);on=on.sibling}Ne.type===u?(me=Cd(Ne.props.children,Me.mode,yt,Ne.key),me.return=Me,Me=me):(yt=Ab(Ne.type,Ne.key,Ne.props,null,Me.mode,yt),yt.ref=D0(Me,me,Ne),yt.return=Me,Me=yt)}return ne(Me);case c:e:{for(on=Ne.key;me!==null;){if(me.key===on)if(me.tag===4&&me.stateNode.containerInfo===Ne.containerInfo&&me.stateNode.implementation===Ne.implementation){S(Me,me.sibling),me=B(me,Ne.children||[]),me.return=Me,Me=me;break e}else{S(Me,me);break}else g(Me,me);me=me.sibling}me=eA(Ne,Me.mode,yt),me.return=Me,Me=me}return ne(Me);case w:return on=Ne._init,Is(Me,me,on(Ne._payload),yt)}if(X(Ne))return Lt(Me,me,Ne,yt);if(k(Ne))return Vi(Me,me,Ne,yt);Kv(Me,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"?(Ne=""+Ne,me!==null&&me.tag===6?(S(Me,me.sibling),me=B(me,Ne),me.return=Me,Me=me):(S(Me,me),me=QS(Ne,Me.mode,yt),me.return=Me,Me=me),ne(Me)):S(Me,me)}return Is}var Rf=Y9(!0),Z9=Y9(!1),L0={},Rs=cn(L0),R0=cn(L0),Bf=cn(L0);function Za(m){if(m===L0)throw Error(s(174));return m}function yS(m,g){Xt(Bf,g),Xt(R0,m),Xt(Rs,L0),m=K(g),ct(Rs),Xt(Rs,m)}function Pf(){ct(Rs),ct(R0),ct(Bf)}function Q9(m){var g=Za(Bf.current),S=Za(Rs.current);g=O(S,m.type,g),S!==g&&(Xt(R0,m),Xt(Rs,g))}function vS(m){R0.current===m&&(ct(Rs),ct(R0))}var wr=cn(0);function Wv(m){for(var g=m;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||xr(S)||Fn(S)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var bS=[];function xS(){for(var m=0;m<bS.length;m++){var g=bS[m];ke?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}bS.length=0}var Xv=a.ReactCurrentDispatcher,Bs=a.ReactCurrentBatchConfig,Nf=0,Tr=null,Hi=null,yi=null,Jv=!1,B0=!1,P0=0,OZ=0;function $i(){throw Error(s(321))}function _S(m,g){if(g===null)return!1;for(var S=0;S<g.length&&S<m.length;S++)if(!Xa(m[S],g[S]))return!1;return!0}function wS(m,g,S,M,B,N){if(Nf=N,Tr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Xv.current=m===null||m.memoizedState===null?jZ:HZ,m=S(M,B),B0){N=0;do{if(B0=!1,P0=0,25<=N)throw Error(s(301));N+=1,yi=Hi=null,g.updateQueue=null,Xv.current=$Z,m=S(M,B)}while(B0)}if(Xv.current=tb,g=Hi!==null&&Hi.next!==null,Nf=0,yi=Hi=Tr=null,Jv=!1,g)throw Error(s(300));return m}function SS(){var m=P0!==0;return P0=0,m}function Fl(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yi===null?Tr.memoizedState=yi=m:yi=yi.next=m,yi}function Qa(){if(Hi===null){var m=Tr.alternate;m=m!==null?m.memoizedState:null}else m=Hi.next;var g=yi===null?Tr.memoizedState:yi.next;if(g!==null)yi=g,Hi=m;else{if(m===null)throw Error(s(310));Hi=m,m={memoizedState:Hi.memoizedState,baseState:Hi.baseState,baseQueue:Hi.baseQueue,queue:Hi.queue,next:null},yi===null?Tr.memoizedState=yi=m:yi=yi.next=m}return yi}function bd(m,g){return typeof g=="function"?g(m):g}function Yv(m){var g=Qa(),S=g.queue;if(S===null)throw Error(s(311));S.lastRenderedReducer=m;var M=Hi,B=M.baseQueue,N=S.pending;if(N!==null){if(B!==null){var ne=B.next;B.next=N.next,N.next=ne}M.baseQueue=B=N,S.pending=null}if(B!==null){N=B.next,M=M.baseState;var ue=ne=null,ze=null,ot=N;do{var St=ot.lane;if((Nf&St)===St)ze!==null&&(ze=ze.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),M=ot.hasEagerState?ot.eagerState:m(M,ot.action);else{var Gt={lane:St,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};ze===null?(ue=ze=Gt,ne=M):ze=ze.next=Gt,Tr.lanes|=St,Of|=St}ot=ot.next}while(ot!==null&&ot!==N);ze===null?ne=M:ze.next=ue,Xa(M,g.memoizedState)||(ns=!0),g.memoizedState=M,g.baseState=ne,g.baseQueue=ze,S.lastRenderedState=M}if(m=S.interleaved,m!==null){B=m;do N=B.lane,Tr.lanes|=N,Of|=N,B=B.next;while(B!==m)}else B===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function Zv(m){var g=Qa(),S=g.queue;if(S===null)throw Error(s(311));S.lastRenderedReducer=m;var M=S.dispatch,B=S.pending,N=g.memoizedState;if(B!==null){S.pending=null;var ne=B=B.next;do N=m(N,ne.action),ne=ne.next;while(ne!==B);Xa(N,g.memoizedState)||(ns=!0),g.memoizedState=N,g.baseQueue===null&&(g.baseState=N),S.lastRenderedState=N}return[N,M]}function e7(){}function t7(m,g){var S=Tr,M=Qa(),B=g(),N=!Xa(M.memoizedState,B);if(N&&(M.memoizedState=B,ns=!0),M=M.queue,I0(i7.bind(null,S,M,m),[m]),M.getSnapshot!==g||N||yi!==null&&yi.memoizedState.tag&1){if(S.flags|=2048,N0(9,r7.bind(null,S,M,B,g),void 0,null),qr===null)throw Error(s(349));Nf&30||n7(S,g,B)}return B}function n7(m,g,S){m.flags|=16384,m={getSnapshot:g,value:S},g=Tr.updateQueue,g===null?(g={lastEffect:null,stores:null},Tr.updateQueue=g,g.stores=[m]):(S=g.stores,S===null?g.stores=[m]:S.push(m))}function r7(m,g,S,M){g.value=S,g.getSnapshot=M,o7(g)&&Ps(m,1,-1)}function i7(m,g,S){return S(function(){o7(g)&&Ps(m,1,-1)})}function o7(m){var g=m.getSnapshot;m=m.value;try{var S=g();return!Xa(m,S)}catch{return!0}}function AS(m){var g=Fl();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:m},g.queue=m,m=m.dispatch=UZ.bind(null,Tr,m),[g.memoizedState,m]}function N0(m,g,S,M){return m={tag:m,create:g,destroy:S,deps:M,next:null},g=Tr.updateQueue,g===null?(g={lastEffect:null,stores:null},Tr.updateQueue=g,g.lastEffect=m.next=m):(S=g.lastEffect,S===null?g.lastEffect=m.next=m:(M=S.next,S.next=m,m.next=M,g.lastEffect=m)),m}function s7(){return Qa().memoizedState}function Qv(m,g,S,M){var B=Fl();Tr.flags|=m,B.memoizedState=N0(1|g,S,void 0,M===void 0?null:M)}function eb(m,g,S,M){var B=Qa();M=M===void 0?null:M;var N=void 0;if(Hi!==null){var ne=Hi.memoizedState;if(N=ne.destroy,M!==null&&_S(M,ne.deps)){B.memoizedState=N0(g,S,N,M);return}}Tr.flags|=m,B.memoizedState=N0(1|g,S,N,M)}function CS(m,g){return Qv(8390656,8,m,g)}function I0(m,g){return eb(2048,8,m,g)}function a7(m,g){return eb(4,2,m,g)}function l7(m,g){return eb(4,4,m,g)}function c7(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function u7(m,g,S){return S=S!=null?S.concat([m]):null,eb(4,4,c7.bind(null,g,m),S)}function MS(){}function d7(m,g){var S=Qa();g=g===void 0?null:g;var M=S.memoizedState;return M!==null&&g!==null&&_S(g,M[1])?M[0]:(S.memoizedState=[m,g],m)}function h7(m,g){var S=Qa();g=g===void 0?null:g;var M=S.memoizedState;return M!==null&&g!==null&&_S(g,M[1])?M[0]:(m=m(),S.memoizedState=[m,g],m)}function FZ(m,g){var S=Mn;Mn=S!==0&&4>S?S:4,m(!0);var M=Bs.transition;Bs.transition={};try{m(!1),g()}finally{Mn=S,Bs.transition=M}}function f7(){return Qa().memoizedState}function zZ(m,g,S){var M=Kc(m);S={lane:M,action:S,hasEagerState:!1,eagerState:null,next:null},p7(m)?m7(g,S):(g7(m,g,S),S=fo(),m=Ps(m,M,S),m!==null&&y7(m,g,M))}function UZ(m,g,S){var M=Kc(m),B={lane:M,action:S,hasEagerState:!1,eagerState:null,next:null};if(p7(m))m7(g,B);else{g7(m,g,B);var N=m.alternate;if(m.lanes===0&&(N===null||N.lanes===0)&&(N=g.lastRenderedReducer,N!==null))try{var ne=g.lastRenderedState,ue=N(ne,S);if(B.hasEagerState=!0,B.eagerState=ue,Xa(ue,ne))return}catch{}finally{}S=fo(),m=Ps(m,M,S),m!==null&&y7(m,g,M)}}function p7(m){var g=m.alternate;return m===Tr||g!==null&&g===Tr}function m7(m,g){B0=Jv=!0;var S=m.pending;S===null?g.next=g:(g.next=S.next,S.next=g),m.pending=g}function g7(m,g,S){qr!==null&&m.mode&1&&!(sn&2)?(m=g.interleaved,m===null?(S.next=S,Ya===null?Ya=[g]:Ya.push(g)):(S.next=m.next,m.next=S),g.interleaved=S):(m=g.pending,m===null?S.next=S:(S.next=m.next,m.next=S),g.pending=S)}function y7(m,g,S){if(S&4194240){var M=g.lanes;M&=m.pendingLanes,S|=M,g.lanes=S,eS(m,S)}}var tb={readContext:Ts,useCallback:$i,useContext:$i,useEffect:$i,useImperativeHandle:$i,useInsertionEffect:$i,useLayoutEffect:$i,useMemo:$i,useReducer:$i,useRef:$i,useState:$i,useDebugValue:$i,useDeferredValue:$i,useTransition:$i,useMutableSource:$i,useSyncExternalStore:$i,useId:$i,unstable_isNewReconciler:!1},jZ={readContext:Ts,useCallback:function(m,g){return Fl().memoizedState=[m,g===void 0?null:g],m},useContext:Ts,useEffect:CS,useImperativeHandle:function(m,g,S){return S=S!=null?S.concat([m]):null,Qv(4194308,4,c7.bind(null,g,m),S)},useLayoutEffect:function(m,g){return Qv(4194308,4,m,g)},useInsertionEffect:function(m,g){return Qv(4,2,m,g)},useMemo:function(m,g){var S=Fl();return g=g===void 0?null:g,m=m(),S.memoizedState=[m,g],m},useReducer:function(m,g,S){var M=Fl();return g=S!==void 0?S(g):g,M.memoizedState=M.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},M.queue=m,m=m.dispatch=zZ.bind(null,Tr,m),[M.memoizedState,m]},useRef:function(m){var g=Fl();return m={current:m},g.memoizedState=m},useState:AS,useDebugValue:MS,useDeferredValue:function(m){var g=AS(m),S=g[0],M=g[1];return CS(function(){var B=Bs.transition;Bs.transition={};try{M(m)}finally{Bs.transition=B}},[m]),S},useTransition:function(){var m=AS(!1),g=m[0];return m=FZ.bind(null,m[1]),Fl().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,S){var M=Tr,B=Fl();if(fr){if(S===void 0)throw Error(s(407));S=S()}else{if(S=g(),qr===null)throw Error(s(349));Nf&30||n7(M,g,S)}B.memoizedState=S;var N={value:S,getSnapshot:g};return B.queue=N,CS(i7.bind(null,M,N,m),[m]),M.flags|=2048,N0(9,r7.bind(null,M,N,S,g),void 0,null),S},useId:function(){var m=Fl(),g=qr.identifierPrefix;if(fr){var S=Ol,M=Il;S=(M&~(1<<32-No(M)-1)).toString(32)+S,g=":"+g+"R"+S,S=P0++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=OZ++,g=":"+g+"r"+S.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},HZ={readContext:Ts,useCallback:d7,useContext:Ts,useEffect:I0,useImperativeHandle:u7,useInsertionEffect:a7,useLayoutEffect:l7,useMemo:h7,useReducer:Yv,useRef:s7,useState:function(){return Yv(bd)},useDebugValue:MS,useDeferredValue:function(m){var g=Yv(bd),S=g[0],M=g[1];return I0(function(){var B=Bs.transition;Bs.transition={};try{M(m)}finally{Bs.transition=B}},[m]),S},useTransition:function(){var m=Yv(bd)[0],g=Qa().memoizedState;return[m,g]},useMutableSource:e7,useSyncExternalStore:t7,useId:f7,unstable_isNewReconciler:!1},$Z={readContext:Ts,useCallback:d7,useContext:Ts,useEffect:I0,useImperativeHandle:u7,useInsertionEffect:a7,useLayoutEffect:l7,useMemo:h7,useReducer:Zv,useRef:s7,useState:function(){return Zv(bd)},useDebugValue:MS,useDeferredValue:function(m){var g=Zv(bd),S=g[0],M=g[1];return I0(function(){var B=Bs.transition;Bs.transition={};try{M(m)}finally{Bs.transition=B}},[m]),S},useTransition:function(){var m=Zv(bd)[0],g=Qa().memoizedState;return[m,g]},useMutableSource:e7,useSyncExternalStore:t7,useId:f7,unstable_isNewReconciler:!1};function ES(m,g){try{var S="",M=g;do S+=IZ(M),M=M.return;while(M);var B=S}catch(N){B=`
Error generating stack: `+N.message+`
`+N.stack}return{value:m,source:g,stack:B}}function kS(m,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var GZ=typeof WeakMap=="function"?WeakMap:Map;function v7(m,g,S){S=Nl(-1,S),S.tag=3,S.payload={element:null};var M=g.value;return S.callback=function(){yb||(yb=!0,qS=M),kS(m,g)},S}function b7(m,g,S){S=Nl(-1,S),S.tag=3;var M=m.type.getDerivedStateFromError;if(typeof M=="function"){var B=g.value;S.payload=function(){return M(B)},S.callback=function(){kS(m,g)}}var N=m.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(S.callback=function(){kS(m,g),typeof M!="function"&&(Vc===null?Vc=new Set([this]):Vc.add(this));var ne=g.stack;this.componentDidCatch(g.value,{componentStack:ne!==null?ne:""})}),S}function x7(m,g,S){var M=m.pingCache;if(M===null){M=m.pingCache=new GZ;var B=new Set;M.set(g,B)}else B=M.get(g),B===void 0&&(B=new Set,M.set(g,B));B.has(S)||(B.add(S),m=iQ.bind(null,m,g,S),g.then(m,m))}function _7(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function w7(m,g,S,M,B){return m.mode&1?(m.flags|=65536,m.lanes=B,m):(m===g?m.flags|=65536:(m.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=Nl(-1,1),g.tag=2,Gc(S,g))),S.lanes|=1),m)}function el(m){m.flags|=4}function S7(m,g){if(m!==null&&m.child===g.child)return!0;if(g.flags&16)return!1;for(m=g.child;m!==null;){if(m.flags&12854||m.subtreeFlags&12854)return!1;m=m.sibling}return!0}var O0,F0,nb,rb;if(ee)O0=function(m,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)ye(m,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},F0=function(){},nb=function(m,g,S,M,B){if(m=m.memoizedProps,m!==M){var N=g.stateNode,ne=Za(Rs.current);S=ae(N,S,m,M,B,ne),(g.updateQueue=S)&&el(g)}},rb=function(m,g,S,M){S!==M&&el(g)};else if(le){O0=function(m,g,S,M){for(var B=g.child;B!==null;){if(B.tag===5){var N=B.stateNode;S&&M&&(N=mt(N,B.type,B.memoizedProps,B)),ye(m,N)}else if(B.tag===6)N=B.stateNode,S&&M&&(N=Tt(N,B.memoizedProps,B)),ye(m,N);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)N=B.child,N!==null&&(N.return=B),O0(m,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===g)break;for(;B.sibling===null;){if(B.return===null||B.return===g)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};var A7=function(m,g,S,M){for(var B=g.child;B!==null;){if(B.tag===5){var N=B.stateNode;S&&M&&(N=mt(N,B.type,B.memoizedProps,B)),Y(m,N)}else if(B.tag===6)N=B.stateNode,S&&M&&(N=Tt(N,B.memoizedProps,B)),Y(m,N);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)N=B.child,N!==null&&(N.return=B),A7(m,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===g)break;for(;B.sibling===null;){if(B.return===null||B.return===g)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};F0=function(m,g){var S=g.stateNode;if(!S7(m,g)){m=S.containerInfo;var M=j(m);A7(M,g,!1,!1),S.pendingChildren=M,el(g),he(m,M)}},nb=function(m,g,S,M,B){var N=m.stateNode,ne=m.memoizedProps;if((m=S7(m,g))&&ne===M)g.stateNode=N;else{var ue=g.stateNode,ze=Za(Rs.current),ot=null;ne!==M&&(ot=ae(ue,S,ne,M,B,ze)),m&&ot===null?g.stateNode=N:(N=F(N,ot,S,ne,M,g,m,ue),G(N,S,M,B,ze)&&el(g),g.stateNode=N,m?el(g):O0(N,g,!1,!1))}},rb=function(m,g,S,M){S!==M?(m=Za(Bf.current),S=Za(Rs.current),g.stateNode=ve(M,m,S,g),el(g)):g.stateNode=m.stateNode}}else F0=function(){},nb=function(){},rb=function(){};function z0(m,g){if(!fr)switch(m.tailMode){case"hidden":g=m.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?m.tail=null:S.sibling=null;break;case"collapsed":S=m.tail;for(var M=null;S!==null;)S.alternate!==null&&(M=S),S=S.sibling;M===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:M.sibling=null}}function Gi(m){var g=m.alternate!==null&&m.alternate.child===m.child,S=0,M=0;if(g)for(var B=m.child;B!==null;)S|=B.lanes|B.childLanes,M|=B.subtreeFlags&14680064,M|=B.flags&14680064,B.return=m,B=B.sibling;else for(B=m.child;B!==null;)S|=B.lanes|B.childLanes,M|=B.subtreeFlags,M|=B.flags,B.return=m,B=B.sibling;return m.subtreeFlags|=M,m.childLanes=S,g}function VZ(m,g,S){var M=g.pendingProps;switch(fS(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(g),null;case 1:return Sn(g.type)&&Qo(),Gi(g),null;case 3:return M=g.stateNode,Pf(),ct(ti),ct(Yn),xS(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(m===null||m.child===null)&&(T0(g)?el(g):m===null||m.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,da!==null&&(XS(da),da=null))),F0(m,g),Gi(g),null;case 5:vS(g),S=Za(Bf.current);var B=g.type;if(m!==null&&g.stateNode!=null)nb(m,g,B,M,S),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!M){if(g.stateNode===null)throw Error(s(166));return Gi(g),null}if(m=Za(Rs.current),T0(g)){if(!xe)throw Error(s(175));m=jc(g.stateNode,g.type,g.memoizedProps,S,m,g,!k0),g.updateQueue=m,m!==null&&el(g)}else{var N=se(B,M,S,m,g);O0(N,g,!1,!1),g.stateNode=N,G(N,B,M,S,m)&&el(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Gi(g),null;case 6:if(m&&g.stateNode!=null)rb(m,g,m.memoizedProps,M);else{if(typeof M!="string"&&g.stateNode===null)throw Error(s(166));if(m=Za(Bf.current),S=Za(Rs.current),T0(g)){if(!xe)throw Error(s(176));if(m=g.stateNode,M=g.memoizedProps,(S=Cf(m,M,g,!k0))&&(B=es,B!==null))switch(N=(B.mode&1)!==0,B.tag){case 3:At(B.stateNode.containerInfo,m,M,N);break;case 5:Et(B.type,B.memoizedProps,B.stateNode,m,M,N)}S&&el(g)}else g.stateNode=ve(M,m,S,g)}return Gi(g),null;case 13:if(ct(wr),M=g.memoizedState,fr&&ts!==null&&g.mode&1&&!(g.flags&128)){for(m=ts;m;)m=_r(m);return Lf(),g.flags|=98560,g}if(M!==null&&M.dehydrated!==null){if(M=T0(g),m===null){if(!M)throw Error(s(318));if(!xe)throw Error(s(344));if(m=g.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));q(m,g)}else Lf(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return Gi(g),null}return da!==null&&(XS(da),da=null),g.flags&128?(g.lanes=S,g):(M=M!==null,S=!1,m===null?T0(g):S=m.memoizedState!==null,M&&!S&&(g.child.flags|=8192,g.mode&1&&(m===null||wr.current&1?ni===0&&(ni=3):YS())),g.updateQueue!==null&&(g.flags|=4),Gi(g),null);case 4:return Pf(),F0(m,g),m===null&&Be(g.stateNode.containerInfo),Gi(g),null;case 10:return aS(g.type._context),Gi(g),null;case 17:return Sn(g.type)&&Qo(),Gi(g),null;case 19:if(ct(wr),B=g.memoizedState,B===null)return Gi(g),null;if(M=(g.flags&128)!==0,N=B.rendering,N===null)if(M)z0(B,!1);else{if(ni!==0||m!==null&&m.flags&128)for(m=g.child;m!==null;){if(N=Wv(m),N!==null){for(g.flags|=128,z0(B,!1),m=N.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),g.subtreeFlags=0,m=S,M=g.child;M!==null;)S=M,B=m,S.flags&=14680066,N=S.alternate,N===null?(S.childLanes=0,S.lanes=B,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=N.childLanes,S.lanes=N.lanes,S.child=N.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=N.memoizedProps,S.memoizedState=N.memoizedState,S.updateQueue=N.updateQueue,S.type=N.type,B=N.dependencies,S.dependencies=B===null?null:{lanes:B.lanes,firstContext:B.firstContext}),M=M.sibling;return Xt(wr,wr.current&1|2),g.child}m=m.sibling}B.tail!==null&&gi()>VS&&(g.flags|=128,M=!0,z0(B,!1),g.lanes=4194304)}else{if(!M)if(m=Wv(N),m!==null){if(g.flags|=128,M=!0,m=m.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),z0(B,!0),B.tail===null&&B.tailMode==="hidden"&&!N.alternate&&!fr)return Gi(g),null}else 2*gi()-B.renderingStartTime>VS&&S!==1073741824&&(g.flags|=128,M=!0,z0(B,!1),g.lanes=4194304);B.isBackwards?(N.sibling=g.child,g.child=N):(m=B.last,m!==null?m.sibling=N:g.child=N,B.last=N)}return B.tail!==null?(g=B.tail,B.rendering=g,B.tail=g.sibling,B.renderingStartTime=gi(),g.sibling=null,m=wr.current,Xt(wr,M?m&1|2:m&1),g):(Gi(g),null);case 22:case 23:return JS(),M=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==M&&(g.flags|=8192),M&&g.mode&1?rs&1073741824&&(Gi(g),ee&&g.subtreeFlags&6&&(g.flags|=8192)):Gi(g),null;case 24:return null;case 25:return null}throw Error(s(156,g.tag))}var qZ=a.ReactCurrentOwner,ns=!1;function ho(m,g,S,M){g.child=m===null?Z9(g,null,S,M):Rf(g,m.child,S,M)}function C7(m,g,S,M,B){S=S.render;var N=g.ref;return kf(g,B),M=wS(m,g,S,M,N,B),S=SS(),m!==null&&!ns?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~B,zl(m,g,B)):(fr&&S&&hS(g),g.flags|=1,ho(m,g,M,B),g.child)}function M7(m,g,S,M,B){if(m===null){var N=S.type;return typeof N=="function"&&!ZS(N)&&N.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=N,E7(m,g,N,M,B)):(m=Ab(S.type,null,M,g,g.mode,B),m.ref=g.ref,m.return=g,g.child=m)}if(N=m.child,!(m.lanes&B)){var ne=N.memoizedProps;if(S=S.compare,S=S!==null?S:zv,S(ne,M)&&m.ref===g.ref)return zl(m,g,B)}return g.flags|=1,m=Xc(N,M),m.ref=g.ref,m.return=g,g.child=m}function E7(m,g,S,M,B){if(m!==null&&zv(m.memoizedProps,M)&&m.ref===g.ref)if(ns=!1,(m.lanes&B)!==0)m.flags&131072&&(ns=!0);else return g.lanes=m.lanes,zl(m,g,B);return TS(m,g,S,M,B)}function k7(m,g,S){var M=g.pendingProps,B=M.children,N=m!==null?m.memoizedState:null;if(M.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},Xt(If,rs),rs|=S;else if(S&1073741824)g.memoizedState={baseLanes:0,cachePool:null},M=N!==null?N.baseLanes:S,Xt(If,rs),rs|=M;else return m=N!==null?N.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null},g.updateQueue=null,Xt(If,rs),rs|=m,null;else N!==null?(M=N.baseLanes|S,g.memoizedState=null):M=S,Xt(If,rs),rs|=M;return ho(m,g,B,S),g.child}function T7(m,g){var S=g.ref;(m===null&&S!==null||m!==null&&m.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function TS(m,g,S,M,B){var N=Sn(S)?co:Yn.current;return N=Ka(g,N),kf(g,B),S=wS(m,g,S,M,N,B),M=SS(),m!==null&&!ns?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~B,zl(m,g,B)):(fr&&M&&hS(g),g.flags|=1,ho(m,g,S,B),g.child)}function D7(m,g,S,M,B){if(Sn(S)){var N=!0;Hc(g)}else N=!1;if(kf(g,B),g.stateNode===null)m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),G9(g,S,M),dS(g,S,M,B),M=!0;else if(m===null){var ne=g.stateNode,ue=g.memoizedProps;ne.props=ue;var ze=ne.context,ot=S.contextType;typeof ot=="object"&&ot!==null?ot=Ts(ot):(ot=Sn(S)?co:Yn.current,ot=Ka(g,ot));var St=S.getDerivedStateFromProps,Gt=typeof St=="function"||typeof ne.getSnapshotBeforeUpdate=="function";Gt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(ue!==M||ze!==ot)&&V9(g,ne,M,ot),$c=!1;var It=g.memoizedState;ne.state=It,$v(g,M,ne,B),ze=g.memoizedState,ue!==M||It!==ze||ti.current||$c?(typeof St=="function"&&(uS(g,S,St,M),ze=g.memoizedState),(ue=$c||$9(g,S,ue,M,It,ze,ot))?(Gt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=M,g.memoizedState=ze),ne.props=M,ne.state=ze,ne.context=ot,M=ue):(typeof ne.componentDidMount=="function"&&(g.flags|=4194308),M=!1)}else{ne=g.stateNode,z9(m,g),ue=g.memoizedProps,ot=g.type===g.elementType?ue:ua(g.type,ue),ne.props=ot,Gt=g.pendingProps,It=ne.context,ze=S.contextType,typeof ze=="object"&&ze!==null?ze=Ts(ze):(ze=Sn(S)?co:Yn.current,ze=Ka(g,ze));var qn=S.getDerivedStateFromProps;(St=typeof qn=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(ue!==Gt||It!==ze)&&V9(g,ne,M,ze),$c=!1,It=g.memoizedState,ne.state=It,$v(g,M,ne,B);var Lt=g.memoizedState;ue!==Gt||It!==Lt||ti.current||$c?(typeof qn=="function"&&(uS(g,S,qn,M),Lt=g.memoizedState),(ot=$c||$9(g,S,ot,M,It,Lt,ze)||!1)?(St||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(M,Lt,ze),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(M,Lt,ze)),typeof ne.componentDidUpdate=="function"&&(g.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ne.componentDidUpdate!="function"||ue===m.memoizedProps&&It===m.memoizedState||(g.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||ue===m.memoizedProps&&It===m.memoizedState||(g.flags|=1024),g.memoizedProps=M,g.memoizedState=Lt),ne.props=M,ne.state=Lt,ne.context=ze,M=ot):(typeof ne.componentDidUpdate!="function"||ue===m.memoizedProps&&It===m.memoizedState||(g.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||ue===m.memoizedProps&&It===m.memoizedState||(g.flags|=1024),M=!1)}return DS(m,g,S,M,N,B)}function DS(m,g,S,M,B,N){T7(m,g);var ne=(g.flags&128)!==0;if(!M&&!ne)return B&&Bv(g,S,!1),zl(m,g,N);M=g.stateNode,qZ.current=g;var ue=ne&&typeof S.getDerivedStateFromError!="function"?null:M.render();return g.flags|=1,m!==null&&ne?(g.child=Rf(g,m.child,null,N),g.child=Rf(g,null,ue,N)):ho(m,g,ue,N),g.memoizedState=M.state,B&&Bv(g,S,!0),g.child}function L7(m){var g=m.stateNode;g.pendingContext?Mf(m,g.pendingContext,g.pendingContext!==g.context):g.context&&Mf(m,g.context,!1),yS(m,g.containerInfo)}function R7(m,g,S,M,B){return Lf(),gS(B),g.flags|=256,ho(m,g,S,M),g.child}var ib={dehydrated:null,treeContext:null,retryLane:0};function ob(m){return{baseLanes:m,cachePool:null}}function B7(m,g,S){var M=g.pendingProps,B=wr.current,N=!1,ne=(g.flags&128)!==0,ue;if((ue=ne)||(ue=m!==null&&m.memoizedState===null?!1:(B&2)!==0),ue?(N=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(B|=1),Xt(wr,B&1),m===null)return mS(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?(g.mode&1?Fn(m)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(B=M.children,m=M.fallback,N?(M=g.mode,N=g.child,B={mode:"hidden",children:B},!(M&1)&&N!==null?(N.childLanes=0,N.pendingProps=B):N=Cb(B,M,0,null),m=Cd(m,M,S,null),N.return=g,m.return=g,N.sibling=m,g.child=N,g.child.memoizedState=ob(S),g.memoizedState=ib,m):LS(g,B));if(B=m.memoizedState,B!==null){if(ue=B.dehydrated,ue!==null){if(ne)return g.flags&256?(g.flags&=-257,sb(m,g,S,Error(s(422)))):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(N=M.fallback,B=g.mode,M=Cb({mode:"visible",children:M.children},B,0,null),N=Cd(N,B,S,null),N.flags|=2,M.return=g,N.return=g,M.sibling=N,g.child=M,g.mode&1&&Rf(g,m.child,null,S),g.child.memoizedState=ob(S),g.memoizedState=ib,N);if(!(g.mode&1))g=sb(m,g,S,null);else if(Fn(ue))g=sb(m,g,S,Error(s(419)));else if(M=(S&m.childLanes)!==0,ns||M){if(M=qr,M!==null){switch(S&-S){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}M=N&(M.suspendedLanes|S)?0:N,M!==0&&M!==B.retryLane&&(B.retryLane=M,Ps(m,M,-1))}YS(),g=sb(m,g,S,Error(s(421)))}else xr(ue)?(g.flags|=128,g.child=m.child,g=oQ.bind(null,m),mi(ue,g),g=null):(S=B.treeContext,xe&&(ts=qa(ue),es=g,fr=!0,da=null,k0=!1,S!==null&&(Ds[Ls++]=Il,Ds[Ls++]=Ol,Ds[Ls++]=yd,Il=S.id,Ol=S.overflow,yd=g)),g=LS(g,g.pendingProps.children),g.flags|=4096);return g}return N?(M=N7(m,g,M.children,M.fallback,S),N=g.child,B=m.child.memoizedState,N.memoizedState=B===null?ob(S):{baseLanes:B.baseLanes|S,cachePool:null},N.childLanes=m.childLanes&~S,g.memoizedState=ib,M):(S=P7(m,g,M.children,S),g.memoizedState=null,S)}return N?(M=N7(m,g,M.children,M.fallback,S),N=g.child,B=m.child.memoizedState,N.memoizedState=B===null?ob(S):{baseLanes:B.baseLanes|S,cachePool:null},N.childLanes=m.childLanes&~S,g.memoizedState=ib,M):(S=P7(m,g,M.children,S),g.memoizedState=null,S)}function LS(m,g){return g=Cb({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function P7(m,g,S,M){var B=m.child;return m=B.sibling,S=Xc(B,{mode:"visible",children:S}),!(g.mode&1)&&(S.lanes=M),S.return=g,S.sibling=null,m!==null&&(M=g.deletions,M===null?(g.deletions=[m],g.flags|=16):M.push(m)),g.child=S}function N7(m,g,S,M,B){var N=g.mode;m=m.child;var ne=m.sibling,ue={mode:"hidden",children:S};return!(N&1)&&g.child!==m?(S=g.child,S.childLanes=0,S.pendingProps=ue,g.deletions=null):(S=Xc(m,ue),S.subtreeFlags=m.subtreeFlags&14680064),ne!==null?M=Xc(ne,M):(M=Cd(M,N,B,null),M.flags|=2),M.return=g,S.return=g,S.sibling=M,g.child=S,M}function sb(m,g,S,M){return M!==null&&gS(M),Rf(g,m.child,null,S),m=LS(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function I7(m,g,S){m.lanes|=g;var M=m.alternate;M!==null&&(M.lanes|=g),lS(m.return,g,S)}function RS(m,g,S,M,B){var N=m.memoizedState;N===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:M,tail:S,tailMode:B}:(N.isBackwards=g,N.rendering=null,N.renderingStartTime=0,N.last=M,N.tail=S,N.tailMode=B)}function O7(m,g,S){var M=g.pendingProps,B=M.revealOrder,N=M.tail;if(ho(m,g,M.children,S),M=wr.current,M&2)M=M&1|2,g.flags|=128;else{if(m!==null&&m.flags&128)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&I7(m,S,g);else if(m.tag===19)I7(m,S,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}M&=1}if(Xt(wr,M),!(g.mode&1))g.memoizedState=null;else switch(B){case"forwards":for(S=g.child,B=null;S!==null;)m=S.alternate,m!==null&&Wv(m)===null&&(B=S),S=S.sibling;S=B,S===null?(B=g.child,g.child=null):(B=S.sibling,S.sibling=null),RS(g,!1,B,S,N);break;case"backwards":for(S=null,B=g.child,g.child=null;B!==null;){if(m=B.alternate,m!==null&&Wv(m)===null){g.child=B;break}m=B.sibling,B.sibling=S,S=B,B=m}RS(g,!0,S,null,N);break;case"together":RS(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function zl(m,g,S){if(m!==null&&(g.dependencies=m.dependencies),Of|=g.lanes,!(S&g.childLanes))return null;if(m!==null&&g.child!==m.child)throw Error(s(153));if(g.child!==null){for(m=g.child,S=Xc(m,m.pendingProps),g.child=S,S.return=g;m.sibling!==null;)m=m.sibling,S=S.sibling=Xc(m,m.pendingProps),S.return=g;S.sibling=null}return g.child}function KZ(m,g,S){switch(g.tag){case 3:L7(g),Lf();break;case 5:Q9(g);break;case 1:Sn(g.type)&&Hc(g);break;case 4:yS(g,g.stateNode.containerInfo);break;case 10:F9(g,g.type._context,g.memoizedProps.value);break;case 13:var M=g.memoizedState;if(M!==null)return M.dehydrated!==null?(Xt(wr,wr.current&1),g.flags|=128,null):S&g.child.childLanes?B7(m,g,S):(Xt(wr,wr.current&1),m=zl(m,g,S),m!==null?m.sibling:null);Xt(wr,wr.current&1);break;case 19:if(M=(S&g.childLanes)!==0,m.flags&128){if(M)return O7(m,g,S);g.flags|=128}var B=g.memoizedState;if(B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Xt(wr,wr.current),M)break;return null;case 22:case 23:return g.lanes=0,k7(m,g,S)}return zl(m,g,S)}function WZ(m,g){switch(fS(g),g.tag){case 1:return Sn(g.type)&&Qo(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Pf(),ct(ti),ct(Yn),xS(),m=g.flags,m&65536&&!(m&128)?(g.flags=m&-65537|128,g):null;case 5:return vS(g),null;case 13:if(ct(wr),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(s(340));Lf()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return ct(wr),null;case 4:return Pf(),null;case 10:return aS(g.type._context),null;case 22:case 23:return JS(),null;case 24:return null;default:return null}}var ab=!1,xd=!1,XZ=typeof WeakSet=="function"?WeakSet:Set,ft=null;function lb(m,g){var S=m.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(M){Fo(m,g,M)}else S.current=null}function BS(m,g,S){try{S()}catch(M){Fo(m,g,M)}}var F7=!1;function JZ(m,g){for(V(m.containerInfo),ft=g;ft!==null;)if(m=ft,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,ft=g;else for(;ft!==null;){m=ft;try{var S=m.alternate;if(m.flags&1024)switch(m.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var M=S.memoizedProps,B=S.memoizedState,N=m.stateNode,ne=N.getSnapshotBeforeUpdate(m.elementType===m.type?M:ua(m.type,M),B);N.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:ee&&qe(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ue){Fo(m,m.return,ue)}if(g=m.sibling,g!==null){g.return=m.return,ft=g;break}ft=m.return}return S=F7,F7=!1,S}function _d(m,g,S){var M=g.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var B=M=M.next;do{if((B.tag&m)===m){var N=B.destroy;B.destroy=void 0,N!==void 0&&BS(g,S,N)}B=B.next}while(B!==M)}}function U0(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&m)===m){var M=S.create;S.destroy=M()}S=S.next}while(S!==g)}}function PS(m){var g=m.ref;if(g!==null){var S=m.stateNode;switch(m.tag){case 5:m=Z(S);break;default:m=S}typeof g=="function"?g(m):g.current=m}}function z7(m,g,S){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(Ov,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(m=g.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var M=m=m.next;do{var B=M,N=B.destroy;B=B.tag,N!==void 0&&(B&2||B&4)&&BS(g,S,N),M=M.next}while(M!==m)}break;case 1:if(lb(g,S),m=g.stateNode,typeof m.componentWillUnmount=="function")try{m.props=g.memoizedProps,m.state=g.memoizedState,m.componentWillUnmount()}catch(ne){Fo(g,S,ne)}break;case 5:lb(g,S);break;case 4:ee?V7(m,g,S):le&&le&&(g=g.stateNode.containerInfo,S=j(g),je(g,S))}}function U7(m,g,S){for(var M=g;;)if(z7(m,M,S),M.child===null||ee&&M.tag===4){if(M===g)break;for(;M.sibling===null;){if(M.return===null||M.return===g)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function j7(m){var g=m.alternate;g!==null&&(m.alternate=null,j7(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&Ze(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function H7(m){return m.tag===5||m.tag===3||m.tag===4}function $7(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||H7(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function G7(m){if(ee){e:{for(var g=m.return;g!==null;){if(H7(g))break e;g=g.return}throw Error(s(160))}var S=g;switch(S.tag){case 5:g=S.stateNode,S.flags&32&&(We(g),S.flags&=-33),S=$7(m),IS(m,S,g);break;case 3:case 4:g=S.stateNode.containerInfo,S=$7(m),NS(m,S,g);break;default:throw Error(s(161))}}}function NS(m,g,S){var M=m.tag;if(M===5||M===6)m=m.stateNode,g?rt(S,m,g):Qe(S,m);else if(M!==4&&(m=m.child,m!==null))for(NS(m,g,S),m=m.sibling;m!==null;)NS(m,g,S),m=m.sibling}function IS(m,g,S){var M=m.tag;if(M===5||M===6)m=m.stateNode,g?vt(S,m,g):De(S,m);else if(M!==4&&(m=m.child,m!==null))for(IS(m,g,S),m=m.sibling;m!==null;)IS(m,g,S),m=m.sibling}function V7(m,g,S){for(var M=g,B=!1,N,ne;;){if(!B){B=M.return;e:for(;;){if(B===null)throw Error(s(160));switch(N=B.stateNode,B.tag){case 5:ne=!1;break e;case 3:N=N.containerInfo,ne=!0;break e;case 4:N=N.containerInfo,ne=!0;break e}B=B.return}B=!0}if(M.tag===5||M.tag===6)U7(m,M,S),ne?ge(N,M.stateNode):te(N,M.stateNode);else if(M.tag===18)ne?st(N,M.stateNode):be(N,M.stateNode);else if(M.tag===4){if(M.child!==null){N=M.stateNode.containerInfo,ne=!0,M.child.return=M,M=M.child;continue}}else if(z7(m,M,S),M.child!==null){M.child.return=M,M=M.child;continue}if(M===g)break;for(;M.sibling===null;){if(M.return===null||M.return===g)return;M=M.return,M.tag===4&&(B=!1)}M.sibling.return=M.return,M=M.sibling}}function OS(m,g){if(ee){switch(g.tag){case 0:case 11:case 14:case 15:_d(3,g,g.return),U0(3,g),_d(5,g,g.return);return;case 1:return;case 5:var S=g.stateNode;if(S!=null){var M=g.memoizedProps;m=m!==null?m.memoizedProps:M;var B=g.type,N=g.updateQueue;g.updateQueue=null,N!==null&&kt(S,N,B,m,M,g)}return;case 6:if(g.stateNode===null)throw Error(s(162));S=g.memoizedProps,Ie(g.stateNode,m!==null?m.memoizedProps:S,S);return;case 3:xe&&m!==null&&m.memoizedState.isDehydrated&&Ee(g.stateNode.containerInfo);return;case 12:return;case 13:cb(g);return;case 19:cb(g);return;case 17:return}throw Error(s(163))}switch(g.tag){case 0:case 11:case 14:case 15:_d(3,g,g.return),U0(3,g),_d(5,g,g.return);return;case 12:return;case 13:cb(g);return;case 19:cb(g);return;case 3:xe&&m!==null&&m.memoizedState.isDehydrated&&Ee(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(le){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,je(g.containerInfo,g.pendingChildren);break e}throw Error(s(163))}}function cb(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var S=m.stateNode;S===null&&(S=m.stateNode=new XZ),g.forEach(function(M){var B=sQ.bind(null,m,M);S.has(M)||(S.add(M),M.then(B,B))})}}function YZ(m,g){for(ft=g;ft!==null;){g=ft;var S=g.deletions;if(S!==null)for(var M=0;M<S.length;M++){var B=S[M];try{var N=m;ee?V7(N,B,g):U7(N,B,g);var ne=B.alternate;ne!==null&&(ne.return=null),B.return=null}catch(Dt){Fo(B,g,Dt)}}if(S=g.child,g.subtreeFlags&12854&&S!==null)S.return=g,ft=S;else for(;ft!==null;){g=ft;try{var ue=g.flags;if(ue&32&&ee&&We(g.stateNode),ue&512){var ze=g.alternate;if(ze!==null){var ot=ze.ref;ot!==null&&(typeof ot=="function"?ot(null):ot.current=null)}}if(ue&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var St=g.alternate;(St===null||St.memoizedState===null)&&(GS=gi())}break;case 22:var Gt=g.memoizedState!==null,It=g.alternate,qn=It!==null&&It.memoizedState!==null;if(S=g,ee){e:if(M=S,B=Gt,N=null,ee)for(var Lt=M;;){if(Lt.tag===5){if(N===null){N=Lt;var Vi=Lt.stateNode;B?J(Vi):Se(Lt.stateNode,Lt.memoizedProps)}}else if(Lt.tag===6){if(N===null){var Is=Lt.stateNode;B?He(Is):Ce(Is,Lt.memoizedProps)}}else if((Lt.tag!==22&&Lt.tag!==23||Lt.memoizedState===null||Lt===M)&&Lt.child!==null){Lt.child.return=Lt,Lt=Lt.child;continue}if(Lt===M)break;for(;Lt.sibling===null;){if(Lt.return===null||Lt.return===M)break e;N===Lt&&(N=null),Lt=Lt.return}N===Lt&&(N=null),Lt.sibling.return=Lt.return,Lt=Lt.sibling}}if(Gt&&!qn&&S.mode&1){ft=S;for(var Me=S.child;Me!==null;){for(S=ft=Me;ft!==null;){M=ft;var me=M.child;switch(M.tag){case 0:case 11:case 14:case 15:_d(4,M,M.return);break;case 1:lb(M,M.return);var Ne=M.stateNode;if(typeof Ne.componentWillUnmount=="function"){var yt=M.return;try{Ne.props=M.memoizedProps,Ne.state=M.memoizedState,Ne.componentWillUnmount()}catch(Dt){Fo(M,yt,Dt)}}break;case 5:lb(M,M.return);break;case 22:if(M.memoizedState!==null){W7(S);continue}}me!==null?(me.return=M,ft=me):W7(S)}Me=Me.sibling}}}switch(ue&4102){case 2:G7(g),g.flags&=-3;break;case 6:G7(g),g.flags&=-3,OS(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,OS(g.alternate,g);break;case 4:OS(g.alternate,g)}}catch(Dt){Fo(g,g.return,Dt)}if(S=g.sibling,S!==null){S.return=g.return,ft=S;break}ft=g.return}}}function ZZ(m,g,S){ft=m,q7(m)}function q7(m,g,S){for(var M=(m.mode&1)!==0;ft!==null;){var B=ft,N=B.child;if(B.tag===22&&M){var ne=B.memoizedState!==null||ab;if(!ne){var ue=B.alternate,ze=ue!==null&&ue.memoizedState!==null||xd;ue=ab;var ot=xd;if(ab=ne,(xd=ze)&&!ot)for(ft=B;ft!==null;)ne=ft,ze=ne.child,ne.tag===22&&ne.memoizedState!==null?X7(B):ze!==null?(ze.return=ne,ft=ze):X7(B);for(;N!==null;)ft=N,q7(N),N=N.sibling;ft=B,ab=ue,xd=ot}K7(m)}else B.subtreeFlags&8772&&N!==null?(N.return=B,ft=N):K7(m)}}function K7(m){for(;ft!==null;){var g=ft;if(g.flags&8772){var S=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:xd||U0(5,g);break;case 1:var M=g.stateNode;if(g.flags&4&&!xd)if(S===null)M.componentDidMount();else{var B=g.elementType===g.type?S.memoizedProps:ua(g.type,S.memoizedProps);M.componentDidUpdate(B,S.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var N=g.updateQueue;N!==null&&j9(g,N,M);break;case 3:var ne=g.updateQueue;if(ne!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=Z(g.child.stateNode);break;case 1:S=g.child.stateNode}j9(g,ne,S)}break;case 5:var ue=g.stateNode;S===null&&g.flags&4&&et(ue,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(xe&&g.memoizedState===null){var ze=g.alternate;if(ze!==null){var ot=ze.memoizedState;if(ot!==null){var St=ot.dehydrated;St!==null&&Le(St)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}xd||g.flags&512&&PS(g)}catch(Gt){Fo(g,g.return,Gt)}}if(g===m){ft=null;break}if(S=g.sibling,S!==null){S.return=g.return,ft=S;break}ft=g.return}}function W7(m){for(;ft!==null;){var g=ft;if(g===m){ft=null;break}var S=g.sibling;if(S!==null){S.return=g.return,ft=S;break}ft=g.return}}function X7(m){for(;ft!==null;){var g=ft;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{U0(4,g)}catch(ze){Fo(g,S,ze)}break;case 1:var M=g.stateNode;if(typeof M.componentDidMount=="function"){var B=g.return;try{M.componentDidMount()}catch(ze){Fo(g,B,ze)}}var N=g.return;try{PS(g)}catch(ze){Fo(g,N,ze)}break;case 5:var ne=g.return;try{PS(g)}catch(ze){Fo(g,ne,ze)}}}catch(ze){Fo(g,g.return,ze)}if(g===m){ft=null;break}var ue=g.sibling;if(ue!==null){ue.return=g.return,ft=ue;break}ft=g.return}}var ub=0,db=1,hb=2,fb=3,pb=4;if(typeof Symbol=="function"&&Symbol.for){var j0=Symbol.for;ub=j0("selector.component"),db=j0("selector.has_pseudo_class"),hb=j0("selector.role"),fb=j0("selector.test_id"),pb=j0("selector.text")}function FS(m){var g=Fe(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(s(364));return g}if(m=U(m),m===null)throw Error(s(362));return m.stateNode.current}function zS(m,g){switch(g.$$typeof){case ub:if(m.type===g.value)return!0;break;case db:e:{g=g.value,m=[m,0];for(var S=0;S<m.length;){var M=m[S++],B=m[S++],N=g[B];if(M.tag!==5||!Oe(M)){for(;N!=null&&zS(M,N);)B++,N=g[B];if(B===g.length){g=!0;break e}else for(M=M.child;M!==null;)m.push(M,B),M=M.sibling}}g=!1}return g;case hb:if(m.tag===5&&Ge(m.stateNode,g.value))return!0;break;case pb:if((m.tag===5||m.tag===6)&&(m=Te(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case fb:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function US(m){switch(m.$$typeof){case ub:return"<"+(R(m.value)||"Unknown")+">";case db:return":has("+(US(m)||"")+")";case hb:return'[role="'+m.value+'"]';case pb:return'"'+m.value+'"';case fb:return'[data-testname="'+m.value+'"]';default:throw Error(s(365))}}function J7(m,g){var S=[];m=[m,0];for(var M=0;M<m.length;){var B=m[M++],N=m[M++],ne=g[N];if(B.tag!==5||!Oe(B)){for(;ne!=null&&zS(B,ne);)N++,ne=g[N];if(N===g.length)S.push(B);else for(B=B.child;B!==null;)m.push(B,N),B=B.sibling}}return S}function jS(m,g){if(!Q)throw Error(s(363));m=FS(m),m=J7(m,g),g=[],m=Array.from(m);for(var S=0;S<m.length;){var M=m[S++];if(M.tag===5)Oe(M)||g.push(M.stateNode);else for(M=M.child;M!==null;)m.push(M),M=M.sibling}return g}var QZ=Math.ceil,mb=a.ReactCurrentDispatcher,HS=a.ReactCurrentOwner,Or=a.ReactCurrentBatchConfig,sn=0,qr=null,Kr=null,Ti=0,rs=0,If=cn(0),ni=0,H0=null,Of=0,gb=0,$S=0,$0=null,Io=null,GS=0,VS=1/0;function Ff(){VS=gi()+500}var yb=!1,qS=null,Vc=null,vb=!1,qc=null,bb=0,G0=0,KS=null,xb=-1,_b=0;function fo(){return sn&6?gi():xb!==-1?xb:xb=gi()}function Kc(m){return m.mode&1?sn&2&&Ti!==0?Ti&-Ti:NZ.transition!==null?(_b===0&&(m=Pv,Pv<<=1,!(Pv&4194240)&&(Pv=64),_b=m),_b):(m=Mn,m!==0?m:Re()):1}function Ps(m,g,S){if(50<G0)throw G0=0,KS=null,Error(s(185));var M=wb(m,g);return M===null?null:(E0(M,g,S),(!(sn&2)||M!==qr)&&(M===qr&&(!(sn&2)&&(gb|=g),ni===4&&Wc(M,Ti)),Oo(M,S),g===1&&sn===0&&!(m.mode&1)&&(Ff(),Fv&&Ja())),M)}function wb(m,g){m.lanes|=g;var S=m.alternate;for(S!==null&&(S.lanes|=g),S=m,m=m.return;m!==null;)m.childLanes|=g,S=m.alternate,S!==null&&(S.childLanes|=g),S=m,m=m.return;return S.tag===3?S.stateNode:null}function Oo(m,g){var S=m.callbackNode;MZ(m,g);var M=Iv(m,m===qr?Ti:0);if(M===0)S!==null&&I9(S),m.callbackNode=null,m.callbackPriority=0;else if(g=M&-M,m.callbackPriority!==g){if(S!=null&&I9(S),g===1)m.tag===0?PZ(Z7.bind(null,m)):O9(Z7.bind(null,m)),Je?_t(function(){sn===0&&Ja()}):tS(nS,Ja),S=null;else{switch(N9(M)){case 1:S=nS;break;case 4:S=DZ;break;case 16:S=rS;break;case 536870912:S=LZ;break;default:S=rS}S=aD(S,Y7.bind(null,m))}m.callbackPriority=g,m.callbackNode=S}}function Y7(m,g){if(xb=-1,_b=0,sn&6)throw Error(s(327));var S=m.callbackNode;if(Ad()&&m.callbackNode!==S)return null;var M=Iv(m,m===qr?Ti:0);if(M===0)return null;if(M&30||M&m.expiredLanes||g)g=Sb(m,M);else{g=M;var B=sn;sn|=2;var N=tD();(qr!==m||Ti!==g)&&(Ff(),wd(m,g));do try{nQ();break}catch(ue){eD(m,ue)}while(!0);sS(),mb.current=N,sn=B,Kr!==null?g=0:(qr=null,Ti=0,g=ni)}if(g!==0){if(g===2&&(B=Z4(m),B!==0&&(M=B,g=WS(m,B))),g===1)throw S=H0,wd(m,0),Wc(m,M),Oo(m,gi()),S;if(g===6)Wc(m,M);else{if(B=m.current.alternate,!(M&30)&&!eQ(B)&&(g=Sb(m,M),g===2&&(N=Z4(m),N!==0&&(M=N,g=WS(m,N))),g===1))throw S=H0,wd(m,0),Wc(m,M),Oo(m,gi()),S;switch(m.finishedWork=B,m.finishedLanes=M,g){case 0:case 1:throw Error(s(345));case 2:Sd(m,Io);break;case 3:if(Wc(m,M),(M&130023424)===M&&(g=GS+500-gi(),10<g)){if(Iv(m,0)!==0)break;if(B=m.suspendedLanes,(B&M)!==M){fo(),m.pingedLanes|=m.suspendedLanes&B;break}m.timeoutHandle=Ae(Sd.bind(null,m,Io),g);break}Sd(m,Io);break;case 4:if(Wc(m,M),(M&4194240)===M)break;for(g=m.eventTimes,B=-1;0<M;){var ne=31-No(M);N=1<<ne,ne=g[ne],ne>B&&(B=ne),M&=~N}if(M=B,M=gi()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*QZ(M/1960))-M,10<M){m.timeoutHandle=Ae(Sd.bind(null,m,Io),M);break}Sd(m,Io);break;case 5:Sd(m,Io);break;default:throw Error(s(329))}}}return Oo(m,gi()),m.callbackNode===S?Y7.bind(null,m):null}function WS(m,g){var S=$0;return m.current.memoizedState.isDehydrated&&(wd(m,g).flags|=256),m=Sb(m,g),m!==2&&(g=Io,Io=S,g!==null&&XS(g)),m}function XS(m){Io===null?Io=m:Io.push.apply(Io,m)}function eQ(m){for(var g=m;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var M=0;M<S.length;M++){var B=S[M],N=B.getSnapshot;B=B.value;try{if(!Xa(N(),B))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Wc(m,g){for(g&=~$S,g&=~gb,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var S=31-No(g),M=1<<S;m[S]=-1,g&=~M}}function Z7(m){if(sn&6)throw Error(s(327));Ad();var g=Iv(m,0);if(!(g&1))return Oo(m,gi()),null;var S=Sb(m,g);if(m.tag!==0&&S===2){var M=Z4(m);M!==0&&(g=M,S=WS(m,M))}if(S===1)throw S=H0,wd(m,0),Wc(m,g),Oo(m,gi()),S;if(S===6)throw Error(s(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,Sd(m,Io),Oo(m,gi()),null}function Q7(m){qc!==null&&qc.tag===0&&!(sn&6)&&Ad();var g=sn;sn|=1;var S=Or.transition,M=Mn;try{if(Or.transition=null,Mn=1,m)return m()}finally{Mn=M,Or.transition=S,sn=g,!(sn&6)&&Ja()}}function JS(){rs=If.current,ct(If)}function wd(m,g){m.finishedWork=null,m.finishedLanes=0;var S=m.timeoutHandle;if(S!==pt&&(m.timeoutHandle=pt,Ve(S)),Kr!==null)for(S=Kr.return;S!==null;){var M=S;switch(fS(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Qo();break;case 3:Pf(),ct(ti),ct(Yn),xS();break;case 5:vS(M);break;case 4:Pf();break;case 13:ct(wr);break;case 19:ct(wr);break;case 10:aS(M.type._context);break;case 22:case 23:JS()}S=S.return}if(qr=m,Kr=m=Xc(m.current,null),Ti=rs=g,ni=0,H0=null,$S=gb=Of=0,Io=$0=null,Ya!==null){for(g=0;g<Ya.length;g++)if(S=Ya[g],M=S.interleaved,M!==null){S.interleaved=null;var B=M.next,N=S.pending;if(N!==null){var ne=N.next;N.next=B,M.next=ne}S.pending=M}Ya=null}return m}function eD(m,g){do{var S=Kr;try{if(sS(),Xv.current=tb,Jv){for(var M=Tr.memoizedState;M!==null;){var B=M.queue;B!==null&&(B.pending=null),M=M.next}Jv=!1}if(Nf=0,yi=Hi=Tr=null,B0=!1,P0=0,HS.current=null,S===null||S.return===null){ni=1,H0=g,Kr=null;break}e:{var N=m,ne=S.return,ue=S,ze=g;if(g=Ti,ue.flags|=32768,ze!==null&&typeof ze=="object"&&typeof ze.then=="function"){var ot=ze,St=ue,Gt=St.tag;if(!(St.mode&1)&&(Gt===0||Gt===11||Gt===15)){var It=St.alternate;It?(St.updateQueue=It.updateQueue,St.memoizedState=It.memoizedState,St.lanes=It.lanes):(St.updateQueue=null,St.memoizedState=null)}var qn=_7(ne);if(qn!==null){qn.flags&=-257,w7(qn,ne,ue,N,g),qn.mode&1&&x7(N,ot,g),g=qn,ze=ot;var Lt=g.updateQueue;if(Lt===null){var Vi=new Set;Vi.add(ze),g.updateQueue=Vi}else Lt.add(ze);break e}else{if(!(g&1)){x7(N,ot,g),YS();break e}ze=Error(s(426))}}else if(fr&&ue.mode&1){var Is=_7(ne);if(Is!==null){!(Is.flags&65536)&&(Is.flags|=256),w7(Is,ne,ue,N,g),gS(ze);break e}}N=ze,ni!==4&&(ni=2),$0===null?$0=[N]:$0.push(N),ze=ES(ze,ue),ue=ne;do{switch(ue.tag){case 3:ue.flags|=65536,g&=-g,ue.lanes|=g;var Me=v7(ue,ze,g);U9(ue,Me);break e;case 1:N=ze;var me=ue.type,Ne=ue.stateNode;if(!(ue.flags&128)&&(typeof me.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(Vc===null||!Vc.has(Ne)))){ue.flags|=65536,g&=-g,ue.lanes|=g;var yt=b7(ue,N,g);U9(ue,yt);break e}}ue=ue.return}while(ue!==null)}rD(S)}catch(Dt){g=Dt,Kr===S&&S!==null&&(Kr=S=S.return);continue}break}while(!0)}function tD(){var m=mb.current;return mb.current=tb,m===null?tb:m}function YS(){(ni===0||ni===3||ni===2)&&(ni=4),qr===null||!(Of&268435455)&&!(gb&268435455)||Wc(qr,Ti)}function Sb(m,g){var S=sn;sn|=2;var M=tD();qr===m&&Ti===g||wd(m,g);do try{tQ();break}catch(B){eD(m,B)}while(!0);if(sS(),sn=S,mb.current=M,Kr!==null)throw Error(s(261));return qr=null,Ti=0,ni}function tQ(){for(;Kr!==null;)nD(Kr)}function nQ(){for(;Kr!==null&&!kZ();)nD(Kr)}function nD(m){var g=sD(m.alternate,m,rs);m.memoizedProps=m.pendingProps,g===null?rD(m):Kr=g,HS.current=null}function rD(m){var g=m;do{var S=g.alternate;if(m=g.return,g.flags&32768){if(S=WZ(S,g),S!==null){S.flags&=32767,Kr=S;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{ni=6,Kr=null;return}}else if(S=VZ(S,g,rs),S!==null){Kr=S;return}if(g=g.sibling,g!==null){Kr=g;return}Kr=g=m}while(g!==null);ni===0&&(ni=5)}function Sd(m,g){var S=Mn,M=Or.transition;try{Or.transition=null,Mn=1,rQ(m,g,S)}finally{Or.transition=M,Mn=S}return null}function rQ(m,g,S){do Ad();while(qc!==null);if(sn&6)throw Error(s(327));var M=m.finishedWork,B=m.finishedLanes;if(M===null)return null;if(m.finishedWork=null,m.finishedLanes=0,M===m.current)throw Error(s(177));m.callbackNode=null,m.callbackPriority=0;var N=M.lanes|M.childLanes;if(EZ(m,N),m===qr&&(Kr=qr=null,Ti=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||vb||(vb=!0,aD(rS,function(){return Ad(),null})),N=(M.flags&15990)!==0,M.subtreeFlags&15990||N){N=Or.transition,Or.transition=null;var ne=Mn;Mn=1;var ue=sn;sn|=4,HS.current=null,JZ(m,M),YZ(m,M),I(m.containerInfo),m.current=M,ZZ(M),TZ(),sn=ue,Mn=ne,Or.transition=N}else m.current=M;if(vb&&(vb=!1,qc=m,bb=B),N=m.pendingLanes,N===0&&(Vc=null),RZ(M.stateNode),Oo(m,gi()),g!==null)for(S=m.onRecoverableError,M=0;M<g.length;M++)S(g[M]);if(yb)throw yb=!1,m=qS,qS=null,m;return bb&1&&m.tag!==0&&Ad(),N=m.pendingLanes,N&1?m===KS?G0++:(G0=0,KS=m):G0=0,Ja(),null}function Ad(){if(qc!==null){var m=N9(bb),g=Or.transition,S=Mn;try{if(Or.transition=null,Mn=16>m?16:m,qc===null)var M=!1;else{if(m=qc,qc=null,bb=0,sn&6)throw Error(s(331));var B=sn;for(sn|=4,ft=m.current;ft!==null;){var N=ft,ne=N.child;if(ft.flags&16){var ue=N.deletions;if(ue!==null){for(var ze=0;ze<ue.length;ze++){var ot=ue[ze];for(ft=ot;ft!==null;){var St=ft;switch(St.tag){case 0:case 11:case 15:_d(8,St,N)}var Gt=St.child;if(Gt!==null)Gt.return=St,ft=Gt;else for(;ft!==null;){St=ft;var It=St.sibling,qn=St.return;if(j7(St),St===ot){ft=null;break}if(It!==null){It.return=qn,ft=It;break}ft=qn}}}var Lt=N.alternate;if(Lt!==null){var Vi=Lt.child;if(Vi!==null){Lt.child=null;do{var Is=Vi.sibling;Vi.sibling=null,Vi=Is}while(Vi!==null)}}ft=N}}if(N.subtreeFlags&2064&&ne!==null)ne.return=N,ft=ne;else e:for(;ft!==null;){if(N=ft,N.flags&2048)switch(N.tag){case 0:case 11:case 15:_d(9,N,N.return)}var Me=N.sibling;if(Me!==null){Me.return=N.return,ft=Me;break e}ft=N.return}}var me=m.current;for(ft=me;ft!==null;){ne=ft;var Ne=ne.child;if(ne.subtreeFlags&2064&&Ne!==null)Ne.return=ne,ft=Ne;else e:for(ne=me;ft!==null;){if(ue=ft,ue.flags&2048)try{switch(ue.tag){case 0:case 11:case 15:U0(9,ue)}}catch(Dt){Fo(ue,ue.return,Dt)}if(ue===ne){ft=null;break e}var yt=ue.sibling;if(yt!==null){yt.return=ue.return,ft=yt;break e}ft=ue.return}}if(sn=B,Ja(),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(Ov,m)}catch{}M=!0}return M}finally{Mn=S,Or.transition=g}}return!1}function iD(m,g,S){g=ES(S,g),g=v7(m,g,1),Gc(m,g),g=fo(),m=wb(m,1),m!==null&&(E0(m,1,g),Oo(m,g))}function Fo(m,g,S){if(m.tag===3)iD(m,m,S);else for(;g!==null;){if(g.tag===3){iD(g,m,S);break}else if(g.tag===1){var M=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Vc===null||!Vc.has(M))){m=ES(S,m),m=b7(g,m,1),Gc(g,m),m=fo(),g=wb(g,1),g!==null&&(E0(g,1,m),Oo(g,m));break}}g=g.return}}function iQ(m,g,S){var M=m.pingCache;M!==null&&M.delete(g),g=fo(),m.pingedLanes|=m.suspendedLanes&S,qr===m&&(Ti&S)===S&&(ni===4||ni===3&&(Ti&130023424)===Ti&&500>gi()-GS?wd(m,0):$S|=S),Oo(m,g)}function oD(m,g){g===0&&(m.mode&1?(g=Nv,Nv<<=1,!(Nv&130023424)&&(Nv=4194304)):g=1);var S=fo();m=wb(m,g),m!==null&&(E0(m,g,S),Oo(m,S))}function oQ(m){var g=m.memoizedState,S=0;g!==null&&(S=g.retryLane),oD(m,S)}function sQ(m,g){var S=0;switch(m.tag){case 13:var M=m.stateNode,B=m.memoizedState;B!==null&&(S=B.retryLane);break;case 19:M=m.stateNode;break;default:throw Error(s(314))}M!==null&&M.delete(g),oD(m,S)}var sD;sD=function(m,g,S){if(m!==null)if(m.memoizedProps!==g.pendingProps||ti.current)ns=!0;else{if(!(m.lanes&S)&&!(g.flags&128))return ns=!1,KZ(m,g,S);ns=!!(m.flags&131072)}else ns=!1,fr&&g.flags&1048576&&q9(g,qv,g.index);switch(g.lanes=0,g.tag){case 2:var M=g.type;m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps;var B=Ka(g,Yn.current);kf(g,S),B=wS(null,g,M,m,B,S);var N=SS();return g.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Sn(M)?(N=!0,Hc(g)):N=!1,g.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,cS(g),B.updater=Gv,g.stateNode=B,B._reactInternals=g,dS(g,M,m,S),g=DS(null,g,M,!0,N,S)):(g.tag=0,fr&&N&&hS(g),ho(null,g,B,S),g=g.child),g;case 16:M=g.elementType;e:{switch(m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps,B=M._init,M=B(M._payload),g.type=M,B=g.tag=lQ(M),m=ua(M,m),B){case 0:g=TS(null,g,M,m,S);break e;case 1:g=D7(null,g,M,m,S);break e;case 11:g=C7(null,g,M,m,S);break e;case 14:g=M7(null,g,M,ua(M.type,m),S);break e}throw Error(s(306,M,""))}return g;case 0:return M=g.type,B=g.pendingProps,B=g.elementType===M?B:ua(M,B),TS(m,g,M,B,S);case 1:return M=g.type,B=g.pendingProps,B=g.elementType===M?B:ua(M,B),D7(m,g,M,B,S);case 3:e:{if(L7(g),m===null)throw Error(s(387));M=g.pendingProps,N=g.memoizedState,B=N.element,z9(m,g),$v(g,M,null,S);var ne=g.memoizedState;if(M=ne.element,xe&&N.isDehydrated)if(N={element:M,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},g.updateQueue.baseState=N,g.memoizedState=N,g.flags&256){B=Error(s(423)),g=R7(m,g,M,S,B);break e}else if(M!==B){B=Error(s(424)),g=R7(m,g,M,S,B);break e}else for(xe&&(ts=Po(g.stateNode.containerInfo),es=g,fr=!0,da=null,k0=!1),S=Z9(g,null,M,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Lf(),M===B){g=zl(m,g,S);break e}ho(m,g,M,S)}g=g.child}return g;case 5:return Q9(g),m===null&&mS(g),M=g.type,B=g.pendingProps,N=m!==null?m.memoizedProps:null,ne=B.children,_e(M,B)?ne=null:N!==null&&_e(M,N)&&(g.flags|=32),T7(m,g),ho(m,g,ne,S),g.child;case 6:return m===null&&mS(g),null;case 13:return B7(m,g,S);case 4:return yS(g,g.stateNode.containerInfo),M=g.pendingProps,m===null?g.child=Rf(g,null,M,S):ho(m,g,M,S),g.child;case 11:return M=g.type,B=g.pendingProps,B=g.elementType===M?B:ua(M,B),C7(m,g,M,B,S);case 7:return ho(m,g,g.pendingProps,S),g.child;case 8:return ho(m,g,g.pendingProps.children,S),g.child;case 12:return ho(m,g,g.pendingProps.children,S),g.child;case 10:e:{if(M=g.type._context,B=g.pendingProps,N=g.memoizedProps,ne=B.value,F9(g,M,ne),N!==null)if(Xa(N.value,ne)){if(N.children===B.children&&!ti.current){g=zl(m,g,S);break e}}else for(N=g.child,N!==null&&(N.return=g);N!==null;){var ue=N.dependencies;if(ue!==null){ne=N.child;for(var ze=ue.firstContext;ze!==null;){if(ze.context===M){if(N.tag===1){ze=Nl(-1,S&-S),ze.tag=2;var ot=N.updateQueue;if(ot!==null){ot=ot.shared;var St=ot.pending;St===null?ze.next=ze:(ze.next=St.next,St.next=ze),ot.pending=ze}}N.lanes|=S,ze=N.alternate,ze!==null&&(ze.lanes|=S),lS(N.return,S,g),ue.lanes|=S;break}ze=ze.next}}else if(N.tag===10)ne=N.type===g.type?null:N.child;else if(N.tag===18){if(ne=N.return,ne===null)throw Error(s(341));ne.lanes|=S,ue=ne.alternate,ue!==null&&(ue.lanes|=S),lS(ne,S,g),ne=N.sibling}else ne=N.child;if(ne!==null)ne.return=N;else for(ne=N;ne!==null;){if(ne===g){ne=null;break}if(N=ne.sibling,N!==null){N.return=ne.return,ne=N;break}ne=ne.return}N=ne}ho(m,g,B.children,S),g=g.child}return g;case 9:return B=g.type,M=g.pendingProps.children,kf(g,S),B=Ts(B),M=M(B),g.flags|=1,ho(m,g,M,S),g.child;case 14:return M=g.type,B=ua(M,g.pendingProps),B=ua(M.type,B),M7(m,g,M,B,S);case 15:return E7(m,g,g.type,g.pendingProps,S);case 17:return M=g.type,B=g.pendingProps,B=g.elementType===M?B:ua(M,B),m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,Sn(M)?(m=!0,Hc(g)):m=!1,kf(g,S),G9(g,M,B),dS(g,M,B,S),DS(null,g,M,!0,m,S);case 19:return O7(m,g,S);case 22:return k7(m,g,S)}throw Error(s(156,g.tag))};function aD(m,g){return tS(m,g)}function aQ(m,g,S,M){this.tag=m,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ns(m,g,S,M){return new aQ(m,g,S,M)}function ZS(m){return m=m.prototype,!(!m||!m.isReactComponent)}function lQ(m){if(typeof m=="function")return ZS(m)?1:0;if(m!=null){if(m=m.$$typeof,m===v)return 11;if(m===x)return 14}return 2}function Xc(m,g){var S=m.alternate;return S===null?(S=Ns(m.tag,g,m.key,m.mode),S.elementType=m.elementType,S.type=m.type,S.stateNode=m.stateNode,S.alternate=m,m.alternate=S):(S.pendingProps=g,S.type=m.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=m.flags&14680064,S.childLanes=m.childLanes,S.lanes=m.lanes,S.child=m.child,S.memoizedProps=m.memoizedProps,S.memoizedState=m.memoizedState,S.updateQueue=m.updateQueue,g=m.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=m.sibling,S.index=m.index,S.ref=m.ref,S}function Ab(m,g,S,M,B,N){var ne=2;if(M=m,typeof m=="function")ZS(m)&&(ne=1);else if(typeof m=="string")ne=5;else e:switch(m){case u:return Cd(S.children,B,N,g);case d:ne=8,B|=8;break;case h:return m=Ns(12,S,g,B|2),m.elementType=h,m.lanes=N,m;case b:return m=Ns(13,S,g,B),m.elementType=b,m.lanes=N,m;case y:return m=Ns(19,S,g,B),m.elementType=y,m.lanes=N,m;case A:return Cb(S,B,N,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case f:ne=10;break e;case p:ne=9;break e;case v:ne=11;break e;case x:ne=14;break e;case w:ne=16,M=null;break e}throw Error(s(130,m==null?m:typeof m,""))}return g=Ns(ne,S,g,B),g.elementType=m,g.type=M,g.lanes=N,g}function Cd(m,g,S,M){return m=Ns(7,m,M,g),m.lanes=S,m}function Cb(m,g,S,M){return m=Ns(22,m,M,g),m.elementType=A,m.lanes=S,m.stateNode={},m}function QS(m,g,S){return m=Ns(6,m,null,g),m.lanes=S,m}function eA(m,g,S){return g=Ns(4,m.children!==null?m.children:[],m.key,g),g.lanes=S,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function cQ(m,g,S,M,B){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=pt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Q4(0),this.expirationTimes=Q4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q4(0),this.identifierPrefix=M,this.onRecoverableError=B,xe&&(this.mutableSourceEagerHydrationData=null)}function lD(m,g,S,M,B,N,ne,ue,ze){return m=new cQ(m,g,S,ue,ze),g===1?(g=1,N===!0&&(g|=8)):g=0,N=Ns(3,null,null,g),m.current=N,N.stateNode=m,N.memoizedState={element:M,isDehydrated:S,cache:null,transitions:null},cS(N),m}function cD(m){if(!m)return dn;m=m._reactInternals;e:{if(T(m)!==m||m.tag!==1)throw Error(s(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Sn(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(s(171))}if(m.tag===1){var S=m.type;if(Sn(S))return uo(m,S,g)}return g}function uD(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(s(188)):(m=Object.keys(m).join(","),Error(s(268,m)));return m=z(g),m===null?null:m.stateNode}function dD(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var S=m.retryLane;m.retryLane=S!==0&&S<g?S:g}}function tA(m,g){dD(m,g),(m=m.alternate)&&dD(m,g)}function uQ(m){return m=z(m),m===null?null:m.stateNode}function dQ(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var g=fo();Ps(m,134217728,g),tA(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=fo(),S=Kc(m);Ps(m,S,g),tA(m,S)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var S=M0(g.pendingLanes);S!==0&&(eS(g,S|1),Oo(g,gi()),!(sn&6)&&(Ff(),Ja()))}break;case 13:var M=fo();Q7(function(){return Ps(m,1,M)}),tA(m,1)}},n.batchedUpdates=function(m,g){var S=sn;sn|=1;try{return m(g)}finally{sn=S,sn===0&&(Ff(),Fv&&Ja())}},n.createComponentSelector=function(m){return{$$typeof:ub,value:m}},n.createContainer=function(m,g,S,M,B,N,ne){return lD(m,g,!1,null,S,M,B,N,ne)},n.createHasPseudoClassSelector=function(m){return{$$typeof:db,value:m}},n.createHydrationContainer=function(m,g,S,M,B,N,ne,ue,ze){return m=lD(S,M,!0,m,B,N,ne,ue,ze),m.context=cD(null),S=m.current,M=fo(),B=Kc(S),N=Nl(M,B),N.callback=g??null,Gc(S,N),m.current.lanes=B,E0(m,B,M),Oo(m,M),m},n.createPortal=function(m,g,S){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:m,containerInfo:g,implementation:S}},n.createRoleSelector=function(m){return{$$typeof:hb,value:m}},n.createTestNameSelector=function(m){return{$$typeof:fb,value:m}},n.createTextSelector=function(m){return{$$typeof:pb,value:m}},n.deferredUpdates=function(m){var g=Mn,S=Or.transition;try{return Or.transition=null,Mn=16,m()}finally{Mn=g,Or.transition=S}},n.discreteUpdates=function(m,g,S,M,B){var N=Mn,ne=Or.transition;try{return Or.transition=null,Mn=1,m(g,S,M,B)}finally{Mn=N,Or.transition=ne,sn===0&&Ff()}},n.findAllNodes=jS,n.findBoundingRects=function(m,g){if(!Q)throw Error(s(363));g=jS(m,g),m=[];for(var S=0;S<g.length;S++)m.push(pe(g[S]));for(g=m.length-1;0<g;g--){S=m[g];for(var M=S.x,B=M+S.width,N=S.y,ne=N+S.height,ue=g-1;0<=ue;ue--)if(g!==ue){var ze=m[ue],ot=ze.x,St=ot+ze.width,Gt=ze.y,It=Gt+ze.height;if(M>=ot&&N>=Gt&&B<=St&&ne<=It){m.splice(g,1);break}else if(M!==ot||S.width!==ze.width||It<N||Gt>ne){if(!(N!==Gt||S.height!==ze.height||St<M||ot>B)){ot>M&&(ze.width+=ot-M,ze.x=M),St<B&&(ze.width=B-ot),m.splice(g,1);break}}else{Gt>N&&(ze.height+=Gt-N,ze.y=N),It<ne&&(ze.height=ne-Gt),m.splice(g,1);break}}}return m},n.findHostInstance=uD,n.findHostInstanceWithNoPortals=function(m){return m=P(m),m=m!==null?$(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return uD(m)},n.flushControlled=function(m){var g=sn;sn|=1;var S=Or.transition,M=Mn;try{Or.transition=null,Mn=1,m()}finally{Mn=M,Or.transition=S,sn=g,sn===0&&(Ff(),Ja())}},n.flushPassiveEffects=Ad,n.flushSync=Q7,n.focusWithin=function(m,g){if(!Q)throw Error(s(363));for(m=FS(m),g=J7(m,g),g=Array.from(g),m=0;m<g.length;){var S=g[m++];if(!Oe(S)){if(S.tag===5&&ce(S.stateNode))return!0;for(S=S.child;S!==null;)g.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Mn},n.getFindAllNodesFailureDescription=function(m,g){if(!Q)throw Error(s(363));var S=0,M=[];m=[FS(m),0];for(var B=0;B<m.length;){var N=m[B++],ne=m[B++],ue=g[ne];if((N.tag!==5||!Oe(N))&&(zS(N,ue)&&(M.push(US(ue)),ne++,ne>S&&(S=ne)),ne<g.length))for(N=N.child;N!==null;)m.push(N,ne),N=N.sibling}if(S<g.length){for(m=[];S<g.length;S++)m.push(US(g[S]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return Z(m.child.stateNode);default:return m.child.stateNode}},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:uQ,findFiberByHostInstance:m.findFiberByHostInstance||dQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{Ov=g.inject(m),Wa=g}catch{}m=!!g.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,g,S,M){if(!Q)throw Error(s(363));m=jS(m,g);var B=de(m,S,M).disconnect;return{disconnect:function(){B()}}},n.registerMutableSourceForHydration=function(m,g){var S=g._getVersion;S=S(g._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[g,S]:m.mutableSourceEagerHydrationData.push(g,S)},n.runWithPriority=function(m,g){var S=Mn;try{return Mn=m,g()}finally{Mn=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,g,S,M){var B=g.current,N=fo(),ne=Kc(B);return S=cD(S),g.context===null?g.context=S:g.pendingContext=S,g=Nl(N,ne),g.payload={element:m},M=M===void 0?null:M,M!==null&&(g.callback=M),Gc(B,g),m=Ps(B,ne,N),m!==null&&Hv(m,B,ne),ne},n};pW.exports=f1e;var p1e=pW.exports;const m1e=hf(p1e);var mW={exports:{}},gW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,V){var I=O.length;O.push(V);e:for(;0<I;){var se=I-1>>>1,ye=O[se];if(0<i(ye,V))O[se]=V,O[I]=ye,I=se;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],I=O.pop();if(I!==V){O[0]=I;e:for(var se=0,ye=O.length,G=ye>>>1;se<G;){var ae=2*(se+1)-1,_e=O[ae],ve=ae+1,Ae=O[ve];if(0>i(_e,I))ve<ye&&0>i(Ae,_e)?(O[se]=Ae,O[ve]=I,se=ve):(O[se]=_e,O[ae]=I,se=ae);else if(ve<ye&&0>i(Ae,I))O[se]=Ae,O[ve]=I,se=ve;else break e}}return V}function i(O,V){var I=O.sortIndex-V.sortIndex;return I!==0?I:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=O)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function A(O){if(v=!1,w(O),!p)if(n(l)!==null)p=!0,Z(D);else{var V=n(c);V!==null&&K(A,V.startTime-O)}}function D(O,V){p=!1,v&&(v=!1,y(L),L=-1),f=!0;var I=h;try{for(w(V),d=n(l);d!==null&&(!(d.expirationTime>V)||O&&!P());){var se=d.callback;if(typeof se=="function"){d.callback=null,h=d.priorityLevel;var ye=se(d.expirationTime<=V);V=t.unstable_now(),typeof ye=="function"?d.callback=ye:d===n(l)&&r(l),w(V)}else r(l);d=n(l)}if(d!==null)var G=!0;else{var ae=n(c);ae!==null&&K(A,ae.startTime-V),G=!1}return G}finally{d=null,h=I,f=!1}}var k=!1,R=null,L=-1,T=5,C=-1;function P(){return!(t.unstable_now()-C<T)}function z(){if(R!==null){var O=t.unstable_now();C=O;var V=!0;try{V=R(!0,O)}finally{V?H():(k=!1,R=null)}}else k=!1}var H;if(typeof x=="function")H=function(){x(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=z,H=function(){X.postMessage(null)}}else H=function(){b(z,0)};function Z(O){R=O,k||(k=!0,H())}function K(O,V){L=b(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Z(D))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var I=h;h=V;try{return O()}finally{h=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=h;h=O;try{return V()}finally{h=I}},t.unstable_scheduleCallback=function(O,V,I){var se=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?se+I:se):I=se,O){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=I+ye,O={id:u++,callback:V,priorityLevel:O,startTime:I,expirationTime:ye,sortIndex:-1},I>se?(O.sortIndex=I,e(c,O),n(l)===null&&O===n(c)&&(v?(y(L),L=-1):v=!0,K(A,I-se))):(O.sortIndex=ye,e(l,O),p||f||(p=!0,Z(D))),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var V=h;return function(){var I=h;h=V;try{return O.apply(this,arguments)}finally{h=I}}}})(gW);mW.exports=gW;var uO=mW.exports;const g1e=t=>typeof t=="object"&&typeof t.then=="function",Lh=[];function yW(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function vW(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of Lh)if(yW(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=Lh.indexOf(i);o!==-1&&Lh.splice(o,1)},promise:(g1e(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(Lh.push(i),!n)throw i.promise}const y1e=(t,e,n)=>vW(t,e,!1,n),v1e=(t,e,n)=>void vW(t,e,!0,n),b1e=t=>{if(t===void 0||t.length===0)Lh.splice(0,Lh.length);else{const e=Lh.find(n=>yW(t,n.keys,n.equal));e&&e.remove()}},YT={},x1e=t=>void Object.assign(YT,t);function _1e(t,e){function n(u,{args:d=[],attach:h,...f},p){let v=`${u[0].toUpperCase()}${u.slice(1)}`,b;if(u==="primitive"){if(f.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=f.object;b=Np(y,{type:u,root:p,attach:h,primitive:!0})}else{const y=YT[v];if(!y)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");b=Np(new y(...d),{type:u,root:p,attach:h,memoizedProps:{args:d}})}return b.__r3f.attach===void 0&&(b instanceof Wt?b.__r3f.attach="geometry":b instanceof ei&&(b.__r3f.attach="material")),v!=="inject"&&LM(b,f),b}function r(u,d){let h=!1;if(d){var f,p;(f=d.__r3f)!=null&&f.attach?DM(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),h=!0),h||(p=u.__r3f)==null||p.objects.push(d),d.__r3f||Np(d,{}),d.__r3f.parent=u,j6(d),Ip(d)}}function i(u,d,h){let f=!1;if(d){var p,v;if((p=d.__r3f)!=null&&p.attach)DM(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const b=u.children.filter(x=>x!==d),y=b.indexOf(h);u.children=[...b.slice(0,y),d,...b.slice(y)],f=!0}f||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||Np(d,{}),d.__r3f.parent=u,j6(d),Ip(d)}}function o(u,d,h=!1){u&&[...u].forEach(f=>s(d,f,h))}function s(u,d,h){if(d){var f,p,v;if(d.__r3f&&(d.__r3f.parent=null),(f=u.__r3f)!=null&&f.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==d)),(p=d.__r3f)!=null&&p.attach)mO(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var b;u.remove(d),(b=d.__r3f)!=null&&b.root&&D1e(O_(d),d)}const x=(v=d.__r3f)==null?void 0:v.primitive,w=!x&&(h===void 0?d.dispose!==null:h);if(!x){var y;o((y=d.__r3f)==null?void 0:y.objects,d,w),o(d.children,d,w)}if(delete d.__r3f,w&&d.dispose&&d.type!=="Scene"){const A=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?uO.unstable_scheduleCallback(uO.unstable_IdlePriority,A):A()}Ip(u)}}function a(u,d,h,f){var p;const v=(p=u.__r3f)==null?void 0:p.parent;if(!v)return;const b=n(d,h,u.__r3f.root);if(u.children){for(const y of u.children)y.__r3f&&r(b,y);u.children=u.children.filter(y=>!y.__r3f)}u.__r3f.objects.forEach(y=>r(b,y)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||s(v,u),b.parent&&(b.__r3f.autoRemovedBeforeAppend=!0),r(v,b),b.raycast&&b.__r3f.eventCount&&O_(b).getState().internal.interaction.push(b),[f,f.alternate].forEach(y=>{y!==null&&(y.stateNode=b,y.ref&&(typeof y.ref=="function"?y.ref(b):y.ref.current=b))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:m1e({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const h=u.getState().scene;h.__r3f&&(h.__r3f.root=u,r(h,d))},removeChildFromContainer:(u,d)=>{d&&s(u.getState().scene,d)},insertInContainerBefore:(u,d,h)=>{if(!d||!h)return;const f=u.getState().scene;f.__r3f&&i(f,d,h)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,h,f){var p;if(((p=u==null?void 0:u.__r3f)!=null?p:{}).primitive&&f.object&&f.object!==u)return[!0];{const{args:b=[],children:y,...x}=f,{args:w=[],children:A,...D}=h;if(!Array.isArray(b))throw new Error("R3F: the args prop must be an array!");if(b.some((R,L)=>R!==w[L]))return[!0];const k=CW(u,x,D,!0);return k.changes.length?[!1,k]:null}},commitUpdate(u,[d,h],f,p,v,b){d?a(u,f,v,b):LM(u,h)},commitMount(u,d,h,f){var p;const v=(p=u.__r3f)!=null?p:{};u.raycast&&v.handlers&&v.eventCount&&O_(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Np(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:h,parent:f}=(d=u.__r3f)!=null?d:{};h&&f&&mO(f,u,h),u.isObject3D&&(u.visible=!1),Ip(u)},unhideInstance(u,d){var h;const{attach:f,parent:p}=(h=u.__r3f)!=null?h:{};f&&p&&DM(p,u,f),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Ip(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():lm.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&tr.fun(performance.now)?performance.now:tr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:tr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:tr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:LM}}var dO,hO;const TM=t=>"colorSpace"in t||"outputColorSpace"in t,bW=()=>{var t;return(t=YT.ColorManagement)!=null?t:null},xW=t=>t&&t.isOrthographicCamera,w1e=t=>t&&t.hasOwnProperty("current"),gv=typeof window<"u"&&((dO=window.document)!=null&&dO.createElement||((hO=window.navigator)==null?void 0:hO.product)==="ReactNative")?E.useLayoutEffect:E.useEffect;function _W(t){const e=E.useRef(t);return gv(()=>void(e.current=t),[t]),e}function S1e({set:t}){return gv(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class wW extends E.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}wW.getDerivedStateFromError=()=>({error:!0});const SW="__default",fO=new Map,A1e=t=>t&&!!t.memoized&&!!t.changes;function AW(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Fg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function O_(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const tr={obj:t=>t===Object(t)&&!tr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(tr.str(t)||tr.num(t)||tr.boo(t))return t===e;const o=tr.obj(t);if(o&&r==="reference")return t===e;const s=tr.arr(t);if(s&&n==="reference")return t===e;if((s||o)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!tr.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(tr.und(a)){if(s&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function C1e(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function M1e(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Np(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function U6(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,s)=>o[s],t),{target:n,key:i}}else return{target:n,key:e}}const pO=/-\d+$/;function DM(t,e,n){if(tr.str(n)){if(pO.test(n)){const o=n.replace(pO,""),{target:s,key:a}=U6(t,o);Array.isArray(s[a])||(s[a]=[])}const{target:r,key:i}=U6(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function mO(t,e,n){var r,i;if(tr.str(n)){const{target:o,key:s}=U6(t,n),a=e.__r3f.previousAttach;a===void 0?delete o[s]:o[s]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function CW(t,{children:e,key:n,ref:r,...i},{children:o,key:s,ref:a,...l}={},c=!1){const u=t.__r3f,d=Object.entries(i),h=[];if(c){const p=Object.keys(l);for(let v=0;v<p.length;v++)i.hasOwnProperty(p[v])||d.unshift([p[v],SW+"remove"])}d.forEach(([p,v])=>{var b;if((b=t.__r3f)!=null&&b.primitive&&p==="object"||tr.equ(v,l[p]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(p))return h.push([p,v,!0,[]]);let y=[];p.includes("-")&&(y=p.split("-")),h.push([p,v,!1,y]);for(const x in i){const w=i[x];x.startsWith(`${p}-`)&&h.push([x,w,!1,x.split("-")])}});const f={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(f.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(f.attach=u.memoizedProps.attach),{memoized:f,changes:h}}const E1e=typeof process<"u"&&!1;function LM(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:s,changes:a}=A1e(e)?e:CW(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=s);for(let u=0;u<a.length;u++){let[d,h,f,p]=a[u];if(TM(t)){const x="srgb",w="srgb-linear";d==="encoding"?(d="colorSpace",h=h===3001?x:w):d==="outputEncoding"&&(d="outputColorSpace",h=h===3001?x:w)}let v=t,b=v[d];if(p.length&&(b=p.reduce((y,x)=>y[x],t),!(b&&b.set))){const[y,...x]=p.reverse();v=x.reverse().reduce((w,A)=>w[A],t),d=y}if(h===SW+"remove")if(v.constructor){let y=fO.get(v.constructor);y||(y=new v.constructor,fO.set(v.constructor,y)),h=y[d]}else h=0;if(f&&r)h?r.handlers[d]=h:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(b&&b.set&&(b.copy||b instanceof $h)){if(Array.isArray(h))b.fromArray?b.fromArray(h):b.set(...h);else if(b.copy&&h&&h.constructor&&(E1e?b.constructor.name===h.constructor.name:b.constructor===h.constructor))b.copy(h);else if(h!==void 0){const y=b instanceof ut;!y&&b.setScalar?b.setScalar(h):b instanceof $h&&h instanceof $h?b.mask=h.mask:b.set(h),!bW()&&o&&!o.linear&&y&&b.convertSRGBToLinear()}}else if(v[d]=h,v[d]instanceof ur&&v[d].format===Co&&v[d].type===Tl&&o){const y=v[d];TM(y)&&TM(o.gl)?y.colorSpace=o.gl.outputColorSpace:y.encoding=o.gl.outputEncoding}Ip(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const u=O_(t).getState().internal,d=u.interaction.indexOf(t);d>-1&&u.interaction.splice(d,1),r.eventCount&&u.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&j6(t),t}function Ip(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function j6(t){t.onUpdate==null||t.onUpdate(t)}function k1e(t,e){t.manual||(xW(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function K2(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function T1e(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return lm.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return lm.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return lm.ContinuousEventPriority;default:return lm.DefaultEventPriority}}function MW(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function D1e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{MW(n.capturedMap,e,r,i)})}function L1e(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),d=new Set,h=[],f=c?c(u.internal.interaction):u.internal.interaction;for(let y=0;y<f.length;y++){const x=Fg(f[y]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function p(y){const x=Fg(y);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var w;x.events.compute==null||x.events.compute(l,x,(w=x.previousRoot)==null?void 0:w.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(y,!0):[]}let v=f.flatMap(p).sort((y,x)=>{const w=Fg(y.object),A=Fg(x.object);return!w||!A?y.distance-x.distance:A.events.priority-w.events.priority||y.distance-x.distance}).filter(y=>{const x=K2(y);return d.has(x)?!1:(d.add(x),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const y of v){let x=y.object;for(;x;){var b;(b=x.__r3f)!=null&&b.eventCount&&h.push({...y,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let y of u.internal.capturedMap.get(l.pointerId).values())d.has(K2(y.intersection))||h.push(y.intersection);return h}function i(l,c,u,d){const h=t.getState();if(l.length){const f={stopped:!1};for(const p of l){const v=Fg(p.object)||h,{raycaster:b,pointer:y,camera:x,internal:w}=v,A=new W(y.x,y.y,0).unproject(x),D=C=>{var P,z;return(P=(z=w.capturedMap.get(C))==null?void 0:z.has(p.eventObject))!=null?P:!1},k=C=>{const P={intersection:p,target:c.target};w.capturedMap.has(C)?w.capturedMap.get(C).set(p.eventObject,P):w.capturedMap.set(C,new Map([[p.eventObject,P]])),c.target.setPointerCapture(C)},R=C=>{const P=w.capturedMap.get(C);P&&MW(w.capturedMap,p.eventObject,P,C)};let L={};for(let C in c){let P=c[C];typeof P!="function"&&(L[C]=P)}let T={...p,...L,pointer:y,intersections:l,stopped:f.stopped,delta:u,unprojectedPoint:A,ray:b.ray,camera:x,stopPropagation(){const C="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!C||C.has(p.eventObject))&&(T.stopped=f.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(P=>P.eventObject===p.eventObject))){const P=l.slice(0,l.indexOf(p));o([...P,p])}},target:{hasPointerCapture:D,setPointerCapture:k,releasePointerCapture:R},currentTarget:{hasPointerCapture:D,setPointerCapture:k,releasePointerCapture:R},nativeEvent:c};if(d(T),f.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const h=u.eventObject.__r3f,f=h==null?void 0:h.handlers;if(c.hovered.delete(K2(u)),h!=null&&h.eventCount){const p={...u,intersections:l};f.onPointerOut==null||f.onPointerOut(p),f.onPointerLeave==null||f.onPointerLeave(p)}}}function s(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),o([]))})}}return function(u){const{onPointerMissed:d,internal:h}=t.getState();h.lastEvent.current=u;const f=l==="onPointerMove",p=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",b=r(u,f?n:void 0),y=p?e(u):0;l==="onPointerDown"&&(h.initialClick=[u.offsetX,u.offsetY],h.initialHits=b.map(w=>w.eventObject)),p&&!b.length&&y<=2&&(s(u,h.interaction),d&&d(u)),f&&o(b);function x(w){const A=w.eventObject,D=A.__r3f,k=D==null?void 0:D.handlers;if(D!=null&&D.eventCount)if(f){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const R=K2(w),L=h.hovered.get(R);L?L.stopped&&w.stopPropagation():(h.hovered.set(R,w),k.onPointerOver==null||k.onPointerOver(w),k.onPointerEnter==null||k.onPointerEnter(w))}k.onPointerMove==null||k.onPointerMove(w)}else{const R=k[l];R?(!p||h.initialHits.includes(A))&&(s(u,h.interaction.filter(L=>!h.initialHits.includes(L))),R(w)):p&&h.initialHits.includes(A)&&s(u,h.interaction.filter(L=>!h.initialHits.includes(L)))}}i(b,u,y,x)}}return{handlePointer:a}}const EW=t=>!!(t!=null&&t.render),kW=E.createContext(null),R1e=(t,e)=>{const n=u1e((a,l)=>{const c=new W,u=new W,d=new W;function h(y=l().camera,x=u,w=l().size){const{width:A,height:D,top:k,left:R}=w,L=A/D;x instanceof W?d.copy(x):d.set(...x);const T=y.getWorldPosition(c).distanceTo(d);if(xW(y))return{width:A/y.zoom,height:D/y.zoom,top:k,left:R,factor:1,distance:T,aspect:L};{const C=y.fov*Math.PI/180,P=2*Math.tan(C/2)*T,z=P*(A/D);return{width:z,height:P,top:k,left:R,factor:A/z,distance:T,aspect:L}}}let f;const p=y=>a(x=>({performance:{...x.performance,current:y}})),v=new $e;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>t(l(),y),advance:(y,x)=>e(y,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new KT,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();f&&clearTimeout(f),y.performance.current!==y.performance.min&&p(y.performance.min),f=setTimeout(()=>p(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:y=>a(x=>({...x,events:{...x.events,...y}})),setSize:(y,x,w,A,D)=>{const k=l().camera,R={width:y,height:x,top:A||0,left:D||0,updateStyle:w};a(L=>({size:R,viewport:{...L.viewport,...h(k,u,R)}}))},setDpr:y=>a(x=>{const w=AW(y);return{viewport:{...x.viewport,dpr:w,initialDpr:x.viewport.initialDpr||w}}}),setFrameloop:(y="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,y!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:E.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,x,w)=>{const A=l().internal;return A.priority=A.priority+(x>0?1:0),A.subscribers.push({ref:y,priority:x,store:w}),A.subscribers=A.subscribers.sort((D,k)=>D.priority-k.priority),()=>{const D=l().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(x>0?1:0),D.subscribers=D.subscribers.filter(k=>k.ref!==y))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var h;i=l,o=c.dpr,k1e(a,l),u.setPixelRatio(c.dpr);const f=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,f)}a!==s&&(s=a,d(f=>({viewport:{...f.viewport,...f.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let W2,B1e=new Set,P1e=new Set,N1e=new Set;function RM(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function zg(t,e){switch(t){case"before":return RM(B1e,e);case"after":return RM(P1e,e);case"tail":return RM(N1e,e)}}let BM,PM;function NM(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),BM=e.internal.subscribers,W2=0;W2<BM.length;W2++)PM=BM[W2],PM.ref.current(PM.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function I1e(t){let e=!1,n=!1,r,i,o;function s(c){i=requestAnimationFrame(s),e=!0,r=0,zg("before",c),n=!0;for(const d of t.values()){var u;o=d.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((u=o.gl.xr)!=null&&u.isPresenting)&&(r+=NM(c,o))}if(n=!1,zg("after",c),r===0)return zg("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,u=1){var d;if(!c)return t.forEach(h=>a(h.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(s)))}function l(c,u=!0,d,h){if(u&&zg("before",c),d)NM(c,d,h);else for(const f of t.values())NM(c,f.store.getState());u&&zg("after",c)}return{loop:s,invalidate:a,advance:l}}function TW(){const t=E.useContext(kW);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function nc(t=n=>n,e){return TW()(t,e)}function DW(t,e=0){const n=TW(),r=n.getState().internal.subscribe,i=_W(t);return gv(()=>r(i,e,n),[e,r,n]),null}const gO=new WeakMap;function LW(t,e){return function(n,...r){let i=gO.get(n);return i||(i=new n,gO.set(n,i)),t&&t(i),Promise.all(r.map(o=>new Promise((s,a)=>i.load(o,l=>{l.scene&&Object.assign(l,C1e(l.scene)),s(l)},e,l=>a(new Error(`Could not load ${o}: ${l==null?void 0:l.message}`))))))}}function yv(t,e,n,r){const i=Array.isArray(e)?e:[e],o=y1e(LW(n,r),[t,...i],{equal:tr.equ});return Array.isArray(e)?o:o[0]}yv.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return v1e(LW(n),[t,...r])};yv.clear=function(t,e){const n=Array.isArray(e)?e:[e];return b1e([t,...n])};const o0=new Map,{invalidate:yO,advance:vO}=I1e(o0),{reconciler:Yw,applyProps:Mp}=_1e(o0,T1e),Ep={objects:"shallow",strict:!1},O1e=(t,e)=>{const n=typeof t=="function"?t(e):t;return EW(n)?n:new SK({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function F1e(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:s,updateStyle:a=n}=e;return{width:r,height:i,top:o,left:s,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:s}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:s,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function z1e(t){const e=o0.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||R1e(yO,vO),s=n||Yw.createContainer(o,lm.ConcurrentRoot,null,!1,null,"",i,null);e||o0.set(t,{fiber:s,store:o});let a,l=!1,c;return{configure(u={}){let{gl:d,size:h,scene:f,events:p,onCreated:v,shadows:b=!1,linear:y=!1,flat:x=!1,legacy:w=!1,orthographic:A=!1,frameloop:D="always",dpr:k=[1,2],performance:R,raycaster:L,camera:T,onPointerMissed:C}=u,P=o.getState(),z=P.gl;P.gl||P.set({gl:z=O1e(d,t)});let H=P.raycaster;H||P.set({raycaster:H=new dW});const{params:$,...X}=L||{};if(tr.equ(X,H,Ep)||Mp(H,{...X}),tr.equ($,H.params,Ep)||Mp(H,{params:{...H.params,...$}}),!P.camera||P.camera===c&&!tr.equ(c,T,Ep)){c=T;const I=T instanceof av,se=I?T:A?new _l(0,0,0,0,.1,1e3):new Cr(75,0,.1,1e3);I||(se.position.z=5,T&&(Mp(se,T),("aspect"in T||"left"in T||"right"in T||"bottom"in T||"top"in T)&&(se.manual=!0,se.updateProjectionMatrix())),!P.camera&&!(T!=null&&T.rotation)&&se.lookAt(0,0,0)),P.set({camera:se}),H.camera=se}if(!P.scene){let I;f instanceof Kw?I=f:(I=new Kw,f&&Mp(I,f)),P.set({scene:Np(I)})}if(!P.xr){var Z;const I=(G,ae)=>{const _e=o.getState();_e.frameloop!=="never"&&vO(G,!0,_e,ae)},se=()=>{const G=o.getState();G.gl.xr.enabled=G.gl.xr.isPresenting,G.gl.xr.setAnimationLoop(G.gl.xr.isPresenting?I:null),G.gl.xr.isPresenting||yO(G)},ye={connect(){const G=o.getState().gl;G.xr.addEventListener("sessionstart",se),G.xr.addEventListener("sessionend",se)},disconnect(){const G=o.getState().gl;G.xr.removeEventListener("sessionstart",se),G.xr.removeEventListener("sessionend",se)}};typeof((Z=z.xr)==null?void 0:Z.addEventListener)=="function"&&ye.connect(),P.set({xr:ye})}if(z.shadowMap){const I=z.shadowMap.enabled,se=z.shadowMap.type;if(z.shadowMap.enabled=!!b,tr.boo(b))z.shadowMap.type=Dy;else if(tr.str(b)){var K;const ye={basic:tq,percentage:K3,soft:Dy,variance:wa};z.shadowMap.type=(K=ye[b])!=null?K:Dy}else tr.obj(b)&&Object.assign(z.shadowMap,b);(I!==z.shadowMap.enabled||se!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const O=bW();O&&("enabled"in O?O.enabled=!w:"legacyMode"in O&&(O.legacyMode=w)),l||Mp(z,{outputEncoding:y?3e3:3001,toneMapping:x?Al:aT}),P.legacy!==w&&P.set(()=>({legacy:w})),P.linear!==y&&P.set(()=>({linear:y})),P.flat!==x&&P.set(()=>({flat:x})),d&&!tr.fun(d)&&!EW(d)&&!tr.equ(d,z,Ep)&&Mp(z,d),p&&!P.events.handlers&&P.set({events:p(o)});const V=F1e(t,h);return tr.equ(V,P.size,Ep)||P.setSize(V.width,V.height,V.updateStyle,V.top,V.left),k&&P.viewport.dpr!==AW(k)&&P.setDpr(k),P.frameloop!==D&&P.setFrameloop(D),P.onPointerMissed||P.set({onPointerMissed:C}),R&&!tr.equ(R,P.performance,Ep)&&P.set(I=>({performance:{...I.performance,...R}})),a=v,l=!0,this},render(u){return l||this.configure(),Yw.updateContainer(_.jsx(U1e,{store:o,children:u,onCreated:a,rootElement:t}),s,null,()=>{}),o},unmount(){RW(t)}}}function U1e({store:t,children:e,onCreated:n,rootElement:r}){return gv(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),_.jsx(kW.Provider,{value:t,children:e})}function RW(t,e){const n=o0.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Yw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,s,a,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),M1e(i),o0.delete(t),e&&e(t)}catch{}},500)})}}Yw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:E.version});function H6(t,e,n){var r,i,o,s,a;e==null&&(e=100);function l(){var u=Date.now()-s;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,s=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(o,i),o=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}H6.debounce=H6;var j1e=H6;const bO=hf(j1e);function H1e(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=E.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=E.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=E.useRef(!1);E.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,f,p]=E.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:w,top:A,width:D,height:k,bottom:R,right:L,x:T,y:C}=l.current.element.getBoundingClientRect(),P={left:w,top:A,width:D,height:k,bottom:R,right:L,x:T,y:C};l.current.element instanceof HTMLElement&&i&&(P.height=l.current.element.offsetHeight,P.width=l.current.element.offsetWidth),Object.freeze(P),d.current&&!q1e(l.current.lastBounds,P)&&a(l.current.lastBounds=P)};return[x,u?bO(x,u):x,c?bO(x,c):x]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",p,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function b(){l.current.element&&(l.current.resizeObserver=new o(p),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",p,{capture:!0,passive:!0})))}const y=x=>{!x||x===l.current.element||(v(),l.current.element=x,l.current.scrollContainers=BW(x),b())};return G1e(p,!!n),$1e(f),E.useEffect(()=>{v(),b()},[n,p,f]),E.useEffect(()=>v,[]),[y,s,h]}function $1e(t){E.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function G1e(t,e){E.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function BW(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...BW(t.parentElement)]}const V1e=["x","y","top","bottom","left","right","width","height"],q1e=(t,e)=>V1e.every(n=>t[n]===e[n]);var K1e=Object.defineProperty,W1e=Object.defineProperties,X1e=Object.getOwnPropertyDescriptors,xO=Object.getOwnPropertySymbols,J1e=Object.prototype.hasOwnProperty,Y1e=Object.prototype.propertyIsEnumerable,_O=(t,e,n)=>e in t?K1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wO=(t,e)=>{for(var n in e||(e={}))J1e.call(e,n)&&_O(t,n,e[n]);if(xO)for(var n of xO(e))Y1e.call(e,n)&&_O(t,n,e[n]);return t},Z1e=(t,e)=>W1e(t,X1e(e)),SO,AO;typeof window<"u"&&((SO=window.document)!=null&&SO.createElement||((AO=window.navigator)==null?void 0:AO.product)==="ReactNative")?E.useLayoutEffect:E.useEffect;function PW(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=PW(r,e,n);if(i)return i;r=e?null:r.sibling}}function NW(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const CO=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=CO;return}return CO.apply(this,arguments)};const ZT=NW(E.createContext(null));class IW extends E.Component{render(){return E.createElement(ZT.Provider,{value:this._reactInternals},this.props.children)}}function Q1e(){const t=E.useContext(ZT);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=E.useId();return E.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=PW(r,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}function eve(){const t=Q1e(),[e]=E.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==ZT&&!e.has(i)&&e.set(i,E.useContext(NW(i)))}n=n.return}return e}function tve(){const t=eve();return E.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>E.createElement(e,null,E.createElement(n.Provider,Z1e(wO({},r),{value:t.get(n)}))),e=>E.createElement(IW,wO({},e))),[t])}const IM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function nve(t){const{handlePointer:e}=L1e(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(IM).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(s=>({events:{...s.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([s,a])=>{const[l,c]=IM[s];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,s])=>{if(r&&r.connected instanceof HTMLElement){const[a]=IM[o];r.connected.removeEventListener(a,s)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const rve=E.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:s=nve,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:h,orthographic:f,frameloop:p,dpr:v,performance:b,raycaster:y,camera:x,scene:w,onPointerMissed:A,onCreated:D,...k},R){E.useMemo(()=>x1e(a1e),[]);const L=tve(),[T,C]=H1e({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=E.useRef(null),z=E.useRef(null);E.useImperativeHandle(R,()=>P.current);const H=_W(A),[$,X]=E.useState(!1),[Z,K]=E.useState(!1);if($)throw $;if(Z)throw Z;const O=E.useRef(null);gv(()=>{const I=P.current;C.width>0&&C.height>0&&I&&(O.current||(O.current=z1e(I)),O.current.configure({gl:o,events:s,shadows:c,linear:u,flat:d,legacy:h,orthographic:f,frameloop:p,dpr:v,performance:b,raycaster:y,camera:x,scene:w,size:C,onPointerMissed:(...se)=>H.current==null?void 0:H.current(...se),onCreated:se=>{se.events.connect==null||se.events.connect(a?w1e(a)?a.current:a:z.current),l&&se.setEvents({compute:(ye,G)=>{const ae=ye[l+"X"],_e=ye[l+"Y"];G.pointer.set(ae/G.size.width*2-1,-(_e/G.size.height)*2+1),G.raycaster.setFromCamera(G.pointer,G.camera)}}),D==null||D(se)}}),O.current.render(_.jsx(L,{children:_.jsx(wW,{set:K,children:_.jsx(E.Suspense,{fallback:_.jsx(S1e,{set:X}),children:e})})})))}),E.useEffect(()=>{const I=P.current;if(I)return()=>RW(I)},[]);const V=a?"none":"auto";return _.jsx("div",{ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...i},...k,children:_.jsx("div",{ref:T,style:{width:"100%",height:"100%"},children:_.jsx("canvas",{ref:P,style:{display:"block"},children:n})})})}),ive=E.forwardRef(function(e,n){return _.jsx(IW,{children:_.jsx(rve,{...e,ref:n})})});function MO(t,e){if(e===Wq)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===qw||e===gT){let n=t.getIndex();if(n===null){const s=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)s.push(l);t.setIndex(s),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===qw)for(let s=1;s<=r;s++)i.push(n.getX(0)),i.push(n.getX(s)),i.push(n.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(i.push(n.getX(s)),i.push(n.getX(s+1)),i.push(n.getX(s+2))):(i.push(n.getX(s+2)),i.push(n.getX(s+1)),i.push(n.getX(s)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const ove=parseInt(rv.replace(/\D+/g,""));var sve=Object.defineProperty,ave=(t,e,n)=>e in t?sve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ht=(t,e,n)=>(ave(t,typeof e!="symbol"?e+"":e,n),n);const X2=new bf,EO=new ac,lve=Math.cos(70*(Math.PI/180)),kO=(t,e)=>(t%e+e)%e;let cve=class extends Ll{constructor(e,n){super(),Ht(this,"object"),Ht(this,"domElement"),Ht(this,"enabled",!0),Ht(this,"target",new W),Ht(this,"minDistance",0),Ht(this,"maxDistance",1/0),Ht(this,"minZoom",0),Ht(this,"maxZoom",1/0),Ht(this,"minPolarAngle",0),Ht(this,"maxPolarAngle",Math.PI),Ht(this,"minAzimuthAngle",-1/0),Ht(this,"maxAzimuthAngle",1/0),Ht(this,"enableDamping",!1),Ht(this,"dampingFactor",.05),Ht(this,"enableZoom",!0),Ht(this,"zoomSpeed",1),Ht(this,"enableRotate",!0),Ht(this,"rotateSpeed",1),Ht(this,"enablePan",!0),Ht(this,"panSpeed",1),Ht(this,"screenSpacePanning",!0),Ht(this,"keyPanSpeed",7),Ht(this,"zoomToCursor",!1),Ht(this,"autoRotate",!1),Ht(this,"autoRotateSpeed",2),Ht(this,"reverseOrbit",!1),Ht(this,"reverseHorizontalOrbit",!1),Ht(this,"reverseVerticalOrbit",!1),Ht(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ht(this,"mouseButtons",{LEFT:ah.ROTATE,MIDDLE:ah.DOLLY,RIGHT:ah.PAN}),Ht(this,"touches",{ONE:lh.ROTATE,TWO:lh.DOLLY_PAN}),Ht(this,"target0"),Ht(this,"position0"),Ht(this,"zoom0"),Ht(this,"_domElementKeyEvents",null),Ht(this,"getPolarAngle"),Ht(this,"getAzimuthalAngle"),Ht(this,"setPolarAngle"),Ht(this,"setAzimuthalAngle"),Ht(this,"getDistance"),Ht(this,"listenToKeyEvents"),Ht(this,"stopListenToKeyEvents"),Ht(this,"saveState"),Ht(this,"reset"),Ht(this,"update"),Ht(this,"connect"),Ht(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=te=>{let ge=kO(te,2*Math.PI),We=u.phi;We<0&&(We+=2*Math.PI),ge<0&&(ge+=2*Math.PI);let J=Math.abs(ge-We);2*Math.PI-J<J&&(ge<We?ge+=2*Math.PI:We+=2*Math.PI),d.phi=ge-We,r.update()},this.setAzimuthalAngle=te=>{let ge=kO(te,2*Math.PI),We=u.theta;We<0&&(We+=2*Math.PI),ge<0&&(ge+=2*Math.PI);let J=Math.abs(ge-We);2*Math.PI-J<J&&(ge<We?ge+=2*Math.PI:We+=2*Math.PI),d.theta=ge-We,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=te=>{te.addEventListener("keydown",de),this._domElementKeyEvents=te},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",de),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const te=new W,ge=new W(0,1,0),We=new Ai().setFromUnitVectors(e.up,ge),J=We.clone().invert(),He=new W,Se=new Ai,Ce=2*Math.PI;return function(){const F=r.object.position;We.setFromUnitVectors(e.up,ge),J.copy(We).invert(),te.copy(F).sub(r.target),te.applyQuaternion(We),u.setFromVector3(te),r.autoRotate&&l===a.NONE&&$(z()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let j=r.minAzimuthAngle,Y=r.maxAzimuthAngle;isFinite(j)&&isFinite(Y)&&(j<-Math.PI?j+=Ce:j>Math.PI&&(j-=Ce),Y<-Math.PI?Y+=Ce:Y>Math.PI&&(Y-=Ce),j<=Y?u.theta=Math.max(j,Math.min(Y,u.theta)):u.theta=u.theta>(j+Y)/2?Math.max(j,u.theta):Math.min(Y,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(f,r.dampingFactor):r.target.add(f),r.zoomToCursor&&T||r.object.isOrthographicCamera?u.radius=ye(u.radius):u.radius=ye(u.radius*h),te.setFromSpherical(u),te.applyQuaternion(J),F.copy(r.target).add(te),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,f.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),f.set(0,0,0));let he=!1;if(r.zoomToCursor&&T){let je=null;if(r.object instanceof Cr&&r.object.isPerspectiveCamera){const mt=te.length();je=ye(mt*h);const Tt=mt-je;r.object.position.addScaledVector(R,Tt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const mt=new W(L.x,L.y,0);mt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),he=!0;const Tt=new W(L.x,L.y,0);Tt.unproject(r.object),r.object.position.sub(Tt).add(mt),r.object.updateMatrixWorld(),je=te.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;je!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(je).add(r.object.position):(X2.origin.copy(r.object.position),X2.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(X2.direction))<lve?e.lookAt(r.target):(EO.setFromNormalAndCoplanarPoint(r.object.up,r.target),X2.intersectPlane(EO,r.target))))}else r.object instanceof _l&&r.object.isOrthographicCamera&&(he=h!==1,he&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,T=!1,he||He.distanceToSquared(r.object.position)>c||8*(1-Se.dot(r.object.quaternion))>c?(r.dispatchEvent(i),He.copy(r.object.position),Se.copy(r.object.quaternion),he=!1,!0):!1}})(),this.connect=te=>{te===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=te,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ie),r.domElement.addEventListener("pointerdown",U),r.domElement.addEventListener("pointercancel",Te),r.domElement.addEventListener("wheel",ce)},this.dispose=()=>{var te,ge,We,J,He,Se;r.domElement&&(r.domElement.style.touchAction="auto"),(te=r.domElement)==null||te.removeEventListener("contextmenu",Ie),(ge=r.domElement)==null||ge.removeEventListener("pointerdown",U),(We=r.domElement)==null||We.removeEventListener("pointercancel",Te),(J=r.domElement)==null||J.removeEventListener("wheel",ce),(He=r.domElement)==null||He.ownerDocument.removeEventListener("pointermove",pe),(Se=r.domElement)==null||Se.ownerDocument.removeEventListener("pointerup",Te),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",de)};const r=this,i={type:"change"},o={type:"start"},s={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new z6,d=new z6;let h=1;const f=new W,p=new $e,v=new $e,b=new $e,y=new $e,x=new $e,w=new $e,A=new $e,D=new $e,k=new $e,R=new W,L=new $e;let T=!1;const C=[],P={};function z(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function $(te){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=te:d.theta-=te}function X(te){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=te:d.phi-=te}const Z=(()=>{const te=new W;return function(We,J){te.setFromMatrixColumn(J,0),te.multiplyScalar(-We),f.add(te)}})(),K=(()=>{const te=new W;return function(We,J){r.screenSpacePanning===!0?te.setFromMatrixColumn(J,1):(te.setFromMatrixColumn(J,0),te.crossVectors(r.object.up,te)),te.multiplyScalar(We),f.add(te)}})(),O=(()=>{const te=new W;return function(We,J){const He=r.domElement;if(He&&r.object instanceof Cr&&r.object.isPerspectiveCamera){const Se=r.object.position;te.copy(Se).sub(r.target);let Ce=te.length();Ce*=Math.tan(r.object.fov/2*Math.PI/180),Z(2*We*Ce/He.clientHeight,r.object.matrix),K(2*J*Ce/He.clientHeight,r.object.matrix)}else He&&r.object instanceof _l&&r.object.isOrthographicCamera?(Z(We*(r.object.right-r.object.left)/r.object.zoom/He.clientWidth,r.object.matrix),K(J*(r.object.top-r.object.bottom)/r.object.zoom/He.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function V(te){r.object instanceof Cr&&r.object.isPerspectiveCamera||r.object instanceof _l&&r.object.isOrthographicCamera?h/=te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function I(te){r.object instanceof Cr&&r.object.isPerspectiveCamera||r.object instanceof _l&&r.object.isOrthographicCamera?h*=te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function se(te){if(!r.zoomToCursor||!r.domElement)return;T=!0;const ge=r.domElement.getBoundingClientRect(),We=te.clientX-ge.left,J=te.clientY-ge.top,He=ge.width,Se=ge.height;L.x=We/He*2-1,L.y=-(J/Se)*2+1,R.set(L.x,L.y,1).unproject(r.object).sub(r.object.position).normalize()}function ye(te){return Math.max(r.minDistance,Math.min(r.maxDistance,te))}function G(te){p.set(te.clientX,te.clientY)}function ae(te){se(te),A.set(te.clientX,te.clientY)}function _e(te){y.set(te.clientX,te.clientY)}function ve(te){v.set(te.clientX,te.clientY),b.subVectors(v,p).multiplyScalar(r.rotateSpeed);const ge=r.domElement;ge&&($(2*Math.PI*b.x/ge.clientHeight),X(2*Math.PI*b.y/ge.clientHeight)),p.copy(v),r.update()}function Ae(te){D.set(te.clientX,te.clientY),k.subVectors(D,A),k.y>0?V(H()):k.y<0&&I(H()),A.copy(D),r.update()}function Ve(te){x.set(te.clientX,te.clientY),w.subVectors(x,y).multiplyScalar(r.panSpeed),O(w.x,w.y),y.copy(x),r.update()}function pt(te){se(te),te.deltaY<0?I(H()):te.deltaY>0&&V(H()),r.update()}function ke(te){let ge=!1;switch(te.code){case r.keys.UP:O(0,r.keyPanSpeed),ge=!0;break;case r.keys.BOTTOM:O(0,-r.keyPanSpeed),ge=!0;break;case r.keys.LEFT:O(r.keyPanSpeed,0),ge=!0;break;case r.keys.RIGHT:O(-r.keyPanSpeed,0),ge=!0;break}ge&&(te.preventDefault(),r.update())}function ee(){if(C.length==1)p.set(C[0].pageX,C[0].pageY);else{const te=.5*(C[0].pageX+C[1].pageX),ge=.5*(C[0].pageY+C[1].pageY);p.set(te,ge)}}function le(){if(C.length==1)y.set(C[0].pageX,C[0].pageY);else{const te=.5*(C[0].pageX+C[1].pageX),ge=.5*(C[0].pageY+C[1].pageY);y.set(te,ge)}}function xe(){const te=C[0].pageX-C[1].pageX,ge=C[0].pageY-C[1].pageY,We=Math.sqrt(te*te+ge*ge);A.set(0,We)}function Fe(){r.enableZoom&&xe(),r.enablePan&&le()}function Be(){r.enableZoom&&xe(),r.enableRotate&&ee()}function Re(te){if(C.length==1)v.set(te.pageX,te.pageY);else{const We=rt(te),J=.5*(te.pageX+We.x),He=.5*(te.pageY+We.y);v.set(J,He)}b.subVectors(v,p).multiplyScalar(r.rotateSpeed);const ge=r.domElement;ge&&($(2*Math.PI*b.x/ge.clientHeight),X(2*Math.PI*b.y/ge.clientHeight)),p.copy(v)}function Ze(te){if(C.length==1)x.set(te.pageX,te.pageY);else{const ge=rt(te),We=.5*(te.pageX+ge.x),J=.5*(te.pageY+ge.y);x.set(We,J)}w.subVectors(x,y).multiplyScalar(r.panSpeed),O(w.x,w.y),y.copy(x)}function Je(te){const ge=rt(te),We=te.pageX-ge.x,J=te.pageY-ge.y,He=Math.sqrt(We*We+J*J);D.set(0,He),k.set(0,Math.pow(D.y/A.y,r.zoomSpeed)),V(k.y),A.copy(D)}function _t(te){r.enableZoom&&Je(te),r.enablePan&&Ze(te)}function Q(te){r.enableZoom&&Je(te),r.enableRotate&&Re(te)}function U(te){var ge,We;r.enabled!==!1&&(C.length===0&&((ge=r.domElement)==null||ge.ownerDocument.addEventListener("pointermove",pe),(We=r.domElement)==null||We.ownerDocument.addEventListener("pointerup",Te)),et(te),te.pointerType==="touch"?De(te):Oe(te))}function pe(te){r.enabled!==!1&&(te.pointerType==="touch"?Qe(te):Ge(te))}function Te(te){var ge,We,J;kt(te),C.length===0&&((ge=r.domElement)==null||ge.releasePointerCapture(te.pointerId),(We=r.domElement)==null||We.ownerDocument.removeEventListener("pointermove",pe),(J=r.domElement)==null||J.ownerDocument.removeEventListener("pointerup",Te)),r.dispatchEvent(s),l=a.NONE}function Oe(te){let ge;switch(te.button){case 0:ge=r.mouseButtons.LEFT;break;case 1:ge=r.mouseButtons.MIDDLE;break;case 2:ge=r.mouseButtons.RIGHT;break;default:ge=-1}switch(ge){case ah.DOLLY:if(r.enableZoom===!1)return;ae(te),l=a.DOLLY;break;case ah.ROTATE:if(te.ctrlKey||te.metaKey||te.shiftKey){if(r.enablePan===!1)return;_e(te),l=a.PAN}else{if(r.enableRotate===!1)return;G(te),l=a.ROTATE}break;case ah.PAN:if(te.ctrlKey||te.metaKey||te.shiftKey){if(r.enableRotate===!1)return;G(te),l=a.ROTATE}else{if(r.enablePan===!1)return;_e(te),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function Ge(te){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;ve(te);break;case a.DOLLY:if(r.enableZoom===!1)return;Ae(te);break;case a.PAN:if(r.enablePan===!1)return;Ve(te);break}}function ce(te){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(te.preventDefault(),r.dispatchEvent(o),pt(te),r.dispatchEvent(s))}function de(te){r.enabled===!1||r.enablePan===!1||ke(te)}function De(te){switch(vt(te),C.length){case 1:switch(r.touches.ONE){case lh.ROTATE:if(r.enableRotate===!1)return;ee(),l=a.TOUCH_ROTATE;break;case lh.PAN:if(r.enablePan===!1)return;le(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case lh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(),l=a.TOUCH_DOLLY_PAN;break;case lh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Be(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function Qe(te){switch(vt(te),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Re(te),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ze(te),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;_t(te),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Q(te),r.update();break;default:l=a.NONE}}function Ie(te){r.enabled!==!1&&te.preventDefault()}function et(te){C.push(te)}function kt(te){delete P[te.pointerId];for(let ge=0;ge<C.length;ge++)if(C[ge].pointerId==te.pointerId){C.splice(ge,1);return}}function vt(te){let ge=P[te.pointerId];ge===void 0&&(ge=new $e,P[te.pointerId]=ge),ge.set(te.pageX,te.pageY)}function rt(te){const ge=te.pointerId===C[0].pointerId?C[1]:C[0];return P[ge.pointerId]}n!==void 0&&this.connect(n),this.update()}};function Zw(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const Rh="srgb",bc="srgb-linear",TO=3001,uve=3e3;class QT extends ao{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new mve(n)}),this.register(function(n){return new gve(n)}),this.register(function(n){return new Cve(n)}),this.register(function(n){return new Mve(n)}),this.register(function(n){return new Eve(n)}),this.register(function(n){return new vve(n)}),this.register(function(n){return new bve(n)}),this.register(function(n){return new xve(n)}),this.register(function(n){return new _ve(n)}),this.register(function(n){return new pve(n)}),this.register(function(n){return new wve(n)}),this.register(function(n){return new yve(n)}),this.register(function(n){return new Ave(n)}),this.register(function(n){return new Sve(n)}),this.register(function(n){return new hve(n)}),this.register(function(n){return new kve(n)}),this.register(function(n){return new Tve(n)})}load(e,n,r,i){const o=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const c=Yu.extractUrlBase(e);s=Yu.resolveURL(c,this.path)}else s=Yu.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),o.manager.itemError(e),o.manager.itemEnd(e)},l=new As(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{o.parse(c,s,function(u){n(u),o.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let o;const s={},a={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Zw(new Uint8Array(e.slice(0,4)))===OW){try{s[hn.KHR_BINARY_GLTF]=new Dve(e)}catch(u){i&&i(u);return}o=JSON.parse(s[hn.KHR_BINARY_GLTF].content)}else o=JSON.parse(Zw(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new $ve(o,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,s[u.name]=!0}if(o.extensionsUsed)for(let c=0;c<o.extensionsUsed.length;++c){const u=o.extensionsUsed[c],d=o.extensionsRequired||[];switch(u){case hn.KHR_MATERIALS_UNLIT:s[u]=new fve;break;case hn.KHR_DRACO_MESH_COMPRESSION:s[u]=new Lve(o,this.dracoLoader);break;case hn.KHR_TEXTURE_TRANSFORM:s[u]=new Rve;break;case hn.KHR_MESH_QUANTIZATION:s[u]=new Bve;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(s),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,o){r.parse(e,n,i,o)})}}function dve(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const hn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class hve{constructor(e){this.parser=e,this.name=hn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const o=n[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const o=n.json,l=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let c;const u=new ut(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],bc);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new VT(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new GT(u),c.distance=d;break;case"spot":c=new $T(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,ic(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,o=r.json.nodes[e],a=(o.extensions&&o.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class fve{constructor(){this.name=hn.KHR_MATERIALS_UNLIT}getMaterialType(){return vs}extendParams(e,n,r){const i=[];e.color=new ut(1,1,1),e.opacity=1;const o=n.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const s=o.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],bc),e.opacity=s[3]}o.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",o.baseColorTexture,Rh))}return Promise.all(i)}}class pve{constructor(e){this.parser=e,this.name=hn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name].emissiveStrength;return o!==void 0&&(n.emissiveIntensity=o),Promise.resolve()}}class mve{constructor(e){this.parser=e,this.name=hn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(n.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&o.push(r.assignTexture(n,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(n,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(n,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const a=s.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new $e(a,a)}return Promise.all(o)}}class gve{constructor(e){this.parser=e,this.name=hn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return n.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class yve{constructor(e){this.parser=e,this.name=hn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.iridescenceFactor!==void 0&&(n.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&o.push(r.assignTexture(n,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(n.iridescenceIOR=s.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(n,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(o)}}class vve{constructor(e){this.parser=e,this.name=hn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];n.sheenColor=new ut(0,0,0),n.sheenRoughness=0,n.sheen=1;const s=i.extensions[this.name];if(s.sheenColorFactor!==void 0){const a=s.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],bc)}return s.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&o.push(r.assignTexture(n,"sheenColorMap",s.sheenColorTexture,Rh)),s.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(n,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(o)}}class bve{constructor(e){this.parser=e,this.name=hn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(n.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&o.push(r.assignTexture(n,"transmissionMap",s.transmissionTexture)),Promise.all(o)}}class xve{constructor(e){this.parser=e,this.name=hn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];n.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&o.push(r.assignTexture(n,"thicknessMap",s.thicknessTexture)),n.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return n.attenuationColor=new ut().setRGB(a[0],a[1],a[2],bc),Promise.all(o)}}class _ve{constructor(e){this.parser=e,this.name=hn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return n.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class wve{constructor(e){this.parser=e,this.name=hn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];n.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&o.push(r.assignTexture(n,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return n.specularColor=new ut().setRGB(a[0],a[1],a[2],bc),s.specularColorTexture!==void 0&&o.push(r.assignTexture(n,"specularColorMap",s.specularColorTexture,Rh)),Promise.all(o)}}class Sve{constructor(e){this.parser=e,this.name=hn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return n.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&o.push(r.assignTexture(n,"bumpMap",s.bumpTexture)),Promise.all(o)}}class Ave{constructor(e){this.parser=e,this.name=hn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:aa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.anisotropyStrength!==void 0&&(n.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(n.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&o.push(r.assignTexture(n,"anisotropyMap",s.anisotropyTexture)),Promise.all(o)}}class Cve{constructor(e){this.parser=e,this.name=hn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const o=i.extensions[this.name],s=n.options.ktx2Loader;if(!s){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,o.source,s)}}class Mve{constructor(e){this.parser=e,this.name=hn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[n])return null;const s=o.extensions[n],a=i.images[s.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Eve{constructor(e){this.parser=e,this.name=hn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[n])return null;const s=o.extensions[n],a=i.images[s.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class kve{constructor(e){this.name=hn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],o=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,h=new Uint8Array(a,l,c);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(u,d,h,i.mode,i.filter).then(function(f){return f.buffer}):s.ready.then(function(){const f=new ArrayBuffer(u*d);return s.decodeGltfBuffer(new Uint8Array(f),u,d,h,i.mode,i.filter),f})})}else return null}}class Tve{constructor(e){this.name=hn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Gs.TRIANGLES&&c.mode!==Gs.TRIANGLE_STRIP&&c.mode!==Gs.TRIANGLE_FAN&&c.mode!==void 0)return null;const s=r.extensions[this.name].attributes,a=[],l={};for(const c in s)a.push(this.parser.getDependency("accessor",s[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],h=c[0].count,f=[];for(const p of d){const v=new Pt,b=new W,y=new Ai,x=new W(1,1,1),w=new TT(p.geometry,p.material,h);for(let A=0;A<h;A++)l.TRANSLATION&&b.fromBufferAttribute(l.TRANSLATION,A),l.ROTATION&&y.fromBufferAttribute(l.ROTATION,A),l.SCALE&&x.fromBufferAttribute(l.SCALE,A),w.setMatrixAt(A,v.compose(b,y,x));for(const A in l)if(A==="_COLOR_0"){const D=l[A];w.instanceColor=new sf(D.array,D.itemSize,D.normalized)}else A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&p.geometry.setAttribute(A,l[A]);mn.prototype.copy.call(w,p),this.parser.assignFinalMaterial(w),f.push(w)}return u.isGroup?(u.clear(),u.add(...f),u):f[0]}))}}const OW="glTF",Ug=12,DO={JSON:1313821514,BIN:5130562};class Dve{constructor(e){this.name=hn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Ug);if(this.header={magic:Zw(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==OW)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Ug,i=new DataView(e,Ug);let o=0;for(;o<r;){const s=i.getUint32(o,!0);o+=4;const a=i.getUint32(o,!0);if(o+=4,a===DO.JSON){const l=new Uint8Array(e,Ug+o,s);this.content=Zw(l)}else if(a===DO.BIN){const l=Ug+o;this.body=e.slice(l,l+s)}o+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Lve{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=hn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},l={},c={};for(const u in s){const d=$6[u]||u.toLowerCase();a[d]=s[u]}for(const u in e.attributes){const d=$6[u]||u.toLowerCase();if(s[u]!==void 0){const h=r.accessors[e.attributes[u]],f=Cm[h.componentType];c[d]=f.name,l[d]=h.normalized===!0}}return n.getDependency("bufferView",o).then(function(u){return new Promise(function(d,h){i.decodeDracoFile(u,function(f){for(const p in f.attributes){const v=f.attributes[p],b=l[p];b!==void 0&&(v.normalized=b)}d(f)},a,c,bc,h)})})}}class Rve{constructor(){this.name=hn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class Bve{constructor(){this.name=hn.KHR_MESH_QUANTIZATION}}class FW extends _0{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i*3+i;for(let s=0;s!==i;s++)n[s]=r[o+s];return n}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,d=(r-n)/u,h=d*d,f=h*d,p=e*c,v=p-c,b=-2*f+3*h,y=f-h,x=1-b,w=y-h+d;for(let A=0;A!==a;A++){const D=s[v+A+a],k=s[v+A+l]*u,R=s[p+A+a],L=s[p+A]*u;o[A]=x*D+w*k+b*R+y*L}return o}}const Pve=new Ai;class Nve extends FW{interpolate_(e,n,r,i){const o=super.interpolate_(e,n,r,i);return Pve.fromArray(o).normalize().toArray(o),o}}const Gs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Cm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},LO={9728:ci,9729:Pr,9984:X3,9985:Sm,9986:Mh,9987:Zs},RO={33071:gs,33648:Qm,10497:od},OM={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$6={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...ove>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},_u={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ive={CUBICSPLINE:void 0,LINEAR:t0,STEP:e0},FM={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ove(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new mv({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:kl})),t.DefaultMaterial}function Qd(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function ic(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Fve(t,e,n){let r=!1,i=!1,o=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(o=!0),r&&i&&o)break}if(!r&&!i&&!o)return Promise.resolve(t);const s=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const h=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;s.push(h)}if(i){const h=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(h)}if(o){const h=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],h=c[2];return r&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=d),o&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function zve(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Uve(t){let e;const n=t.extensions&&t.extensions[hn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+zM(n.attributes):e=t.indices+":"+zM(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+zM(t.targets[r]);return e}function zM(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function G6(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function jve(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Hve=new Pt;class $ve{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new dve,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,o=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&o<98?this.textureLoader=new ZK(this.options.manager):this.textureLoader=new sW(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new As(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(s){const a={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:r,userData:{}};return Qd(o,a,i),ic(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,o=n.length;i<o;i++){const s=n[i].joints;for(let a=0,l=s.length;a<l;a++)e[s[a]].isBone=!0}for(let i=0,o=e.length;i<o;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(r[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),o=(s,a)=>{const l=this.associations.get(s);l!=null&&this.associations.set(a,l);for(const[c,u]of s.children.entries())o(u,a.children[c])};return o(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const o=e(n[i]);o&&r.push(o)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(o){return o.loadNode&&o.loadNode(n)});break;case"mesh":i=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(o,s){return r.getDependency(e,s)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[hn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(o,s){r.load(Yu.resolveURL(n.uri,i.path),o,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,o=n.byteOffset||0;return r.slice(o,o+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const s=OM[i.type],a=Cm[i.componentType],l=i.normalized===!0,c=new a(i.count*s);return Promise.resolve(new wn(c,s,l))}const o=[];return i.bufferView!==void 0?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),i.sparse!==void 0&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then(function(s){const a=s[0],l=OM[i.type],c=Cm[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,h=i.byteOffset||0,f=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,p=i.normalized===!0;let v,b;if(f&&f!==d){const y=Math.floor(h/f),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let w=n.cache.get(x);w||(v=new c(a,y*f,i.count*f/u),w=new uv(v,f/u),n.cache.add(x,w)),b=new sd(w,l,h%f/u,p)}else a===null?v=new c(i.count*l):v=new c(a,h,i.count*l),b=new wn(v,l,p);if(i.sparse!==void 0){const y=OM.SCALAR,x=Cm[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,D=new x(s[1],w,i.sparse.count*y),k=new c(s[2],A,i.sparse.count*l);a!==null&&(b=new wn(b.array.slice(),b.itemSize,b.normalized));for(let R=0,L=D.length;R<L;R++){const T=D[R];if(b.setX(T,k[R*l]),l>=2&&b.setY(T,k[R*l+1]),l>=3&&b.setZ(T,k[R*l+2]),l>=4&&b.setW(T,k[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return b})}loadTexture(e){const n=this.json,r=this.options,o=n.textures[e].source,s=n.images[o];let a=this.textureLoader;if(s.uri){const l=r.manager.getHandler(s.uri);l!==null&&(a=l)}return this.loadTextureImage(e,o,a)}loadTextureImage(e,n,r){const i=this,o=this.json,s=o.textures[e],a=o.images[n],l=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=s.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const h=(o.samplers||{})[s.sampler]||{};return u.magFilter=LO[h.magFilter]||Pr,u.minFilter=LO[h.minFilter]||Zs,u.wrapS=RO[h.wrapS]||od,u.wrapT=RO[h.wrapT]||od,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const s=i.images[e],a=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(s.bufferView!==void 0)l=r.getDependency("bufferView",s.bufferView).then(function(d){c=!0;const h=new Blob([d],{type:s.mimeType});return l=a.createObjectURL(h),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(h,f){let p=h;n.isImageBitmapLoader===!0&&(p=function(v){const b=new ur(v);b.needsUpdate=!0,h(b)}),n.load(Yu.resolveURL(d,o.path),p,void 0,f)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),ic(d,s),d.userData.mimeType=s.mimeType||jve(s.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,r,i){const o=this;return this.getDependency("texture",r.index).then(function(s){if(!s)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(s=s.clone(),s.channel=r.texCoord),o.extensions[hn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[hn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=o.associations.get(s);s=o.extensions[hn.KHR_TEXTURE_TRANSFORM].extendTexture(s,a),o.associations.set(s,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===TO?Rh:bc),"colorSpace"in s?s.colorSpace=i:s.encoding=i===Rh?TO:uve),e[n]=s,s})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,o=n.attributes.color!==void 0,s=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new r4,ei.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new so,ei.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||o||s){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),o&&(a+="vertex-colors:"),s&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),o&&(l.vertexColors=!0),s&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return mv}loadMaterial(e){const n=this,r=this.json,i=this.extensions,o=r.materials[e];let s;const a={},l=o.extensions||{},c=[];if(l[hn.KHR_MATERIALS_UNLIT]){const d=i[hn.KHR_MATERIALS_UNLIT];s=d.getMaterialType(),c.push(d.extendParams(a,o,n))}else{const d=o.pbrMetallicRoughness||{};if(a.color=new ut(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const h=d.baseColorFactor;a.color.setRGB(h[0],h[1],h[2],bc),a.opacity=h[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",d.baseColorTexture,Rh)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),s=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}o.doubleSided===!0&&(a.side=Ea);const u=o.alphaMode||FM.OPAQUE;if(u===FM.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===FM.MASK&&(a.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&s!==vs&&(c.push(n.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new $e(1,1),o.normalTexture.scale!==void 0)){const d=o.normalTexture.scale;a.normalScale.set(d,d)}if(o.occlusionTexture!==void 0&&s!==vs&&(c.push(n.assignTexture(a,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&s!==vs){const d=o.emissiveFactor;a.emissive=new ut().setRGB(d[0],d[1],d[2],bc)}return o.emissiveTexture!==void 0&&s!==vs&&c.push(n.assignTexture(a,"emissiveMap",o.emissiveTexture,Rh)),Promise.all(c).then(function(){const d=new s(a);return o.name&&(d.name=o.name),ic(d,o),n.associations.set(d,{materials:e}),o.extensions&&Qd(i,d,o),d})}createUniqueName(e){const n=xn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function o(a){return r[hn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return BO(l,a,n)})}const s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Uve(c),d=i[u];if(d)s.push(d.promise);else{let h;c.extensions&&c.extensions[hn.KHR_DRACO_MESH_COMPRESSION]?h=o(c):h=BO(new Wt,c,n),i[u]={primitive:c,promise:h},s.push(h)}}return Promise.all(s)}loadMesh(e){const n=this,r=this.json,i=this.extensions,o=r.meshes[e],s=o.primitives,a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l].material===void 0?Ove(this.cache):this.getDependency("material",s[l].material);a.push(u)}return a.push(n.loadGeometries(s)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let f=0,p=u.length;f<p;f++){const v=u[f],b=s[f];let y;const x=c[f];if(b.mode===Gs.TRIANGLES||b.mode===Gs.TRIANGLE_STRIP||b.mode===Gs.TRIANGLE_FAN||b.mode===void 0)y=o.isSkinnedMesh===!0?new kT(v,x):new $r(v,x),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),b.mode===Gs.TRIANGLE_STRIP?y.geometry=MO(y.geometry,gT):b.mode===Gs.TRIANGLE_FAN&&(y.geometry=MO(y.geometry,qw));else if(b.mode===Gs.LINES)y=new Ha(v,x);else if(b.mode===Gs.LINE_STRIP)y=new Dc(v,x);else if(b.mode===Gs.LINE_LOOP)y=new DT(v,x);else if(b.mode===Gs.POINTS)y=new LT(v,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+b.mode);Object.keys(y.geometry.morphAttributes).length>0&&zve(y,o),y.name=n.createUniqueName(o.name||"mesh_"+e),ic(y,o),b.extensions&&Qd(i,y,b),n.assignFinalMaterial(y),d.push(y)}for(let f=0,p=d.length;f<p;f++)n.associations.set(d[f],{meshes:e,primitives:f});if(d.length===1)return o.extensions&&Qd(i,d[0],o),d[0];const h=new pc;o.extensions&&Qd(i,h,o),n.associations.set(h,{meshes:e});for(let f=0,p=d.length;f<p;f++)h.add(d[f]);return h})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Cr(oK.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new _l(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),ic(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,o=n.joints.length;i<o;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const o=i.pop(),s=i,a=[],l=[];for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d){a.push(d);const h=new Pt;o!==null&&h.fromArray(o.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new dv(a,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],o=i.name?i.name:"animation_"+e,s=[],a=[],l=[],c=[],u=[];for(let d=0,h=i.channels.length;d<h;d++){const f=i.channels[d],p=i.samplers[f.sampler],v=f.target,b=v.node,y=i.parameters!==void 0?i.parameters[p.input]:p.input,x=i.parameters!==void 0?i.parameters[p.output]:p.output;v.node!==void 0&&(s.push(this.getDependency("node",b)),a.push(this.getDependency("accessor",y)),l.push(this.getDependency("accessor",x)),c.push(p),u.push(v))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(d){const h=d[0],f=d[1],p=d[2],v=d[3],b=d[4],y=[];for(let x=0,w=h.length;x<w;x++){const A=h[x],D=f[x],k=p[x],R=v[x],L=b[x];if(A===void 0)continue;A.updateMatrix&&A.updateMatrix();const T=r._createAnimationTracks(A,D,k,R,L);if(T)for(let C=0;C<T.length;C++)y.push(T[C])}return new i0(o,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(o){const s=r._getNodeRef(r.meshCache,i.mesh,o);return i.weights!==void 0&&s.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),s})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],o=r._loadNodeShallow(e),s=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)s.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([o,Promise.all(s),l]).then(function(c){const u=c[0],d=c[1],h=c[2];h!==null&&u.traverse(function(f){f.isSkinnedMesh&&f.bind(h,Hve)});for(let f=0,p=d.length;f<p;f++)u.add(d[f]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=n.nodes[e],s=o.name?i.createUniqueName(o.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),o.camera!==void 0&&a.push(i.getDependency("camera",o.camera).then(function(c){return i._getNodeRef(i.cameraCache,o.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(o.isBone===!0?u=new n4:c.length>1?u=new pc:c.length===1?u=c[0]:u=new mn,u!==c[0])for(let d=0,h=c.length;d<h;d++)u.add(c[d]);if(o.name&&(u.userData.name=o.name,u.name=s),ic(u,o),o.extensions&&Qd(r,u,o),o.matrix!==void 0){const d=new Pt;d.fromArray(o.matrix),u.applyMatrix4(d)}else o.translation!==void 0&&u.position.fromArray(o.translation),o.rotation!==void 0&&u.quaternion.fromArray(o.rotation),o.scale!==void 0&&u.scale.fromArray(o.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,o=new pc;r.name&&(o.name=i.createUniqueName(r.name)),ic(o,r),r.extensions&&Qd(n,o,r);const s=r.nodes||[],a=[];for(let l=0,c=s.length;l<c;l++)a.push(i.getDependency("node",s[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)o.add(l[u]);const c=u=>{const d=new Map;for(const[h,f]of i.associations)(h instanceof ei||h instanceof ur)&&d.set(h,f);return u.traverse(h=>{const f=i.associations.get(h);f!=null&&d.set(h,f)}),d};return i.associations=c(o),o})}_createAnimationTracks(e,n,r,i,o){const s=[],a=e.name?e.name:e.uuid,l=[];_u[o.path]===_u.weights?e.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(a);let c;switch(_u[o.path]){case _u.weights:c=lf;break;case _u.rotation:c=cf;break;case _u.position:case _u.scale:c=uf;break;default:switch(r.itemSize){case 1:c=lf;break;case 2:case 3:default:c=uf;break}break}const u=i.interpolation!==void 0?Ive[i.interpolation]:t0,d=this._getArrayFromAccessor(r);for(let h=0,f=l.length;h<f;h++){const p=new c(l[h]+"."+_u[o.path],n.array,d,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(p),s.push(p)}return s}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=G6(n.constructor),i=new Float32Array(n.length);for(let o=0,s=n.length;o<s;o++)i[o]=n[o]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof cf?Nve:FW;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Gve(t,e,n){const r=e.attributes,i=new ro;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new W(l[0],l[1],l[2]),new W(c[0],c[1],c[2])),a.normalized){const u=G6(Cm[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const a=new W,l=new W;for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d.POSITION!==void 0){const h=n.json.accessors[d.POSITION],f=h.min,p=h.max;if(f!==void 0&&p!==void 0){if(l.setX(Math.max(Math.abs(f[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(f[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(f[2]),Math.abs(p[2]))),h.normalized){const v=G6(Cm[h.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const s=new Fi;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=s}function BO(t,e,n){const r=e.attributes,i=[];function o(s,a){return n.getDependency("accessor",s).then(function(l){t.setAttribute(a,l)})}for(const s in r){const a=$6[s]||s.toLowerCase();a in t.attributes||i.push(o(r[s],a))}if(e.indices!==void 0&&!t.index){const s=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(s)}return ic(t,e),Gve(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?Fve(t,e.targets,n):t})}const UM=new WeakMap;class Vve extends ao{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const o=new As(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,s=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const r=JSON.stringify(n);if(UM.has(e)){const l=UM.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const o=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(o,s).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[o]={resolve:c,reject:u},i.postMessage({type:"decode",id:o,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&o&&this._releaseTask(i,o)}),UM.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new Wt;e.index&&n.setIndex(new wn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],o=i.name,s=i.array,a=i.itemSize;n.setAttribute(o,new wn(s,a))}return n}_loadLibrary(e,n){const r=new As(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,o)=>{r.load(e,i,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=qve.toString(),s=["/* draco decoder */",i,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(o){const s=o.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,o){return i._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function qve(){let t,e;onmessage=function(s){const a=s.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,h=new d.Decoder,f=new d.DecoderBuffer;f.Init(new Int8Array(l),l.byteLength);try{const p=n(d,h,f,c),v=p.attributes.map(b=>b.array.buffer);p.index&&v.push(p.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:p},v)}catch(p){console.error(p),self.postMessage({type:"error",id:a.id,error:p.message})}finally{d.destroy(f),d.destroy(h)}});break}};function n(s,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let h,f;const p=a.GetEncodedGeometryType(l);if(p===s.TRIANGULAR_MESH)h=new s.Mesh,f=a.DecodeBufferToMesh(l,h);else if(p===s.POINT_CLOUD)h=new s.PointCloud,f=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!f.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+f.error_msg());const v={index:null,attributes:[]};for(const b in u){const y=self[d[b]];let x,w;if(c.useUniqueIDs)w=u[b],x=a.GetAttributeByUniqueId(h,w);else{if(w=a.GetAttributeId(h,s[u[b]]),w===-1)continue;x=a.GetAttribute(h,w)}v.attributes.push(i(s,a,h,b,y,x))}return p===s.TRIANGULAR_MESH&&(v.index=r(s,a,h)),s.destroy(h),v}function r(s,a,l){const u=l.num_faces()*3,d=u*4,h=s._malloc(d);a.GetTrianglesUInt32Array(l,d,h);const f=new Uint32Array(s.HEAPF32.buffer,h,u).slice();return s._free(h),{array:f,itemSize:1}}function i(s,a,l,c,u,d){const h=d.num_components(),p=l.num_points()*h,v=p*u.BYTES_PER_ELEMENT,b=o(s,u),y=s._malloc(v);a.GetAttributeDataArrayForAllPoints(l,d,b,v,y);const x=new u(s.HEAPF32.buffer,y,p).slice();return s._free(y),{name:c,array:x,itemSize:h}}function o(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let J2;const jM=()=>{if(J2)return J2;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let o;const s=WebAssembly.instantiate(a(i),{}).then(d=>{o=d.instance,o.exports.__wasm_call_ctors()});function a(d){const h=new Uint8Array(d.length);for(let p=0;p<d.length;++p){const v=d.charCodeAt(p);h[p]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let f=0;for(let p=0;p<d.length;++p)h[f++]=h[p]<60?r[h[p]]:(h[p]-60)*64+h[++p];return h.buffer.slice(0,f)}function l(d,h,f,p,v,b){const y=o.exports.sbrk,x=f+3&-4,w=y(x*p),A=y(v.length),D=new Uint8Array(o.exports.memory.buffer);D.set(v,A);const k=d(w,f,p,A,v.length);if(k===0&&b&&b(w,x,p),h.set(D.subarray(w,w+f*p)),y(w-y(0)),k!==0)throw new Error(`Malformed buffer data: ${k}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return J2={ready:s,supported:!0,decodeVertexBuffer(d,h,f,p,v){l(o.exports.meshopt_decodeVertexBuffer,d,h,f,p,o.exports[c[v]])},decodeIndexBuffer(d,h,f,p){l(o.exports.meshopt_decodeIndexBuffer,d,h,f,p)},decodeIndexSequence(d,h,f,p){l(o.exports.meshopt_decodeIndexSequence,d,h,f,p)},decodeGltfBuffer(d,h,f,p,v,b){l(o.exports[u[v]],d,h,f,p,o.exports[c[b]])}},J2};let Y2=null,zW="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function UW(t,e,n){return r=>{n&&n(r),t&&(Y2||(Y2=new Vve),Y2.setDecoderPath(typeof t=="string"?t:zW),r.setDRACOLoader(Y2)),e&&r.setMeshoptDecoder(typeof jM=="function"?jM():jM)}}function vv(t,e=!0,n=!0,r){return yv(QT,t,UW(e,n,r))}vv.preload=(t,e=!0,n=!0,r)=>yv.preload(QT,t,UW(e,n,r));vv.clear=t=>yv.clear(QT,t);vv.setDecoderPath=t=>{zW=t};const Kve=E.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:s,onStart:a,onEnd:l,...c},u)=>{const d=nc(k=>k.invalidate),h=nc(k=>k.camera),f=nc(k=>k.gl),p=nc(k=>k.events),v=nc(k=>k.setEvents),b=nc(k=>k.set),y=nc(k=>k.get),x=nc(k=>k.performance),w=e||h,A=r||p.connected||f.domElement,D=E.useMemo(()=>new cve(w),[w]);return DW(()=>{D.enabled&&D.update()},-1),E.useEffect(()=>(o&&D.connect(o===!0?A:o),D.connect(A),()=>void D.dispose()),[o,A,n,D,d]),E.useEffect(()=>{const k=T=>{d(),n&&x.regress(),s&&s(T)},R=T=>{a&&a(T)},L=T=>{l&&l(T)};return D.addEventListener("change",k),D.addEventListener("start",R),D.addEventListener("end",L),()=>{D.removeEventListener("start",R),D.removeEventListener("end",L),D.removeEventListener("change",k)}},[s,a,l,D,d,v]),E.useEffect(()=>{if(t){const k=y().controls;return b({controls:D}),()=>b({controls:k})}},[t,D]),E.createElement("primitive",$t({ref:u,object:D,enableDamping:i},c))}),Wve="modulepreload",Xve=function(t){return"/swpwr/"+t},PO={},Ho=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=Xve(l),l in PO)return;PO[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!r)for(let f=o.length-1;f>=0;f--){const p=o[f];if(p.href===l&&(!c||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Wve,c||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function Jve(t,e){const n=E.useRef(),[r]=E.useState(()=>e?e instanceof mn?{current:e}:e:n),[i]=E.useState(()=>new uW(void 0));E.useLayoutEffect(()=>{e&&(r.current=e instanceof mn?e:e.current),i._root=r.current});const o=E.useRef({}),s=E.useMemo(()=>{const a={};return t.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return o.current[l.name]||(o.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:t,actions:a,names:t.map(l=>l.name),mixer:i}},[t]);return DW((a,l)=>i.update(l)),E.useEffect(()=>{const a=r.current;return()=>{o.current={},i.stopAllAction(),Object.values(s.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[t]),s}var jW={exports:{}},Yve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Zve=Yve,Qve=Zve;function HW(){}function $W(){}$W.resetWarningCache=HW;var ebe=function(){function t(r,i,o,s,a,l){if(l!==Qve){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$W,resetWarningCache:HW};return n.PropTypes=n,n};jW.exports=ebe();var tbe=jW.exports,nbe={BASE_URL:"/swpwr/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const NO=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(p=>p(e,f))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(nbe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},GW=t=>t?NO(t):NO;var VW={exports:{}},qW={},KW={exports:{}},WW={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=E;function rbe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ibe=typeof Object.is=="function"?Object.is:rbe,obe=s0.useState,sbe=s0.useEffect,abe=s0.useLayoutEffect,lbe=s0.useDebugValue;function cbe(t,e){var n=e(),r=obe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return abe(function(){i.value=n,i.getSnapshot=e,HM(i)&&o({inst:i})},[t,n,e]),sbe(function(){return HM(i)&&o({inst:i}),t(function(){HM(i)&&o({inst:i})})},[t]),lbe(n),n}function HM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ibe(t,n)}catch{return!0}}function ube(t,e){return e()}var dbe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ube:cbe;WW.useSyncExternalStore=s0.useSyncExternalStore!==void 0?s0.useSyncExternalStore:dbe;KW.exports=WW;var hbe=KW.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4=E,fbe=hbe;function pbe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mbe=typeof Object.is=="function"?Object.is:pbe,gbe=fbe.useSyncExternalStore,ybe=x4.useRef,vbe=x4.useEffect,bbe=x4.useMemo,xbe=x4.useDebugValue;qW.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=ybe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=bbe(function(){function l(f){if(!c){if(c=!0,u=f,f=r(f),i!==void 0&&s.hasValue){var p=s.value;if(i(p,f))return d=p}return d=f}if(p=d,mbe(u,f))return p;var v=r(f);return i!==void 0&&i(p,v)?p:(u=f,d=v)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=gbe(t,o[0],o[1]);return vbe(function(){s.hasValue=!0,s.value=a},[a]),xbe(a),a};VW.exports=qW;var _be=VW.exports;const wbe=hf(_be);var XW={BASE_URL:"/swpwr/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:Sbe}=re,{useSyncExternalStoreWithSelector:Abe}=wbe;let IO=!1;const Cbe=t=>t;function lr(t,e=Cbe,n){(XW?"production":void 0)!=="production"&&n&&!IO&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),IO=!0);const r=Abe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Sbe(r),r}const OO=t=>{(XW?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?GW(t):t,n=(r,i)=>lr(e,r,i);return Object.assign(n,e),n},Mbe=t=>t?OO(t):OO,JW="/swpwr/models/foxy.glb",Ebe=E.forwardRef(function({emote:e="idle:00"},n){const r=E.useRef(null),i=kbe(e),{nodes:o,materials:s,animations:a}=vv(JW),{actions:l,mixer:c}=Jve(a,r);return E.useEffect(()=>{const u=d=>console.log(d,"finished");return c.addEventListener("finished",u),()=>{c.removeEventListener("finished",u)}},[c]),E.useEffect(()=>{if(!e)return;if(i){const d=l[i];d&&d.fadeOut(.2);const h=l[e];h&&h.stop()}const u=l[e];u&&(u.play(),u.fadeIn(.2))},[l,e,i]),_.jsx("group",{ref:r,dispose:null,children:_.jsxs("group",{name:"Scene",children:[_.jsxs("group",{name:"fox_all",rotation:[Math.PI/2,0,0],scale:.01,children:[_.jsx("group",{name:"huli_con",children:_.jsx("group",{name:"Group",children:_.jsx("group",{name:"Geometry",children:_.jsxs("group",{name:"huli_G",children:[_.jsx("group",{name:"body",children:_.jsx("group",{name:"shangshen"})}),_.jsxs("group",{name:"head",children:[_.jsxs("group",{name:"eye",children:[_.jsx("group",{name:"eye_L"}),_.jsx("group",{name:"eye_R"})]}),_.jsx("group",{name:"jiemao"}),_.jsxs("group",{name:"kouqiang",children:[_.jsx("group",{name:"down_teeth",children:_.jsx("group",{name:"tooth_down"})}),_.jsx("group",{name:"up_teeth",children:_.jsx("group",{name:"tooth_up"})})]}),_.jsx("group",{name:"meimao"})]})]})})})}),_.jsx("group",{name:"notRender",children:_.jsx("group",{name:"hairSystem1Follicles",children:_.jsx("group",{name:"pPlane1Follicle4150",position:[-.023,.395,-2.521],rotation:[2.674,-.07,-3.099],children:_.jsx("group",{name:"curve1",children:_.jsx("group",{name:"group1",position:[.058,-1.493,-2.069],rotation:[2.671,.043,-3.072],children:_.jsx("group",{name:"kouzi_con"})})})})})})]}),_.jsxs("group",{name:"Armature",rotation:[Math.PI/2,0,0],scale:.01,children:[_.jsx("primitive",{object:o.mixamorigHips}),_.jsxs("group",{name:"duanxiu",children:[_.jsx("skinnedMesh",{name:"Mesh002",geometry:o.Mesh002.geometry,material:s.yifu,skeleton:o.Mesh002.skeleton}),_.jsx("skinnedMesh",{name:"Mesh002_1",geometry:o.Mesh002_1.geometry,material:s.yifu_bian,skeleton:o.Mesh002_1.skeleton})]}),_.jsxs("group",{name:"head1",children:[_.jsx("skinnedMesh",{name:"Mesh018",geometry:o.Mesh018.geometry,material:s.face,skeleton:o.Mesh018.skeleton}),_.jsx("skinnedMesh",{name:"Mesh018_1",geometry:o.Mesh018_1.geometry,material:s.yifu_bian,skeleton:o.Mesh018_1.skeleton})]}),_.jsx("skinnedMesh",{name:"jiemao_L",geometry:o.jiemao_L.geometry,material:s.lambert3,skeleton:o.jiemao_L.skeleton}),_.jsx("skinnedMesh",{name:"jiemao_R",geometry:o.jiemao_R.geometry,material:s.lambert3,skeleton:o.jiemao_R.skeleton}),_.jsx("skinnedMesh",{name:"kouzi",geometry:o.kouzi.geometry,material:s.hua,skeleton:o.kouzi.skeleton}),_.jsx("skinnedMesh",{name:"meimao_L",geometry:o.meimao_L.geometry,material:s.meimao1,skeleton:o.meimao_L.skeleton}),_.jsx("skinnedMesh",{name:"meimao_R",geometry:o.meimao_R.geometry,material:s.meimao1,skeleton:o.meimao_R.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly1",geometry:o.nurbsToPoly1.geometry,material:s.shetou,skeleton:o.nurbsToPoly1.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly10",geometry:o.nurbsToPoly10.geometry,material:s.blinn4,skeleton:o.nurbsToPoly10.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly11",geometry:o.nurbsToPoly11.geometry,material:s.ya,skeleton:o.nurbsToPoly11.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly12",geometry:o.nurbsToPoly12.geometry,material:s.ya,skeleton:o.nurbsToPoly12.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly2",geometry:o.nurbsToPoly2.geometry,material:s.shetou,skeleton:o.nurbsToPoly2.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly3",geometry:o.nurbsToPoly3.geometry,material:s.eye_cornea1,skeleton:o.nurbsToPoly3.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly4",geometry:o.nurbsToPoly4.geometry,material:s.eye_pupil1,skeleton:o.nurbsToPoly4.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly5",geometry:o.nurbsToPoly5.geometry,material:s.blinn2,skeleton:o.nurbsToPoly5.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly6",geometry:o.nurbsToPoly6.geometry,material:s.blinn4,skeleton:o.nurbsToPoly6.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly7",geometry:o.nurbsToPoly7.geometry,material:s.eye_cornea1,skeleton:o.nurbsToPoly7.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly8",geometry:o.nurbsToPoly8.geometry,material:s.eye_pupil1,skeleton:o.nurbsToPoly8.skeleton}),_.jsx("skinnedMesh",{name:"nurbsToPoly9",geometry:o.nurbsToPoly9.geometry,material:s.blinn2,skeleton:o.nurbsToPoly9.skeleton}),_.jsx("skinnedMesh",{name:"qunzi",geometry:o.qunzi.geometry,material:s.yifu,skeleton:o.qunzi.skeleton}),_.jsx("skinnedMesh",{name:"tongue",geometry:o.tongue.geometry,material:s.shetou,skeleton:o.tongue.skeleton})]}),_.jsx("group",{name:"Armature001",rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_1})}),_.jsx("group",{name:"Armature002",rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_2})}),_.jsx("group",{name:"Armature003",rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_3})}),_.jsx("group",{name:"Armature004",rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_4})}),_.jsx("group",{name:"Armature005",rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_5})}),_.jsx("group",{name:"Armature006",rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_6})}),_.jsx("group",{name:"Armature007",rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_7})}),_.jsx("group",{name:"Armature008",rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_8})}),_.jsx("group",{name:"Armature009",rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_9})}),_.jsx("group",{name:"Armature010",position:[.148,.002,.007],rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_10})}),_.jsx("group",{name:"Armature011",position:[.171,.002,.008],rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_11})}),_.jsx("group",{name:"Armature012",position:[.189,.002,.009],rotation:[Math.PI/2,0,0],scale:.01,children:_.jsx("primitive",{object:o.mixamorigHips_12})})]})})});vv.preload(JW);function kbe(t){const e=E.useRef("");return E.useEffect(()=>{e.current=t},[t]),e.current}const Tbe=E.forwardRef(function(t,e){E.useImperativeHandle(e,()=>({emote(s){var a;(a=o.current)==null||a.emote(s)},status(){var s;(s=o.current)==null||s.status()}}),[]);let n,r,i;const o=E.useRef(null);return t.closeUp?(n={x:.5,y:.5,z:.2},r={x:0,y:.1,z:.4},i=9):(n={x:0,y:4,z:0},r={x:0,y:.01,z:.5},i=10),nc(s=>{var a,l;(a=s.camera)==null||a.position.set(r.x,r.y,r.z),(l=s.camera)==null||l.lookAt(new W(n.x,n.y,n.z)),s.camera.zoom=i,s.camera.up=new W(0,1,0),s.camera.updateProjectionMatrix()}),_.jsxs(_.Fragment,{children:[_.jsx("directionalLight",{castShadow:!0,position:[2.5,8,5],"shadow-mapSize":[1024,1024]}),_.jsx("group",{position:[0,-.03,0],children:_.jsx(Ebe,{emote:t.emote,ref:o})})]})});function Dbe(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Lbe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rbe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Bbe={};function FO(t,e){return((e||Bbe).jsx?Rbe:Lbe).test(t)}const Pbe=/[ \t\n\f\r]/g;function Nbe(t){return typeof t=="object"?t.type==="text"?zO(t.value):!1:zO(t)}function zO(t){return t.replace(Pbe,"")===""}class bv{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}bv.prototype.property={};bv.prototype.normal={};bv.prototype.space=null;function YW(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new bv(n,r,e)}function V6(t){return t.toLowerCase()}class la{constructor(e,n){this.property=e,this.attribute=n}}la.prototype.space=null;la.prototype.boolean=!1;la.prototype.booleanish=!1;la.prototype.overloadedBoolean=!1;la.prototype.number=!1;la.prototype.commaSeparated=!1;la.prototype.spaceSeparated=!1;la.prototype.commaOrSpaceSeparated=!1;la.prototype.mustUseProperty=!1;la.prototype.defined=!1;let Ibe=0;const Yt=Af(),Yr=Af(),ZW=Af(),it=Af(),Qn=Af(),Mm=Af(),ls=Af();function Af(){return 2**++Ibe}const q6=Object.freeze(Object.defineProperty({__proto__:null,boolean:Yt,booleanish:Yr,commaOrSpaceSeparated:ls,commaSeparated:Mm,number:it,overloadedBoolean:ZW,spaceSeparated:Qn},Symbol.toStringTag,{value:"Module"})),$M=Object.keys(q6);class e9 extends la{constructor(e,n,r,i){let o=-1;if(super(e,n),UO(this,"space",i),typeof r=="number")for(;++o<$M.length;){const s=$M[o];UO(this,$M[o],(r&q6[s])===q6[s])}}}e9.prototype.defined=!0;function UO(t,e,n){n&&(t[e]=n)}const Obe={}.hasOwnProperty;function w0(t){const e={},n={};let r;for(r in t.properties)if(Obe.call(t.properties,r)){const i=t.properties[r],o=new e9(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[V6(r)]=r,n[V6(o.attribute)]=r}return new bv(e,n,t.space)}const QW=w0({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),eX=w0({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function tX(t,e){return e in t?t[e]:e}function nX(t,e){return tX(t,e.toLowerCase())}const rX=w0({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:nX,properties:{xmlns:null,xmlnsXLink:null}}),iX=w0({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Yr,ariaAutoComplete:null,ariaBusy:Yr,ariaChecked:Yr,ariaColCount:it,ariaColIndex:it,ariaColSpan:it,ariaControls:Qn,ariaCurrent:null,ariaDescribedBy:Qn,ariaDetails:null,ariaDisabled:Yr,ariaDropEffect:Qn,ariaErrorMessage:null,ariaExpanded:Yr,ariaFlowTo:Qn,ariaGrabbed:Yr,ariaHasPopup:null,ariaHidden:Yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qn,ariaLevel:it,ariaLive:null,ariaModal:Yr,ariaMultiLine:Yr,ariaMultiSelectable:Yr,ariaOrientation:null,ariaOwns:Qn,ariaPlaceholder:null,ariaPosInSet:it,ariaPressed:Yr,ariaReadOnly:Yr,ariaRelevant:null,ariaRequired:Yr,ariaRoleDescription:Qn,ariaRowCount:it,ariaRowIndex:it,ariaRowSpan:it,ariaSelected:Yr,ariaSetSize:it,ariaSort:null,ariaValueMax:it,ariaValueMin:it,ariaValueNow:it,ariaValueText:null,role:null}}),Fbe=w0({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:nX,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Mm,acceptCharset:Qn,accessKey:Qn,action:null,allow:null,allowFullScreen:Yt,allowPaymentRequest:Yt,allowUserMedia:Yt,alt:null,as:null,async:Yt,autoCapitalize:null,autoComplete:Qn,autoFocus:Yt,autoPlay:Yt,blocking:Qn,capture:null,charSet:null,checked:Yt,cite:null,className:Qn,cols:it,colSpan:null,content:null,contentEditable:Yr,controls:Yt,controlsList:Qn,coords:it|Mm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Yt,defer:Yt,dir:null,dirName:null,disabled:Yt,download:ZW,draggable:Yr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Yt,formTarget:null,headers:Qn,height:it,hidden:Yt,high:it,href:null,hrefLang:null,htmlFor:Qn,httpEquiv:Qn,id:null,imageSizes:null,imageSrcSet:null,inert:Yt,inputMode:null,integrity:null,is:null,isMap:Yt,itemId:null,itemProp:Qn,itemRef:Qn,itemScope:Yt,itemType:Qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Yt,low:it,manifest:null,max:null,maxLength:it,media:null,method:null,min:null,minLength:it,multiple:Yt,muted:Yt,name:null,nonce:null,noModule:Yt,noValidate:Yt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Yt,optimum:it,pattern:null,ping:Qn,placeholder:null,playsInline:Yt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Yt,referrerPolicy:null,rel:Qn,required:Yt,reversed:Yt,rows:it,rowSpan:it,sandbox:Qn,scope:null,scoped:Yt,seamless:Yt,selected:Yt,shadowRootClonable:Yt,shadowRootDelegatesFocus:Yt,shadowRootMode:null,shape:null,size:it,sizes:null,slot:null,span:it,spellCheck:Yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:it,step:null,style:null,tabIndex:it,target:null,title:null,translate:null,type:null,typeMustMatch:Yt,useMap:null,value:Yr,width:it,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qn,axis:null,background:null,bgColor:null,border:it,borderColor:null,bottomMargin:it,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Yt,declare:Yt,event:null,face:null,frame:null,frameBorder:null,hSpace:it,leftMargin:it,link:null,longDesc:null,lowSrc:null,marginHeight:it,marginWidth:it,noResize:Yt,noHref:Yt,noShade:Yt,noWrap:Yt,object:null,profile:null,prompt:null,rev:null,rightMargin:it,rules:null,scheme:null,scrolling:Yr,standby:null,summary:null,text:null,topMargin:it,valueType:null,version:null,vAlign:null,vLink:null,vSpace:it,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Yt,disableRemotePlayback:Yt,prefix:null,property:null,results:it,security:null,unselectable:null}}),zbe=w0({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:tX,properties:{about:ls,accentHeight:it,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:it,amplitude:it,arabicForm:null,ascent:it,attributeName:null,attributeType:null,azimuth:it,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:it,by:null,calcMode:null,capHeight:it,className:Qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:it,diffuseConstant:it,direction:null,display:null,dur:null,divisor:it,dominantBaseline:null,download:Yt,dx:null,dy:null,edgeMode:null,editable:null,elevation:it,enableBackground:null,end:null,event:null,exponent:it,externalResourcesRequired:null,fill:null,fillOpacity:it,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Mm,g2:Mm,glyphName:Mm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:it,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:it,horizOriginX:it,horizOriginY:it,id:null,ideographic:it,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:it,k:it,k1:it,k2:it,k3:it,k4:it,kernelMatrix:ls,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:it,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:it,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:it,overlineThickness:it,paintOrder:null,panose1:null,path:null,pathLength:it,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:it,pointsAtY:it,pointsAtZ:it,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ls,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ls,rev:ls,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ls,requiredFeatures:ls,requiredFonts:ls,requiredFormats:ls,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:it,specularExponent:it,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:it,strikethroughThickness:it,string:null,stroke:null,strokeDashArray:ls,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:it,strokeOpacity:it,strokeWidth:null,style:null,surfaceScale:it,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ls,tabIndex:it,tableValues:null,target:null,targetX:it,targetY:it,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ls,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:it,underlineThickness:it,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:it,values:null,vAlphabetic:it,vMathematical:it,vectorEffect:null,vHanging:it,vIdeographic:it,version:null,vertAdvY:it,vertOriginX:it,vertOriginY:it,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:it,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Ube=/^data[-\w.:]+$/i,jO=/-[a-z]/g,jbe=/[A-Z]/g;function Hbe(t,e){const n=V6(e);let r=e,i=la;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ube.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(jO,Gbe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!jO.test(o)){let s=o.replace(jbe,$be);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=e9}return new i(r,e)}function $be(t){return"-"+t.toLowerCase()}function Gbe(t){return t.charAt(1).toUpperCase()}const Vbe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},qbe=YW([eX,QW,rX,iX,Fbe],"html"),t9=YW([eX,QW,rX,iX,zbe],"svg");function Kbe(t){return t.join(" ").trim()}var oX={},HO=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Wbe=/\n/g,Xbe=/^\s*/,Jbe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Ybe=/^:\s*/,Zbe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Qbe=/^[;\s]*/,exe=/^\s+|\s+$/g,txe=`
`,$O="/",GO="*",yh="",nxe="comment",rxe="declaration",ixe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(p){var v=p.match(Wbe);v&&(n+=v.length);var b=p.lastIndexOf(txe);r=~b?p.length-b:r+p.length}function o(){var p={line:n,column:r};return function(v){return v.position=new s(p),c(),v}}function s(p){this.start=p,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function a(p){var v=new Error(e.source+":"+n+":"+r+": "+p);if(v.reason=p,v.filename=e.source,v.line=n,v.column=r,v.source=t,!e.silent)throw v}function l(p){var v=p.exec(t);if(v){var b=v[0];return i(b),t=t.slice(b.length),v}}function c(){l(Xbe)}function u(p){var v;for(p=p||[];v=d();)v!==!1&&p.push(v);return p}function d(){var p=o();if(!($O!=t.charAt(0)||GO!=t.charAt(1))){for(var v=2;yh!=t.charAt(v)&&(GO!=t.charAt(v)||$O!=t.charAt(v+1));)++v;if(v+=2,yh===t.charAt(v-1))return a("End of comment missing");var b=t.slice(2,v-2);return r+=2,i(b),t=t.slice(v),r+=2,p({type:nxe,comment:b})}}function h(){var p=o(),v=l(Jbe);if(v){if(d(),!l(Ybe))return a("property missing ':'");var b=l(Zbe),y=p({type:rxe,property:VO(v[0].replace(HO,yh)),value:b?VO(b[0].replace(HO,yh)):yh});return l(Qbe),y}}function f(){var p=[];u(p);for(var v;v=h();)v!==!1&&(p.push(v),u(p));return p}return c(),f()};function VO(t){return t?t.replace(exe,yh):yh}var oxe=Nr&&Nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oX,"__esModule",{value:!0});var sxe=oxe(ixe);function axe(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,sxe.default)(t),i=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,a=o.value;i?e(s,a,o):a&&(n=n||{},n[s]=a)}}),n}var qO=oX.default=axe;const lxe=qO.default||qO,sX=aX("end"),n9=aX("start");function aX(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function cxe(t){const e=n9(t),n=sX(t);if(e&&n)return{start:e,end:n}}function Py(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?KO(t.position):"start"in t||"end"in t?KO(t):"line"in t||"column"in t?K6(t):""}function K6(t){return WO(t&&t.line)+":"+WO(t&&t.column)}function KO(t){return K6(t&&t.start)+"-"+K6(t&&t.end)}function WO(t){return t&&typeof t=="number"?t:1}class lo extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Py(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}lo.prototype.file="";lo.prototype.name="";lo.prototype.reason="";lo.prototype.message="";lo.prototype.stack="";lo.prototype.column=void 0;lo.prototype.line=void 0;lo.prototype.ancestors=void 0;lo.prototype.cause=void 0;lo.prototype.fatal=void 0;lo.prototype.place=void 0;lo.prototype.ruleId=void 0;lo.prototype.source=void 0;const r9={}.hasOwnProperty,uxe=new Map,dxe=/[A-Z]/g,hxe=/-([a-z])/g,fxe=new Set(["table","tbody","thead","tfoot","tr"]),pxe=new Set(["td","th"]),lX="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function mxe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Sxe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=wxe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?t9:qbe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=cX(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function cX(t,e,n){if(e.type==="element")return gxe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return yxe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return bxe(t,e,n);if(e.type==="mdxjsEsm")return vxe(t,e);if(e.type==="root")return xxe(t,e,n);if(e.type==="text")return _xe(t,e)}function gxe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=t9,t.schema=i),t.ancestors.push(e);const o=dX(t,e.tagName,!1),s=Axe(t,e);let a=o9(t,e);return fxe.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Nbe(l):!0})),uX(t,s,o,e),i9(s,a),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function yxe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}O1(t,e.position)}function vxe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);O1(t,e.position)}function bxe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=t9,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:dX(t,e.name,!0),s=Cxe(t,e),a=o9(t,e);return uX(t,s,o,e),i9(s,a),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function xxe(t,e,n){const r={};return i9(r,o9(t,e)),t.create(e,t.Fragment,r,n)}function _xe(t,e){return e.value}function uX(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function i9(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function wxe(t,e,n){return r;function r(i,o,s,a){const c=Array.isArray(s.children)?n:e;return a?c(o,s,a):c(o,s)}}function Sxe(t,e){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=n9(r);return e(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function Axe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&r9.call(e.properties,i)){const o=Mxe(t,i,e.properties[i]);if(o){const[s,a]=o;t.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&pxe.has(e.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Cxe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else O1(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,o=t.evaluater.evaluateExpression(a.expression)}else O1(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function o9(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:uxe;for(;++r<e.children.length;){const o=e.children[r];let s;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const a=cX(t,o,s);a!==void 0&&n.push(a)}return n}function Mxe(t,e,n){const r=Hbe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Dbe(n):Kbe(n)),r.property==="style"){let i=typeof n=="object"?n:Exe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=kxe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Vbe[r.property]||r.property:r.attribute,n]}}function Exe(t,e){const n={};try{lxe(e,r)}catch(i){if(!t.ignoreInvalidStyle){const o=i,s=new lo("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=lX+"#cannot-parse-style-attribute",s}}return n;function r(i,o){let s=i;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(hxe,Dxe)),n[s]=o}}function dX(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,s;for(;++o<i.length;){const a=FO(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=FO(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return r9.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);O1(t)}function O1(t,e){const n=new lo("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=lX+"#cannot-handle-mdx-estrees-without-createevaluater",n}function kxe(t){const e={};let n;for(n in t)r9.call(t,n)&&(e[Txe(n)]=t[n]);return e}function Txe(t){let e=t.replace(dxe,Lxe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Dxe(t,e){return e.toUpperCase()}function Lxe(t){return"-"+t.toLowerCase()}const GM={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Rxe={};function s9(t,e){const n=e||Rxe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return hX(t,r,i)}function hX(t,e,n){if(Bxe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return XO(t.children,e,n)}return Array.isArray(t)?XO(t,e,n):""}function XO(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=hX(t[i],e,n);return r.join("")}function Bxe(t){return!!(t&&typeof t=="object")}const JO=document.createElement("i");function a9(t){const e="&"+t+";";JO.innerHTML=e;const n=JO.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function na(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function Xs(t,e){return t.length>0?(na(t,t.length,0,e),t):e}const YO={}.hasOwnProperty;function fX(t){const e={};let n=-1;for(;++n<t.length;)Pxe(e,t[n]);return e}function Pxe(t,e){let n;for(n in e){const i=(YO.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){YO.call(i,s)||(i[s]=[]);const a=o[s];Nxe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function Nxe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);na(t,0,0,r)}function pX(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Pa(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ao=md(/[A-Za-z]/),no=md(/[\dA-Za-z]/),Ixe=md(/[#-'*+\--9=?A-Z^-~]/);function Qw(t){return t!==null&&(t<32||t===127)}const W6=md(/\d/),Oxe=md(/[\dA-Fa-f]/),Fxe=md(/[!-/:-@[-`{-~]/);function Ot(t){return t!==null&&t<-2}function Xn(t){return t!==null&&(t<0||t===32)}function fn(t){return t===-2||t===-1||t===32}const _4=md(new RegExp("\\p{P}|\\p{S}","u")),df=md(/\s/);function md(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function S0(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let s="";if(o===37&&no(t.charCodeAt(n+1))&&no(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=t.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function _n(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return fn(l)?(t.enter(n),a(l)):e(l)}function a(l){return fn(l)&&o++<i?(t.consume(l),a):(t.exit(n),e(l))}}const zxe={tokenize:Uxe};function Uxe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),_n(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),o(a)}function o(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return Ot(a)?(t.consume(a),t.exit("chunkText"),o):(t.consume(a),s)}}const jxe={tokenize:Hxe},ZO={tokenize:$xe};function Hxe(t){const e=this,n=[];let r=0,i,o,s;return a;function a(w){if(r<n.length){const A=n[r];return e.containerState=A[1],t.attempt(A[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const A=e.events.length;let D=A,k;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){k=e.events[D][1].end;break}y(r);let R=A;for(;R<e.events.length;)e.events[R][1].end=Object.assign({},k),R++;return na(e.events,D+1,0,e.events.slice(A)),e.events.length=R,c(w)}return a(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(ZO,u,d)(w)}function u(w){return i&&x(),y(r),h(w)}function d(w){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,p(w)}function h(w){return e.containerState={},t.attempt(ZO,f,p)(w)}function f(w){return r++,n.push([e.currentConstruct,e.containerState]),h(w)}function p(w){if(w===null){i&&x(),y(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),v(w)}function v(w){if(w===null){b(t.exit("chunkFlow"),!0),y(0),t.consume(w);return}return Ot(w)?(t.consume(w),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(w),v)}function b(w,A){const D=e.sliceStream(w);if(A&&D.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write(D),e.parser.lazy[w.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const R=e.events.length;let L=R,T,C;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(T){C=e.events[L][1].end;break}T=!0}for(y(r),k=R;k<e.events.length;)e.events[k][1].end=Object.assign({},C),k++;na(e.events,L+1,0,e.events.slice(R)),e.events.length=k}}function y(w){let A=n.length;for(;A-- >w;){const D=n[A];e.containerState=D[1],D[0].exit.call(e,t)}n.length=w}function x(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function $xe(t,e,n){return _n(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function e3(t){if(t===null||Xn(t)||df(t))return 1;if(_4(t))return 2}function w4(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const X6={name:"attention",tokenize:Vxe,resolveAll:Gxe};function Gxe(t,e){let n=-1,r,i,o,s,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d=Object.assign({},t[r][1].end),h=Object.assign({},t[n][1].start);QO(d,-l),QO(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:h},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Xs(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Xs(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),c=Xs(c,w4(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Xs(c,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Xs(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,na(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Vxe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=e3(r);let o;return s;function s(l){return o=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===o)return t.consume(l),a;const c=t.exit("attentionSequence"),u=e3(l),d=!u||u===2&&i||n.includes(l),h=!i||i===2&&u||n.includes(r);return c._open=!!(o===42?d:d&&(i||!h)),c._close=!!(o===42?h:h&&(u||!d)),e(l)}}function QO(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const qxe={name:"autolink",tokenize:Kxe};function Kxe(t,e,n){let r=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(f){return Ao(f)?(t.consume(f),s):f===64?n(f):c(f)}function s(f){return f===43||f===45||f===46||no(f)?(r=1,a(f)):c(f)}function a(f){return f===58?(t.consume(f),r=0,l):(f===43||f===45||f===46||no(f))&&r++<32?(t.consume(f),a):(r=0,c(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||Qw(f)?n(f):(t.consume(f),l)}function c(f){return f===64?(t.consume(f),u):Ixe(f)?(t.consume(f),c):n(f)}function u(f){return no(f)?d(f):n(f)}function d(f){return f===46?(t.consume(f),r=0,u):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):h(f)}function h(f){if((f===45||no(f))&&r++<63){const p=f===45?h:d;return t.consume(f),p}return n(f)}}const xv={tokenize:Wxe,partial:!0};function Wxe(t,e,n){return r;function r(o){return fn(o)?_n(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Ot(o)?e(o):n(o)}}const mX={name:"blockQuote",tokenize:Xxe,continuation:{tokenize:Jxe},exit:Yxe};function Xxe(t,e,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return fn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Jxe(t,e,n){const r=this;return i;function i(s){return fn(s)?_n(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(mX,e,n)(s)}}function Yxe(t){t.exit("blockQuote")}const gX={name:"characterEscape",tokenize:Zxe};function Zxe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return Fxe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const yX={name:"characterReference",tokenize:Qxe};function Qxe(t,e,n){const r=this;let i=0,o,s;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,s=no,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=Oxe,u):(t.enter("characterReferenceValue"),o=7,s=W6,u(d))}function u(d){if(d===59&&i){const h=t.exit("characterReferenceValue");return s===no&&!a9(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(d)&&i++<o?(t.consume(d),u):n(d)}}const eF={tokenize:t2e,partial:!0},tF={name:"codeFenced",tokenize:e2e,concrete:!0};function e2e(t,e,n){const r=this,i={tokenize:D,partial:!0};let o=0,s=0,a;return l;function l(k){return c(k)}function c(k){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,a=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(k)}function u(k){return k===a?(s++,t.consume(k),u):s<3?n(k):(t.exit("codeFencedFenceSequence"),fn(k)?_n(t,d,"whitespace")(k):d(k))}function d(k){return k===null||Ot(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(eF,v,A)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||Ot(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(k)):fn(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_n(t,f,"whitespace")(k)):k===96&&k===a?n(k):(t.consume(k),h)}function f(k){return k===null||Ot(k)?d(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||Ot(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(k)):k===96&&k===a?n(k):(t.consume(k),p)}function v(k){return t.attempt(i,A,b)(k)}function b(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),y}function y(k){return o>0&&fn(k)?_n(t,x,"linePrefix",o+1)(k):x(k)}function x(k){return k===null||Ot(k)?t.check(eF,v,A)(k):(t.enter("codeFlowValue"),w(k))}function w(k){return k===null||Ot(k)?(t.exit("codeFlowValue"),x(k)):(t.consume(k),w)}function A(k){return t.exit("codeFenced"),e(k)}function D(k,R,L){let T=0;return C;function C(X){return k.enter("lineEnding"),k.consume(X),k.exit("lineEnding"),P}function P(X){return k.enter("codeFencedFence"),fn(X)?_n(k,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):z(X)}function z(X){return X===a?(k.enter("codeFencedFenceSequence"),H(X)):L(X)}function H(X){return X===a?(T++,k.consume(X),H):T>=s?(k.exit("codeFencedFenceSequence"),fn(X)?_n(k,$,"whitespace")(X):$(X)):L(X)}function $(X){return X===null||Ot(X)?(k.exit("codeFencedFence"),R(X)):L(X)}}}function t2e(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const VM={name:"codeIndented",tokenize:r2e},n2e={tokenize:i2e,partial:!0};function r2e(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),_n(t,o,"linePrefix",5)(c)}function o(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):Ot(c)?t.attempt(n2e,s,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||Ot(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function i2e(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Ot(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):_n(t,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):Ot(s)?i(s):n(s)}}const o2e={name:"codeText",tokenize:l2e,resolve:s2e,previous:a2e};function s2e(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function a2e(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function l2e(t,e,n){let r=0,i,o;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(o=t.enter("codeTextSequence"),i=0,u(d)):Ot(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Ot(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(o.type="codeTextData",c(d))}}class c2e{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&jg(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),jg(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),jg(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);jg(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);jg(this.left,n.reverse())}}}function jg(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function vX(t){const e={};let n=-1,r,i,o,s,a,l,c;const u=new c2e(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,u2e(u,n)),n=e[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=u.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},u.get(i)[1].start),a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return na(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function u2e(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],c={};let u,d,h=-1,f=n,p=0,v=0;const b=[v];for(;f;){for(;t.get(++i)[1]!==f;);o.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(v=h+1,b.push(v),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):b.pop(),h=b.length;h--;){const y=a.slice(b[h],b[h+1]),x=o.pop();l.push([x,x+y.length-1]),t.splice(x,2,y)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const d2e={tokenize:p2e,resolve:f2e},h2e={tokenize:m2e,partial:!0};function f2e(t){return vX(t),t}function p2e(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):Ot(a)?t.check(h2e,s,o)(a):(t.consume(a),i)}function o(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function s(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function m2e(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),_n(t,o,"linePrefix")}function o(s){if(s===null||Ot(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function bX(t,e,n,r,i,o,s,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(y){return y===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(y),t.exit(o),h):y===null||y===32||y===41||Qw(y)?n(y):(t.enter(r),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),v(y))}function h(y){return y===62?(t.enter(o),t.consume(y),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(t.exit("chunkString"),t.exit(a),h(y)):y===null||y===60||Ot(y)?n(y):(t.consume(y),y===92?p:f)}function p(y){return y===60||y===62||y===92?(t.consume(y),f):f(y)}function v(y){return!u&&(y===null||y===41||Xn(y))?(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(y)):u<c&&y===40?(t.consume(y),u++,v):y===41?(t.consume(y),u--,v):y===null||y===32||y===40||Qw(y)?n(y):(t.consume(y),y===92?b:v)}function b(y){return y===40||y===41||y===92?(t.consume(y),v):v(y)}}function xX(t,e,n,r,i,o){const s=this;let a=0,l;return c;function c(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),t.enter(o),u}function u(f){return a>999||f===null||f===91||f===93&&!l||f===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):f===93?(t.exit(o),t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):Ot(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||Ot(f)||a++>999?(t.exit("chunkString"),u(f)):(t.consume(f),l||(l=!fn(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(t.consume(f),a++,d):d(f)}}function _X(t,e,n,r,i,o){let s;return a;function a(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(o),c(h))}function c(h){return h===s?(t.exit(o),l(s)):h===null?n(h):Ot(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),_n(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===s||h===null||Ot(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?d:u)}function d(h){return h===s||h===92?(t.consume(h),u):u(h)}}function Ny(t,e){let n;return r;function r(i){return Ot(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):fn(i)?_n(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const g2e={name:"definition",tokenize:v2e},y2e={tokenize:b2e,partial:!0};function v2e(t,e,n){const r=this;let i;return o;function o(f){return t.enter("definition"),s(f)}function s(f){return xX.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=Pa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):n(f)}function l(f){return Xn(f)?Ny(t,c)(f):c(f)}function c(f){return bX(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return t.attempt(y2e,d,d)(f)}function d(f){return fn(f)?_n(t,h,"whitespace")(f):h(f)}function h(f){return f===null||Ot(f)?(t.exit("definition"),r.parser.defined.push(i),e(f)):n(f)}}function b2e(t,e,n){return r;function r(a){return Xn(a)?Ny(t,i)(a):n(a)}function i(a){return _X(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return fn(a)?_n(t,s,"whitespace")(a):s(a)}function s(a){return a===null||Ot(a)?e(a):n(a)}}const x2e={name:"hardBreakEscape",tokenize:_2e};function _2e(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Ot(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const w2e={name:"headingAtx",tokenize:A2e,resolve:S2e};function S2e(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},na(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function A2e(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),o(u)}function o(u){return t.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&r++<6?(t.consume(u),s):u===null||Xn(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||Ot(u)?(t.exit("atxHeading"),e(u)):fn(u)?_n(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Xn(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const C2e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nF=["pre","script","style","textarea"],M2e={name:"htmlFlow",tokenize:D2e,resolveTo:T2e,concrete:!0},E2e={tokenize:R2e,partial:!0},k2e={tokenize:L2e,partial:!0};function T2e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function D2e(t,e,n){const r=this;let i,o,s,a,l;return c;function c(G){return u(G)}function u(G){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(G),d}function d(G){return G===33?(t.consume(G),h):G===47?(t.consume(G),o=!0,v):G===63?(t.consume(G),i=3,r.interrupt?e:I):Ao(G)?(t.consume(G),s=String.fromCharCode(G),b):n(G)}function h(G){return G===45?(t.consume(G),i=2,f):G===91?(t.consume(G),i=5,a=0,p):Ao(G)?(t.consume(G),i=4,r.interrupt?e:I):n(G)}function f(G){return G===45?(t.consume(G),r.interrupt?e:I):n(G)}function p(G){const ae="CDATA[";return G===ae.charCodeAt(a++)?(t.consume(G),a===ae.length?r.interrupt?e:z:p):n(G)}function v(G){return Ao(G)?(t.consume(G),s=String.fromCharCode(G),b):n(G)}function b(G){if(G===null||G===47||G===62||Xn(G)){const ae=G===47,_e=s.toLowerCase();return!ae&&!o&&nF.includes(_e)?(i=1,r.interrupt?e(G):z(G)):C2e.includes(s.toLowerCase())?(i=6,ae?(t.consume(G),y):r.interrupt?e(G):z(G)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(G):o?x(G):w(G))}return G===45||no(G)?(t.consume(G),s+=String.fromCharCode(G),b):n(G)}function y(G){return G===62?(t.consume(G),r.interrupt?e:z):n(G)}function x(G){return fn(G)?(t.consume(G),x):C(G)}function w(G){return G===47?(t.consume(G),C):G===58||G===95||Ao(G)?(t.consume(G),A):fn(G)?(t.consume(G),w):C(G)}function A(G){return G===45||G===46||G===58||G===95||no(G)?(t.consume(G),A):D(G)}function D(G){return G===61?(t.consume(G),k):fn(G)?(t.consume(G),D):w(G)}function k(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(t.consume(G),l=G,R):fn(G)?(t.consume(G),k):L(G)}function R(G){return G===l?(t.consume(G),l=null,T):G===null||Ot(G)?n(G):(t.consume(G),R)}function L(G){return G===null||G===34||G===39||G===47||G===60||G===61||G===62||G===96||Xn(G)?D(G):(t.consume(G),L)}function T(G){return G===47||G===62||fn(G)?w(G):n(G)}function C(G){return G===62?(t.consume(G),P):n(G)}function P(G){return G===null||Ot(G)?z(G):fn(G)?(t.consume(G),P):n(G)}function z(G){return G===45&&i===2?(t.consume(G),Z):G===60&&i===1?(t.consume(G),K):G===62&&i===4?(t.consume(G),se):G===63&&i===3?(t.consume(G),I):G===93&&i===5?(t.consume(G),V):Ot(G)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(E2e,ye,H)(G)):G===null||Ot(G)?(t.exit("htmlFlowData"),H(G)):(t.consume(G),z)}function H(G){return t.check(k2e,$,ye)(G)}function $(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),X}function X(G){return G===null||Ot(G)?H(G):(t.enter("htmlFlowData"),z(G))}function Z(G){return G===45?(t.consume(G),I):z(G)}function K(G){return G===47?(t.consume(G),s="",O):z(G)}function O(G){if(G===62){const ae=s.toLowerCase();return nF.includes(ae)?(t.consume(G),se):z(G)}return Ao(G)&&s.length<8?(t.consume(G),s+=String.fromCharCode(G),O):z(G)}function V(G){return G===93?(t.consume(G),I):z(G)}function I(G){return G===62?(t.consume(G),se):G===45&&i===2?(t.consume(G),I):z(G)}function se(G){return G===null||Ot(G)?(t.exit("htmlFlowData"),ye(G)):(t.consume(G),se)}function ye(G){return t.exit("htmlFlow"),e(G)}}function L2e(t,e,n){const r=this;return i;function i(s){return Ot(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function R2e(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(xv,e,n)}}const B2e={name:"htmlText",tokenize:P2e};function P2e(t,e,n){const r=this;let i,o,s;return a;function a(I){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(I),l}function l(I){return I===33?(t.consume(I),c):I===47?(t.consume(I),D):I===63?(t.consume(I),w):Ao(I)?(t.consume(I),L):n(I)}function c(I){return I===45?(t.consume(I),u):I===91?(t.consume(I),o=0,p):Ao(I)?(t.consume(I),x):n(I)}function u(I){return I===45?(t.consume(I),f):n(I)}function d(I){return I===null?n(I):I===45?(t.consume(I),h):Ot(I)?(s=d,K(I)):(t.consume(I),d)}function h(I){return I===45?(t.consume(I),f):d(I)}function f(I){return I===62?Z(I):I===45?h(I):d(I)}function p(I){const se="CDATA[";return I===se.charCodeAt(o++)?(t.consume(I),o===se.length?v:p):n(I)}function v(I){return I===null?n(I):I===93?(t.consume(I),b):Ot(I)?(s=v,K(I)):(t.consume(I),v)}function b(I){return I===93?(t.consume(I),y):v(I)}function y(I){return I===62?Z(I):I===93?(t.consume(I),y):v(I)}function x(I){return I===null||I===62?Z(I):Ot(I)?(s=x,K(I)):(t.consume(I),x)}function w(I){return I===null?n(I):I===63?(t.consume(I),A):Ot(I)?(s=w,K(I)):(t.consume(I),w)}function A(I){return I===62?Z(I):w(I)}function D(I){return Ao(I)?(t.consume(I),k):n(I)}function k(I){return I===45||no(I)?(t.consume(I),k):R(I)}function R(I){return Ot(I)?(s=R,K(I)):fn(I)?(t.consume(I),R):Z(I)}function L(I){return I===45||no(I)?(t.consume(I),L):I===47||I===62||Xn(I)?T(I):n(I)}function T(I){return I===47?(t.consume(I),Z):I===58||I===95||Ao(I)?(t.consume(I),C):Ot(I)?(s=T,K(I)):fn(I)?(t.consume(I),T):Z(I)}function C(I){return I===45||I===46||I===58||I===95||no(I)?(t.consume(I),C):P(I)}function P(I){return I===61?(t.consume(I),z):Ot(I)?(s=P,K(I)):fn(I)?(t.consume(I),P):T(I)}function z(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(t.consume(I),i=I,H):Ot(I)?(s=z,K(I)):fn(I)?(t.consume(I),z):(t.consume(I),$)}function H(I){return I===i?(t.consume(I),i=void 0,X):I===null?n(I):Ot(I)?(s=H,K(I)):(t.consume(I),H)}function $(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||Xn(I)?T(I):(t.consume(I),$)}function X(I){return I===47||I===62||Xn(I)?T(I):n(I)}function Z(I){return I===62?(t.consume(I),t.exit("htmlTextData"),t.exit("htmlText"),e):n(I)}function K(I){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),O}function O(I){return fn(I)?_n(t,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):V(I)}function V(I){return t.enter("htmlTextData"),s(I)}}const l9={name:"labelEnd",tokenize:U2e,resolveTo:z2e,resolveAll:F2e},N2e={tokenize:j2e},I2e={tokenize:H2e},O2e={tokenize:$2e};function F2e(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function z2e(t,e){let n=t.length,r=0,i,o,s,a;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[s][1].end)},u={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return a=[["enter",l,e],["enter",c,e]],a=Xs(a,t.slice(o+1,o+r+3)),a=Xs(a,[["enter",u,e]]),a=Xs(a,w4(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),a=Xs(a,[["exit",u,e],t[s-2],t[s-1],["exit",c,e]]),a=Xs(a,t.slice(s+1)),a=Xs(a,[["exit",l,e]]),na(t,o,t.length,a),t}function U2e(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(h){return o?o._inactive?d(h):(s=r.parser.defined.includes(Pa(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(N2e,u,s?u:d)(h):h===91?t.attempt(I2e,u,s?c:d)(h):s?u(h):d(h)}function c(h){return t.attempt(O2e,u,d)(h)}function u(h){return e(h)}function d(h){return o._balanced=!0,n(h)}}function j2e(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Xn(d)?Ny(t,o)(d):o(d)}function o(d){return d===41?u(d):bX(t,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return Xn(d)?Ny(t,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?_X(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Xn(d)?Ny(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function H2e(t,e,n){const r=this;return i;function i(a){return xX.call(r,t,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Pa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function s(a){return n(a)}}function $2e(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const G2e={name:"labelStartImage",tokenize:V2e,resolveAll:l9.resolveAll};function V2e(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),o}function o(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const q2e={name:"labelStartLink",tokenize:K2e,resolveAll:l9.resolveAll};function K2e(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const qM={name:"lineEnding",tokenize:W2e};function W2e(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),_n(t,e,"linePrefix")}}const F_={name:"thematicBreak",tokenize:X2e};function X2e(t,e,n){let r=0,i;return o;function o(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Ot(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),fn(c)?_n(t,a,"whitespace")(c):a(c))}}const $o={name:"list",tokenize:Z2e,continuation:{tokenize:Q2e},exit:t_e},J2e={tokenize:n_e,partial:!0},Y2e={tokenize:e_e,partial:!0};function Z2e(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:W6(f)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(F_,n,c)(f):c(f);if(!r.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return n(f)}function l(f){return W6(f)&&++s<10?(t.consume(f),l):(!r.interrupt||s<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),c(f)):n(f)}function c(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,t.check(xv,r.interrupt?n:u,t.attempt(J2e,h,d))}function u(f){return r.containerState.initialBlankLine=!0,o++,h(f)}function d(f){return fn(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function Q2e(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(xv,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_n(t,e,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!fn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Y2e,e,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,_n(t,t.attempt($o,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function e_e(t,e,n){const r=this;return _n(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function t_e(t){t.exit(this.containerState.type)}function n_e(t,e,n){const r=this;return _n(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!fn(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const rF={name:"setextUnderline",tokenize:i_e,resolveTo:r_e};function r_e(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function i_e(t,e,n){const r=this;let i;return o;function o(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),fn(c)?_n(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Ot(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const o_e={tokenize:s_e};function s_e(t){const e=this,n=t.attempt(xv,r,t.attempt(this.parser.constructs.flowInitial,i,_n(t,t.attempt(this.parser.constructs.flow,i,t.attempt(d2e,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const a_e={resolveAll:SX()},l_e=wX("string"),c_e=wX("text");function wX(t){return{tokenize:e,resolveAll:SX(t==="text"?u_e:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,a);return s;function s(u){return c(u)?o(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function SX(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function u_e(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(c===-2)l=!0,a++;else if(c!==-1){o++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function d_e(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:x,enter:w,exit:A,attempt:R(D),check:R(k),interrupt:R(k,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:f,sliceSerialize:h,now:p,defineSkip:v,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function d(P){return s=Xs(s,P),b(),s[s.length-1]!==null?[]:(L(e,0),c.events=w4(o,c.events,c),c.events)}function h(P,z){return f_e(f(P),z)}function f(P){return h_e(s,P)}function p(){const{line:P,column:z,offset:H,_index:$,_bufferIndex:X}=r;return{line:P,column:z,offset:H,_index:$,_bufferIndex:X}}function v(P){i[P.line]=P.column,C()}function b(){let P;for(;r._index<s.length;){const z=s[r._index];if(typeof z=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<z.length;)y(z.charCodeAt(r._bufferIndex));else y(z)}}function y(P){u=u(P)}function x(P){Ot(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,C()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=P}function w(P,z){const H=z||{};return H.type=P,H.start=p(),c.events.push(["enter",H,c]),a.push(H),H}function A(P){const z=a.pop();return z.end=p(),c.events.push(["exit",z,c]),z}function D(P,z){L(P,z.from)}function k(P,z){z.restore()}function R(P,z){return H;function H($,X,Z){let K,O,V,I;return Array.isArray($)?ye($):"tokenize"in $?ye([$]):se($);function se(ve){return Ae;function Ae(Ve){const pt=Ve!==null&&ve[Ve],ke=Ve!==null&&ve.null,ee=[...Array.isArray(pt)?pt:pt?[pt]:[],...Array.isArray(ke)?ke:ke?[ke]:[]];return ye(ee)(Ve)}}function ye(ve){return K=ve,O=0,ve.length===0?Z:G(ve[O])}function G(ve){return Ae;function Ae(Ve){return I=T(),V=ve,ve.partial||(c.currentConstruct=ve),ve.name&&c.parser.constructs.disable.null.includes(ve.name)?_e():ve.tokenize.call(z?Object.assign(Object.create(c),z):c,l,ae,_e)(Ve)}}function ae(ve){return P(V,I),X}function _e(ve){return I.restore(),++O<K.length?G(K[O]):Z}}}function L(P,z){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&na(c.events,z,c.events.length-z,P.resolve(c.events.slice(z),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function T(){const P=p(),z=c.previous,H=c.currentConstruct,$=c.events.length,X=Array.from(a);return{restore:Z,from:$};function Z(){r=P,c.previous=z,c.currentConstruct=H,c.events.length=$,a=X,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function h_e(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function f_e(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const p_e={42:$o,43:$o,45:$o,48:$o,49:$o,50:$o,51:$o,52:$o,53:$o,54:$o,55:$o,56:$o,57:$o,62:mX},m_e={91:g2e},g_e={[-2]:VM,[-1]:VM,32:VM},y_e={35:w2e,42:F_,45:[rF,F_],60:M2e,61:rF,95:F_,96:tF,126:tF},v_e={38:yX,92:gX},b_e={[-5]:qM,[-4]:qM,[-3]:qM,33:G2e,38:yX,42:X6,60:[qxe,B2e],91:q2e,92:[x2e,gX],93:l9,95:X6,96:o2e},x_e={null:[X6,a_e]},__e={null:[42,95]},w_e={null:[]},S_e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:__e,contentInitial:m_e,disable:w_e,document:p_e,flow:y_e,flowInitial:g_e,insideSpan:x_e,string:v_e,text:b_e},Symbol.toStringTag,{value:"Module"}));function A_e(t){const n=fX([S_e,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(zxe),document:i(jxe),flow:i(o_e),string:i(l_e),text:i(c_e)};return r;function i(o){return s;function s(a){return d_e(r,o,a)}}}function C_e(t){for(;!vX(t););return t}const iF=/[\0\t\n\r]/g;function M_e(){let t=1,e="",n=!0,r;return i;function i(o,s,a){const l=[];let c,u,d,h,f;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,e="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(iF.lastIndex=d,c=iF.exec(o),h=c&&c.index!==void 0?c.index:o.length,f=o.charCodeAt(h),!c){e=o.slice(d);break}if(f===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(o.slice(d,h)),t+=h-d),f){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const E_e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function k_e(t){return t.replace(E_e,T_e)}function T_e(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return pX(n.slice(o?2:1),o?16:10)}return a9(n)||t}const AX={}.hasOwnProperty;function D_e(t,e,n){return typeof e!="string"&&(n=e,e=void 0),L_e(n)(C_e(A_e(n).document().write(M_e()(t,e,!0))))}function L_e(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(_t),autolinkProtocol:T,autolinkEmail:T,atxHeading:o(Be),blockQuote:o(ke),characterEscape:T,characterReference:T,codeFenced:o(ee),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(ee,s),codeText:o(le,s),codeTextData:T,data:T,codeFlowValue:T,definition:o(xe),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Fe),hardBreakEscape:o(Re),hardBreakTrailing:o(Re),htmlFlow:o(Ze,s),htmlFlowData:T,htmlText:o(Ze,s),htmlTextData:T,image:o(Je),label:s,link:o(_t),listItem:o(U),listItemValue:h,listOrdered:o(Q,d),listUnordered:o(Q),paragraph:o(pe),reference:G,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(Be),strong:o(Te),thematicBreak:o(Ge)},exit:{atxHeading:l(),atxHeadingSequence:D,autolink:l(),autolinkEmail:pt,autolinkProtocol:Ve,blockQuote:l(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:_e,characterReferenceMarkerNumeric:_e,characterReferenceValue:ve,characterReference:Ae,codeFenced:l(b),codeFencedFence:v,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:C,codeIndented:l(y),codeText:l(X),codeTextData:C,data:C,definition:l(),definitionDestinationString:A,definitionLabelString:x,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(z),hardBreakTrailing:l(z),htmlFlow:l(H),htmlFlowData:C,htmlText:l($),htmlTextData:C,image:l(K),label:V,labelText:O,lineEnding:P,link:l(Z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ae,resourceDestinationString:I,resourceTitleString:se,resource:ye,setextHeading:l(L),setextHeadingLineSequence:R,setextHeadingText:k,strong:l(),thematicBreak:l()}};CX(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ce){let de={type:"root",children:[]};const De={stack:[de],tokenStack:[],config:e,enter:a,exit:c,buffer:s,resume:u,data:n},Qe=[];let Ie=-1;for(;++Ie<ce.length;)if(ce[Ie][1].type==="listOrdered"||ce[Ie][1].type==="listUnordered")if(ce[Ie][0]==="enter")Qe.push(Ie);else{const et=Qe.pop();Ie=i(ce,et,Ie)}for(Ie=-1;++Ie<ce.length;){const et=e[ce[Ie][0]];AX.call(et,ce[Ie][1].type)&&et[ce[Ie][1].type].call(Object.assign({sliceSerialize:ce[Ie][2].sliceSerialize},De),ce[Ie][1])}if(De.tokenStack.length>0){const et=De.tokenStack[De.tokenStack.length-1];(et[1]||oF).call(De,void 0,et[0])}for(de.position={start:wu(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:wu(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Ie=-1;++Ie<e.transforms.length;)de=e.transforms[Ie](de)||de;return de}function i(ce,de,De){let Qe=de-1,Ie=-1,et=!1,kt,vt,rt,te;for(;++Qe<=De;){const ge=ce[Qe];switch(ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ge[0]==="enter"?Ie++:Ie--,te=void 0;break}case"lineEndingBlank":{ge[0]==="enter"&&(kt&&!te&&!Ie&&!rt&&(rt=Qe),te=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:te=void 0}if(!Ie&&ge[0]==="enter"&&ge[1].type==="listItemPrefix"||Ie===-1&&ge[0]==="exit"&&(ge[1].type==="listUnordered"||ge[1].type==="listOrdered")){if(kt){let We=Qe;for(vt=void 0;We--;){const J=ce[We];if(J[1].type==="lineEnding"||J[1].type==="lineEndingBlank"){if(J[0]==="exit")continue;vt&&(ce[vt][1].type="lineEndingBlank",et=!0),J[1].type="lineEnding",vt=We}else if(!(J[1].type==="linePrefix"||J[1].type==="blockQuotePrefix"||J[1].type==="blockQuotePrefixWhitespace"||J[1].type==="blockQuoteMarker"||J[1].type==="listItemIndent"))break}rt&&(!vt||rt<vt)&&(kt._spread=!0),kt.end=Object.assign({},vt?ce[vt][1].start:ge[1].end),ce.splice(vt||Qe,0,["exit",kt,ge[2]]),Qe++,De++}if(ge[1].type==="listItemPrefix"){const We={type:"listItem",_spread:!1,start:Object.assign({},ge[1].start),end:void 0};kt=We,ce.splice(Qe,0,["enter",We,ge[2]]),Qe++,De++,rt=void 0,te=!0}}}return ce[de][1]._spread=et,De}function o(ce,de){return De;function De(Qe){a.call(this,ce(Qe),Qe),de&&de.call(this,Qe)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(ce,de,De){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([de,De]),ce.position={start:wu(de.start),end:void 0}}function l(ce){return de;function de(De){ce&&ce.call(this,De),c.call(this,De)}}function c(ce,de){const De=this.stack.pop(),Qe=this.tokenStack.pop();if(Qe)Qe[0].type!==ce.type&&(de?de.call(this,ce,Qe[0]):(Qe[1]||oF).call(this,ce,Qe[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Py({start:ce.start,end:ce.end})+"): its not open");De.position.end=wu(ce.end)}function u(){return s9(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(ce){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function f(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.lang=ce}function p(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.meta=ce}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.value=ce.replace(/(\r?\n|\r)$/g,"")}function x(ce){const de=this.resume(),De=this.stack[this.stack.length-1];De.label=de,De.identifier=Pa(this.sliceSerialize(ce)).toLowerCase()}function w(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.title=ce}function A(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.url=ce}function D(ce){const de=this.stack[this.stack.length-1];if(!de.depth){const De=this.sliceSerialize(ce).length;de.depth=De}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function R(ce){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function T(ce){const De=this.stack[this.stack.length-1].children;let Qe=De[De.length-1];(!Qe||Qe.type!=="text")&&(Qe=Oe(),Qe.position={start:wu(ce.start),end:void 0},De.push(Qe)),this.stack.push(Qe)}function C(ce){const de=this.stack.pop();de.value+=this.sliceSerialize(ce),de.position.end=wu(ce.end)}function P(ce){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const De=de.children[de.children.length-1];De.position.end=wu(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(de.type)&&(T.call(this,ce),C.call(this,ce))}function z(){this.data.atHardBreak=!0}function H(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.value=ce}function $(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.value=ce}function X(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.value=ce}function Z(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=de,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function K(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=de,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function O(ce){const de=this.sliceSerialize(ce),De=this.stack[this.stack.length-2];De.label=k_e(de),De.identifier=Pa(de).toLowerCase()}function V(){const ce=this.stack[this.stack.length-1],de=this.resume(),De=this.stack[this.stack.length-1];if(this.data.inReference=!0,De.type==="link"){const Qe=ce.children;De.children=Qe}else De.alt=de}function I(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.url=ce}function se(){const ce=this.resume(),de=this.stack[this.stack.length-1];de.title=ce}function ye(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function ae(ce){const de=this.resume(),De=this.stack[this.stack.length-1];De.label=de,De.identifier=Pa(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function _e(ce){this.data.characterReferenceType=ce.type}function ve(ce){const de=this.sliceSerialize(ce),De=this.data.characterReferenceType;let Qe;De?(Qe=pX(de,De==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Qe=a9(de);const Ie=this.stack[this.stack.length-1];Ie.value+=Qe}function Ae(ce){const de=this.stack.pop();de.position.end=wu(ce.end)}function Ve(ce){C.call(this,ce);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(ce)}function pt(ce){C.call(this,ce);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(ce)}function ke(){return{type:"blockquote",children:[]}}function ee(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fe(){return{type:"emphasis",children:[]}}function Be(){return{type:"heading",depth:0,children:[]}}function Re(){return{type:"break"}}function Ze(){return{type:"html",value:""}}function Je(){return{type:"image",title:null,url:"",alt:null}}function _t(){return{type:"link",title:null,url:"",children:[]}}function Q(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function U(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function pe(){return{type:"paragraph",children:[]}}function Te(){return{type:"strong",children:[]}}function Oe(){return{type:"text",value:""}}function Ge(){return{type:"thematicBreak"}}}function wu(t){return{line:t.line,column:t.column,offset:t.offset}}function CX(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?CX(t,r):R_e(t,r)}}function R_e(t,e){let n;for(n in e)if(AX.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function oF(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Py({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Py({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Py({start:e.start,end:e.end})+") is still open")}function B_e(t){const e=this;e.parser=n;function n(r){return D_e(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function P_e(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function N_e(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function I_e(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function O_e(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function F_e(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function z_e(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=S0(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let s,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=o+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function U_e(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function j_e(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function MX(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function H_e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return MX(t,e);const i={src:S0(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function $_e(t,e){const n={src:S0(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function G_e(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function V_e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return MX(t,e);const i={href:S0(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function q_e(t,e){const n={href:S0(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function K_e(t,e,n){const r=t.all(e),i=n?W_e(n):EX(e),o={},s=[];if(typeof e.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:s};return t.patch(e,c),t.applyData(e,c)}function W_e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=EX(n[r])}return e}function EX(t){const e=t.spread;return e??t.children.length>1}function X_e(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function J_e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Y_e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Z_e(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Q_e(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=n9(e.children[1]),l=sX(e.children[e.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function ewe(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const d=e.children[l],h={},f=s?s[l]:void 0;f&&(h.align=f);let p={type:"element",tagName:o,properties:h,children:[]};d&&(p.children=t.all(d),t.patch(d,p),p=t.applyData(d,p)),c.push(p)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function twe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const sF=9,aF=32;function nwe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(lF(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(lF(e.slice(i),i>0,!1)),o.join("")}function lF(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===sF||o===aF;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===sF||o===aF;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function rwe(t,e){const n={type:"text",value:nwe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function iwe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const owe={blockquote:P_e,break:N_e,code:I_e,delete:O_e,emphasis:F_e,footnoteReference:z_e,heading:U_e,html:j_e,imageReference:H_e,image:$_e,inlineCode:G_e,linkReference:V_e,link:q_e,listItem:K_e,list:X_e,paragraph:J_e,root:Y_e,strong:Z_e,table:Q_e,tableCell:twe,tableRow:ewe,text:rwe,thematicBreak:iwe,toml:Z2,yaml:Z2,definition:Z2,footnoteDefinition:Z2};function Z2(){}const kX=-1,S4=0,t3=1,n3=2,c9=3,u9=4,d9=5,h9=6,TX=7,DX=8,cF=typeof self=="object"?self:globalThis,swe=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,s]=e[i];switch(o){case S4:case kX:return n(s,i);case t3:{const a=n([],i);for(const l of s)a.push(r(l));return a}case n3:{const a=n({},i);for(const[l,c]of s)a[r(l)]=r(c);return a}case c9:return n(new Date(s),i);case u9:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case d9:{const a=n(new Map,i);for(const[l,c]of s)a.set(r(l),r(c));return a}case h9:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case TX:{const{name:a,message:l}=s;return n(new cF[a](l),i)}case DX:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new cF[o](s),i)};return r},uF=t=>swe(new Map,t)(0),kp="",{toString:awe}={},{keys:lwe}=Object,Hg=t=>{const e=typeof t;if(e!=="object"||!t)return[S4,e];const n=awe.call(t).slice(8,-1);switch(n){case"Array":return[t3,kp];case"Object":return[n3,kp];case"Date":return[c9,kp];case"RegExp":return[u9,kp];case"Map":return[d9,kp];case"Set":return[h9,kp]}return n.includes("Array")?[t3,n]:n.includes("Error")?[TX,n]:[n3,n]},Q2=([t,e])=>t===S4&&(e==="function"||e==="symbol"),cwe=(t,e,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=Hg(s);switch(a){case S4:{let u=s;switch(l){case"bigint":a=DX,u=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([kX],s)}return i([a,u],s)}case t3:{if(l)return i([l,[...s]],s);const u=[],d=i([a,u],s);for(const h of s)u.push(o(h));return d}case n3:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return o(s.toJSON());const u=[],d=i([a,u],s);for(const h of lwe(s))(t||!Q2(Hg(s[h])))&&u.push([o(h),o(s[h])]);return d}case c9:return i([a,s.toISOString()],s);case u9:{const{source:u,flags:d}=s;return i([a,{source:u,flags:d}],s)}case d9:{const u=[],d=i([a,u],s);for(const[h,f]of s)(t||!(Q2(Hg(h))||Q2(Hg(f))))&&u.push([o(h),o(f)]);return d}case h9:{const u=[],d=i([a,u],s);for(const h of s)(t||!Q2(Hg(h)))&&u.push(o(h));return d}}const{message:c}=s;return i([a,{name:l,message:c}],s)};return o},dF=(t,{json:e,lossy:n}={})=>{const r=[];return cwe(!(e||n),!!e,new Map,r)(t),r},r3=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?uF(dF(t,e)):structuredClone(t):(t,e)=>uF(dF(t,e));function uwe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function dwe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function hwe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||uwe,r=t.options.footnoteBackLabel||dwe,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),d=String(c.identifier).toUpperCase(),h=S0(d.toLowerCase());let f=0;const p=[],v=t.footnoteCounts.get(d);for(;v!==void 0&&++f<=v;){p.length>0&&p.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,f);typeof x=="string"&&(x={type:"text",value:x}),p.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=u[u.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...p)}else u.push(...p);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(u,!0)};t.patch(c,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...r3(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const A4=function(t){if(t==null)return gwe;if(typeof t=="function")return C4(t);if(typeof t=="object")return Array.isArray(t)?fwe(t):pwe(t);if(typeof t=="string")return mwe(t);throw new Error("Expected function, string, or object as test")};function fwe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=A4(t[n]);return C4(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function pwe(t){const e=t;return C4(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function mwe(t){return C4(e);function e(n){return n&&n.type===t}}function C4(t){return e;function e(n,r,i){return!!(ywe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function gwe(){return!0}function ywe(t){return t!==null&&typeof t=="object"&&"type"in t}const LX=[],vwe=!0,J6=!1,bwe="skip";function RX(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=A4(i),s=r?-1:1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=LX,p,v,b;if((!e||o(l,c,u[u.length-1]||void 0))&&(f=xwe(n(l,u)),f[0]===J6))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==bwe)for(v=(r?y.children.length:-1)+s,b=u.concat(y);v>-1&&v<y.children.length;){const x=y.children[v];if(p=a(x,v,b)(),p[0]===J6)return p;v=typeof p[1]=="number"?p[1]:v+s}}return f}}}function xwe(t){return Array.isArray(t)?t:typeof t=="number"?[vwe,t]:t==null?LX:[t]}function f9(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),RX(t,o,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return s(l,d,u)}}const Y6={}.hasOwnProperty,_we={};function wwe(t,e){const n=e||_we,r=new Map,i=new Map,o=new Map,s={...owe,...n.handlers},a={all:c,applyData:Awe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:Swe,wrap:Mwe};return f9(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),a;function l(u,d){const h=u.type,f=a.handlers[h];if(Y6.call(a.handlers,h)&&f)return f(a,u,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in u){const{children:v,...b}=u,y=r3(b);return y.children=a.all(u),y}return r3(u)}return(a.options.unknownHandler||Cwe)(a,u,d)}function c(u){const d=[];if("children"in u){const h=u.children;let f=-1;for(;++f<h.length;){const p=a.one(h[f],u);if(p){if(f&&h[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=hF(p.value)),!Array.isArray(p)&&p.type==="element")){const v=p.children[0];v&&v.type==="text"&&(v.value=hF(v.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function Swe(t,e){t.position&&(e.position=cxe(t))}function Awe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,r3(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Cwe(t,e){const n=e.data||{},r="value"in e&&!(Y6.call(n,"hProperties")||Y6.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Mwe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function hF(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function fF(t,e){const n=wwe(t,e),r=n.one(t,void 0),i=hwe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Ewe(t,e){return t&&"run"in t?async function(n,r){const i=fF(n,{file:r,...e});await t.run(i,r)}:function(n,r){return fF(n,{file:r,...e||t})}}function pF(t){if(t)throw t}var z_=Object.prototype.hasOwnProperty,BX=Object.prototype.toString,mF=Object.defineProperty,gF=Object.getOwnPropertyDescriptor,yF=function(e){return typeof Array.isArray=="function"?Array.isArray(e):BX.call(e)==="[object Array]"},vF=function(e){if(!e||BX.call(e)!=="[object Object]")return!1;var n=z_.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&z_.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||z_.call(e,i)},bF=function(e,n){mF&&n.name==="__proto__"?mF(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},xF=function(e,n){if(n==="__proto__")if(z_.call(e,n)){if(gF)return gF(e,n).value}else return;return e[n]},kwe=function t(){var e,n,r,i,o,s,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=xF(a,n),i=xF(e,n),a!==i&&(u&&i&&(vF(i)||(o=yF(i)))?(o?(o=!1,s=r&&yF(r)?r:[]):s=r&&vF(r)?r:{},bF(a,{name:n,newValue:t(u,s,i)})):typeof i<"u"&&bF(a,{name:n,newValue:i}));return a};const KM=hf(kwe);function Z6(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Twe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...c){const u=t[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?Dwe(u,a)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Dwe(t,e){let n;return r;function r(...s){const a=t.length>s.length;let l;a&&s.push(i);try{l=t.apply(this,s)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,e(s,...a))}function o(s){i(null,s)}}const dl={basename:Lwe,dirname:Rwe,extname:Bwe,join:Pwe,sep:"/"};function Lwe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');_v(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Rwe(t){if(_v(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Bwe(t){_v(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const a=t.codePointAt(e);if(a===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),a===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Pwe(...t){let e=-1,n;for(;++e<t.length;)_v(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Nwe(n)}function Nwe(t){_v(t);const e=t.codePointAt(0)===47;let n=Iwe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Iwe(t,e){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=t.length;){if(s<t.length)a=t.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function _v(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Owe={cwd:Fwe};function Fwe(){return"/"}function Q6(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function zwe(t){if(typeof t=="string")t=new URL(t);else if(!Q6(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Uwe(t)}function Uwe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const WM=["history","path","basename","stem","extname","dirname"];class PX{constructor(e){let n;e?Q6(e)?n={path:e}:typeof e=="string"||jwe(e)?n={value:e}:n=e:n={},this.cwd=Owe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<WM.length;){const o=WM[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)WM.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?dl.basename(this.path):void 0}set basename(e){JM(e,"basename"),XM(e,"basename"),this.path=dl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?dl.dirname(this.path):void 0}set dirname(e){_F(this.basename,"dirname"),this.path=dl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?dl.extname(this.path):void 0}set extname(e){if(XM(e,"extname"),_F(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=dl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Q6(e)&&(e=zwe(e)),JM(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?dl.basename(this.path,this.extname):void 0}set stem(e){JM(e,"stem"),XM(e,"stem"),this.path=dl.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new lo(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function XM(t,e){if(t&&t.includes(dl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+dl.sep+"`")}function JM(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function _F(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function jwe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Hwe=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};Object.setPrototypeOf(o,r);const s=Object.getOwnPropertyNames(i);for(const a of s){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(o,a,l)}return o},$we={}.hasOwnProperty;class p9 extends Hwe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Twe()}copy(){const e=new p9;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(KM(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(QM("data",this.frozen),this.namespace[e]=n,this):$we.call(this.namespace,e)&&this.namespace[e]||void 0:e?(QM("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=e_(e),r=this.parser||this.Parser;return YM("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),YM("process",this.parser||this.Parser),ZM("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=e_(e),l=r.parse(a);r.run(l,a,function(u,d,h){if(u||!d||!h)return c(u);const f=d,p=r.stringify(f,h);qwe(p)?h.value=p:h.result=p,c(u,h)});function c(u,d){u||!d?s(u):o?o(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),YM("processSync",this.parser||this.Parser),ZM("processSync",this.compiler||this.Compiler),this.process(e,i),SF("processSync","process",n),r;function i(o,s){n=!0,pF(o),r=s}}run(e,n,r){wF(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=e_(n);i.run(e,l,c);function c(u,d,h){const f=d||e;u?a(u):s?s(f):r(void 0,f,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),SF("runSync","run",r),i;function o(s,a){pF(s),i=a,r=!0}}stringify(e,n){this.freeze();const r=e_(n),i=this.compiler||this.Compiler;return ZM("stringify",i),wF(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(QM("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=KM(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];o(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===c){h=d;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[f,...p]=u;const v=r[h][1];Z6(v)&&Z6(f)&&(f=KM(!0,v,f)),r[h]=[c,f,...p]}}}}const Gwe=new p9().freeze();function YM(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function ZM(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function QM(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wF(t){if(!Z6(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function SF(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function e_(t){return Vwe(t)?t:new PX(t)}function Vwe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function qwe(t){return typeof t=="string"||Kwe(t)}function Kwe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Wwe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",AF=[],CF={allowDangerousHtml:!0},Xwe=/^(https?|ircs?|mailto|xmpp)$/i,Jwe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function NX(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,o=t.components,s=t.disallowedElements,a=t.rehypePlugins||AF,l=t.remarkPlugins||AF,c=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...CF}:CF,u=t.skipHtml,d=t.unwrapDisallowed,h=t.urlTransform||Ywe,f=Gwe().use(B_e).use(l).use(Ewe,c).use(a),p=new PX;typeof r=="string"&&(p.value=r);for(const x of Jwe)Object.hasOwn(t,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+Wwe+x.id,void 0);const v=f.parse(p);let b=f.runSync(v,p);return i&&(b={type:"element",tagName:"div",properties:{className:i},children:b.type==="root"?b.children:[b]}),f9(b,y),mxe(b,{Fragment:_.Fragment,components:o,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function y(x,w,A){if(x.type==="raw"&&A&&typeof w=="number")return u?A.children.splice(w,1):A.children[w]={type:"text",value:x.value},w;if(x.type==="element"){let D;for(D in GM)if(Object.hasOwn(GM,D)&&Object.hasOwn(x.properties,D)){const k=x.properties[D],R=GM[D];(R===null||R.includes(x.tagName))&&(x.properties[D]=h(String(k||""),D,x))}}if(x.type==="element"){let D=e?!e.includes(x.tagName):s?s.includes(x.tagName):!1;if(!D&&n&&typeof w=="number"&&(D=!n(x,w,A)),D&&A&&typeof w=="number")return d&&x.children?A.children.splice(w,1,...x.children):A.children.splice(w,1),w}}}function Ywe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||Xwe.test(t.slice(0,e))?t:""}function MF(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Zwe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Qwe(t,e,n){const i=A4((n||{}).ignore||[]),o=e3e(e);let s=-1;for(;++s<o.length;)RX(t,"text",a);function a(c,u){let d=-1,h;for(;++d<u.length;){const f=u[d],p=h?h.children:void 0;if(i(f,p?p.indexOf(f):void 0,h))return;h=f}if(h)return l(c,u)}function l(c,u){const d=u[u.length-1],h=o[s][0],f=o[s][1];let p=0;const b=d.children.indexOf(c);let y=!1,x=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const A=w.index,D={index:w.index,input:w.input,stack:[...u,c]};let k=f(...w,D);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?h.lastIndex=A+1:(p!==A&&x.push({type:"text",value:c.value.slice(p,A)}),Array.isArray(k)?x.push(...k):k&&x.push(k),p=A+w[0].length,y=!0),!h.global)break;w=h.exec(c.value)}return y?(p<c.value.length&&x.push({type:"text",value:c.value.slice(p)}),d.children.splice(b,1,...x)):x=[c],b+x.length}}function e3e(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([t3e(i[0]),n3e(i[1])])}return e}function t3e(t){return typeof t=="string"?new RegExp(Zwe(t),"g"):t}function n3e(t){return typeof t=="function"?t:function(){return t}}const eE="phrasing",tE=["autolink","link","image","label"];function r3e(){return{transforms:[u3e],enter:{literalAutolink:o3e,literalAutolinkEmail:nE,literalAutolinkHttp:nE,literalAutolinkWww:nE},exit:{literalAutolink:c3e,literalAutolinkEmail:l3e,literalAutolinkHttp:s3e,literalAutolinkWww:a3e}}}function i3e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:eE,notInConstruct:tE},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:eE,notInConstruct:tE},{character:":",before:"[ps]",after:"\\/",inConstruct:eE,notInConstruct:tE}]}}function o3e(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function nE(t){this.config.enter.autolinkProtocol.call(this,t)}function s3e(t){this.config.exit.autolinkProtocol.call(this,t)}function a3e(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function l3e(t){this.config.exit.autolinkEmail.call(this,t)}function c3e(t){this.exit(t)}function u3e(t){Qwe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,d3e],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,h3e]],{ignore:["link","linkReference"]})}function d3e(t,e,n,r,i){let o="";if(!IX(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!f3e(n)))return!1;const s=p3e(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:o+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function h3e(t,e,n,r){return!IX(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function f3e(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function p3e(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=MF(t,"(");let o=MF(t,")");for(;r!==-1&&i>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function IX(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||df(n)||_4(n))&&(!e||n!==47)}OX.peek=C3e;function m3e(){return{enter:{gfmFootnoteDefinition:y3e,gfmFootnoteDefinitionLabelString:v3e,gfmFootnoteCall:_3e,gfmFootnoteCallString:w3e},exit:{gfmFootnoteDefinition:x3e,gfmFootnoteDefinitionLabelString:b3e,gfmFootnoteCall:A3e,gfmFootnoteCallString:S3e}}}function g3e(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:M3e,footnoteReference:OX}}}function y3e(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function v3e(){this.buffer()}function b3e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=Pa(this.sliceSerialize(t)).toLowerCase()}function x3e(t){this.exit(t)}function _3e(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function w3e(){this.buffer()}function S3e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=Pa(this.sliceSerialize(t)).toLowerCase()}function A3e(t){this.exit(t)}function OX(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return o+=i.move(n.safe(n.associationId(t),{...i.current(),before:o,after:"]"})),a(),s(),o+=i.move("]"),o}function C3e(){return"["}function M3e(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteDefinition"),a=n.enter("label");return o+=i.move(n.safe(n.associationId(t),{...i.current(),before:o,after:"]"})),a(),o+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),o+=i.move(n.indentLines(n.containerFlow(t,i.current()),E3e)),s(),o}function E3e(t,e,n){return e===0?t:(n?"":"    ")+t}const k3e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];FX.peek=B3e;function T3e(){return{canContainEols:["delete"],enter:{strikethrough:L3e},exit:{strikethrough:R3e}}}function D3e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:k3e}],handlers:{delete:FX}}}function L3e(t){this.enter({type:"delete",children:[]},t)}function R3e(t){this.exit(t)}function FX(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(t,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function B3e(){return"~"}function P3e(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||I3e,i=[],o=[],s=[],a=[];let l=0,c=-1;for(;++c<t.length;){const p=[],v=[];let b=-1;for(t[c].length>l&&(l=t[c].length);++b<t[c].length;){const y=N3e(t[c][b]);if(e.alignDelimiters!==!1){const x=r(y);v[b]=x,(a[b]===void 0||x>a[b])&&(a[b]=x)}p.push(y)}o[c]=p,s[c]=v}let u=-1;if(typeof n=="object"&&"length"in n)for(;++u<l;)i[u]=EF(n[u]);else{const p=EF(n);for(;++u<l;)i[u]=p}u=-1;const d=[],h=[];for(;++u<l;){const p=i[u];let v="",b="";p===99?(v=":",b=":"):p===108?v=":":p===114&&(b=":");let y=e.alignDelimiters===!1?1:Math.max(1,a[u]-v.length-b.length);const x=v+"-".repeat(y)+b;e.alignDelimiters!==!1&&(y=v.length+y+b.length,y>a[u]&&(a[u]=y),h[u]=y),d[u]=x}o.splice(1,0,d),s.splice(1,0,h),c=-1;const f=[];for(;++c<o.length;){const p=o[c],v=s[c];u=-1;const b=[];for(;++u<l;){const y=p[u]||"";let x="",w="";if(e.alignDelimiters!==!1){const A=a[u]-(v[u]||0),D=i[u];D===114?x=" ".repeat(A):D===99?A%2?(x=" ".repeat(A/2+.5),w=" ".repeat(A/2-.5)):(x=" ".repeat(A/2),w=x):w=" ".repeat(A)}e.delimiterStart!==!1&&!u&&b.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&y==="")&&(e.delimiterStart!==!1||u)&&b.push(" "),e.alignDelimiters!==!1&&b.push(x),b.push(y),e.alignDelimiters!==!1&&b.push(w),e.padding!==!1&&b.push(" "),(e.delimiterEnd!==!1||u!==l-1)&&b.push("|")}f.push(e.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return f.join(`
`)}function N3e(t){return t==null?"":String(t)}function I3e(t){return t.length}function EF(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function O3e(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(t,o.current()),F3e);return i(),s}function F3e(t,e,n){return">"+(n?"":" ")+t}function z3e(t,e){return kF(t,e.inConstruct,!0)&&!kF(t,e.notInConstruct,!1)}function kF(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function TF(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&z3e(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function U3e(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+e.length,r=n.indexOf(e,i);return s}function j3e(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function H3e(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function $3e(t,e,n,r){const i=H3e(n),o=t.value||"",s=i==="`"?"GraveAccent":"Tilde";if(j3e(t,n)){const d=n.enter("codeIndented"),h=n.indentLines(o,G3e);return d(),h}const a=n.createTracker(r),l=i.repeat(Math.max(U3e(o,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${s}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${s}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),o&&(u+=a.move(o+`
`)),u+=a.move(l),c(),u}function G3e(t,e,n){return(n?"":"    ")+t}function m9(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function V3e(t,e,n,r){const i=m9(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),s(),c}function q3e(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}zX.peek=K3e;function zX(t,e,n,r){const i=q3e(n),o=n.enter("emphasis"),s=n.createTracker(r);let a=s.move(i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i),o(),a}function K3e(t,e,n){return n.options.emphasis||"*"}function W3e(t,e){let n=!1;return f9(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,J6}),!!((!t.depth||t.depth<3)&&s9(t)&&(e.options.setext||n))}function X3e(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(W3e(t,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return d(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),a(),c}UX.peek=J3e;function UX(t){return t.value||""}function J3e(){return"<"}jX.peek=Y3e;function jX(t,e,n,r){const i=m9(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),s(),c}function Y3e(){return"!"}HX.peek=Z3e;function HX(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Z3e(){return"!"}$X.peek=Q3e;function $X(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Q3e(){return"`"}function GX(t,e){const n=s9(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}VX.peek=e4e;function VX(t,e,n,r){const i=m9(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(GX(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=s.move("<");return d+=s.move(n.containerPhrasing(t,{before:d,after:">",...s.current()})),d+=s.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(t,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(t.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(t.url,{before:c,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=n.enter(`title${o}`),c+=s.move(" "+i),c+=s.move(n.safe(t.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),a(),c}function e4e(t,e,n){return GX(t,n)?"<":"["}qX.peek=t4e;function qX(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function t4e(){return"["}function g9(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function n4e(t){const e=g9(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function r4e(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function KX(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function i4e(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=t.ordered?r4e(n):g9(n);const a=t.ordered?s==="."?")":".":n4e(n);let l=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),KX(n)===s&&u){let d=-1;for(;++d<t.children.length;){const h=t.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const c=n.containerFlow(t,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),c}function o4e(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function s4e(t,e,n,r){const i=o4e(n);let o=n.bulletCurrent||g9(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(d,h,f){return h?(f?"":" ".repeat(s))+d:(f?o:o+" ".repeat(s-o.length))+d}}function a4e(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(t,r);return o(),i(),s}const l4e=A4(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function c4e(t,e,n,r){return(t.children.some(function(s){return l4e(s)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function u4e(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}WX.peek=d4e;function WX(t,e,n,r){const i=u4e(n),o=n.enter("strong"),s=n.createTracker(r);let a=s.move(i+i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i+i),o(),a}function d4e(t,e,n){return n.options.strong||"*"}function h4e(t,e,n,r){return n.safe(t.value,r)}function f4e(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function p4e(t,e,n){const r=(KX(n)+(n.options.ruleSpaces?" ":"")).repeat(f4e(n));return n.options.ruleSpaces?r.slice(0,-1):r}const XX={blockquote:O3e,break:TF,code:$3e,definition:V3e,emphasis:zX,hardBreak:TF,heading:X3e,html:UX,image:jX,imageReference:HX,inlineCode:$X,link:VX,linkReference:qX,list:i4e,listItem:s4e,paragraph:a4e,root:c4e,strong:WX,text:h4e,thematicBreak:p4e};function m4e(){return{enter:{table:g4e,tableData:DF,tableHeader:DF,tableRow:v4e},exit:{codeText:b4e,table:y4e,tableData:rE,tableHeader:rE,tableRow:rE}}}function g4e(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function y4e(t){this.exit(t),this.data.inTable=void 0}function v4e(t){this.enter({type:"tableRow",children:[]},t)}function rE(t){this.exit(t)}function DF(t){this.enter({type:"tableCell",children:[]},t)}function b4e(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,x4e));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function x4e(t,e){return e==="|"?e:t}function _4e(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:a}};function s(f,p,v,b){return c(u(f,v,b),f.align)}function a(f,p,v,b){const y=d(f,v,b),x=c([y]);return x.slice(0,x.indexOf(`
`))}function l(f,p,v,b){const y=v.enter("tableCell"),x=v.enter("phrasing"),w=v.containerPhrasing(f,{...b,before:o,after:o});return x(),y(),w}function c(f,p){return P3e(f,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function u(f,p,v){const b=f.children;let y=-1;const x=[],w=p.enter("table");for(;++y<b.length;)x[y]=d(b[y],p,v);return w(),x}function d(f,p,v){const b=f.children;let y=-1;const x=[],w=p.enter("tableRow");for(;++y<b.length;)x[y]=l(b[y],f,p,v);return w(),x}function h(f,p,v){let b=XX.inlineCode(f,p,v);return v.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function w4e(){return{exit:{taskListCheckValueChecked:LF,taskListCheckValueUnchecked:LF,paragraph:A4e}}}function S4e(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:C4e}}}function LF(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function A4e(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,s;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function C4e(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);o&&a.move(s);let l=XX.listItem(t,e,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+s}}function M4e(){return[r3e(),m3e(),T3e(),m4e(),w4e()]}function E4e(t){return{extensions:[i3e(),g3e(),D3e(),_4e(t),S4e()]}}const k4e={tokenize:P4e,partial:!0},JX={tokenize:N4e,partial:!0},YX={tokenize:I4e,partial:!0},ZX={tokenize:O4e,partial:!0},T4e={tokenize:F4e,partial:!0},QX={tokenize:R4e,previous:tJ},eJ={tokenize:B4e,previous:nJ},Oc={tokenize:L4e,previous:rJ},Rl={};function D4e(){return{text:Rl}}let eh=48;for(;eh<123;)Rl[eh]=Oc,eh++,eh===58?eh=65:eh===91&&(eh=97);Rl[43]=Oc;Rl[45]=Oc;Rl[46]=Oc;Rl[95]=Oc;Rl[72]=[Oc,eJ];Rl[104]=[Oc,eJ];Rl[87]=[Oc,QX];Rl[119]=[Oc,QX];function L4e(t,e,n){const r=this;let i,o;return s;function s(d){return!e8(d)||!rJ.call(r,r.previous)||y9(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return e8(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(T4e,u,c)(d):d===45||d===95||no(d)?(o=!0,t.consume(d),l):u(d)}function c(d){return t.consume(d),i=!0,l}function u(d){return o&&i&&Ao(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function R4e(t,e,n){const r=this;return i;function i(s){return s!==87&&s!==119||!tJ.call(r,r.previous)||y9(r.events)?n(s):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(k4e,t.attempt(JX,t.attempt(YX,o),n),n)(s))}function o(s){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(s)}}function B4e(t,e,n){const r=this;let i="",o=!1;return s;function s(d){return(d===72||d===104)&&nJ.call(r,r.previous)&&!y9(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(Ao(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),o?c:(o=!0,l)):n(d)}function c(d){return d===null||Qw(d)||Xn(d)||df(d)||_4(d)?n(d):t.attempt(JX,t.attempt(YX,u),n)(d)}function u(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function P4e(t,e,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,t.consume(s),i):s===46&&r===3?(t.consume(s),o):n(s)}function o(s){return s===null?n(s):e(s)}}function N4e(t,e,n){let r,i,o;return s;function s(c){return c===46||c===95?t.check(ZX,l,a)(c):c===null||Xn(c)||df(c)||c!==45&&_4(c)?l(c):(o=!0,t.consume(c),s)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),s}function l(c){return i||r||!o?n(c):e(c)}}function I4e(t,e){let n=0,r=0;return i;function i(s){return s===40?(n++,t.consume(s),i):s===41&&r<n?o(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?t.check(ZX,e,o)(s):s===null||Xn(s)||df(s)?e(s):(t.consume(s),i)}function o(s){return s===41&&r++,t.consume(s),i}}function O4e(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),o):a===93?(t.consume(a),i):a===60||a===null||Xn(a)||df(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||Xn(a)||df(a)?e(a):r(a)}function o(a){return Ao(a)?s(a):n(a)}function s(a){return a===59?(t.consume(a),r):Ao(a)?(t.consume(a),s):n(a)}}function F4e(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return no(o)?n(o):e(o)}}function tJ(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Xn(t)}function nJ(t){return!Ao(t)}function rJ(t){return!(t===47||e8(t))}function e8(t){return t===43||t===45||t===46||t===95||no(t)}function y9(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const z4e={tokenize:K4e,partial:!0};function U4e(){return{document:{91:{tokenize:G4e,continuation:{tokenize:V4e},exit:q4e}},text:{91:{tokenize:$4e},93:{add:"after",tokenize:j4e,resolveTo:H4e}}}}function j4e(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!s||!s._balanced)return n(l);const c=Pa(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!o.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function H4e(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",s,e],["exit",s,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function $4e(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,s;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(d){if(o>999||d===93&&!s||d===null||d===91||Xn(d))return n(d);if(d===93){t.exit("chunkString");const h=t.exit("gfmFootnoteCallString");return i.includes(Pa(r.sliceSerialize(h)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return Xn(d)||(s=!0),o++,t.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(t.consume(d),o++,c):c(d)}}function G4e(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,s=0,a;return l;function l(p){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(p)}function u(p){if(s>999||p===93&&!a||p===null||p===91||Xn(p))return n(p);if(p===93){t.exit("chunkString");const v=t.exit("gfmFootnoteDefinitionLabelString");return o=Pa(r.sliceSerialize(v)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h}return Xn(p)||(a=!0),s++,t.consume(p),p===92?d:u}function d(p){return p===91||p===92||p===93?(t.consume(p),s++,u):u(p)}function h(p){return p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),i.includes(o)||i.push(o),_n(t,f,"gfmFootnoteDefinitionWhitespace")):n(p)}function f(p){return e(p)}}function V4e(t,e,n){return t.check(xv,e,t.attempt(z4e,e,n))}function q4e(t){t.exit("gfmFootnoteDefinition")}function K4e(t,e,n){const r=this;return _n(t,i,"gfmFootnoteDefinitionIndent",5);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(o):n(o)}}function W4e(t){let n=(t||{}).singleTilde;const r={tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,a){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},d={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",u,a],["enter",s[c][1],a],["exit",s[c][1],a],["enter",d,a]],f=a.parser.constructs.insideSpan.null;f&&na(h,h.length,0,w4(f,s.slice(c+1,l),a)),na(h,h.length,0,[["exit",d,a],["enter",s[l][1],a],["exit",s[l][1],a],["exit",u,a]]),na(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function o(s,a,l){const c=this.previous,u=this.events;let d=0;return h;function h(p){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const v=e3(c);if(p===126)return d>1?l(p):(s.consume(p),d++,f);if(d<2&&!n)return l(p);const b=s.exit("strikethroughSequenceTemporary"),y=e3(p);return b._open=!y||y===2&&!!v,b._close=!v||v===2&&!!y,a(p)}}}class X4e{constructor(){this.map=[]}add(e,n,r){J4e(this,e,n,r)}consume(e){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let i=r.pop();for(;i;)e.push(...i),i=r.pop();this.map.length=0}}function J4e(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Y4e(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Z4e(){return{flow:{null:{tokenize:Q4e,resolveAll:eSe}}}}function Q4e(t,e,n){const r=this;let i=0,o=0,s;return a;function a(C){let P=r.events.length-1;for(;P>-1;){const $=r.events[P][1].type;if($==="lineEnding"||$==="linePrefix")P--;else break}const z=P>-1?r.events[P][1].type:null,H=z==="tableHead"||z==="tableRow"?k:l;return H===k&&r.parser.lazy[r.now().line]?n(C):H(C)}function l(C){return t.enter("tableHead"),t.enter("tableRow"),c(C)}function c(C){return C===124||(s=!0,o+=1),u(C)}function u(C){return C===null?n(C):Ot(C)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),f):n(C):fn(C)?_n(t,u,"whitespace")(C):(o+=1,s&&(s=!1,i+=1),C===124?(t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),s=!0,u):(t.enter("data"),d(C)))}function d(C){return C===null||C===124||Xn(C)?(t.exit("data"),u(C)):(t.consume(C),C===92?h:d)}function h(C){return C===92||C===124?(t.consume(C),d):d(C)}function f(C){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(C):(t.enter("tableDelimiterRow"),s=!1,fn(C)?_n(t,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):p(C))}function p(C){return C===45||C===58?b(C):C===124?(s=!0,t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),v):D(C)}function v(C){return fn(C)?_n(t,b,"whitespace")(C):b(C)}function b(C){return C===58?(o+=1,s=!0,t.enter("tableDelimiterMarker"),t.consume(C),t.exit("tableDelimiterMarker"),y):C===45?(o+=1,y(C)):C===null||Ot(C)?A(C):D(C)}function y(C){return C===45?(t.enter("tableDelimiterFiller"),x(C)):D(C)}function x(C){return C===45?(t.consume(C),x):C===58?(s=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(C),t.exit("tableDelimiterMarker"),w):(t.exit("tableDelimiterFiller"),w(C))}function w(C){return fn(C)?_n(t,A,"whitespace")(C):A(C)}function A(C){return C===124?p(C):C===null||Ot(C)?!s||i!==o?D(C):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(C)):D(C)}function D(C){return n(C)}function k(C){return t.enter("tableRow"),R(C)}function R(C){return C===124?(t.enter("tableCellDivider"),t.consume(C),t.exit("tableCellDivider"),R):C===null||Ot(C)?(t.exit("tableRow"),e(C)):fn(C)?_n(t,R,"whitespace")(C):(t.enter("data"),L(C))}function L(C){return C===null||C===124||Xn(C)?(t.exit("data"),R(C)):(t.consume(C),C===92?T:L)}function T(C){return C===92||C===124?(t.consume(C),L):L(C)}}function eSe(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],s=[0,0,0,0],a=!1,l=0,c,u,d;const h=new X4e;for(;++n<t.length;){const f=t[n],p=f[1];f[0]==="enter"?p.type==="tableHead"?(a=!1,l!==0&&(RF(h,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,e]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,d=void 0,o=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",u,e]])),i=p.type==="tableDelimiterRow"?2:u?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],d=t_(h,e,o,i,void 0,d),o=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(s[0]=s[1],d=t_(h,e,o,i,void 0,d)),o=s,s=[o[1],n,0,0])):p.type==="tableHead"?(a=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,o[1]!==0?(s[0]=s[1],d=t_(h,e,o,i,n,d)):s[1]!==0&&(d=t_(h,e,s,i,n,d)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&RF(h,e,l,c,u),h.consume(e.events),n=-1;++n<e.events.length;){const f=e.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=Y4e(e.events,n))}return t}function t_(t,e,n,r,i,o){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(o.end=Object.assign({},Op(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const l=Op(e.events,n[1]);if(o={type:s,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const c=Op(e.events,n[2]),u=Op(e.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const h=e.events[n[2]],f=e.events[n[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,v=n[3]-n[2]-1;t.add(p,v,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(o.end=Object.assign({},Op(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function RF(t,e,n,r,i){const o=[],s=Op(e.events,n);i&&(i.end=Object.assign({},s),o.push(["exit",i,e])),r.end=Object.assign({},s),o.push(["exit",r,e]),t.add(n+1,0,o)}function Op(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const tSe={tokenize:rSe};function nSe(){return{text:{91:tSe}}}function rSe(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),o)}function o(l){return Xn(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return Ot(l)?e(l):fn(l)?t.check({tokenize:iSe},e,n)(l):n(l)}}function iSe(t,e,n){return _n(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function oSe(t){return fX([D4e(),U4e(),W4e(t),Z4e(),nSe()])}const sSe={};function iJ(t){const e=this,n=t||sSe,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(oSe(n)),o.push(M4e()),s.push(E4e(n))}function BF(...t){return Jk(Lk(t))}const M4=({msg:t,className:e})=>{const n=E.useRef(null);return E.useLayoutEffect(()=>{n.current&&$3(n.current,{TeX:{delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"]]}}})},[]),t&&typeof t=="string"?_.jsx("div",{ref:n,className:BF("rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl rounded-br-none bg-amber-400 text-cyan-700 relative block  w-[fit-content] px-4 py-[1rem] max-w-[90%] min-h-[2.75rem] min-w-[2.75rem] ml-2","before:start-[99.9%]","before:[mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMycgaGVpZ2h0PSczJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGZpbGw9J2JsYWNrJyBkPSdtIDAgMyBMIDEgMyBMIDMgMyBDIDIgMyAwIDEgMCAwJy8+PC9zdmc+)]","before:absolute before:bottom-[0] before:h-[.75rem] before:w-[.75rem] before:[background-color:inherit] before:content-[''] before:[mask-size:contain] before:[mask-repeat:no-repeat] before:[mask-position:center]",e),children:_.jsx(NX,{remarkPlugins:[iJ],children:t})}):t&&Array.isArray(t)?_.jsx("div",{ref:n,className:BF("rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl rounded-br-none bg-amber-400 text-cyan-700 relative block  w-[fit-content] px-4 py-[.5rem] max-w-[90%] min-h-[2.75rem] min-w-[2.75rem] ml-2","before:start-[99.9%]","before:[mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMycgaGVpZ2h0PSczJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGZpbGw9J2JsYWNrJyBkPSdtIDAgMyBMIDEgMyBMIDMgMyBDIDIgMyAwIDEgMCAwJy8+PC9zdmc+)]","before:absolute before:bottom-[0] before:h-[.75rem] before:w-[.75rem] before:[background-color:inherit] before:content-[''] before:[mask-size:contain] before:[mask-repeat:no-repeat] before:[mask-position:center]",e),children:t.map((r,i)=>_.jsx("p",{className:"flex flex-col gap-1",children:r},i))}):null},oJ=E.createContext(null),aSe=t=>{const[e,n]=E.useState(null),[r,i]=E.useState("idle:01"),[o,s]=E.useState([]);function a(l,c,u){if(n(l),typeof u=="string"&&u.length===2)i(`${c}:${u}`);else{const d=o.filter(v=>v.name===c);if(d.length===0)return;const h=d[0];if(!h)return;const f=Math.floor(Math.random()*h.variants.length),p=`${c}:${h.variants[f]}`;i(p)}}return _.jsx(oJ.Provider,{value:{msg:e,emote:r,setEmote:i,emotes:o,setEmotes:s,sayMsg:a},children:t.children})},wv=()=>E.useContext(oJ),Bl=({emote:t,closeUp:e,className:n,style:r})=>{E.useRef(null);const i={position:"absolute",height:"300px",width:"300px",...r};return _.jsx("div",{className:n,style:i,children:_.jsxs(ive,{shadows:!0,children:[_.jsx(Kve,{enableRotate:!1,enablePan:!1,enableZoom:!1}),_.jsx("ambientLight",{intensity:.4}),_.jsx(Tbe,{closeUp:e,emote:t||"idle:01"})]})})},t8=[{rank:"dev",id:"MeetTutor",title:"string",phase:"I",phaseLabel:"str"},{rank:"dev",id:"FillDiagram",title:"Fill in the Diagram",phase:"O",phaseLabel:"Organize"},{rank:"dev",id:"SolveTheEquation",title:"Solve the Equation",phase:"W",phaseLabel:"Work the Problem",intro:"Solve the equation above. Click the button to begin!",psHints:["Use the + and - buttons to add and subtract numbers","Use the = button to solve the equation"],aiHints:!1},{rank:"newb",id:"MeetTutor",title:"string",phase:"I",phaseLabel:"Instruction",intro:["Hi! My name is Kettu.","Together, we're going to get the POWER to solve math word problems!","Each letter in POWER is a problem-solving step that I will teach you.","Some word problems are easy. Others are harder. When you have POWER, you can use it to solve *any* word problem.","When we work together, we'll always use POWER, even for easy problems. That's so you can practice your skills and keep your POWER strong.",`Let's learn the first **P**OWER step!

  **P** is the first step. **P** stands for **P**repare.

  Ready? Click .`]},{rank:"newb",id:"FindTutor",title:"string",phase:"I",phaseLabel:"Instruction",intro:["Well work together. Ill be right here if you need me. Just click my cute self to get my attention.  Try it now."],psHints:[`Perfect! You found me!

If you're ever stuck, click on me just like that. I'll do my best to give you a hand.`,`Look next to me. Do you see the ? When it's blue, you can click it. If you've done any work, I'll check it before we move on. If something isn't right, I can help you fix it.

      Click  now to continue.`]},{rank:"newb",id:"ReadProblem",title:"Read",phase:"P",phaseLabel:"Prepare",intro:["You did that just right! Now let's Prepare.",`There are three things we do to Prepare. The first one is Read.

Read the story above. Take your time, and read every word carefully.

Click  when you're done.`],psHints:["Click  when you're done reading.","Go ahead and click  to continue."]},{rank:"newb",id:"FindFacts",title:"Pull Apart",phase:"P",phaseLabel:"Prepare",intro:["After reading a problem, we pull it apart. That means to find the important amounts and pull them out.","An amount in a word problem can be known, or it can be unknown.",`When you find an amount, highlight it. Then pull it out and place it under Known or Unknown.

Let's find the known amounts together. Click on me and I'll show you how.`]},{rank:"newb",id:"VideoTotal",title:"Total Stories (First Total Video)",phase:"I",phaseLabel:"Instruction",intro:[`The final Prepare task is to pick the problem type.

A word problem tells a story. Before you solve a word problem, it helps to know what *type* of story it tells.`,`There are a few different story types. The first one we'll learn about is Total.

Press  to start the video.

When the video finishes, click  to continue.`]},{rank:"newb",id:"NewbProblemType",title:"Pick the problem type",phase:"P",phaseLabel:"Prepare",intro:[`Super! Now we can pick the problem type.

The only type we know for now is Total. Let's make sure we've got a Total story here.`,`Are parts put together to make a total?

Yes! Click on me for more details.`]},{rank:"newb",id:"NewbVictory",title:"string",phase:"I",phaseLabel:"Instruction",intro:[`Great work!

Now you know the first POWER step, **P**repare.`,`To **P**repare, we:
1. Read
1. Pull apart
1. Pick the problem type`,`*And* you now know one problem type: Total.

Click Next to practice and check your understanding.`]},{rank:"cadet",id:"ReadProblem",title:"Read the problem",phase:"P",phaseLabel:"Prepare",intro:["You already know the first POWER step: Prepare.","Remember, the first thing we do to Prepare is read the problem.","Don't try to solve the problem. Just read it carefully. Click  when you're done reading."],psHints:["Click  when you're done reading."],aiHints:!1},{rank:"cadet",id:"FindFacts",title:"Pull apart the problem",phase:"P",intro:["Next, we pull apart the problem. Let's do it together. Click me when you're ready."],phaseLabel:"Prepare",aiHints:!1},{rank:"cadet",id:"SelectDiagram",title:"Pick the problem type",phase:"P",intro:[`You're doing great! Time to pick the problem type.

I'll talk you through it. Just click me when you're ready.`],phaseLabel:"Prepare",aiHints:!1},{rank:"cadet",id:"FillDiagram",title:"Write an equation",phase:"O",intro:["Good job! Now you're ready to learn the second P**O**WER step...",`O is for **O**rganize!
To organize the information, we write it in an equation. Click me to learn how.`],phaseLabel:"Organize",aiHints:!1},{rank:"cadet",id:"SolveTheEquation",title:"Find the unknown amount",phase:"W",intro:["All right! You've made it to the next PO**W**ER step, **W**ork the Problem.",`This is where we use math to find the unknown amount. We'll go one step at a time. Anytime you need math help, click me.

But not yet! First let me show you around.`,`Do you see the box above all the buttons? That's the math entry box. It's where you'll type your math. You can use your device's keyboard or the keys on the screen.
In the lower right corner of the page you will see a circular button with a [check mark].`,"When you're done typing a math step, click [check mark] and I'll check it.",`Look above the math entry box. That's where all your correct math steps will go.
And look! Step 1 is already there. You did Step 1 when you wrote the equation. The equation from O is always Step 1 in W.`,"The equation is in the math entry box, too. The last step you did stays there until you change it.",`Whew! Let's stop and take a breath or two. Then we'll get back to our word problem! 
      
Click me when you're ready.`],phaseLabel:"Work the Problem",aiHints:!1},{rank:"cadet",id:"OwnWords",title:"Answer the question",phase:"E",intro:["Yippee! It's time for the next POW**E**R step. E stands for **E**xplain the Answer.","In W, you found the unknown amount. That's part of the answer. But it's not the *whole* answer. You have to tell what the answer *means*.",`Look back at the problem. Reread the question sentence. Write a complete sentence that answers the question.

Give it a try! Click me if you need some help. Click  when your sentence is done.`],phaseLabel:"Explain the Answer",aiHints:!1},{rank:"cadet",id:"Reflect",title:"Think about the answer",phase:"R",phaseLabel:"Reflect",intro:["This is it! The last POWE**R** step! Let's do this.","**R**eflect means to look back. Think about the answer. Does it make sense? Use good math thinking to tell why it makes sense.","Here are three possible reasons why the answer you found makes sense. Each one might be a good reason, or it might not be.","Read each one carefully. Then choose the one you think is best. Click  to check your answer."],psHints:["Choose the reason you think is best. Then click ."],aiHints:!0},{rank:"cadet",id:"RangerVictory",title:"string",phase:"I",phaseLabel:"Congratulations",intro:[`FANTASTIC!! You used all five POWER steps to solve a word problem!
* [ ] **P**repare
* [ ] **O**rganize
* [ ] **W**ork the Problem
* [ ] **E**xplain the Answer
* [ ] **R**eflect`,"Now let's practice that POWER on some more problems!",`I'll let you take the lead. I think you have enough POWER!

Never fear, I'm still here for you. If you're not sure what to do, click me for help. Ok?`,"I know you can do it! Click Next to get started."]},{rank:"ranger",id:"ReadProblem",title:"Read the problem",phase:"P",phaseLabel:"Prepare",psHints:["Click  when you're done reading.","Go ahead and click  to continue."],aiHints:!1},{rank:"ranger",id:"FindFacts",title:"Pull apart the problem",phase:"P",phaseLabel:"Prepare",aiHints:!1},{rank:"ranger",id:"SelectDiagram",title:"Pick the problem type",phase:"P",phaseLabel:"Prepare",aiHints:!1},{rank:"ranger",id:"FillDiagram",title:"Define the equation",phase:"O",phaseLabel:"Organize",aiHints:!1},{rank:"ranger",id:"SolveTheEquation",title:"Find the unknown amount",phase:"W",phaseLabel:"Work the Problem",aiHints:!1},{rank:"ranger",id:"OwnWords",title:"Answer the question",phase:"E",phaseLabel:"Explain the Answer",aiHints:!1},{rank:"ranger",id:"Reflect",title:"Think about the answer",phase:"R",phaseLabel:"Reflect",psHints:["Choose the reason you think is best. Then click ."],aiHints:!0},{rank:"ranger",id:"RangerVictory",title:"string",phase:"I",phaseLabel:"Congratulations",intro:[`Congratulations! You solved the problem!
      
Click Next when you're ready to move on.`]}],Nn=E.createContext(null),br=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ie("NavBar min-h-24 w-full border-none relative",t),...e,children:e.children}));br.displayName="NavBar";var i3={},iE={},E4={},Sv={},oE={},k4={};Object.defineProperty(k4,"__esModule",{value:!0});k4.getZodPathArray=void 0;function lSe(t){return["[",...t.map(n=>typeof n=="string"?`"${n}"`:n).join(", "),"]"].join("")}k4.getZodPathArray=lSe;var $g={},PF;function cSe(){if(PF)return $g;PF=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.getPathString=void 0;const t=v9();function e(n,r){if((r==null?void 0:r.enabled)===void 0)return(0,t.getObjectNotation)(n,{enabled:!0,type:"objectNotation"});if(r.enabled===!1)return"";switch(r.type){case"zodPathArray":return(0,t.getZodPathArray)(n);case"breadcrumbs":return(0,t.getBreadcrumbs)(n,r);case"objectNotation":default:return(0,t.getObjectNotation)(n,r)}}return $g.getPathString=e,$g}var T4={};Object.defineProperty(T4,"__esModule",{value:!0});T4.getObjectNotation=void 0;function uSe(t,e){var n;const r=(n=e.arraySquareBrackets)!==null&&n!==void 0?n:!0;return t.reduce((i,o)=>typeof o=="number"&&r?`${i}[${o}]`:[i,o].filter(s=>typeof s=="number"||!!s).join("."),"")}T4.getObjectNotation=uSe;var Gg={},NF;function dSe(){if(NF)return Gg;NF=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.getErrorMessage=void 0;const t=v9();function e(n,r,i){var o,s,a,l,c,u,d,h,f,p;const v=(0,t.getComponentDelimiter)((o=i==null?void 0:i.delimiter)===null||o===void 0?void 0:o.component),b=(0,t.getComponentLabels)(i),y=[];let x=`${b.code}${n.code}`;((a=(s=i==null?void 0:i.code)===null||s===void 0?void 0:s.enabled)!==null&&a!==void 0?a:!0)&&(!((l=i==null?void 0:i.code)===null||l===void 0)&&l.enabled&&i.code.transform&&(x=i.code.transform({component:x,label:b.code,value:n.code})),y.push(x));const A=(0,t.getPathString)(n.path,i==null?void 0:i.path);let D=`${b.path}${A}`;((u=(c=i==null?void 0:i.path)===null||c===void 0?void 0:c.enabled)!==null&&u!==void 0?u:!0)&&(!((d=i==null?void 0:i.path)===null||d===void 0)&&d.enabled&&i.path.transform&&(D=i.path.transform({component:D,label:b.path,value:A})),y.push(D));let R=`${b.message}${n.message}`;((f=(h=i==null?void 0:i.message)===null||h===void 0?void 0:h.enabled)!==null&&f!==void 0?f:!0)&&(!((p=i==null?void 0:i.message)===null||p===void 0)&&p.enabled&&i.message.transform&&(R=i.message.transform({component:R,label:b.message,value:n.message})),y.push(R));const T=y.join(v);return i!=null&&i.transform?i.transform({pathComponent:D,messageComponent:R,issue:n,index:r,errorMessage:T,codeComponent:x}):T}return Gg.getErrorMessage=e,Gg}var D4={};Object.defineProperty(D4,"__esModule",{value:!0});D4.getErrorDelimiter=void 0;function hSe(t){return t??" | "}D4.getErrorDelimiter=hSe;var L4={},R4={};Object.defineProperty(R4,"__esModule",{value:!0});R4.getLabel=void 0;function fSe(t,e){return t===void 0?e:t.enabled===!1?"":t.label===void 0?e:t.label===null?"":t.label}R4.getLabel=fSe;Object.defineProperty(L4,"__esModule",{value:!0});L4.getComponentLabels=void 0;const sE=R4;function pSe(t){const e=(0,sE.getLabel)(t==null?void 0:t.code,"Code: "),n=(0,sE.getLabel)(t==null?void 0:t.message,"Message: "),r=(0,sE.getLabel)(t==null?void 0:t.path,"Path: ");return{code:e,message:n,path:r}}L4.getComponentLabels=pSe;var B4={};Object.defineProperty(B4,"__esModule",{value:!0});B4.getComponentDelimiter=void 0;function mSe(t){return t??" ~ "}B4.getComponentDelimiter=mSe;var P4={};Object.defineProperty(P4,"__esModule",{value:!0});P4.getBreadcrumbs=void 0;function gSe(t,e){var n,r;const i=(n=e.arraySquareBrackets)!==null&&n!==void 0?n:!0,o=(r=e.delimeter)!==null&&r!==void 0?r:" > ";return t.map(s=>typeof s=="number"&&i?`[${s}]`:s).join(o)}P4.getBreadcrumbs=gSe;var IF;function v9(){return IF||(IF=1,function(t){var e=Nr&&Nr.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Nr&&Nr.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(k4,t),n(cSe(),t),n(T4,t),n(dSe(),t),n(D4,t),n(L4,t),n(B4,t),n(P4,t)}(oE)),oE}Object.defineProperty(Sv,"__esModule",{value:!0});Sv.generateErrorMessage=void 0;const OF=v9();function ySe(t,e){var n,r,i;const o=(0,OF.getErrorDelimiter)((n=e==null?void 0:e.delimiter)===null||n===void 0?void 0:n.error),s=t.slice(0,e==null?void 0:e.maxErrors).map((a,l)=>(0,OF.getErrorMessage)(a,l,e)).join(o);return`${(r=e==null?void 0:e.prefix)!==null&&r!==void 0?r:""}${s}${(i=e==null?void 0:e.suffix)!==null&&i!==void 0?i:""}`}Sv.generateErrorMessage=ySe;const vSe=Mz(rne);Object.defineProperty(E4,"__esModule",{value:!0});E4.generateError=void 0;const bSe=Sv,xSe=vSe;function _Se(t,e){if(t instanceof xSe.z.ZodError){const n=(0,bSe.generateErrorMessage)(t.issues,e);return new Error(n)}return t instanceof Error?t:new Error("Unknown error")}E4.generateError=_Se;var Vg={},FF;function wSe(){if(FF)return Vg;FF=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.parse=void 0;const t=Av();function e(n,r,i){const o=n.safeParse(r);if(!o.success){const s=(0,t.generateErrorMessage)(o.error.issues,i);throw new Error(s)}return o.data}return Vg.parse=e,Vg}var qg={},zF;function SSe(){if(zF)return qg;zF=1;var t=Nr&&Nr.__awaiter||function(r,i,o,s){function a(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(f){try{h(s.next(f))}catch(p){c(p)}}function d(f){try{h(s.throw(f))}catch(p){c(p)}}function h(f){f.done?l(f.value):a(f.value).then(u,d)}h((s=s.apply(r,i||[])).next())})};Object.defineProperty(qg,"__esModule",{value:!0}),qg.parseAsync=void 0;const e=Av();function n(r,i,o){return t(this,void 0,void 0,function*(){const s=yield r.safeParseAsync(i);if(!s.success){const a=(0,e.generateErrorMessage)(s.error.issues,o);throw new Error(a)}return s.data})}return qg.parseAsync=n,qg}var Kg={},UF;function ASe(){if(UF)return Kg;UF=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.safeParse=void 0;const t=Av();function e(n,r,i){const o=n.safeParse(r);return o.success?{success:!0,data:o.data}:{success:!1,error:{message:(0,t.generateErrorMessage)(o.error.issues,i)}}}return Kg.safeParse=e,Kg}var Wg={},jF;function CSe(){if(jF)return Wg;jF=1;var t=Nr&&Nr.__awaiter||function(r,i,o,s){function a(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(f){try{h(s.next(f))}catch(p){c(p)}}function d(f){try{h(s.throw(f))}catch(p){c(p)}}function h(f){f.done?l(f.value):a(f.value).then(u,d)}h((s=s.apply(r,i||[])).next())})};Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.safeParseAsync=void 0;const e=Av();function n(r,i,o){return t(this,void 0,void 0,function*(){const s=yield r.safeParseAsync(i);return s.success?{success:!0,data:s.data}:{success:!1,error:{message:(0,e.generateErrorMessage)(s.error.issues,o)}}})}return Wg.safeParseAsync=n,Wg}var HF;function Av(){return HF||(HF=1,function(t){var e=Nr&&Nr.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Nr&&Nr.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(E4,t),n(Sv,t),n(wSe(),t),n(SSe(),t),n(ASe(),t),n(CSe(),t)}(iE)),iE}var sJ={};Object.defineProperty(sJ,"__esModule",{value:!0});(function(t){var e=Nr&&Nr.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Nr&&Nr.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Av(),t),n(sJ,t)})(i3);const aJ=at.object({appKey:at.string(),id:at.string().optional(),title:at.string().optional(),stimulus:at.string().optional(),cmd:at.string().optional(),session:at.string().optional(),class:at.string(),question:at.string(),policies:at.string().optional(),qs1:at.string().optional(),qs2:at.string().optional(),qs3:at.string().optional(),wpHints:at.array(at.object({page:at.string(),hints:at.array(at.string())})).optional()}),MSe=at.object({studentId:at.string(),studentName:at.string()}),ESe=at.object({swapiUrl:at.string().optional(),gltfUrl:at.string().optional(),rank:at.string().optional(),disabledSchemas:at.array(at.string()).optional()}),kSe=async(t,e)=>{const n=await fetch(e().swapiUrl,{method:"GET",headers:{"Content-Type":"application/json"}}),r=await n.json();e().logAction(`heartbeat: ${n.status} ${JSON.stringify(r)}`)},TSe=async(t,e)=>{const n=e().problem,r=e().student,i=[];n.qs1&&i.push(n.qs1),n.qs2&&i.push(n.qs2),n.qs3&&i.push(n.qs3);const o={appKey:n.appKey,studentId:r.studentId,id:n.problemId,title:n.title,definition:n.question,stimulus:n.stimulus,topic:n.class,hints:i};if(!o.appKey||!o.studentId||!o.id||!o.definition||!o.topic){console.error("Missing required fields in problem: ",o);return}const s=await fetch(e().swapiUrl+"/start/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await s.json();t(l=>({session:{...l.session,sessionToken:a.sessionToken,identifiers:a.identifiers,operators:a.operators,explanations:Rle(a.explanation),selectedExplanation:""}})),e().logAction(`initSession: ${s.status} ${JSON.stringify(a,null,2)}`)},DSe=async(t,e,n,r)=>{const i=e().problem,o=e().session,s={appKey:i.appKey,sessionToken:o.sessionToken,known:n,unknown:r},a=await fetch(e().swapiUrl+"/submitTTable/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),l=await a.json();return e().logAction(`submitTTable: ${a.status} ${JSON.stringify(l)}`),l},LSe=async(t,e)=>{const n=e().problem,r=e().session,i={appKey:n.appKey,sessionToken:r.sessionToken},o=await fetch(e().swapiUrl+"/getHint/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),s=await o.json();return e().logAction(`getHint: ${o.status} ${JSON.stringify(s)}`),s.hintText},RSe=async(t,e,n)=>{const r=e().problem,i=e().session,o={appKey:r.appKey,sessionToken:i.sessionToken,schema:n},s=await fetch(e().swapiUrl+"/submitPickSchema/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await s.json();return e().logAction(`submitPickSchema: ${s.status} ${JSON.stringify(a)}`),a},BSe=async(t,e)=>{const n=e().problem,r=e().session,i={appKey:n.appKey,sessionToken:r.sessionToken},o=await fetch(e().swapiUrl+"/close/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),s=await o.json();return e().logAction(`closeSession: ${o.status} ${JSON.stringify(s)}`),`closeSession: ${o.status} ${JSON.stringify(s)}`},PSe=async(t,e,n)=>{const r=e().problem,i=e().session,o={appKey:r.appKey,sessionToken:i.sessionToken,comment:n},s=await fetch(e().swapiUrl+"/saveTrace/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await s.json();return e().logAction(`saveTrace: ${s.status} ${JSON.stringify(a)}`),`saveTrace: ${s.status} ${JSON.stringify(a)}`},NSe=async(t,e,n)=>{const r=e().problem,i=e().session,o={appKey:r.appKey,sessionToken:i.sessionToken,equation:n},s=await fetch(e().swapiUrl+"/submitOrganize/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await s.json();return e().logAction(`submitOrganize: ${s.status} ${JSON.stringify(a)}`),a},ISe=async(t,e,n)=>{const r=e().problem,i=e().session,o={appKey:r.appKey,sessionToken:i.sessionToken,myOwnWords:n},s=await fetch(e().swapiUrl+"/submitExplain/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await s.json();return e().logAction(`submitExplanation: ${s.status} ${JSON.stringify(a)}`),a},OSe=async(t,e,n)=>{const r=e().problem,i=e().session,o={appKey:r.appKey,sessionToken:i.sessionToken,myOwnWords:n},s=await fetch(e().swapiUrl+"/submitMyOwnWords/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await s.json();return e().logAction(`submitMyOwnWords: ${s.status} ${JSON.stringify(a)}`),a},Hn=Mbe((t,e)=>({swapiUrl:"https://swapi2.onrender.com",gltfUrl:"",rank:"",disabledSchemas:[],problem:{appKey:"",id:"",title:"",stimulus:"",cmd:"unused",session:"unused",class:"",question:"",policies:"",qs1:"",qs2:"",qs3:""},student:{studentId:"",studentName:""},session:{sessionToken:"",identifiers:[],operators:[],knowns:[],unknowns:[],schema:"",schemaValues:[],explanations:[],mathAnswer:"student's LaTeX",myOwnWords:"",selectedExplanation:"",finalAnswer:""},ybr:[],studentLog:[],onComplete:()=>{console.info("onComplete called but not customized.")},setSwapiUrl:n=>{n.substr(-1)=="/"&&(n=n.slice(0,n.length-1)),t(r=>({swapiUrl:n}))},setGltfUrl:n=>{t(r=>({gltfUrl:n}))},setRank:n=>{t(r=>({rank:n}))},setDisabledSchemas:n=>{t(r=>({disabledSchemas:n}))},setProblem:n=>{const r=aJ.safeParse(n);return r.success?(t(i=>({problem:n})),{problemValid:!0,problemStatusMsg:"Problem Loaded"}):(console.error("Problem Validation Errors in: ",n),console.info(i3.generateErrorMessage(r.error.issues)),{problemValid:!1,problemStatusMsg:i3.generateErrorMessage(r.error.issues)})},setStudent:n=>{t(r=>({student:n}))},setSession:n=>{t(r=>({session:n}))},setYBR:n=>{t(r=>({ybr:n}))},heartbeat:async()=>{kSe(t,e)},initSession:async()=>await TSe(t,e),submitTTable:async(n,r)=>(t(i=>({session:{...i.session,knowns:n,unknowns:r}})),await DSe(t,e,n,r)),submitPickSchema:async(n,r)=>(t(i=>({session:{...i.session,schema:n}})),await RSe(t,e,n)),submitOrganize:async(n,r)=>(t(i=>({session:{...i.session,equation:n,schemaValues:r}})),await NSe(t,e,n)),setMathAnswer:async n=>{t(r=>({session:{...r.session,mathAnswer:n}}))},submitMyOwnWords:async n=>(t(r=>({session:{...r.session,myOwnWords:n}})),await OSe(t,e,n)),submitExplanation:async n=>(t(r=>({session:{...r.session,selectedExplanation:n}})),await ISe(t,e,n)),getHint:async()=>await LSe(t,e),closeSession:async()=>await BSe(t,e),saveTrace:async n=>await PSe(t,e,n),logAction:n=>{const r={timestamp:new Date,action:n};t(i=>({studentLog:[...i.studentLog,r]}))},setOnComplete:n=>{t(r=>({onComplete:n}))}}));var FSe=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},o.type=n.type||"text/javascript",o.charset=n.charset||"utf8",o.async="async"in n?!!n.async:!0,o.src=e,n.attrs&&zSe(o,n.attrs),n.text&&(o.text=""+n.text);var s="onload"in o?$F:USe;s(o,r),o.onload||$F(o,r),i.appendChild(o)};function zSe(t,e){for(var n in e)t.setAttribute(n,e[n])}function $F(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function USe(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var jSe=function(e){return HSe(e)&&!$Se(e)};function HSe(t){return!!t&&typeof t=="object"}function $Se(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||qSe(t)}var GSe=typeof Symbol=="function"&&Symbol.for,VSe=GSe?Symbol.for("react.element"):60103;function qSe(t){return t.$$typeof===VSe}function KSe(t){return Array.isArray(t)?[]:{}}function F1(t,e){return e.clone!==!1&&e.isMergeableObject(t)?a0(KSe(t),t,e):t}function WSe(t,e,n){return t.concat(e).map(function(r){return F1(r,n)})}function XSe(t,e){if(!e.customMerge)return a0;var n=e.customMerge(t);return typeof n=="function"?n:a0}function JSe(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function GF(t){return Object.keys(t).concat(JSe(t))}function lJ(t,e){try{return e in t}catch{return!1}}function YSe(t,e){return lJ(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function ZSe(t,e,n){var r={};return n.isMergeableObject(t)&&GF(t).forEach(function(i){r[i]=F1(t[i],n)}),GF(e).forEach(function(i){YSe(t,i)||(lJ(t,i)&&n.isMergeableObject(e[i])?r[i]=XSe(i,n)(t[i],e[i],n):r[i]=F1(e[i],n))}),r}function a0(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||WSe,n.isMergeableObject=n.isMergeableObject||jSe,n.cloneUnlessOtherwiseSpecified=F1;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):ZSe(t,e,n):F1(e,n)}a0.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return a0(r,i,n)},{})};var QSe=a0,cJ=QSe,eAe=Object.create,N4=Object.defineProperty,tAe=Object.getOwnPropertyDescriptor,nAe=Object.getOwnPropertyNames,rAe=Object.getPrototypeOf,iAe=Object.prototype.hasOwnProperty,oAe=(t,e)=>{for(var n in e)N4(t,n,{get:e[n],enumerable:!0})},uJ=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of nAe(e))!iAe.call(t,i)&&i!==n&&N4(t,i,{get:()=>e[i],enumerable:!(r=tAe(e,i))||r.enumerable});return t},b9=(t,e,n)=>(n=t!=null?eAe(rAe(t)):{},uJ(e||!t||!t.__esModule?N4(n,"default",{value:t,enumerable:!0}):n,t)),sAe=t=>uJ(N4({},"__esModule",{value:!0}),t),dJ={};oAe(dJ,{callPlayer:()=>wAe,getConfig:()=>xAe,getSDK:()=>bAe,isBlobUrl:()=>AAe,isMediaStream:()=>SAe,lazy:()=>uAe,omit:()=>_Ae,parseEndTime:()=>gAe,parseStartTime:()=>mAe,queryString:()=>vAe,randomString:()=>yAe,supportsWebKitPresentationMode:()=>CAe});var I4=sAe(dJ),aAe=b9(E),lAe=b9(FSe),cAe=b9(cJ);const uAe=t=>aAe.default.lazy(async()=>{const e=await t();return typeof e.default=="function"?e:e.default}),dAe=/[?&#](?:start|t)=([0-9hms]+)/,hAe=/[?&#]end=([0-9hms]+)/,n8=/(\d+)(h|m|s)/g,fAe=/^\d+$/;function hJ(t,e){if(t instanceof Array)return;const n=t.match(e);if(n){const r=n[1];if(r.match(n8))return pAe(r);if(fAe.test(r))return parseInt(r)}}function pAe(t){let e=0,n=n8.exec(t);for(;n!==null;){const[,r,i]=n;i==="h"&&(e+=parseInt(r,10)*60*60),i==="m"&&(e+=parseInt(r,10)*60),i==="s"&&(e+=parseInt(r,10)),n=n8.exec(t)}return e}function mAe(t){return hJ(t,dAe)}function gAe(t){return hJ(t,hAe)}function yAe(){return Math.random().toString(36).substr(2,5)}function vAe(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function aE(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}const Tp={},bAe=function(e,n,r=null,i=()=>!0,o=lAe.default){const s=aE(n);return s&&i(s)?Promise.resolve(s):new Promise((a,l)=>{if(Tp[e]){Tp[e].push({resolve:a,reject:l});return}Tp[e]=[{resolve:a,reject:l}];const c=u=>{Tp[e].forEach(d=>d.resolve(u))};if(r){const u=window[r];window[r]=function(){u&&u(),c(aE(n))}}o(e,u=>{u?(Tp[e].forEach(d=>d.reject(u)),Tp[e]=null):r||c(aE(n))})})};function xAe(t,e){return(0,cAe.default)(e.config,t.config)}function _Ae(t,...e){const n=[].concat(...e),r={},i=Object.keys(t);for(const o of i)n.indexOf(o)===-1&&(r[o]=t[o]);return r}function wAe(t,...e){if(!this.player||!this.player[t]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${t}%c  `;return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[t](...e)}function SAe(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function AAe(t){return/^blob:/.test(t)}function CAe(t=document.createElement("video")){const e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var x9=Object.defineProperty,MAe=Object.getOwnPropertyDescriptor,EAe=Object.getOwnPropertyNames,kAe=Object.prototype.hasOwnProperty,TAe=(t,e)=>{for(var n in e)x9(t,n,{get:e[n],enumerable:!0})},DAe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of EAe(e))!kAe.call(t,i)&&i!==n&&x9(t,i,{get:()=>e[i],enumerable:!(r=MAe(e,i))||r.enumerable});return t},LAe=t=>DAe(x9({},"__esModule",{value:!0}),t),fJ={};TAe(fJ,{AUDIO_EXTENSIONS:()=>_9,DASH_EXTENSIONS:()=>EJ,FLV_EXTENSIONS:()=>kJ,HLS_EXTENSIONS:()=>S9,MATCH_URL_DAILYMOTION:()=>SJ,MATCH_URL_FACEBOOK:()=>yJ,MATCH_URL_FACEBOOK_WATCH:()=>vJ,MATCH_URL_KALTURA:()=>MJ,MATCH_URL_MIXCLOUD:()=>AJ,MATCH_URL_MUX:()=>gJ,MATCH_URL_SOUNDCLOUD:()=>pJ,MATCH_URL_STREAMABLE:()=>bJ,MATCH_URL_TWITCH_CHANNEL:()=>wJ,MATCH_URL_TWITCH_VIDEO:()=>_J,MATCH_URL_VIDYARD:()=>CJ,MATCH_URL_VIMEO:()=>mJ,MATCH_URL_WISTIA:()=>xJ,MATCH_URL_YOUTUBE:()=>r8,VIDEO_EXTENSIONS:()=>w9,canPlay:()=>BAe});var RAe=LAe(fJ),VF=I4;const r8=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,pJ=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,mJ=/vimeo\.com\/(?!progressive_redirect).+/,gJ=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,yJ=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,vJ=/^https?:\/\/fb\.watch\/.+$/,bJ=/streamable\.com\/([a-z0-9]+)$/,xJ=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,_J=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,wJ=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,SJ=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,AJ=/mixcloud\.com\/([^/]+\/[^/]+)/,CJ=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,MJ=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,_9=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,w9=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,S9=/\.(m3u8)($|\?)/i,EJ=/\.(mpd)($|\?)/i,kJ=/\.(flv)($|\?)/i,i8=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&i8(e)||i8(e.src))return!0;return!1}return(0,VF.isMediaStream)(t)||(0,VF.isBlobUrl)(t)?!0:_9.test(t)||w9.test(t)||S9.test(t)||EJ.test(t)||kJ.test(t)},BAe={youtube:t=>t instanceof Array?t.every(e=>r8.test(e)):r8.test(t),soundcloud:t=>pJ.test(t)&&!_9.test(t),vimeo:t=>mJ.test(t)&&!w9.test(t)&&!S9.test(t),mux:t=>gJ.test(t),facebook:t=>yJ.test(t)||vJ.test(t),streamable:t=>bJ.test(t),wistia:t=>xJ.test(t),twitch:t=>_J.test(t)||wJ.test(t),dailymotion:t=>SJ.test(t),mixcloud:t=>AJ.test(t),vidyard:t=>CJ.test(t),kaltura:t=>MJ.test(t),file:i8};var A9=Object.defineProperty,PAe=Object.getOwnPropertyDescriptor,NAe=Object.getOwnPropertyNames,IAe=Object.prototype.hasOwnProperty,OAe=(t,e)=>{for(var n in e)A9(t,n,{get:e[n],enumerable:!0})},FAe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of NAe(e))!IAe.call(t,i)&&i!==n&&A9(t,i,{get:()=>e[i],enumerable:!(r=PAe(e,i))||r.enumerable});return t},zAe=t=>FAe(A9({},"__esModule",{value:!0}),t),TJ={};OAe(TJ,{default:()=>jAe});var UAe=zAe(TJ),Uo=I4,go=RAe,jAe=[{key:"youtube",name:"YouTube",canPlay:go.canPlay.youtube,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./YouTube-BEXYVdnK.js").then(t=>t.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:go.canPlay.soundcloud,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./SoundCloud-bqLQ9n3x.js").then(t=>t.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:go.canPlay.vimeo,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./Vimeo-J62MNnWS.js").then(t=>t.V),[]))},{key:"mux",name:"Mux",canPlay:go.canPlay.mux,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./Mux-C3JndGYh.js").then(t=>t.M),[]))},{key:"facebook",name:"Facebook",canPlay:go.canPlay.facebook,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./Facebook-Bx8WC6Kv.js").then(t=>t.F),[]))},{key:"streamable",name:"Streamable",canPlay:go.canPlay.streamable,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./Streamable-CwhMULps.js").then(t=>t.S),[]))},{key:"wistia",name:"Wistia",canPlay:go.canPlay.wistia,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./Wistia-FSSQ8AjD.js").then(t=>t.W),[]))},{key:"twitch",name:"Twitch",canPlay:go.canPlay.twitch,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./Twitch-CE1TTjhY.js").then(t=>t.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:go.canPlay.dailymotion,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./DailyMotion-XNvN4M5p.js").then(t=>t.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:go.canPlay.mixcloud,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./Mixcloud-Bee6MWgt.js").then(t=>t.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:go.canPlay.vidyard,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./Vidyard-CkHooW_Z.js").then(t=>t.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:go.canPlay.kaltura,lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./Kaltura-YmhF_StQ.js").then(t=>t.K),[]))},{key:"file",name:"FilePlayer",canPlay:go.canPlay.file,canEnablePIP:t=>go.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,Uo.supportsWebKitPresentationMode)())&&!go.AUDIO_EXTENSIONS.test(t),lazyPlayer:(0,Uo.lazy)(()=>Ho(()=>import("./FilePlayer-CPMzw6Oe.js").then(t=>t.F),[]))}],qF=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function HAe(t,e){return!!(t===e||qF(t)&&qF(e))}function $Ae(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!HAe(t[n],e[n]))return!1;return!0}function GAe(t,e){e===void 0&&(e=$Ae);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}return s}const VAe=Object.freeze(Object.defineProperty({__proto__:null,default:GAe},Symbol.toStringTag,{value:"Module"})),qAe=Mz(VAe);var KAe=typeof Element<"u",WAe=typeof Map=="function",XAe=typeof Set=="function",JAe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function U_(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!U_(t[r],e[r]))return!1;return!0}var o;if(WAe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!U_(r.value[1],e.get(r.value[0])))return!1;return!0}if(XAe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(JAe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(KAe&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!U_(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var DJ=function(e,n){try{return U_(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},YAe=Object.create,O4=Object.defineProperty,ZAe=Object.getOwnPropertyDescriptor,QAe=Object.getOwnPropertyNames,eCe=Object.getPrototypeOf,tCe=Object.prototype.hasOwnProperty,nCe=(t,e)=>{for(var n in e)O4(t,n,{get:e[n],enumerable:!0})},LJ=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of QAe(e))!tCe.call(t,i)&&i!==n&&O4(t,i,{get:()=>e[i],enumerable:!(r=ZAe(e,i))||r.enumerable});return t},rCe=(t,e,n)=>(n=t!=null?YAe(eCe(t)):{},LJ(e||!t||!t.__esModule?O4(n,"default",{value:t,enumerable:!0}):n,t)),iCe=t=>LJ(O4({},"__esModule",{value:!0}),t),RJ={};nCe(RJ,{defaultProps:()=>aCe,propTypes:()=>sCe});var BJ=iCe(RJ),oCe=rCe(tbe);const{string:Li,bool:yo,number:Dp,array:lE,oneOfType:Xg,shape:ss,object:Zi,func:ri,node:KF}=oCe.default,sCe={url:Xg([Li,lE,Zi]),playing:yo,loop:yo,controls:yo,volume:Dp,muted:yo,playbackRate:Dp,width:Xg([Li,Dp]),height:Xg([Li,Dp]),style:Zi,progressInterval:Dp,playsinline:yo,pip:yo,stopOnUnmount:yo,light:Xg([yo,Li,Zi]),playIcon:KF,previewTabIndex:Dp,previewAriaLabel:Li,fallback:KF,oEmbedUrl:Li,wrapper:Xg([Li,ri,ss({render:ri.isRequired})]),config:ss({soundcloud:ss({options:Zi}),youtube:ss({playerVars:Zi,embedOptions:Zi,onUnstarted:ri}),facebook:ss({appId:Li,version:Li,playerId:Li,attributes:Zi}),dailymotion:ss({params:Zi}),vimeo:ss({playerOptions:Zi,title:Li}),mux:ss({attributes:Zi,version:Li}),file:ss({attributes:Zi,tracks:lE,forceVideo:yo,forceAudio:yo,forceHLS:yo,forceSafariHLS:yo,forceDisableHls:yo,forceDASH:yo,forceFLV:yo,hlsOptions:Zi,hlsVersion:Li,dashVersion:Li,flvVersion:Li}),wistia:ss({options:Zi,playerId:Li,customControls:lE}),mixcloud:ss({options:Zi}),twitch:ss({options:Zi,playerId:Li}),vidyard:ss({options:Zi})}),onReady:ri,onStart:ri,onPlay:ri,onPause:ri,onBuffer:ri,onBufferEnd:ri,onEnded:ri,onError:ri,onDuration:ri,onSeek:ri,onPlaybackRateChange:ri,onPlaybackQualityChange:ri,onProgress:ri,onClickPreview:ri,onEnablePIP:ri,onDisablePIP:ri},Ri=()=>{},aCe={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:Ri},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:Ri,onStart:Ri,onPlay:Ri,onPause:Ri,onBuffer:Ri,onBufferEnd:Ri,onEnded:Ri,onError:Ri,onDuration:Ri,onSeek:Ri,onPlaybackRateChange:Ri,onPlaybackQualityChange:Ri,onProgress:Ri,onClickPreview:Ri,onEnablePIP:Ri,onDisablePIP:Ri};var lCe=Object.create,Cv=Object.defineProperty,cCe=Object.getOwnPropertyDescriptor,uCe=Object.getOwnPropertyNames,dCe=Object.getPrototypeOf,hCe=Object.prototype.hasOwnProperty,fCe=(t,e,n)=>e in t?Cv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pCe=(t,e)=>{for(var n in e)Cv(t,n,{get:e[n],enumerable:!0})},PJ=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of uCe(e))!hCe.call(t,i)&&i!==n&&Cv(t,i,{get:()=>e[i],enumerable:!(r=cCe(e,i))||r.enumerable});return t},NJ=(t,e,n)=>(n=t!=null?lCe(dCe(t)):{},PJ(e||!t||!t.__esModule?Cv(n,"default",{value:t,enumerable:!0}):n,t)),mCe=t=>PJ(Cv({},"__esModule",{value:!0}),t),Ur=(t,e,n)=>(fCe(t,typeof e!="symbol"?e+"":e,n),n),IJ={};pCe(IJ,{default:()=>F4});var gCe=mCe(IJ),WF=NJ(E),yCe=NJ(DJ),OJ=BJ,vCe=I4;const bCe=5e3;class F4 extends WF.Component{constructor(){super(...arguments),Ur(this,"mounted",!1),Ur(this,"isReady",!1),Ur(this,"isPlaying",!1),Ur(this,"isLoading",!0),Ur(this,"loadOnReady",null),Ur(this,"startOnPlay",!0),Ur(this,"seekOnPlay",null),Ur(this,"onDurationCalled",!1),Ur(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),Ur(this,"getInternalPlayer",e=>this.player?this.player[e]:null),Ur(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,n=this.getSecondsLoaded(),r=this.getDuration();if(r){const i={playedSeconds:e,played:e/r};n!==null&&(i.loadedSeconds=n,i.loaded=n/r),(i.playedSeconds!==this.prevPlayed||i.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(i),this.prevPlayed=i.playedSeconds,this.prevLoaded=i.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),Ur(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:n,volume:r,muted:i}=this.props;e(),!i&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),Ur(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:n,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&r!==1&&this.player.setPlaybackRate(r),e(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),Ur(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),Ur(this,"handleEnded",()=>{const{activePlayer:e,loop:n,onEnded:r}=this.props;e.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,r())}),Ur(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),Ur(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),Ur(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:n,playing:r,volume:i,muted:o,playbackRate:s,pip:a,loop:l,activePlayer:c,disableDeferredLoading:u}=this.props;if(!(0,yCe.default)(e.url,n)){if(this.isLoading&&!c.forceLoad&&!u&&!(0,vCe.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!e.playing&&r&&!this.isPlaying&&this.player.play(),e.playing&&!r&&this.isPlaying&&this.player.pause(),!e.pip&&a&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!a&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==i&&i!==null&&this.player.setVolume(i),e.muted!==o&&(o?this.player.mute():(this.player.unmute(),i!==null&&setTimeout(()=>this.player.setVolume(i)))),e.playbackRate!==s&&this.player.setPlaybackRate&&this.player.setPlaybackRate(s),e.loop!==l&&this.player.setLoop&&this.player.setLoop(l)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,n,r){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},bCe));return}if(n?n==="fraction":e>0&&e<1){const o=this.player.getDuration();if(!o){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(o*e,r);return}this.player.seekTo(e,r)}render(){const e=this.props.activePlayer;return e?WF.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}Ur(F4,"displayName","Player");Ur(F4,"propTypes",OJ.propTypes);Ur(F4,"defaultProps",OJ.defaultProps);var xCe=Object.create,Mv=Object.defineProperty,_Ce=Object.getOwnPropertyDescriptor,wCe=Object.getOwnPropertyNames,SCe=Object.getPrototypeOf,ACe=Object.prototype.hasOwnProperty,CCe=(t,e,n)=>e in t?Mv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MCe=(t,e)=>{for(var n in e)Mv(t,n,{get:e[n],enumerable:!0})},FJ=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of wCe(e))!ACe.call(t,i)&&i!==n&&Mv(t,i,{get:()=>e[i],enumerable:!(r=_Ce(e,i))||r.enumerable});return t},Ev=(t,e,n)=>(n=t!=null?xCe(SCe(t)):{},FJ(e||!t||!t.__esModule?Mv(n,"default",{value:t,enumerable:!0}):n,t)),ECe=t=>FJ(Mv({},"__esModule",{value:!0}),t),zr=(t,e,n)=>(CCe(t,typeof e!="symbol"?e+"":e,n),n),zJ={};MCe(zJ,{createReactPlayer:()=>ICe});var kCe=ECe(zJ),Fp=Ev(E),TCe=Ev(cJ),cE=Ev(qAe),XF=Ev(DJ),ly=BJ,UJ=I4,DCe=Ev(gCe);const LCe=(0,UJ.lazy)(()=>Ho(()=>import("./Preview-2elOxu-E.js").then(t=>t.P),[])),RCe=typeof window<"u"&&window.document&&typeof document<"u",BCe=typeof Nr<"u"&&Nr.window&&Nr.window.document,PCe=Object.keys(ly.propTypes),NCe=RCe||BCe?Fp.Suspense:()=>null,Jg=[],ICe=(t,e)=>{var n;return n=class extends Fp.Component{constructor(){super(...arguments),zr(this,"state",{showPreview:!!this.props.light}),zr(this,"references",{wrapper:r=>{this.wrapper=r},player:r=>{this.player=r}}),zr(this,"handleClickPreview",r=>{this.setState({showPreview:!1}),this.props.onClickPreview(r)}),zr(this,"showPreview",()=>{this.setState({showPreview:!0})}),zr(this,"getDuration",()=>this.player?this.player.getDuration():null),zr(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),zr(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),zr(this,"getInternalPlayer",(r="player")=>this.player?this.player.getInternalPlayer(r):null),zr(this,"seekTo",(r,i,o)=>{if(!this.player)return null;this.player.seekTo(r,i,o)}),zr(this,"handleReady",()=>{this.props.onReady(this)}),zr(this,"getActivePlayer",(0,cE.default)(r=>{for(const i of[...Jg,...t])if(i.canPlay(r))return i;return e||null})),zr(this,"getConfig",(0,cE.default)((r,i)=>{const{config:o}=this.props;return TCe.default.all([ly.defaultProps.config,ly.defaultProps.config[i]||{},o,o[i]||{}])})),zr(this,"getAttributes",(0,cE.default)(r=>(0,UJ.omit)(this.props,PCe))),zr(this,"renderActivePlayer",r=>{if(!r)return null;const i=this.getActivePlayer(r);if(!i)return null;const o=this.getConfig(r,i.key);return Fp.default.createElement(DCe.default,{...this.props,key:i.key,ref:this.references.player,config:o,activePlayer:i.lazyPlayer||i,onReady:this.handleReady})})}shouldComponentUpdate(r,i){return!(0,XF.default)(this.props,r)||!(0,XF.default)(this.state,i)}componentDidUpdate(r){const{light:i}=this.props;!r.light&&i&&this.setState({showPreview:!0}),r.light&&!i&&this.setState({showPreview:!1})}renderPreview(r){if(!r)return null;const{light:i,playIcon:o,previewTabIndex:s,oEmbedUrl:a,previewAriaLabel:l}=this.props;return Fp.default.createElement(LCe,{url:r,light:i,playIcon:o,previewTabIndex:s,previewAriaLabel:l,oEmbedUrl:a,onClick:this.handleClickPreview})}render(){const{url:r,style:i,width:o,height:s,fallback:a,wrapper:l}=this.props,{showPreview:c}=this.state,u=this.getAttributes(r),d=typeof l=="string"?this.references.wrapper:void 0;return Fp.default.createElement(l,{ref:d,style:{...i,width:o,height:s},...u},Fp.default.createElement(NCe,{fallback:a},c?this.renderPreview(r):this.renderActivePlayer(r)))}},zr(n,"displayName","ReactPlayer"),zr(n,"propTypes",ly.propTypes),zr(n,"defaultProps",ly.defaultProps),zr(n,"addCustomPlayer",r=>{Jg.push(r)}),zr(n,"removeCustomPlayers",()=>{Jg.length=0}),zr(n,"canPlay",r=>{for(const i of[...Jg,...t])if(i.canPlay(r))return!0;return!1}),zr(n,"canEnablePIP",r=>{for(const i of[...Jg,...t])if(i.canEnablePIP&&i.canEnablePIP(r))return!0;return!1}),n};var OCe=Object.create,z4=Object.defineProperty,FCe=Object.getOwnPropertyDescriptor,zCe=Object.getOwnPropertyNames,UCe=Object.getPrototypeOf,jCe=Object.prototype.hasOwnProperty,HCe=(t,e)=>{for(var n in e)z4(t,n,{get:e[n],enumerable:!0})},jJ=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zCe(e))!jCe.call(t,i)&&i!==n&&z4(t,i,{get:()=>e[i],enumerable:!(r=FCe(e,i))||r.enumerable});return t},$Ce=(t,e,n)=>(n=t!=null?OCe(UCe(t)):{},jJ(e||!t||!t.__esModule?z4(n,"default",{value:t,enumerable:!0}):n,t)),GCe=t=>jJ(z4({},"__esModule",{value:!0}),t),HJ={};HCe(HJ,{default:()=>WCe});var VCe=GCe(HJ),o8=$Ce(UAe),qCe=kCe;const KCe=o8.default[o8.default.length-1];var WCe=(0,qCe.createReactPlayer)(o8.default,KCe);const $J=hf(VCe),GJ=({videoUrl:t,onEnded:e,className:n})=>{const r=t||"https://querium.wistia.com/medias/oyfe3sqhwb";return _.jsx($J,{url:r,onEnded:()=>e(),className:n,controls:!0})},VJ=({className:t,index:e})=>{const n=t8,r="https://querium.wistia.com/medias/oyfe3sqhwb",{current:i,api:o}=E.useContext(Nn),{logAction:s}=Hn(),[a,l]=E.useState(!1);return i!==e+1?null:_.jsxs("div",{className:ie("NewbFeelThePower rounded-lg  bg-card text-card-foreground shadow-sm w-full h-full m-0 mb-2 pl-2 pt-2 pr-2 flex flex-col justify-stretch",t),children:[_.jsx("div",{className:"div flex flex-col p-2 gap-2 justify-stretch grow relative  mb-2",children:_.jsx("div",{className:"absolute top-0 left-0 bottom-0 right-0  overflow-y-auto flex items-center justify-center",children:_.jsx(GJ,{videoUrl:r,className:"w-full h-full",onEnded:()=>l(!0)})})}),_.jsxs(br,{className:"flex justify-end pr-2 space-x-3 bg-slate-300",children:[n[i].phase!=="I"?_.jsx(Bl,{style:{bottom:"0px",right:"0px",height:"100%"}}):null,_.jsx(vf,{className:"relative left-0",children:"Previous"}),_.jsx(Ci,{className:"relative right-0",onClick:()=>{s("NewbFeelThePower : Clicked Next"),o==null||o.scrollNext()},disabled:!a,children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"NewbFeelThePower"})]})]})};VJ.displayName="NewbFeelThePower";function qJ(t){return Gr({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.5 3.75a.75.75 0 0 0-1.264-.546L5.203 7H2.667a.75.75 0 0 0-.7.48A6.985 6.985 0 0 0 1.5 10c0 .887.165 1.737.468 2.52.111.29.39.48.7.48h2.535l4.033 3.796a.75.75 0 0 0 1.264-.546V3.75ZM16.45 5.05a.75.75 0 0 0-1.06 1.061 5.5 5.5 0 0 1 0 7.778.75.75 0 0 0 1.06 1.06 7 7 0 0 0 0-9.899Z"},child:[]},{tag:"path",attr:{d:"M14.329 7.172a.75.75 0 0 0-1.061 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 0 0 1.06 1.06 4 4 0 0 0 0-5.656Z"},child:[]}]})(t)}function XCe(t){return Gr({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.75 8a4.5 4.5 0 0 1-8.61 1.834l-1.391.565A6.001 6.001 0 0 0 14.25 8 6 6 0 0 0 3.5 4.334V2.5H2v4l.75.75h3.5v-1.5H4.352A4.5 4.5 0 0 1 12.75 8z"},child:[]}]})(t)}function JCe(t){return Gr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(t)}function YCe(t){return Gr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 5v14c0 .86 1.012 1.318 1.659 .753l8 -7a1 1 0 0 0 0 -1.506l-8 -7c-.647 -.565 -1.659 -.106 -1.659 .753z"},child:[]},{tag:"path",attr:{d:"M13 5v14c0 .86 1.012 1.318 1.659 .753l8 -7a1 1 0 0 0 0 -1.506l-8 -7c-.647 -.565 -1.659 -.106 -1.659 .753z"},child:[]}]})(t)}const l0=({msgs:t,className:e,closeable:n,closeClicked:r,introFinished:i,hintPageChanged:o})=>{const s=E.useRef(null),a=typeof t=="string"?[t]:t,[l,c]=E.useState(),[u,d]=E.useState(0),[h,f]=E.useState(0);E.useEffect(()=>{l&&(f(l.scrollSnapList().length),d(l.selectedScrollSnap()+1),l.on("select",()=>{d(l.selectedScrollSnap()+1)}))},[l]),E.useEffect(()=>{a&&f(a.length)},[t]),E.useLayoutEffect(()=>{s.current&&$3(s.current,{TeX:{delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}})},[]),E.useEffect(()=>{o&&o(u,h)},[h,u]);function p(){u===h-1&&(i==null||i()),l==null||l.scrollNext()}function v(){l==null||l.scrollTo(0)}function b(){return u===h&&h?_.jsx("button",{className:"border-none text-xs",onClick:v,children:_.jsx(XCe,{})}):_.jsx("div",{})}function y(){return h===1&&!n?null:u===h&&n?_.jsx("div",{onClick:r,className:"flex cursor-pointer justify-end",children:_.jsx(JCe,{})}):u===h&&!n?_.jsx("div",{}):_.jsx("button",{className:"border-none text-xs",onClick:p,children:_.jsx(YCe,{})})}function x(){if(!a)return;const A=a[l.selectedScrollSnap()],D=new SpeechSynthesisUtterance(aV(A));D.lang="en-US",D.voice=speechSynthesis.getVoices()[159],D.rate=1,D.pitch=1,D.volume=1,speechSynthesis.speak(D)}function w(){return _.jsx("button",{className:"border-none text-xs",onClick:x,children:_.jsx(qJ,{className:"text-cyan-900"})})}return!t||!a?null:_.jsxs("div",{ref:s,className:ie("ChatBubble","relative ml-2 flex max-w-[450px] flex-row overflow-hidden","rounded-bl-2xl rounded-br-none rounded-tl-2xl rounded-tr-2xl","bg-amber-400 px-4 py-[.5rem] text-cyan-700","before:start-[99.9%]","before:[mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMycgaGVpZ2h0PSczJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGZpbGw9J2JsYWNrJyBkPSdtIDAgMyBMIDEgMyBMIDMgMyBDIDIgMyAwIDEgMCAwJy8+PC9zdmc+)]","before:absolute before:bottom-[0] before:h-[.75rem] before:w-[.75rem] before:content-['']","before:[background-color:inherit] before:[mask-position:center] before:[mask-repeat:no-repeat]","before:[mask-size:contain]",e),children:[_.jsx("div",{className:"max-w-[100%] p-2",children:_.jsx(Zk,{setApi:c,children:_.jsx(Qk,{children:a.map((A,D)=>_.jsx(eT,{children:_.jsx("div",{className:"mr-[15px] flex select-none flex-col gap-1",children:_.jsx(NX,{remarkPlugins:[iJ],children:A})},D)},D))})})}),_.jsxs("div",{className:"absolute bottom-2 right-0 top-2 flex w-[30px] flex-col items-center justify-between bg-amber-400 text-right italic text-black",children:[_.jsx(w,{}),a.length>1?_.jsx(b,{}):null,_.jsx(y,{})]})]})},Yo=({msg:t,busy:e,intro:n,psHints:r,wpHints:i,getAiHints:o,hintChanged:s,closeable:a=!0,className:l})=>{const[c,u]=E.useState(ZCe(n)),[d,h]=E.useState(JF(JF(i||r))),[f,p]=E.useState([]),[v,b]=E.useState("pre"),[y,x]=E.useState(!!c.length),[w,A]=E.useState(t?[]:n?c:r||i?d:[]);E.useEffect(()=>{let T=[];T.push("pre"),c.length&&(T.push("intro"),b("intro")),d.length&&T.push("psHints"),o&&T.push("aiHints"),T.push("post"),p(T)},[c,d,o]),E.useEffect(()=>{x(!0)},[t]);function D(){x(!1)}function k(){if(e)return;if(v==="post"){A(["Sorry, I have no more guidance for you. Please ask your teacher for help."]),x(!0);return}if(v==="aiHints"){x(!0),typeof o=="function"&&o();return}let T=f.findIndex(H=>H===v),C=f[T+1];b(C);let P=0,z=0;switch(C){case"intro":P=1,z=c.length,A(c);break;case"psHints":P=1,z=d.length,A(d);break;case"aiHints":P=-1,z=-1,x(!0),typeof o=="function"&&o();break;case"post":P=0,z=0,A([]);break}s&&s(C,P,z),x(C!=="post")}function R(T,C){C<1||s&&s(v,T,C)}function L(){if(t!=null&&t.length)return _.jsx(l0,{className:"absolute bottom-[50%] right-[200px] h-fit min-h-[64px] w-fit font-capriola text-sm",msgs:y?[t]:null,closeable:a&&!e,closeClicked:D,hintPageChanged:R});if(w!=null&&w.length)return _.jsx(l0,{className:"absolute bottom-[50%] right-[200px] h-fit min-h-[64px] w-fit font-capriola text-sm",msgs:y?w:null,closeable:a&&!e,closeClicked:D,hintPageChanged:R})}return _.jsxs("div",{className:l,children:[_.jsx(Bl,{emote:"wave:01",style:{bottom:"0px",right:"0px",height:"100%"}}),_.jsx("div",{className:ie("absolute bottom-0 right-[100px] z-10 h-full w-[100px]",e?"cursor-wait":"cursor-pointer"),onClick:()=>{k()}}),_.jsx(L,{})]})};function ZCe(t){return typeof t=="string"?[t]:Array.isArray(t)?t:[]}function JF(t){return typeof t=="string"?[t]:Array.isArray(t)?t:[]}const KJ=({className:t,children:e,page:n,index:r})=>{var v;const{current:i,api:o}=E.useContext(Nn),{logAction:s,problem:a,rank:l}=Hn(),[c,u]=E.useState(!0),[d,h]=E.useState("");E.useState("");const f=(v=a.wpHints)==null?void 0:v.find(b=>b.page===`${l}${n.id}`);function p(b,y,x){b==="psHints"&&y===x&&u(!1)}return i!==r+1?null:_.jsxs("div",{className:ie("NewbFindTutor","m-0 flex h-full w-full flex-col justify-stretch","rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsx("div",{className:"relative grow"}),e,_.jsxs(br,{className:"flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:d,intro:n==null?void 0:n.intro,psHints:n==null?void 0:n.psHints,wpHints:f==null?void 0:f.hints,hintChanged:p,closeable:!1}),_.jsx(Ci,{disabled:c,className:"relative right-0",onClick:()=>{s("NewbFindTutor : Clicked Next"),o==null||o.scrollNext()},children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"NewbFindTutor"})]})]})};KJ.displayName="NewbFindTutor";const WJ=({className:t,index:e})=>{const{current:n,api:r}=E.useContext(Nn),{logAction:i}=Hn();return n!==e+1?null:_.jsxs("div",{className:ie("NewbGratzFoundTutor m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsxs("div",{className:"relative grow bg-qqAccent",children:[_.jsx(Bl,{emote:"celebrate:03",closeUp:!0,style:{position:"absolute",height:"100%",right:"-150px",width:"100%"}}),_.jsx(M4,{msg:["Great Job!","I knew you could do it!  When you click on me, I'll do my best to give you a hand.","Click Next  to continue."],className:"absolute bottom-[50%] right-[50%] ml-3 min-h-24 font-capriola"})]}),_.jsxs(br,{className:"relative flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(vf,{className:"relative left-0",children:"Previous"}),_.jsx(Ci,{className:"relative right-0",onClick:()=>{i("NewbGratzFoundTutor : Clicked Next"),r==null||r.scrollNext()},children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"NewbGratzFoundTutor"})]})]})};WJ.displayName="NewbGratzFoundTutor";const XJ=({className:t,index:e})=>{const n="https://querium.wistia.com/medias/oyfe3sqhwb",{current:r}=E.useContext(Nn),[i,o]=E.useState(["Nice work on identifying the facts!","Now, let's learn about the first group of problem types that could use information similiar to what you just saw.","Press the Play  button to start the video."]);return r!==e+1?null:_.jsxs("div",{className:ie("relative flex h-full flex-col justify-stretch gap-2 rounded-lg border bg-card p-2 text-card-foreground shadow-sm",t),children:[_.jsx($J,{url:n,height:"100%",style:{margin:"auto"}}),_.jsxs(br,{className:"flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Bl,{emote:"direct:04",style:{bottom:"0px",right:"0px",height:"100%"}}),_.jsx(M4,{msg:i,className:"absolute bottom-[50%] right-[200px] h-fit min-h-[64px] w-fit font-capriola"}),_.jsx(vf,{className:"relative left-0",children:"Previous"}),_.jsx(Ci,{className:"relative right-0",children:"Next"})]})]})};XJ.displayName="NewbGratzOnPrepare";const JJ=({className:t,index:e})=>{const{current:n,api:r}=E.useContext(Nn),{logAction:i}=Hn();return n!==e+1?null:_.jsxs("div",{className:ie("NewbGratzWatchedVideo m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsxs("div",{className:"relative grow bg-qqAccent",children:[_.jsx(Bl,{emote:"gratz:03",closeUp:!0,style:{position:"absolute",height:"100%",right:"-150px",width:"100%"}}),_.jsx(M4,{msg:"You are doing GREAT! Give this next exercise a try!",className:"absolute bottom-[50%] right-[50%] font-capriola"})]}),_.jsxs(br,{className:"flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(vf,{className:"relative left-0",children:"Previous"}),_.jsx(Ci,{className:"relative right-0",onClick:()=>{i("NewbGratzWatchedVideo : Clicked Next"),r==null||r.scrollNext()},children:"Next"})," ",_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"NewbGratzWatchedVideo"})]})]})};JJ.displayName="NewbGratzWatchedVideo";const U4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function A0(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function C9(t){return"nodeType"in t}function Zo(t){var e,n;return t?A0(t)?t:C9(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function M9(t){const{Document:e}=Zo(t);return t instanceof e}function kv(t){return A0(t)?!1:t instanceof Zo(t).HTMLElement}function YJ(t){return t instanceof Zo(t).SVGElement}function C0(t){return t?A0(t)?t.document:C9(t)?M9(t)?t:kv(t)||YJ(t)?t.ownerDocument:document:document:document}const Lc=U4?E.useLayoutEffect:E.useEffect;function E9(t){const e=E.useRef(t);return Lc(()=>{e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function QCe(){const t=E.useRef(null),e=E.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=E.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function z1(t,e){e===void 0&&(e=[t]);const n=E.useRef(t);return Lc(()=>{n.current!==t&&(n.current=t)},e),n}function Tv(t,e){const n=E.useRef();return E.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function o3(t){const e=E9(t),n=E.useRef(null),r=E.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function s8(t){const e=E.useRef();return E.useEffect(()=>{e.current=t},[t]),e.current}let uE={};function j4(t,e){return E.useMemo(()=>{if(e)return e;const n=uE[t]==null?0:uE[t]+1;return uE[t]=n,t+"-"+n},[t,e])}function ZJ(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const a=Object.entries(s);for(const[l,c]of a){const u=o[l];u!=null&&(o[l]=u+t*c)}return o},{...e})}}const Em=ZJ(1),s3=ZJ(-1);function eMe(t){return"clientX"in t&&"clientY"in t}function QJ(t){if(!t)return!1;const{KeyboardEvent:e}=Zo(t.target);return e&&t instanceof e}function tMe(t){if(!t)return!1;const{TouchEvent:e}=Zo(t.target);return e&&t instanceof e}function a8(t){if(tMe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return eMe(t)?{x:t.clientX,y:t.clientY}:null}const YF="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function nMe(t){return t.matches(YF)?t:t.querySelector(YF)}const rMe={display:"none"};function iMe(t){let{id:e,value:n}=t;return re.createElement("div",{id:e,style:rMe},n)}function oMe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return re.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function sMe(){const[t,e]=E.useState("");return{announce:E.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const eY=E.createContext(null);function aMe(t){const e=E.useContext(eY);E.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function lMe(){const[t]=E.useState(()=>new Set),e=E.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[E.useCallback(r=>{let{type:i,event:o}=r;t.forEach(s=>{var a;return(a=s[i])==null?void 0:a.call(s,o)})},[t]),e]}const cMe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uMe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function dMe(t){let{announcements:e=uMe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=cMe}=t;const{announce:o,announcement:s}=sMe(),a=j4("DndLiveRegion"),[l,c]=E.useState(!1);if(E.useEffect(()=>{c(!0)},[]),aMe(E.useMemo(()=>({onDragStart(d){let{active:h}=d;o(e.onDragStart({active:h}))},onDragMove(d){let{active:h,over:f}=d;e.onDragMove&&o(e.onDragMove({active:h,over:f}))},onDragOver(d){let{active:h,over:f}=d;o(e.onDragOver({active:h,over:f}))},onDragEnd(d){let{active:h,over:f}=d;o(e.onDragEnd({active:h,over:f}))},onDragCancel(d){let{active:h,over:f}=d;o(e.onDragCancel({active:h,over:f}))}}),[o,e])),!l)return null;const u=re.createElement(re.Fragment,null,re.createElement(iMe,{id:r,value:i.draggable}),re.createElement(oMe,{id:a,announcement:s}));return n?pl.createPortal(u,n):u}var si;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(si||(si={}));function a3(){}const Ua=Object.freeze({x:0,y:0});function hMe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function fMe(t,e){if(!t||t.length===0)return null;const[n]=t;return e?n[e]:n}function pMe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),s=i-r,a=o-n;if(r<i&&n<o){const l=e.width*e.height,c=t.width*t.height,u=s*a,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}const mMe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const o of r){const{id:s}=o,a=n.get(s);if(a){const l=pMe(a,e);l>0&&i.push({id:s,data:{droppableContainer:o,value:l}})}}return i.sort(hMe)};function gMe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function tY(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ua}function yMe(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>({...s,top:s.top+t*a.y,bottom:s.bottom+t*a.y,left:s.left+t*a.x,right:s.right+t*a.x}),{...n})}}const vMe=yMe(1);function bMe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function xMe(t,e,n){const r=bMe(e);if(!r)return t;const{scaleX:i,scaleY:o,x:s,y:a}=r,l=t.left-s-(1-i)*parseFloat(n),c=t.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?t.width/i:t.width,d=o?t.height/o:t.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}const _Me={ignoreTransform:!1};function Dv(t,e){e===void 0&&(e=_Me);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=Zo(t).getComputedStyle(t);c&&(n=xMe(n,c,u))}const{top:r,left:i,width:o,height:s,bottom:a,right:l}=n;return{top:r,left:i,width:o,height:s,bottom:a,right:l}}function ZF(t){return Dv(t,{ignoreTransform:!0})}function wMe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function SMe(t,e){return e===void 0&&(e=Zo(t).getComputedStyle(t)),e.position==="fixed"}function AMe(t,e){e===void 0&&(e=Zo(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=e[i];return typeof o=="string"?n.test(o):!1})}function k9(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(M9(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!kv(i)||YJ(i)||n.includes(i))return n;const o=Zo(t).getComputedStyle(i);return i!==t&&AMe(i,o)&&n.push(i),SMe(i,o)?n:r(i.parentNode)}return t?r(t):n}function nY(t){const[e]=k9(t,1);return e??null}function dE(t){return!U4||!t?null:A0(t)?t:C9(t)?M9(t)||t===C0(t).scrollingElement?window:kv(t)?t:null:null}function rY(t){return A0(t)?t.scrollX:t.scrollLeft}function iY(t){return A0(t)?t.scrollY:t.scrollTop}function l8(t){return{x:rY(t),y:iY(t)}}var _i;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(_i||(_i={}));function oY(t){return!U4||!t?!1:t===document.scrollingElement}function sY(t){const e={x:0,y:0},n=oY(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,s=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:a,maxScroll:r,minScroll:e}}const CMe={x:.2,y:.2};function MMe(t,e,n,r,i){let{top:o,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=CMe);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=sY(t),f={x:0,y:0},p={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!c&&o<=e.top+v.height?(f.y=_i.Backward,p.y=r*Math.abs((e.top+v.height-o)/v.height)):!u&&l>=e.bottom-v.height&&(f.y=_i.Forward,p.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!h&&a>=e.right-v.width?(f.x=_i.Forward,p.x=r*Math.abs((e.right-v.width-a)/v.width)):!d&&s<=e.left+v.width&&(f.x=_i.Backward,p.x=r*Math.abs((e.left+v.width-s)/v.width)),{direction:f,speed:p}}function EMe(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function aY(t){return t.reduce((e,n)=>Em(e,l8(n)),Ua)}function kMe(t){return t.reduce((e,n)=>e+rY(n),0)}function TMe(t){return t.reduce((e,n)=>e+iY(n),0)}function DMe(t,e){if(e===void 0&&(e=Dv),!t)return;const{top:n,left:r,bottom:i,right:o}=e(t);nY(t)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const LMe=[["x",["left","right"],kMe],["y",["top","bottom"],TMe]];class T9{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=k9(n),i=aY(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,s,a]of LMe)for(const l of s)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[o]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Iy{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function RMe(t){const{EventTarget:e}=Zo(t);return t instanceof e?t:C0(t)}function hE(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var qs;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(qs||(qs={}));function QF(t){t.preventDefault()}function BMe(t){t.stopPropagation()}var er;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(er||(er={}));const lY={start:[er.Space,er.Enter],cancel:[er.Esc],end:[er.Space,er.Enter]},PMe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case er.Right:return{...n,x:n.x+25};case er.Left:return{...n,x:n.x-25};case er.Down:return{...n,y:n.y+25};case er.Up:return{...n,y:n.y-25}}};class cY{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Iy(C0(n)),this.windowListeners=new Iy(Zo(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(qs.Resize,this.handleCancel),this.windowListeners.add(qs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(qs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&DMe(r),n(Ua)}handleKeyDown(e){if(QJ(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=lY,coordinateGetter:s=PMe,scrollBehavior:a="smooth"}=i,{code:l}=e;if(o.end.includes(l)){this.handleEnd(e);return}if(o.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:Ua;this.referenceCoordinates||(this.referenceCoordinates=u);const d=s(e,{active:n,context:r.current,currentCoordinates:u});if(d){const h=s3(d,u),f={x:0,y:0},{scrollableAncestors:p}=r.current;for(const v of p){const b=e.code,{isTop:y,isRight:x,isLeft:w,isBottom:A,maxScroll:D,minScroll:k}=sY(v),R=EMe(v),L={x:Math.min(b===er.Right?R.right-R.width/2:R.right,Math.max(b===er.Right?R.left:R.left+R.width/2,d.x)),y:Math.min(b===er.Down?R.bottom-R.height/2:R.bottom,Math.max(b===er.Down?R.top:R.top+R.height/2,d.y))},T=b===er.Right&&!x||b===er.Left&&!w,C=b===er.Down&&!A||b===er.Up&&!y;if(T&&L.x!==d.x){const P=v.scrollLeft+h.x,z=b===er.Right&&P<=D.x||b===er.Left&&P>=k.x;if(z&&!h.y){v.scrollTo({left:P,behavior:a});return}z?f.x=v.scrollLeft-P:f.x=b===er.Right?v.scrollLeft-D.x:v.scrollLeft-k.x,f.x&&v.scrollBy({left:-f.x,behavior:a});break}else if(C&&L.y!==d.y){const P=v.scrollTop+h.y,z=b===er.Down&&P<=D.y||b===er.Up&&P>=k.y;if(z&&!h.x){v.scrollTo({top:P,behavior:a});return}z?f.y=v.scrollTop-P:f.y=b===er.Down?v.scrollTop-D.y:v.scrollTop-k.y,f.y&&v.scrollBy({top:-f.y,behavior:a});break}}this.handleMove(e,Em(s3(d,this.referenceCoordinates),f))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}cY.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=lY,onActivation:i}=e,{active:o}=n;const{code:s}=t.nativeEvent;if(r.start.includes(s)){const a=o.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function ez(t){return!!(t&&"distance"in t)}function tz(t){return!!(t&&"delay"in t)}class D9{constructor(e,n,r){var i;r===void 0&&(r=RMe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:s}=o;this.props=e,this.events=n,this.document=C0(s),this.documentListeners=new Iy(this.document),this.listeners=new Iy(r),this.windowListeners=new Iy(Zo(s)),this.initialCoordinates=(i=a8(o))!=null?i:Ua,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(qs.Resize,this.handleCancel),this.windowListeners.add(qs.DragStart,QF),this.windowListeners.add(qs.VisibilityChange,this.handleCancel),this.windowListeners.add(qs.ContextMenu,QF),this.documentListeners.add(qs.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(tz(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(ez(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(qs.Click,BMe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(qs.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!i)return;const l=(n=a8(e))!=null?n:Ua,c=s3(i,l);if(!r&&a){if(ez(a)){if(a.tolerance!=null&&hE(c,a.tolerance))return this.handleCancel();if(hE(c,a.distance))return this.handleStart()}return tz(a)&&hE(c,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===er.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const NMe={move:{name:"pointermove"},end:{name:"pointerup"}};class uY extends D9{constructor(e){const{event:n}=e,r=C0(n.target);super(e,NMe,r)}}uY.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const IMe={move:{name:"mousemove"},end:{name:"mouseup"}};var c8;(function(t){t[t.RightClick=2]="RightClick"})(c8||(c8={}));class OMe extends D9{constructor(e){super(e,IMe,C0(e.event.target))}}OMe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===c8.RightClick?!1:(r==null||r({event:n}),!0)}}];const fE={move:{name:"touchmove"},end:{name:"touchend"}};class FMe extends D9{constructor(e){super(e,fE)}static setup(){return window.addEventListener(fE.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(fE.move.name,e)};function e(){}}}FMe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Oy;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Oy||(Oy={}));var l3;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(l3||(l3={}));function zMe(t){let{acceleration:e,activator:n=Oy.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=l3.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:h}=t;const f=jMe({delta:d,disabled:!o}),[p,v]=QCe(),b=E.useRef({x:0,y:0}),y=E.useRef({x:0,y:0}),x=E.useMemo(()=>{switch(n){case Oy.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Oy.DraggableRect:return i}},[n,i,l]),w=E.useRef(null),A=E.useCallback(()=>{const k=w.current;if(!k)return;const R=b.current.x*y.current.x,L=b.current.y*y.current.y;k.scrollBy(R,L)},[]),D=E.useMemo(()=>a===l3.TreeOrder?[...c].reverse():c,[a,c]);E.useEffect(()=>{if(!o||!c.length||!x){v();return}for(const k of D){if((r==null?void 0:r(k))===!1)continue;const R=c.indexOf(k),L=u[R];if(!L)continue;const{direction:T,speed:C}=MMe(k,L,x,e,h);for(const P of["x","y"])f[P][T[P]]||(C[P]=0,T[P]=0);if(C.x>0||C.y>0){v(),w.current=k,p(A,s),b.current=C,y.current=T;return}}b.current={x:0,y:0},y.current={x:0,y:0},v()},[e,A,r,v,o,s,JSON.stringify(x),JSON.stringify(f),p,c,D,u,JSON.stringify(h)])}const UMe={x:{[_i.Backward]:!1,[_i.Forward]:!1},y:{[_i.Backward]:!1,[_i.Forward]:!1}};function jMe(t){let{delta:e,disabled:n}=t;const r=s8(e);return Tv(i=>{if(n||!r||!i)return UMe;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[_i.Backward]:i.x[_i.Backward]||o.x===-1,[_i.Forward]:i.x[_i.Forward]||o.x===1},y:{[_i.Backward]:i.y[_i.Backward]||o.y===-1,[_i.Forward]:i.y[_i.Forward]||o.y===1}}},[n,e,r])}function HMe(t,e){const n=e!==null?t.get(e):void 0,r=n?n.node.current:null;return Tv(i=>{var o;return e===null?null:(o=r??i)!=null?o:null},[r,e])}function $Me(t,e){return E.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...n,...o]},[]),[t,e])}var U1;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(U1||(U1={}));var u8;(function(t){t.Optimized="optimized"})(u8||(u8={}));const nz=new Map;function GMe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[o,s]=E.useState(null),{frequency:a,measure:l,strategy:c}=i,u=E.useRef(t),d=b(),h=z1(d),f=E.useCallback(function(y){y===void 0&&(y=[]),!h.current&&s(x=>x===null?y:x.concat(y.filter(w=>!x.includes(w))))},[h]),p=E.useRef(null),v=Tv(y=>{if(d&&!n)return nz;if(!y||y===nz||u.current!==t||o!=null){const x=new Map;for(let w of t){if(!w)continue;if(o&&o.length>0&&!o.includes(w.id)&&w.rect.current){x.set(w.id,w.rect.current);continue}const A=w.node.current,D=A?new T9(l(A),A):null;w.rect.current=D,D&&x.set(w.id,D)}return x}return y},[t,o,n,d,l]);return E.useEffect(()=>{u.current=t},[t]),E.useEffect(()=>{d||f()},[n,d]),E.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),E.useEffect(()=>{d||typeof a!="number"||p.current!==null||(p.current=setTimeout(()=>{f(),p.current=null},a))},[a,d,f,...r]),{droppableRects:v,measureDroppableContainers:f,measuringScheduled:o!=null};function b(){switch(c){case U1.Always:return!1;case U1.BeforeDragging:return n;default:return!n}}}function dY(t,e){return Tv(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function VMe(t,e){return dY(t,e)}function qMe(t){let{callback:e,disabled:n}=t;const r=E9(e),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return E.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function H4(t){let{callback:e,disabled:n}=t;const r=E9(e),i=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return E.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function KMe(t){return new T9(Dv(t),t)}function rz(t,e,n){e===void 0&&(e=KMe);const[r,i]=E.useReducer(a,null),o=qMe({callback(l){if(t)for(const c of l){const{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(t)){i();break}}}}),s=H4({callback:i});return Lc(()=>{i(),t?(s==null||s.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),o==null||o.disconnect())},[t]),r;function a(l){if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u}}function WMe(t){const e=dY(t);return tY(t,e)}const iz=[];function XMe(t){const e=E.useRef(t),n=Tv(r=>t?r&&r!==iz&&t&&e.current&&t.parentNode===e.current.parentNode?r:k9(t):iz,[t]);return E.useEffect(()=>{e.current=t},[t]),n}function JMe(t){const[e,n]=E.useState(null),r=E.useRef(t),i=E.useCallback(o=>{const s=dE(o.target);s&&n(a=>a?(a.set(s,l8(s)),new Map(a)):null)},[]);return E.useEffect(()=>{const o=r.current;if(t!==o){s(o);const a=t.map(l=>{const c=dE(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,l8(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{s(t),s(o)};function s(a){a.forEach(l=>{const c=dE(l);c==null||c.removeEventListener("scroll",i)})}},[i,t]),E.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,s)=>Em(o,s),Ua):aY(t):Ua,[t,e])}function oz(t,e){e===void 0&&(e=[]);const n=E.useRef(null);return E.useEffect(()=>{n.current=null},e),E.useEffect(()=>{const r=t!==Ua;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?s3(t,n.current):Ua}function YMe(t){E.useEffect(()=>{if(!U4)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function ZMe(t,e){return E.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=s=>{o(s,e)},n},{}),[t,e])}function hY(t){return E.useMemo(()=>t?wMe(t):null,[t])}const pE=[];function QMe(t,e){e===void 0&&(e=Dv);const[n]=t,r=hY(n?Zo(n):null),[i,o]=E.useReducer(a,pE),s=H4({callback:o});return t.length>0&&i===pE&&o(),Lc(()=>{t.length?t.forEach(l=>s==null?void 0:s.observe(l)):(s==null||s.disconnect(),o())},[t]),i;function a(){return t.length?t.map(l=>oY(l)?r:new T9(e(l),l)):pE}}function eEe(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return kv(e)?e:t}function tEe(t){let{measure:e}=t;const[n,r]=E.useState(null),i=E.useCallback(c=>{for(const{target:u}of c)if(kv(u)){r(d=>{const h=e(u);return d?{...d,width:h.width,height:h.height}:h});break}},[e]),o=H4({callback:i}),s=E.useCallback(c=>{const u=eEe(c);o==null||o.disconnect(),u&&(o==null||o.observe(u)),r(u?e(u):null)},[e,o]),[a,l]=o3(s);return E.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const nEe=[{sensor:uY,options:{}},{sensor:cY,options:{}}],rEe={current:{}},j_={draggable:{measure:ZF},droppable:{measure:ZF,strategy:U1.WhileDragging,frequency:u8.Optimized},dragOverlay:{measure:Dv}};class Fy extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const iEe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fy,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:a3},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:j_,measureDroppableContainers:a3,windowRect:null,measuringScheduled:!1},oEe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:a3,draggableNodes:new Map,over:null,measureDroppableContainers:a3},$4=E.createContext(oEe),sEe=E.createContext(iEe);function aEe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fy}}}function lEe(t,e){switch(e.type){case si.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case si.DragMove:return t.draggable.active?{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}}:t;case si.DragEnd:case si.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case si.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Fy(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case si.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const s=new Fy(t.droppable.containers);return s.set(n,{...o,disabled:i}),{...t,droppable:{...t.droppable,containers:s}}}case si.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new Fy(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function cEe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=E.useContext($4),o=s8(r),s=s8(n==null?void 0:n.id);return E.useEffect(()=>{if(!e&&!r&&o&&s!=null){if(!QJ(o)||document.activeElement===o.target)return;const a=i.get(s);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const d=nMe(u);if(d){d.focus();break}}})}},[r,e,i,s,o]),null}function uEe(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,o)=>o({transform:i,...r}),n):n}function dEe(t){return E.useMemo(()=>({draggable:{...j_.draggable,...t==null?void 0:t.draggable},droppable:{...j_.droppable,...t==null?void 0:t.droppable},dragOverlay:{...j_.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function hEe(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const o=E.useRef(!1),{x:s,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Lc(()=>{if(!s&&!a||!e){o.current=!1;return}if(o.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),d=tY(u,r);if(s||(d.x=0),a||(d.y=0),o.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=nY(c);h&&h.scrollBy({top:d.y,left:d.x})}},[e,s,a,r,n])}const fY=E.createContext({...Ua,scaleX:1,scaleY:1});var Ru;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ru||(Ru={}));const Fc=E.memo(function(e){var n,r,i,o;let{id:s,accessibility:a,autoScroll:l=!0,children:c,sensors:u=nEe,collisionDetection:d=mMe,measuring:h,modifiers:f,...p}=e;const v=E.useReducer(lEe,void 0,aEe),[b,y]=v,[x,w]=lMe(),[A,D]=E.useState(Ru.Uninitialized),k=A===Ru.Initialized,{draggable:{active:R,nodes:L,translate:T},droppable:{containers:C}}=b,P=R?L.get(R):null,z=E.useRef({initial:null,translated:null}),H=E.useMemo(()=>{var Ce;return R!=null?{id:R,data:(Ce=P==null?void 0:P.data)!=null?Ce:rEe,rect:z}:null},[R,P]),$=E.useRef(null),[X,Z]=E.useState(null),[K,O]=E.useState(null),V=z1(p,Object.values(p)),I=j4("DndDescribedBy",s),se=E.useMemo(()=>C.getEnabled(),[C]),ye=dEe(h),{droppableRects:G,measureDroppableContainers:ae,measuringScheduled:_e}=GMe(se,{dragging:k,dependencies:[T.x,T.y],config:ye.droppable}),ve=HMe(L,R),Ae=E.useMemo(()=>K?a8(K):null,[K]),Ve=Se(),pt=VMe(ve,ye.draggable.measure);hEe({activeNode:R?L.get(R):null,config:Ve.layoutShiftCompensation,initialRect:pt,measure:ye.draggable.measure});const ke=rz(ve,ye.draggable.measure,pt),ee=rz(ve?ve.parentElement:null),le=E.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:C,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xe=C.getNodeFor((n=le.current.over)==null?void 0:n.id),Fe=tEe({measure:ye.dragOverlay.measure}),Be=(r=Fe.nodeRef.current)!=null?r:ve,Re=k?(i=Fe.rect)!=null?i:ke:null,Ze=!!(Fe.nodeRef.current&&Fe.rect),Je=WMe(Ze?null:ke),_t=hY(Be?Zo(Be):null),Q=XMe(k?xe??ve:null),U=QMe(Q),pe=uEe(f,{transform:{x:T.x-Je.x,y:T.y-Je.y,scaleX:1,scaleY:1},activatorEvent:K,active:H,activeNodeRect:ke,containerNodeRect:ee,draggingNodeRect:Re,over:le.current.over,overlayNodeRect:Fe.rect,scrollableAncestors:Q,scrollableAncestorRects:U,windowRect:_t}),Te=Ae?Em(Ae,T):null,Oe=JMe(Q),Ge=oz(Oe),ce=oz(Oe,[ke]),de=Em(pe,Ge),De=Re?vMe(Re,pe):null,Qe=H&&De?d({active:H,collisionRect:De,droppableRects:G,droppableContainers:se,pointerCoordinates:Te}):null,Ie=fMe(Qe,"id"),[et,kt]=E.useState(null),vt=Ze?pe:Em(pe,ce),rt=gMe(vt,(o=et==null?void 0:et.rect)!=null?o:null,ke),te=E.useCallback((Ce,qe)=>{let{sensor:F,options:j}=qe;if($.current==null)return;const Y=L.get($.current);if(!Y)return;const he=Ce.nativeEvent,je=new F({active:$.current,activeNode:Y,event:he,options:j,context:le,onStart(Tt){const jt=$.current;if(jt==null)return;const On=L.get(jt);if(!On)return;const{onDragStart:dr}=V.current,xr={active:{id:jt,data:On.data,rect:z}};pl.unstable_batchedUpdates(()=>{dr==null||dr(xr),D(Ru.Initializing),y({type:si.DragStart,initialCoordinates:Tt,active:jt}),x({type:"onDragStart",event:xr})})},onMove(Tt){y({type:si.DragMove,coordinates:Tt})},onEnd:mt(si.DragEnd),onCancel:mt(si.DragCancel)});pl.unstable_batchedUpdates(()=>{Z(je),O(Ce.nativeEvent)});function mt(Tt){return async function(){const{active:On,collisions:dr,over:xr,scrollAdjustedTranslate:Fn}=le.current;let mi=null;if(On&&Fn){const{cancelDrop:_r}=V.current;mi={activatorEvent:he,active:On,collisions:dr,delta:Fn,over:xr},Tt===si.DragEnd&&typeof _r=="function"&&await Promise.resolve(_r(mi))&&(Tt=si.DragCancel)}$.current=null,pl.unstable_batchedUpdates(()=>{y({type:Tt}),D(Ru.Uninitialized),kt(null),Z(null),O(null);const _r=Tt===si.DragEnd?"onDragEnd":"onDragCancel";if(mi){const ji=V.current[_r];ji==null||ji(mi),x({type:_r,event:mi})}})}}},[L]),ge=E.useCallback((Ce,qe)=>(F,j)=>{const Y=F.nativeEvent,he=L.get(j);if($.current!==null||!he||Y.dndKit||Y.defaultPrevented)return;const je={active:he};Ce(F,qe.options,je)===!0&&(Y.dndKit={capturedBy:qe.sensor},$.current=j,te(F,qe))},[L,te]),We=$Me(u,ge);YMe(u),Lc(()=>{ke&&A===Ru.Initializing&&D(Ru.Initialized)},[ke,A]),E.useEffect(()=>{const{onDragMove:Ce}=V.current,{active:qe,activatorEvent:F,collisions:j,over:Y}=le.current;if(!qe||!F)return;const he={active:qe,activatorEvent:F,collisions:j,delta:{x:de.x,y:de.y},over:Y};pl.unstable_batchedUpdates(()=>{Ce==null||Ce(he),x({type:"onDragMove",event:he})})},[de.x,de.y]),E.useEffect(()=>{const{active:Ce,activatorEvent:qe,collisions:F,droppableContainers:j,scrollAdjustedTranslate:Y}=le.current;if(!Ce||$.current==null||!qe||!Y)return;const{onDragOver:he}=V.current,je=j.get(Ie),mt=je&&je.rect.current?{id:je.id,rect:je.rect.current,data:je.data,disabled:je.disabled}:null,Tt={active:Ce,activatorEvent:qe,collisions:F,delta:{x:Y.x,y:Y.y},over:mt};pl.unstable_batchedUpdates(()=>{kt(mt),he==null||he(Tt),x({type:"onDragOver",event:Tt})})},[Ie]),Lc(()=>{le.current={activatorEvent:K,active:H,activeNode:ve,collisionRect:De,collisions:Qe,droppableRects:G,draggableNodes:L,draggingNode:Be,draggingNodeRect:Re,droppableContainers:C,over:et,scrollableAncestors:Q,scrollAdjustedTranslate:de},z.current={initial:Re,translated:De}},[H,ve,Qe,De,L,Be,Re,G,C,et,Q,de]),zMe({...Ve,delta:T,draggingRect:De,pointerCoordinates:Te,scrollableAncestors:Q,scrollableAncestorRects:U});const J=E.useMemo(()=>({active:H,activeNode:ve,activeNodeRect:ke,activatorEvent:K,collisions:Qe,containerNodeRect:ee,dragOverlay:Fe,draggableNodes:L,droppableContainers:C,droppableRects:G,over:et,measureDroppableContainers:ae,scrollableAncestors:Q,scrollableAncestorRects:U,measuringConfiguration:ye,measuringScheduled:_e,windowRect:_t}),[H,ve,ke,K,Qe,ee,Fe,L,C,G,et,ae,Q,U,ye,_e,_t]),He=E.useMemo(()=>({activatorEvent:K,activators:We,active:H,activeNodeRect:ke,ariaDescribedById:{draggable:I},dispatch:y,draggableNodes:L,over:et,measureDroppableContainers:ae}),[K,We,H,ke,y,I,L,et,ae]);return re.createElement(eY.Provider,{value:w},re.createElement($4.Provider,{value:He},re.createElement(sEe.Provider,{value:J},re.createElement(fY.Provider,{value:rt},c)),re.createElement(cEe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),re.createElement(dMe,{...a,hiddenTextDescribedById:I}));function Se(){const Ce=(X==null?void 0:X.autoScrollEnabled)===!1,qe=typeof l=="object"?l.enabled===!1:l===!1,F=k&&!Ce&&!qe;return typeof l=="object"?{...l,enabled:F}:{enabled:F}}}),fEe=E.createContext(null),sz="button",pEe="Droppable";function mEe(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const o=j4(pEe),{activators:s,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:h}=E.useContext($4),{role:f=sz,roleDescription:p="draggable",tabIndex:v=0}=i??{},b=(l==null?void 0:l.id)===e,y=E.useContext(b?fY:fEe),[x,w]=o3(),[A,D]=o3(),k=ZMe(s,e),R=z1(n);Lc(()=>(d.set(e,{id:e,key:o,node:x,activatorNode:A,data:R}),()=>{const T=d.get(e);T&&T.key===o&&d.delete(e)}),[d,e]);const L=E.useMemo(()=>({role:f,tabIndex:v,"aria-disabled":r,"aria-pressed":b&&f===sz?!0:void 0,"aria-roledescription":p,"aria-describedby":u.draggable}),[r,f,v,b,p,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:L,isDragging:b,listeners:r?void 0:k,node:x,over:h,setNodeRef:w,setActivatorNodeRef:D,transform:y}}const gEe="Droppable",yEe={timeout:25};function L9(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const o=j4(gEe),{active:s,dispatch:a,over:l,measureDroppableContainers:c}=E.useContext($4),u=E.useRef({disabled:n}),d=E.useRef(!1),h=E.useRef(null),f=E.useRef(null),{disabled:p,updateMeasurementsFor:v,timeout:b}={...yEe,...i},y=z1(v??r),x=E.useCallback(()=>{if(!d.current){d.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),f.current=null},b)},[b]),w=H4({callback:x,disabled:p||!s}),A=E.useCallback((L,T)=>{w&&(T&&(w.unobserve(T),d.current=!1),L&&w.observe(L))},[w]),[D,k]=o3(A),R=z1(e);return E.useEffect(()=>{!w||!D.current||(w.disconnect(),d.current=!1,w.observe(D.current))},[D,w]),Lc(()=>(a({type:si.RegisterDroppable,element:{id:r,key:o,disabled:n,node:D,rect:h,data:R}}),()=>a({type:si.UnregisterDroppable,key:o,id:r})),[r]),E.useEffect(()=>{n!==u.current.disabled&&(a({type:si.SetDroppableDisabled,id:r,key:o,disabled:n}),u.current.disabled=n)},[r,o,n,a]),{active:s,rect:h,isOver:(l==null?void 0:l.id)===r,node:D,over:l,setNodeRef:k}}const c0=({selected:t,id:e,avatarUrl:n,label:r,onDelete:i,hoveredCardContent:o,className:s})=>{const[a,l]=E.useState(!1);return _.jsxs("div",{className:ie(t?"bg-gray-500":"bg-gray-300","w-auto inline-flex min-h-8 items-center rounded-full shadow relative cursor-pointer align-middle mx-1 my-1",s),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[n&&_.jsx("img",{src:n,alt:"avatar",className:"ring-purple-500 ring-2 w-8 h-8 scale-102 translate-x-[-1px] rounded-full mr-2"}),_.jsx("p",{className:"flex-grow text-sm pl-4 pr-4  text-black select-none",children:r}),i&&_.jsx("button",{onClick:()=>i(e),className:"hover:border-transparent hover:scale-90 flex align-middle rounded-full p-0 bg-transparent text-lg text-gray-400 hover:text-red-500 hover:bg-white",children:_.jsx("span",{className:"px-2",children:""})}),a&&o&&_.jsx("div",{className:"absolute bottom-10 left-0 bg-white rounded shadow-lg text-sm",children:o})]})},Tn=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Tn.displayName="Card";const Rn=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",t),...e}));Rn.displayName="CardHeader";const Bn=E.forwardRef(({className:t,...e},n)=>_.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",t),...e}));Bn.displayName="CardTitle";const vEe=E.forwardRef(({className:t,...e},n)=>_.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));vEe.displayName="CardDescription";const Pn=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ie("p-6 pt-0",t),...e}));Pn.displayName="CardContent";const bEe=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",t),...e}));bEe.displayName="CardFooter";function xEe(t,[e,n]){return Math.min(n,Math.max(e,t))}function _Ee(t,e){return E.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const pY="ScrollArea",[mY,e8e]=nv(pY),[wEe,ca]=mY(pY),SEe=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=E.useState(null),[c,u]=E.useState(null),[d,h]=E.useState(null),[f,p]=E.useState(null),[v,b]=E.useState(null),[y,x]=E.useState(0),[w,A]=E.useState(0),[D,k]=E.useState(!1),[R,L]=E.useState(!1),T=Lo(e,P=>l(P)),C=iT(i);return E.createElement(wEe,{scope:n,type:r,dir:C,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:D,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:L,onCornerWidthChange:x,onCornerHeightChange:A},E.createElement(fi.div,$t({dir:C},s,{ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})))}),AEe="ScrollAreaViewport",CEe=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,...i}=t,o=ca(AEe,n),s=E.useRef(null),a=Lo(e,s,o.onViewportChange);return E.createElement(E.Fragment,null,E.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),E.createElement(fi.div,$t({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style}}),E.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),zc="ScrollAreaScrollbar",gY=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ca(zc,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return E.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?E.createElement(MEe,$t({},r,{ref:e,forceMount:n})):i.type==="scroll"?E.createElement(EEe,$t({},r,{ref:e,forceMount:n})):i.type==="auto"?E.createElement(yY,$t({},r,{ref:e,forceMount:n})):i.type==="always"?E.createElement(R9,$t({},r,{ref:e})):null}),MEe=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ca(zc,t.__scopeScrollArea),[o,s]=E.useState(!1);return E.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),E.createElement(Nc,{present:n||o},E.createElement(yY,$t({"data-state":o?"visible":"hidden"},r,{ref:e})))}),EEe=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ca(zc,t.__scopeScrollArea),o=t.orientation==="horizontal",s=V4(()=>l("SCROLL_END"),100),[a,l]=_Ee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),E.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(l("SCROLL"),s()),d=f};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),E.createElement(Nc,{present:n||a!=="hidden"},E.createElement(R9,$t({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:e,onPointerEnter:vr(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:vr(t.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),yY=E.forwardRef((t,e)=>{const n=ca(zc,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=E.useState(!1),a=t.orientation==="horizontal",l=V4(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return u0(n.viewport,l),u0(n.content,l),E.createElement(Nc,{present:r||o},E.createElement(R9,$t({"data-state":o?"visible":"hidden"},i,{ref:e})))}),R9=E.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ca(zc,t.__scopeScrollArea),o=E.useRef(null),s=E.useRef(0),[a,l]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=_Y(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function d(h,f){return NEe(h,s.current,a,f)}return n==="horizontal"?E.createElement(kEe,$t({},u,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,f=az(h,a,i.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}})):n==="vertical"?E.createElement(TEe,$t({},u,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,f=az(h,a);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}})):null}),kEe=E.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=ca(zc,t.__scopeScrollArea),[s,a]=E.useState(),l=E.useRef(null),c=Lo(e,l,o.onScrollbarXChange);return E.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),E.createElement(bY,$t({"data-orientation":"horizontal"},i,{ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":G4(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),SY(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:c3(s.paddingLeft),paddingEnd:c3(s.paddingRight)}})}}))}),TEe=E.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=ca(zc,t.__scopeScrollArea),[s,a]=E.useState(),l=E.useRef(null),c=Lo(e,l,o.onScrollbarYChange);return E.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),E.createElement(bY,$t({"data-orientation":"vertical"},i,{ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":G4(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),SY(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:c3(s.paddingTop),paddingEnd:c3(s.paddingBottom)}})}}))}),[DEe,vY]=mY(zc),bY=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=t,f=ca(zc,n),[p,v]=E.useState(null),b=Lo(e,T=>v(T)),y=E.useRef(null),x=E.useRef(""),w=f.viewport,A=r.content-r.viewport,D=wo(u),k=wo(l),R=V4(d,10);function L(T){if(y.current){const C=T.clientX-y.current.left,P=T.clientY-y.current.top;c({x:C,y:P})}}return E.useEffect(()=>{const T=C=>{const P=C.target;(p==null?void 0:p.contains(P))&&D(C,A)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,p,A,D]),E.useEffect(k,[r,k]),u0(p,R),u0(f.content,R),E.createElement(DEe,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:wo(o),onThumbPointerUp:wo(s),onThumbPositionChange:k,onThumbPointerDown:wo(a)},E.createElement(fi.div,$t({},h,{ref:b,style:{position:"absolute",...h.style},onPointerDown:vr(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=p.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),L(T))}),onPointerMove:vr(t.onPointerMove,L),onPointerUp:vr(t.onPointerUp,T=>{const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})))}),d8="ScrollAreaThumb",LEe=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=vY(d8,t.__scopeScrollArea);return E.createElement(Nc,{present:n||i.hasThumb},E.createElement(REe,$t({ref:e},r)))}),REe=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=ca(d8,n),s=vY(d8,n),{onThumbPositionChange:a}=s,l=Lo(e,d=>s.onThumbChange(d)),c=E.useRef(),u=V4(()=>{c.current&&(c.current(),c.current=void 0)},100);return E.useEffect(()=>{const d=o.viewport;if(d){const h=()=>{if(u(),!c.current){const f=IEe(d,a);c.current=f,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,u,a]),E.createElement(fi.div,$t({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:vr(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),p=d.clientX-f.left,v=d.clientY-f.top;s.onThumbPointerDown({x:p,y:v})}),onPointerUp:vr(t.onPointerUp,s.onThumbPointerUp)}))}),xY="ScrollAreaCorner",BEe=E.forwardRef((t,e)=>{const n=ca(xY,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?E.createElement(PEe,$t({},t,{ref:e})):null}),PEe=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ca(xY,n),[o,s]=E.useState(0),[a,l]=E.useState(0),c=!!(o&&a);return u0(i.scrollbarX,()=>{var u;const d=((u=i.scrollbarX)===null||u===void 0?void 0:u.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),u0(i.scrollbarY,()=>{var u;const d=((u=i.scrollbarY)===null||u===void 0?void 0:u.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),c?E.createElement(fi.div,$t({},r,{ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}})):null});function c3(t){return t?parseInt(t,10):0}function _Y(t,e){const n=t/e;return isNaN(n)?0:n}function G4(t){const e=_Y(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function NEe(t,e,n,r="ltr"){const i=G4(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return wY([l,c],d)(t)}function az(t,e,n="ltr"){const r=G4(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=xEe(t,l);return wY([0,s],[0,a])(c)}function wY(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function SY(t,e){return t>0&&t<e}const IEe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function V4(t,e){const n=wo(t),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function u0(t,e){const n=wo(e);$w(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const AY=SEe,OEe=CEe,FEe=BEe,B9=E.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(AY,{ref:r,className:ie("relative overflow-hidden",t),...n,children:[_.jsx(OEe,{className:"h-full w-full rounded-[inherit]",children:e}),_.jsx(CY,{}),_.jsx(FEe,{})]}));B9.displayName=AY.displayName;const CY=E.forwardRef(({className:t,orientation:e="vertical",...n},r)=>_.jsx(gY,{ref:r,orientation:e,className:ie("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:_.jsx(LEe,{className:"relative flex-1 rounded-full bg-border"})}));CY.displayName=gY.displayName;const q4=t=>{const{isOver:e,setNodeRef:n}=L9({id:"KnownFacts"}),r={borderColor:e?"green":"transparent"};return _.jsxs(Tn,{className:"grow flex flex-col justify-stretch",children:[_.jsxs(Rn,{className:"CardHeader flex-row justify-between align-middle p-2",children:[_.jsx(Bn,{className:"CardTitle",children:"Known"}),_.jsx(zH,{onClick:t.add,className:"text-lg hover:text-green-500"})]}),_.jsx(Pn,{className:"flex grow",children:_.jsx("div",{className:"grow border-2 ",ref:n,style:r,children:_.jsx(B9,{children:t.children})})})]})};q4.displayName="KnownFacts";const zEe=Yk("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Xo=E.forwardRef(({fact:t,className:e,variant:n,...r},i)=>{const{attributes:o,listeners:s,setNodeRef:a,transform:l}=mEe({id:t}),c=l?{transform:`translate3d(${l.x}px, ${l.y}px, 0)`,zIndex:999}:void 0;return _.jsx("div",{ref:a,style:c,...s,...o,className:ie(zEe({variant:n}),e,"h-5 select-none"),...r,children:t})});Xo.displayName="FactChicklet";const Va=E.forwardRef(({className:t,stimulusText:e="",interactive:n,onChangeFact:r},i)=>{const o=E.useRef(null),[s,a]=E.useState(e),[l,c]=E.useState(""),[u,d]=E.useState("");function h(y){!y.contentEditable||!n||(y.onselectstart=()=>f(y))}function f(y){y.onmouseup=()=>p(),y.onkeyup=()=>p()}function p(){const y=document.getSelection();if(!y||!y.toString()||y.isCollapsed){a(e),c(""),d(""),r&&r("");return}let x,w,A;if(y.anchorOffset<y.focusOffset?(x=y.anchorOffset,w=y.focusOffset):(x=y.focusOffset,w=y.anchorOffset),A=e.indexOf(y.toString(),x),x!==A){const D=A-x;x=A,w=w+D}a(e.substring(0,x)),c(e.substring(x,w)),d(e.substring(w)),r&&r(y.toString())}E.useEffect(()=>{o&&o.current&&h(o.current)},[o]);function v(){if(!e)return;const y=e,x=new SpeechSynthesisUtterance(aV(y));x.lang="en-US",x.voice=speechSynthesis.getVoices()[159],x.rate=1,x.pitch=1,x.volume=1,speechSynthesis.speak(x)}function b(){return _.jsx("button",{className:"border-none text-xs",onClick:v,children:_.jsx(qJ,{className:"text-cyan-900"})})}return _.jsx(_.Fragment,{children:_.jsxs("div",{ref:o,className:ie("STIMULUS","pr-4",t),children:[s,l.length?_.jsx(Xo,{fact:l}):null,u,_.jsx("div",{className:"absolute right-3 top-1 mt-2 flex items-center justify-between text-right italic text-black",children:_.jsx(b,{})})]})})});Va.displayName="StimulusSelector";const K4=t=>{const{isOver:e,setNodeRef:n}=L9({id:"UnknownFacts"}),r={borderColor:e?"green":"transparent"};return _.jsxs(Tn,{className:"grow flex flex-col justify-stretch",children:[_.jsxs(Rn,{className:"CardHeader flex-row justify-between align-middle p-2",children:[_.jsx(Bn,{className:"CardTitle",children:"Unknown"}),_.jsx(zH,{onClick:t.add,className:"text-lg  hover:text-green-500"})]}),_.jsx(Pn,{className:"flex grow",children:_.jsx("div",{className:"grow border-2 ",ref:n,style:r,children:_.jsx(B9,{children:t.children})})})]})};K4.displayName="UnknownFacts";const Es=E.forwardRef(({highlightLetter:t="P",subTitle:e="The subtitle",instructions:n="Need to provide instructions",className:r,...i},o)=>_.jsxs("div",{ref:o,className:ie("HdrBar","relative min-h-24 w-full border-none bg-slate-300 pl-2 pr-2",r),...i,children:[_.jsxs("div",{className:"select-none font-inter text-5xl font-black",children:[_.jsx("span",{className:ie(t==="P"?"text-qqAccent":"text-slate-500"),children:"P"}),_.jsx("span",{className:ie(t==="O"?"text-qqAccent":"text-slate-500"),children:"O"}),_.jsx("span",{className:ie(t==="W"?"text-qqAccent":"text-slate-500"),children:"W"}),_.jsx("span",{className:ie(t==="E"?"text-qqAccent":"text-slate-500"),children:"E"}),_.jsx("span",{className:ie(t==="R"?"text-qqAccent":"text-slate-500"),children:"R"})]}),_.jsx("div",{className:"text-1xl select-none font-inter",children:e}),_.jsx("div",{className:"select-none font-sura text-2xl",children:n})]}));Es.displayName="HdrBar";const MY=({className:t,page:e,index:n})=>{var Z;const{api:r,current:i}=E.useContext(Nn),{logAction:o,submitTTable:s,getHint:a,problem:l,rank:c}=Hn(),[u,d]=E.useState(!0),[h,f]=E.useState([]),[p,v]=E.useState([]),[b,y]=E.useState(""),[x,w]=E.useState("gratz:02"),[A,D]=E.useState(""),[k,R]=E.useState(!1),L=(Z=l.wpHints)==null?void 0:Z.find(K=>K.page===`${c}${e.id}`);E.useState([]);const T=K=>{o(`NewbFindFacts : Deleted '${K}' from KnownFacts`),f(h.filter(O=>O!==K))},C=K=>{o(`NewbFindFacts : Deleted '${K}' from UnknownFacts`),v(p.filter(O=>O!==K))};async function P(K){if(K.metaKey)r==null||r.scrollNext();else{D("Give me a sec to review your knowns and unknowns"),w("direct:02"),o("NewbFindFacts : Clicked Next"),o("NewbFindFacts : Checking Facts");const O=await s(h,p);D(O.message),w("pout:04"),O.stepStatus=="VALID"&&(r==null||r.scrollNext())}}function z(K,O,V){K==="intro"&&O===V&&d(!1)}if(i!==n+1)return null;return _.jsxs("div",{className:ie("NewbFindFacts m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsx(Es,{highlightLetter:e==null?void 0:e.phase,subTitle:e==null?void 0:e.phaseLabel,instructions:e==null?void 0:e.title}),_.jsx("div",{className:"relative flex grow flex-col justify-stretch gap-2 p-2",children:_.jsxs(Fc,{onDragEnd:H,children:[_.jsx(Va,{interactive:!0,onChangeFact:y,className:ie("flex w-full rounded-md border border-input bg-slate-200 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t,"inline"),stimulusText:l.stimulus}),_.jsx("div",{className:"grow",children:_.jsxs("div",{className:"grid h-full grid-cols-2 gap-1",children:[_.jsx(q4,{add:$,children:h.map(K=>_.jsx(c0,{id:K,label:K,onDelete:T},K))}),_.jsx(K4,{add:X,children:p.map(K=>_.jsx(c0,{id:K,label:K,onDelete:C},K))})]})})]})}),_.jsxs(br,{className:"relative flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:A,busy:k,intro:e==null?void 0:e.intro,psHints:e==null?void 0:e.psHints,wpHints:L==null?void 0:L.hints,closeable:!0,hintChanged:z}),_.jsx(Ci,{disabled:u,className:"relative right-0",onClick:K=>P(K),children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"NewbFindFacts"})]})]});function H(K){b.length==0||b.trim().length==0||h.includes(b)||(K.over&&K.over.id==="KnownFacts"&&(f([...h,b]),o(`NewbFindFacts : Dropped '${b}' on KnownFacts`)),K.over&&K.over.id==="UnknownFacts"&&(v([...p,b]),o(`NewbFindFacts : Dropped '${b}' on UnknownFacts`)),y(""))}function $(){b.length==0||b.trim().length==0||h.includes(b)||(o(`NewbFindFacts : Added '${b}' to KnownFacts`),f([...h,b]),y(""))}function X(){b.length==0||b.trim().length==0||p.includes(b)||(o(`NewbFindFacts : Added '${b}' to UnknownFacts`),v([...p,b]),y(""))}};MY.displayName="NewbFindFacts";const EY=({className:t,page:e,index:n})=>{const{current:r,api:i}=E.useContext(Nn),{emotes:o,sayMsg:s}=wv(),{logAction:a,heartbeat:l}=Hn(),[c,u]=E.useState(!0);E.useEffect(()=>{a("NewbMeetTutor : Entered Application"),setTimeout(()=>l(),1e3)},[]);function d(){s("Dance Dance Revolution","gratz")}function h(){a("NewbMeetTutor : Intro Finished"),u(!1)}return r!==n+1?null:_.jsxs("div",{className:ie("NewbMeetTutor m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsxs("div",{className:"relative grow",style:{background:"linear-gradient(0deg, rgba(30,106,8,1) 0%, rgba(9,9,121,1) 35%, rgba(0,212,255,1) 100%)"},children:[_.jsx(Bl,{emote:"celebrate:01",closeUp:!0,style:{position:"absolute",height:"100%",right:"-150px",width:"100%"}}),_.jsx(l0,{msgs:e.intro,className:"absolute bottom-[50%] right-[50%] max-w-[45%] font-capriola",introFinished:h})]}),_.jsxs(br,{className:"relative flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx("div",{className:"m-1 flex grow flex-col gap-1",children:o.map(f=>_.jsx(ko,{onClick:d,className:"w-full",children:f.name},f.name))}),_.jsx(Ci,{disabled:c,className:"relative right-0",onClick:()=>{a("NewbMeetTutor : Clicked Next"),i==null||i.scrollNext()},children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"NewbMeetTutor"})]})]})};EY.displayName="NewbMeetTutor";const kY=({interactive:t,className:e})=>(t&&console.log("interactive"),_.jsxs("div",{className:ie("flex h-full w-full flex-col justify-stretch",e),children:[_.jsx("div",{className:"flex grow items-center justify-center border-4 border-b-0 border-slate-500",children:"Total"}),_.jsxs("div",{className:"flex grow flex-row justify-evenly",children:[_.jsx("div",{className:"flex w-[50%] items-center justify-center border-4 border-r-0 border-slate-500",children:"Part"}),_.jsx("div",{className:"flex w-[50%] items-center justify-center border-4 border-slate-500",children:"Part"})]})]}));function ks(t){return Gr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 304H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32zm0-192H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function UEe(t){return Gr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function TY(t){return Gr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function W4(t){return Gr({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function jEe(t){return Gr({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.5 6h-5.5v-5.5c0-0.276-0.224-0.5-0.5-0.5h-3c-0.276 0-0.5 0.224-0.5 0.5v5.5h-5.5c-0.276 0-0.5 0.224-0.5 0.5v3c0 0.276 0.224 0.5 0.5 0.5h5.5v5.5c0 0.276 0.224 0.5 0.5 0.5h3c0.276 0 0.5-0.224 0.5-0.5v-5.5h5.5c0.276 0 0.5-0.224 0.5-0.5v-3c0-0.276-0.224-0.5-0.5-0.5z"},child:[]}]})(t)}function HEe(t){return Gr({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 6.5v3c0 0.276 0.224 0.5 0.5 0.5h15c0.276 0 0.5-0.224 0.5-0.5v-3c0-0.276-0.224-0.5-0.5-0.5h-15c-0.276 0-0.5 0.224-0.5 0.5z"},child:[]}]})(t)}const DY=({interactive:t,className:e})=>(t&&console.log("interactive"),_.jsxs("div",{className:ie("flex h-full w-full items-center justify-around",e),children:[_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"Part1"}),_.jsx("div",{className:"mx-2",children:_.jsx(jEe,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"Part2"}),_.jsx("div",{className:"mx-2",children:_.jsx(ks,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"Total"})]})),LY=({interactive:t,className:e})=>(t&&console.log("interactive"),_.jsxs("div",{className:ie("flex h-full w-full flex-col justify-stretch",e),children:[_.jsxs("div",{className:"flex grow flex-row justify-evenly",children:[_.jsx("div",{className:"flex w-[50%] items-center justify-center border-4 border-r-0 border-slate-500",children:"Start"}),_.jsx("div",{className:"flex w-[50%] items-center justify-center border-4 border-slate-500",children:"Change"})]}),_.jsx("div",{className:"flex grow items-center justify-center border-4 border-t-0 border-slate-500",children:"End"})]})),RY=({interactive:t,className:e})=>(t&&console.log("interactive"),_.jsxs("div",{className:ie("flex h-full w-full items-center justify-around",e),children:[_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"S"}),_.jsx("div",{className:"mx-2",children:_.jsx(TY,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"C"}),_.jsx("div",{className:"mx-2",children:_.jsx(ks,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"E"})]})),BY=({interactive:t,className:e})=>(t&&console.log("interactive"),_.jsxs("div",{className:ie("flex h-full w-full items-center justify-around",e),children:[_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"S"}),_.jsx("div",{className:"mx-2",children:_.jsx(UEe,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"C"}),_.jsx("div",{className:"mx-2",children:_.jsx(ks,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"E"})]})),PY=({interactive:t,className:e})=>(t&&console.log("interactive"),_.jsxs("div",{className:ie("flex h-full w-full flex-col justify-stretch",e),children:[_.jsx("div",{className:"flex grow items-center justify-center border-4 border-b-0 border-slate-500",children:"Start"}),_.jsxs("div",{className:"flex grow flex-row justify-evenly",children:[_.jsx("div",{className:"flex w-[50%] items-center justify-center border-4 border-r-0 border-slate-500",children:"Change"}),_.jsx("div",{className:"flex w-[50%] items-center justify-center border-4 border-slate-500",children:"End"})]})]})),NY=({interactive:t,className:e})=>(t&&console.log("interactive"),_.jsxs("div",{className:ie("flex h-full w-full items-center justify-around",e),children:[_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"G"}),_.jsx("div",{className:"mx-2",children:_.jsx(HEe,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"L"}),_.jsx("div",{className:"mx-2",children:_.jsx(ks,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"D"})]})),IY=({interactive:t,className:e})=>(t&&console.log("interactive"),_.jsxs("div",{className:ie("flex h-full w-full flex-col justify-stretch",e),children:[_.jsx("div",{className:"flex grow items-center justify-center border-4 border-b-0 border-slate-500",children:"Greater"}),_.jsxs("div",{className:"flex grow flex-row justify-evenly",children:[_.jsx("div",{className:"flex w-[50%] items-center justify-center border-4 border-r-0 border-slate-500",children:"Less"}),_.jsx("div",{className:"flex w-[50%] items-center justify-center border-4 border-slate-500",children:"Difference"})]})]})),OY=({interactive:t,className:e})=>(t&&console.log("interactive"),_.jsxs("div",{className:ie("flex h-full w-full items-center justify-around",e),children:[_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"G"}),_.jsx("div",{className:"mx-2",children:_.jsx(W4,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"N"}),_.jsx("div",{className:"mx-2",children:_.jsx(ks,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"P"})]})),FY=({interactive:t,className:e})=>(t&&console.log("interactive"),_.jsxs("div",{className:ie("flex h-full w-full items-center justify-around",e),children:[_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"S"}),_.jsx("div",{className:"mx-2",children:_.jsx(W4,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"M"}),_.jsx("div",{className:"mx-2",children:_.jsx(ks,{})}),_.jsx("div",{className:"flex h-full w-[30%] items-center justify-center border-4 border-slate-500",children:"P"})]})),zY=({className:t,page:e,index:n})=>{var L;const{api:r,current:i}=E.useContext(Nn),{logAction:o,submitPickSchema:s,getHint:a,problem:l,session:c,studentLog:u,disabledSchemas:d,rank:h,onComplete:f}=Hn(),[p,v]=E.useState(""),[b,y]=E.useState(""),[x,w]=E.useState(!1),A=(L=l.wpHints)==null?void 0:L.find(T=>T.page===`${h}${e.id}`);E.useState([]);async function D(T){o("NewbProblemType : Selected Schema : "+T),v(T)}async function k(T){if(console.log("handleCheckSchema"),T.metaKey)f(c,u),r==null||r.scrollNext();else{y("Just a moment while I verify your choice"),o("NewbProblemType : Clicked Next");let C="additiveChangeSchema";switch(p){case"TOTAL":C="additiveTotalSchema";break;case"DIFFERENCE":C="additiveDifferenceSchema";break;case"CHANGEINCREASE":C="additiveChangeSchema";break;case"CHANGEDECREASE":C="subtractiveChangeSchema";break;case"EQUALGROUPS":C="multiplicativeEqualGroupsSchema";break;case"COMPARE":C="multiplicativeCompareSchema";break}o("NewbProblemType : Checking Schema : "+C);const P=await s(C);o("NewbProblemType : Checked Schema : "+JSON.stringify(P)),y(P.message),P.stepStatus=="VALID"&&(r==null||r.scrollNext(),f(c,u))}}async function R(){w(!0),y("Hmmm...  let me see."),y(await a()),w(!1)}return i!==n+1?null:_.jsxs("div",{className:ie("NewbProblemType m-0 mb-2 flex h-full w-full flex-col justify-stretch rounded-lg bg-card pl-2 pr-2 pt-2 text-card-foreground shadow-sm",t),children:[_.jsx("div",{className:"div relative mb-2 flex grow flex-col justify-stretch gap-2 p-2",children:_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 top-0 overflow-y-scroll",children:[_.jsx(Es,{highlightLetter:e==null?void 0:e.phase,subTitle:e==null?void 0:e.phaseLabel,instructions:e==null?void 0:e.title}),_.jsx("div",{children:_.jsx("h1",{children:"Stimulus"})}),_.jsx(Va,{className:ie("mb-2 flex w-full rounded-md border border-input bg-slate-300 px-3 py-2 text-sm",t),stimulusText:l.stimulus}),_.jsxs("div",{className:"grid grow grid-cols-2 gap-2",children:[_.jsxs(Tn,{children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Knowns"})}),_.jsx(Pn,{children:c.knowns?_.jsx("ul",{children:c.knowns.map(T=>_.jsx("li",{children:T},T))}):null})]}),_.jsxs(Tn,{children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Unknowns"})}),_.jsx(Pn,{children:c.unknowns?_.jsx("ul",{children:c.unknowns.map(T=>_.jsx("li",{children:T},T))}):null})]})]}),_.jsx("h2",{className:"ml-1 mr-1 mt-3",children:"Click on the type of problem you think this is"}),_.jsxs("div",{className:"mb-4 flex grow flex-wrap justify-center gap-2",children:[_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",d!=null&&d.includes("additiveTotalSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":p==="TOTAL"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("TOTAL"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Total"})}),_.jsxs(Pn,{children:[_.jsx(kY,{className:"mb-4"}),_.jsx(DY,{})]})]}),_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",d!=null&&d.includes("additiveDifferenceSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":p==="DIFFERENCE"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("DIFFERENCE"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Difference"})}),_.jsxs(Pn,{children:[_.jsx(IY,{className:"mb-4"}),_.jsx(NY,{})]})]}),_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",d!=null&&d.includes("additiveChangeSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":p==="CHANGEINCREASE"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("CHANGEINCREASE"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Change Increase"})}),_.jsxs(Pn,{children:[_.jsx(LY,{className:"mb-4"}),_.jsx(RY,{})]})]}),_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",d!=null&&d.includes("subtractiveChangeSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":p==="CHANGEDECREASE"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("CHANGEDECREASE"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Change Decrease"})}),_.jsxs(Pn,{children:[_.jsx(PY,{className:"mb-4"}),_.jsx(BY,{})]})]}),_.jsx("div",{className:"h-0 basis-full"}),_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",p==="EQUALGROUPS"?"border-4 border-qqAccent":"bg-white",d!=null&&d.includes("multiplicativeEqualGroupsSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":p==="EQUALGROUPS"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("EQUALGROUPS"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Equal Groups"})}),_.jsx(Pn,{children:_.jsx(OY,{})})]}),_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",d!=null&&d.includes("multiplicativeCompareSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":p==="COMPARE"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("COMPARE"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Compare"})}),_.jsx(Pn,{children:_.jsx(FY,{})})]})]})]})}),_.jsxs(br,{className:"relative flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:b,busy:x,intro:e==null?void 0:e.intro,psHints:e==null?void 0:e.psHints,wpHints:A==null?void 0:A.hints,getAiHints:R}),_.jsx(Ci,{disabled:x,className:"relative right-0",onClick:T=>{k(T)},children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"NewbProblemType"})]})]})};zY.displayName="NewbProblemType";const UY=({className:t,page:e,index:n})=>{const{api:r,current:i}=E.useContext(Nn),{logAction:o,problem:s}=Hn(),[a,l]=E.useState(!0);function c(u,d,h){d===h&&l(!1)}return i!==n+1?null:_.jsxs("div",{className:ie("NewbReadProblem m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsx(Es,{highlightLetter:e==null?void 0:e.phase,subTitle:e==null?void 0:e.phaseLabel,instructions:e==null?void 0:e.title}),_.jsxs("div",{className:"relative flex grow flex-col justify-stretch gap-2 p-2",children:[_.jsx(Va,{className:ie("flex w-full rounded-md border border-input bg-slate-200 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t,"inline"),stimulusText:s.stimulus}),_.jsx("div",{className:"flex grow gap-2"})]}),_.jsxs(br,{className:"relative flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{intro:e==null?void 0:e.intro,psHints:e==null?void 0:e.psHints,hintChanged:c,closeable:!1}),_.jsx(Ci,{disabled:a,className:"relative right-0",onClick:()=>{o("NewbReadProblem : Clicked Next"),r==null||r.scrollNext()},children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"NewbReadProblem"})]})]})};UY.displayName="NewbReadProblem";const In=({className:t,id:e,children:n})=>{const{isOver:r,setNodeRef:i}=L9({id:e});return _.jsxs("div",{ref:i,className:ie(`Droppable:${e}`,t,"bg-transparent overflow-hidden","rounded border border-gray-600","text-sm font-medium text-slate-800","focus:outline-none focus:ring active:bg-indigo-600 active:text-white",r?"text-transparent border-0":"text-slate-800"),children:[_.jsx("span",{className:ie("ease-in absolute left-0 top-0 h-0 w-0 border-t-2 border-qqBrand transition-all duration-200",r?"w-full":"")}),_.jsx("span",{className:ie("ease-in absolute right-0 top-0 h-0 w-0 border-r-2 border-qqBrand transition-all duration-200",r?"h-full":"")}),_.jsx("span",{className:ie("ease-in absolute bottom-0 right-0 h-0 w-0 border-b-2 border-qqBrand transition-all duration-200",r?"w-full":"")}),_.jsx("span",{className:ie("ease-in absolute bottom-0 left-0 h-0 w-0 border-l-2 border-qqBrand transition-all duration-200",r?"h-full":"")}),n]})};function jY(t){return Gr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"},child:[]}]})(t)}function HY(t){return Gr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"},child:[]}]})(t)}function $Ee(t){return Gr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"},child:[]}]})(t)}const $Y=({p1:t,p2:e,t:n,className:r})=>{const[i,o]=E.useState(!1),[s,a]=E.useState(!1),[l,c]=E.useState(!1);return E.useEffect(()=>{t&&(t==null?void 0:t.length)>0?o(!0):o(!1)},[t]),E.useEffect(()=>{e&&(e==null?void 0:e.length)>0?a(!0):a(!1)},[e]),E.useEffect(()=>{n&&(n==null?void 0:n.length)>0?c(!0):c(!1)},[n]),_.jsxs("div",{className:ie("mt-2 flex flex-col items-center justify-around gap-6",r),children:[_.jsxs("div",{className:"flex min-w-[480px] max-w-[768px] grow flex-col",children:[_.jsxs(In,{id:"T",className:ie("relative flex min-h-16 flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Total"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:n})]}),_.jsxs("div",{className:"flex",children:[_.jsxs(In,{id:"P1",className:ie("relative flex min-h-16 grow flex-col items-center justify-start",i?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(i?"text-xs":"text-xl"),children:"Part 1"})}),_.jsx("div",{className:ie(i?"text-xl":"text-xs",r),children:t})]}),_.jsxs(In,{id:"P2",className:ie("relative flex min-h-16 grow flex-col items-center justify-start",s?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(s?"text-xs":"text-xl"),children:"Part 2"})}),_.jsx("div",{className:ie(s?"text-xl":"text-xs",r),children:e})]})]})]}),_.jsxs("div",{className:"flex min-w-[480px] max-w-[768px] grow",children:[_.jsxs(In,{id:"PART1",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",i?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(i?"text-xs":"text-xl",r),children:"Part 1"})}),_.jsx("div",{className:ie(i?"text-xl":"text-xs",r),children:t})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(HY,{})}),_.jsxs(In,{id:"PART2",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",s?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(s?"text-xs":"text-xl",r),children:"Part 2"})}),_.jsx("div",{className:ie(s?"text-xl":"text-xs",r),children:e})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(ks,{})}),_.jsxs(In,{id:"TOTAL",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl",r),children:"Total"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:n})]})]})]})},GY=({onChange:t,className:e})=>{E.useContext(Nn);const{session:n}=Hn(),[r,i]=E.useState(""),[o,s]=E.useState(""),[a,l]=E.useState("");E.useEffect(()=>{t&&((r.length===0||o.length===0||a.length===0)&&t("",[]),t(`${r}\\plus${o}=${a}`,[r,o,a]))},[r,o,a]);function c(u){if(!u.over)return;const d=u.active.id;if(!d)return;let h=d.match(/(-?\d+(\.\d+)?)/),f;switch(h?f=h[0]:f=u.over.id,u.over.id){case"P1":i(f);break;case"P2":s(f);break;case"T":l(f);break;case"PART1":i(f);break;case"PART2":s(f);break;case"TOTAL":l(f);break}}return _.jsx("div",{className:ie("TotalEditor","z-10",e),children:_.jsxs(Fc,{onDragEnd:c,children:[_.jsxs("div",{className:"grid grow grid-cols-2 gap-2",children:[_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Knowns"})}),_.jsx(Pn,{children:n.knowns?_.jsx("ul",{children:n.knowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]}),_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Unknowns"})}),_.jsx(Pn,{children:n.unknowns?_.jsx("ul",{children:n.unknowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]})]}),_.jsx("div",{className:ie("DROPZONE","mt-5"),children:_.jsx($Y,{p1:r,p2:o,t:a})})]})})};GY.displayName="TotalEditor";const VY=({className:t,g:e,n,p:r})=>{const[i,o]=E.useState(!1),[s,a]=E.useState(!1),[l,c]=E.useState(!1);return E.useEffect(()=>{e&&(e==null?void 0:e.length)>0?o(!0):o(!1)},[e]),E.useEffect(()=>{n&&(n==null?void 0:n.length)>0?a(!0):a(!1)},[n]),E.useEffect(()=>{r&&(r==null?void 0:r.length)>0?c(!0):c(!1)},[r]),_.jsx("div",{className:ie("mt-2 flex flex-col items-center justify-around gap-6"),children:_.jsxs("div",{className:"flex min-w-[480px] max-w-[768px] grow",children:[_.jsxs(In,{id:"G",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",t,i?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(i?"text-xs":"text-xl"),children:"G"})}),_.jsx("div",{className:ie(i?"text-xl":"text-xs",t),children:e})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(W4,{})}),_.jsxs(In,{id:"N",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",s?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(s?"text-xs":"text-xl"),children:"N"})}),_.jsx("div",{className:ie(s?"text-xl":"text-xs",t),children:n})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(ks,{})}),_.jsxs(In,{id:"P",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"P"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",t),children:r})]})]})})},qY=({onChange:t,className:e})=>{E.useContext(Nn);const{session:n}=Hn(),[r,i]=E.useState(""),[o,s]=E.useState(""),[a,l]=E.useState("");E.useEffect(()=>{t&&((r.length===0||o.length===0||a.length===0)&&t("",[]),t(`${r}\\times${o}=${a}`,[r,o,a]))},[r,o,a]);function c(u){if(!u.over)return;const d=u.active.id;if(!d)return;let h=d.match(/(-?\d+(\.\d+)?)/),f;switch(h?f=h[0]:f=u.over.id,u.over.id){case"G":i(f);break;case"N":s(f);break;case"P":l(f);break}}return _.jsx("div",{className:ie("EqualGroupsEditor","z-10",e),children:_.jsxs(Fc,{onDragEnd:c,children:[_.jsxs("div",{className:"grid grow grid-cols-2 gap-2",children:[_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Knowns"})}),_.jsx(Pn,{children:n.knowns?_.jsx("ul",{children:n.knowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]}),_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Unknowns"})}),_.jsx(Pn,{children:n.unknowns?_.jsx("ul",{children:n.unknowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]})]}),_.jsx("div",{className:ie("DROPZONE","mt-5"),children:_.jsx(VY,{g:r,n:o,p:a})})]})})};qY.displayName="EqualGroupsEditor";const KY=({l:t,d:e,g:n,className:r})=>{const[i,o]=E.useState(!1),[s,a]=E.useState(!1),[l,c]=E.useState(!1);return E.useEffect(()=>{t&&(t==null?void 0:t.length)>0?o(!0):o(!1)},[t]),E.useEffect(()=>{e&&(e==null?void 0:e.length)>0?a(!0):a(!1)},[e]),E.useEffect(()=>{n&&(n==null?void 0:n.length)>0?c(!0):c(!1)},[n]),_.jsxs("div",{className:ie("mt-2 flex flex-col items-center justify-around gap-6",r),children:[_.jsxs("div",{className:"flex min-w-[480px] max-w-[768px] grow flex-col",children:[_.jsxs(In,{id:"G",className:ie("relative flex min-h-16 flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Greater"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:n})]}),_.jsxs("div",{className:"flex",children:[_.jsxs(In,{id:"L",className:ie("relative flex min-h-16 grow flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Less"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:t})]}),_.jsxs(In,{id:"D",className:ie("relative flex min-h-16 grow flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Difference"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:e})]})]})]}),_.jsxs("div",{className:"flex min-w-[480px] max-w-[768px] grow",children:[_.jsxs(In,{id:"GREATER",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Greater"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:n})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(jY,{})}),_.jsxs(In,{id:"LESS",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Less"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:t})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(ks,{})}),_.jsxs(In,{id:"DIFF",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Difference"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:e})]})]})]})},WY=({onChange:t,className:e})=>{E.useContext(Nn);const{session:n}=Hn(),[r,i]=E.useState(""),[o,s]=E.useState(""),[a,l]=E.useState("");E.useEffect(()=>{t&&((r.length===0||o.length===0||a.length===0)&&t("",[]),console.log(`${a}\\minus${r}=${o}`),t(`${a}\\minus${r}=${o}`,[r,o,a]))},[r,o,a]);function c(u){if(!u.over)return;const d=u.active.id;if(!d)return;let h=d.match(/(-?\d+(\.\d+)?)/),f;switch(h?f=h[0]:(f=u.over.id,f=f.charAt(0).toUpperCase()),u.over.id){case"L":i(f);break;case"D":s(f);break;case"G":l(f);break;case"LESS":i(f);break;case"DIFF":s(f);break;case"GREATER":l(f);break}}return _.jsx("div",{className:ie("TotalEditor","z-10",e),children:_.jsxs(Fc,{onDragEnd:c,children:[_.jsxs("div",{className:"grid grow grid-cols-2 gap-2",children:[_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Knowns"})}),_.jsx(Pn,{children:n.knowns?_.jsx("ul",{children:n.knowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]}),_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Unknowns"})}),_.jsx(Pn,{children:n.unknowns?_.jsx("ul",{children:n.unknowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]})]}),_.jsx("div",{className:ie("DROPZONE","mt-5"),children:_.jsx(KY,{l:r,d:o,g:a})})]})})};WY.displayName="DifferenceEditor";const XY=({e:t,c:e,s:n,className:r})=>{const[i,o]=E.useState(!1),[s,a]=E.useState(!1),[l,c]=E.useState(!1);return E.useEffect(()=>{t&&(t==null?void 0:t.length)>0?o(!0):o(!1)},[t]),E.useEffect(()=>{e&&(e==null?void 0:e.length)>0?a(!0):a(!1)},[e]),E.useEffect(()=>{n&&(n==null?void 0:n.length)>0?c(!0):c(!1)},[n]),_.jsxs("div",{className:ie("mt-2 flex flex-col items-center justify-around gap-6",r),children:[_.jsxs("div",{className:"flex min-w-[480px] max-w-[768px] grow flex-col",children:[_.jsxs(In,{id:"S",className:ie("relative flex min-h-16 flex-col items-center justify-start"),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Start"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:n})]}),_.jsxs("div",{className:"flex",children:[_.jsxs(In,{id:"C",className:ie("relative flex min-h-16 grow flex-col items-center justify-start"),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(s?"text-xs":"text-xl"),children:"Change"})}),_.jsx("div",{className:ie(s?"text-xl":"text-xs",r),children:e})]}),_.jsxs(In,{id:"E",className:ie("relative flex min-h-16 grow flex-col items-center justify-start"),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(i?"text-xs":"text-xl"),children:"End"})}),_.jsx("div",{className:ie(i?"text-xl":"text-xs",r),children:t})]})]})]}),_.jsxs("div",{className:"flex min-w-[480px] max-w-[768px] grow",children:[_.jsxs(In,{id:"START",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start"),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Start"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:n})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(jY,{})}),_.jsxs(In,{id:"CHANGE",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start"),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(s?"text-xs":"text-xl"),children:"Change"})}),_.jsx("div",{className:ie(s?"text-xl":"text-xs",r),children:e})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(ks,{})}),_.jsxs(In,{id:"END",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start"),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(i?"text-xs":"text-xl"),children:"End"})}),_.jsx("div",{className:ie(i?"text-xl":"text-xs",r),children:t})]})]})]})},JY=({onChange:t,className:e})=>{E.useContext(Nn);const{session:n}=Hn(),[r,i]=E.useState(""),[o,s]=E.useState(""),[a,l]=E.useState("");E.useEffect(()=>{t&&((r.length===0||o.length===0||a.length===0)&&t("",[]),console.log(`${r}\\minus${o}=${a}`),t(`${r}\\minus${o}=${a}`,[r,o,a]))},[r,o,a]);function c(u){if(!u.over)return;const d=u.active.id;if(!d)return;let h=d.match(/(-?\d+(\.\d+)?)/),f;switch(h?f=h[0]:(f=u.over.id,f=f.charAt(0).toUpperCase()),u.over.id){case"S":i(f);break;case"C":s(f);break;case"E":l(f);break;case"START":i(f);break;case"CHANGE":s(f);break;case"END":l(f);break}}return _.jsx("div",{className:ie("TotalEditor","z-10",e),children:_.jsxs(Fc,{onDragEnd:c,children:[_.jsxs("div",{className:"grid grow grid-cols-2 gap-2",children:[_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Knowns"})}),_.jsx(Pn,{children:n.knowns?_.jsx("ul",{children:n.knowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]}),_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Unknowns"})}),_.jsx(Pn,{children:n.unknowns?_.jsx("ul",{children:n.unknowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]})]}),_.jsx("div",{className:ie("DROPZONE","mt-5"),children:_.jsx(XY,{c:o,e:a,s:r})})]})})};JY.displayName="ChangeDecreaseEditor";const YY=({e:t,c:e,s:n,className:r})=>{const[i,o]=E.useState(!1),[s,a]=E.useState(!1),[l,c]=E.useState(!1);return E.useEffect(()=>{t&&(t==null?void 0:t.length)>0?o(!0):o(!1)},[t]),E.useEffect(()=>{e&&(e==null?void 0:e.length)>0?a(!0):a(!1)},[e]),E.useEffect(()=>{n&&(n==null?void 0:n.length)>0?c(!0):c(!1)},[n]),_.jsxs("div",{className:ie("mt-2 flex flex-col items-center justify-around gap-6",r),children:[_.jsxs("div",{className:"flex min-w-[480px] max-w-[768px] grow flex-col",children:[_.jsxs("div",{className:"flex",children:[_.jsxs(In,{id:"S",className:ie("relative flex min-h-16 grow flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Start"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:n})]}),_.jsxs(In,{id:"C",className:ie("relative flex min-h-16 grow flex-col items-center justify-start",s?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(s?"text-xs":"text-xl"),children:"Change"})}),_.jsx("div",{className:ie(s?"text-xl":"text-xs",r),children:e})]})]}),_.jsxs(In,{id:"E",className:ie("relative flex min-h-16 grow flex-col items-center justify-start",i?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(i?"text-xs":"text-xl"),children:"End"})}),_.jsx("div",{className:ie(i?"text-xl":"text-xs",r),children:t})]})]}),_.jsxs("div",{className:"flex min-w-[480px] max-w-[768px] grow",children:[_.jsxs(In,{id:"START",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Start"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",r),children:n})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(HY,{})}),_.jsxs(In,{id:"CHANGE",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",s?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(s?"text-xs":"text-xl"),children:"Change"})}),_.jsx("div",{className:ie(s?"text-xl":"text-xs",r),children:e})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(ks,{})}),_.jsxs(In,{id:"END",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",i?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(i?"text-xs":"text-xl"),children:"End"})}),_.jsx("div",{className:ie(i?"text-xl":"text-xs",r),children:t})]})]})]})},ZY=({onChange:t,className:e})=>{E.useContext(Nn);const{session:n}=Hn(),[r,i]=E.useState(""),[o,s]=E.useState(""),[a,l]=E.useState("");E.useEffect(()=>{t&&((r.length===0||o.length===0||a.length===0)&&t("",[]),console.log(`${r}\\plus${o}=${a}`),t(`${r}\\plus${o}=${a}`,[r,o,a]))},[r,o,a]);function c(u){if(!u.over)return;const d=u.active.id;if(!d)return;let h=d.match(/(-?\d+(\.\d+)?)/),f;switch(h?f=h[0]:(f=u.over.id,f=f.charAt(0).toUpperCase()),u.over.id){case"S":i(f);break;case"C":s(f);break;case"E":l(f);break;case"START":i(f);break;case"CHANGE":s(f);break;case"END":l(f);break}}return _.jsx("div",{className:ie("TotalEditor","z-10",e),children:_.jsxs(Fc,{onDragEnd:c,children:[_.jsxs("div",{className:"grid grow grid-cols-2 gap-2",children:[_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Knowns"})}),_.jsx(Pn,{children:n.knowns?_.jsx("ul",{children:n.knowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]}),_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Unknowns"})}),_.jsx(Pn,{children:n.unknowns?_.jsx("ul",{children:n.unknowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]})]}),_.jsx("div",{className:ie("DROPZONE","mt-5"),children:_.jsx(YY,{c:o,e:a,s:r})})]})})};ZY.displayName="ChangeIncreaseEditor";const QY=({className:t,s:e,m:n,p:r})=>{const[i,o]=E.useState(!1),[s,a]=E.useState(!1),[l,c]=E.useState(!1);return E.useEffect(()=>{e&&(e==null?void 0:e.length)>0?o(!0):o(!1)},[e]),E.useEffect(()=>{n&&(n==null?void 0:n.length)>0?a(!0):a(!1)},[n]),E.useEffect(()=>{r&&(r==null?void 0:r.length)>0?c(!0):c(!1)},[r]),_.jsx("div",{className:ie("mt-2 flex flex-col items-center justify-around gap-6",t),children:_.jsxs("div",{className:"flex min-w-[480px] max-w-[768px] grow",children:[_.jsxs(In,{id:"S",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",i?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(i?"text-xs":"text-xl"),children:"Set"})}),_.jsx("div",{className:ie(i?"text-xl":"text-xs",t),children:e})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(W4,{})}),_.jsxs(In,{id:"M",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",s?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(s?"text-xs":"text-xl"),children:"Multiplier"})}),_.jsx("div",{className:ie(s?"text-xl":"text-xs",t),children:n})]}),_.jsx("div",{className:"mx-2 flex items-center justify-center",children:_.jsx(ks,{})}),_.jsxs(In,{id:"P",className:ie("relative flex h-16 w-[30%] flex-col items-center justify-start",l?"!border-4 !border-qqAccent":""),children:[_.jsx("div",{className:ie("select-none text-xl text-slate-300","flex items-center justify-start"),children:_.jsx("div",{className:ie(l?"text-xs":"text-xl"),children:"Product"})}),_.jsx("div",{className:ie(l?"text-xl":"text-xs",t),children:r})]})]})})},eZ=({onChange:t,className:e})=>{E.useContext(Nn);const{session:n}=Hn(),[r,i]=E.useState(""),[o,s]=E.useState(""),[a,l]=E.useState("");console.log("CompareEditor",r,o,a),E.useEffect(()=>{t&&((r.length===0||o.length===0||a.length===0)&&t("",[]),console.info(`${r}\\times${o}=${a}`),t(`${r}\\times${o}=${a}`,[r,o,a]))},[r,o,a]);function c(u){if(console.log("handleDragEnd",u),!u.over)return;const d=u.active.id;if(!d)return;let h=d.match(/(-?\d+(\.\d+)?)/),f;switch(h?f=h[0]:f=u.over.id,u.over.id){case"S":i(f);break;case"M":s(f);break;case"P":l(f);break}}return _.jsx("div",{className:ie("CompareEditor","z-10",e),children:_.jsxs(Fc,{onDragEnd:c,children:[_.jsxs("div",{className:"grid grow grid-cols-2 gap-2",children:[_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Knowns"})}),_.jsx(Pn,{children:n.knowns?_.jsx("ul",{children:n.knowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]}),_.jsxs(Tn,{className:"",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Unknowns"})}),_.jsx(Pn,{children:n.unknowns?_.jsx("ul",{children:n.unknowns.map(u=>_.jsx(Xo,{fact:u},u))}):null})]})]}),_.jsx("div",{className:ie("DROPZONE","mt-5"),children:_.jsx(QY,{s:r,m:o,p:a})})]})})};eZ.displayName="CompareEditor";const GEe="_loader_16a35_1",VEe="_circular_16a35_10",qEe="_rotate_16a35_1",KEe="_path_16a35_17",WEe="_dash_16a35_1",XEe="_color_16a35_1",mE={loader:GEe,circular:VEe,rotate:qEe,path:KEe,dash:WEe,color:XEe},P9=({busy:t=!1,children:e,className:n})=>t?_.jsx("div",{className:n,children:_.jsxs("div",{className:mE.loader,children:[_.jsx("svg",{className:mE.circular,children:_.jsx("circle",{className:mE.path,cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"5",strokeMiterlimit:"10"})}),e]})}):null;P9.displayName="BusyIndicator";const gd=({busy:t=!1,disabled:e=!1,onClick:n})=>_.jsxs("div",{className:"relative flex h-10 w-10 items-center justify-center bg-none",children:[_.jsx(P9,{busy:t,className:"BusyIndicator"}),n?_.jsx(Ci,{disabled:t||e,className:"relative right-0 top-0 translate-y-0",onClick:n}):_.jsx(Ci,{disabled:t||e,className:"relative right-0 top-0 translate-y-0"})]});gd.displayName="NextButton";const Lv=({busy:t=!1,disabled:e=!1,onClick:n})=>_.jsxs("div",{className:"relative flex h-10 w-10 items-center justify-center bg-none",children:[_.jsx(P9,{busy:t,className:"BusyIndicator"}),_.jsxs(ko,{className:ie("absolute h-8 w-8 rounded-full border-white bg-green-500 text-xl text-white","hover:bg-green-700 hover:text-white","disabled:border-slate-400 disabled:bg-slate-200 disabled:text-slate-400",e?"cursor-not-allowed border-slate-400 bg-slate-200 text-slate-400":"cursor-pointer"),disabled:e,onClick:n,children:["",_.jsx("span",{className:"sr-only",children:"Check Step"})]})]});Lv.displayName="CheckStepButton";const H_=({className:t,page:e,index:n})=>{var T;const{api:r,current:i}=E.useContext(Nn),{logAction:o,submitOrganize:s,getHint:a,problem:l,session:c,rank:u}=Hn(),[d,h]=E.useState(""),[f,p]=E.useState([]),[v,b]=E.useState(""),[y,x]=E.useState(!1),[w,A]=E.useState(!1),D=(T=l.wpHints)==null?void 0:T.find(C=>C.page===`${u}${e.id}`);async function k(C){if(C.metaKey)r==null||r.scrollNext();else{x(!0),b("Just a moment while I verify your equation"),o("RangerFillDiagram : Clicked Next"),o("RangerFillDiagram : Checking Schema : "+d);const P=await s(d,f);o("RangerFillDiagram : Checked Equation : "+JSON.stringify(P)),x(!1),b(P.message),P.stepStatus=="VALID"&&A(!0)}}async function R(){x(!0),b("Hmmm...  let me see."),b(await a()),x(!1)}function L(C,P){h(C),p(P)}return i!==n+1?null:_.jsxs("div",{className:ie("RangerFillDiagram m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsx(Es,{highlightLetter:e==null?void 0:e.phase,subTitle:e==null?void 0:e.phaseLabel,instructions:e==null?void 0:e.title}),_.jsxs("div",{className:"m-2 flex grow flex-col justify-stretch gap-2 overflow-y-auto p-2",children:[_.jsx(Va,{className:ie("flex w-full rounded-md border border-input bg-slate-200 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t,"inline"),stimulusText:l.stimulus}),_.jsxs("div",{className:"grow",children:[c.schema==="additiveTotalSchema"?_.jsx(GY,{onChange:L,className:t}):null,c.schema==="multiplicativeEqualGroupsSchema"?_.jsx(qY,{onChange:L,className:t}):null,c.schema==="additiveDifferenceSchema"?_.jsx(WY,{onChange:L,className:t}):null,c.schema==="subtractiveChangeSchema"?_.jsx(JY,{onChange:L,className:t}):null,c.schema==="additiveChangeSchema"?_.jsx(ZY,{onChange:L,className:t}):null,c.schema==="multiplicativeCompareSchema"?_.jsx(eZ,{onChange:L,className:t}):null]})]}),_.jsxs(br,{className:"relative flex items-center justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:v,busy:y,intro:e==null?void 0:e.intro,psHints:e==null?void 0:e.psHints,wpHints:D==null?void 0:D.hints,getAiHints:R}),w?_.jsx(gd,{busy:y}):_.jsx(Lv,{busy:y,disabled:y,onClick:C=>k(C)}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"RangerFillDiagram"})]})]})};H_.displayName="RangerFillDiagram";const h8=({className:t,children:e,index:n})=>{const{current:r}=E.useContext(Nn);return r!==n+1?null:_.jsxs("div",{className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),children:[_.jsx("h1",{children:"RangerFillEquation"}),e]})};h8.displayName="RangerFillEquation";const f8=({className:t,page:e,index:n})=>{var Z;const{api:r,current:i}=E.useContext(Nn),{logAction:o,submitTTable:s,getHint:a,problem:l,rank:c}=Hn(),[u,d]=E.useState([]),[h,f]=E.useState([]),[p,v]=E.useState(""),[b,y]=E.useState("gratz:02"),[x,w]=E.useState(""),[A,D]=E.useState(!1),[k,R]=E.useState(!1),L=(Z=l.wpHints)==null?void 0:Z.find(K=>K.page===`${c}${e.id}`),T=K=>{o(`RangerFindFacts : Deleted '${K}' from KnownFacts`),d(u.filter(O=>O!==K))},C=K=>{o(`RangerFindFacts : Deleted '${K}' from UnknownFacts`),f(h.filter(O=>O!==K))};async function P(K){if(K.metaKey)r==null||r.scrollNext();else{w("Give me a sec to review your knowns and unknowns"),D(!0),y("direct:02"),o("RangerFindFacts : Clicked Next"),o("RangerFindFacts : Checking Facts");const O=await s(u,h);D(!1),w(O.message),y("pout:04"),O.stepStatus=="VALID"&&R(!0)}}async function z(){D(!0),w("Hmmm...  let me see."),w(await a()),D(!1)}if(i!==n+1)return null;return _.jsxs("div",{className:ie("RangerFindFacts","rounded-lg border bg-card text-card-foreground shadow-sm","m-0 flex h-full w-full flex-col justify-stretch p-0",t),children:[_.jsx(Es,{highlightLetter:e==null?void 0:e.phase,subTitle:e==null?void 0:e.phaseLabel,instructions:e==null?void 0:e.title}),_.jsx("div",{className:"relative flex grow flex-col justify-stretch gap-2 p-2",children:_.jsxs(Fc,{onDragEnd:H,children:[_.jsx(Va,{interactive:!0,onChangeFact:v,className:ie("flex w-full rounded-md border border-input bg-slate-200 px-3 py-2 text-sm","ring-offset-background placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",t,"inline"),stimulusText:l.stimulus}),_.jsx("div",{className:"grow",children:_.jsxs("div",{className:"grid h-full grid-cols-2 gap-1",children:[_.jsx(q4,{add:$,children:u.map(K=>_.jsx(c0,{id:K,label:K,onDelete:T},K))}),_.jsx(K4,{add:X,children:h.map(K=>_.jsx(c0,{id:K,label:K,onDelete:C},K))})]})})]})}),_.jsxs(br,{className:"relative flex items-center justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:x,busy:A,intro:e==null?void 0:e.intro,psHints:e==null?void 0:e.psHints,wpHints:L==null?void 0:L.hints,getAiHints:z}),k?_.jsx(gd,{busy:A}):_.jsx(Lv,{busy:A,disabled:A,onClick:K=>P(K)}),_.jsxs("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:["RangerFindFacts: ",x]})]})]});function H(K){p.length==0||p.trim().length==0||u.includes(p)||(K.over&&K.over.id==="KnownFacts"&&(d([...u,p]),o(`RangerFindFacts : Dropped '${p}' on KnownFacts`)),K.over&&K.over.id==="UnknownFacts"&&(f([...h,p]),o(`RangerFindFacts : Dropped '${p}' on UnknownFacts`)),v(""))}function $(){p.length==0||p.trim().length==0||u.includes(p)||(o(`RangerFindFacts : Added '${p}' to KnownFacts`),d([...u,p]),v(""))}function X(){p.length==0||p.trim().length==0||h.includes(p)||(o(`RangerFindFacts : Added '${p}' to UnknownFacts`),f([...h,p]),v(""))}};f8.displayName="RangerFindFacts";const p8=({className:t,page:e,index:n})=>{var p;const{api:r,current:i}=E.useContext(Nn),{problem:o,rank:s,session:a,getHint:l}=Hn(),[c,u]=E.useState(!0),[d,h]=E.useState("Please read the problem while I get things ready to go."),f=(p=o.wpHints)==null?void 0:p.find(v=>v.page===`${s}${e.id}`);return E.useState([]),E.useEffect(()=>{a.sessionToken.length>0&&(u(!1),h(""))},[a]),i!==n+1?null:_.jsxs("div",{className:ie("RangerReadProblem","rounded-lg border bg-card text-card-foreground shadow-sm","m-0 flex h-full w-full flex-col justify-stretch p-0",t),children:[_.jsx(Es,{highlightLetter:e==null?void 0:e.phase,subTitle:e==null?void 0:e.phaseLabel,instructions:e==null?void 0:e.title}),_.jsx("div",{className:"relative flex grow flex-col justify-stretch gap-2 p-2",children:_.jsx(Va,{className:ie("flex","w-full rounded-md border border-input bg-slate-200 px-3 py-2","text-sm ring-offset-background placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2","focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",t,"inline"),stimulusText:o.stimulus})}),_.jsxs(br,{className:"relative flex items-center justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:d,busy:c,intro:e==null?void 0:e.intro,psHints:e==null?void 0:e.psHints,wpHints:f==null?void 0:f.hints}),_.jsx(gd,{busy:c}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"RangerReadProblem"})]})]})};p8.displayName="RangerReadProblem";const $_=({className:t,page:e,index:n})=>{var D;const{api:r,current:i}=E.useContext(Nn),{problem:o,studentLog:s,logAction:a,session:l,rank:c,submitExplanation:u}=Hn(),[d,h]=E.useState(l.explanations),[f,p]=E.useState(null),[v,b]=E.useState(""),[y,x]=E.useState(!1),w=(D=o.wpHints)==null?void 0:D.find(k=>k.page===`${c}${e.id}`);E.useEffect(()=>{h(l.explanations)},[l.explanations]);async function A(k){if(k.metaKey)r==null||r.scrollNext();else if((f==null?void 0:f.type)==="schema"||(f==null?void 0:f.type)==="estimation")r==null||r.scrollNext();else{switch(x(!0),a("RangerReflect : Clicked Next"),a("RangerReflect : Checking Explanation"),f==null?void 0:f.type){case"schema":b(cz[Math.floor(Math.random()*cz.length)]);break;case"estimation":b(lz[Math.floor(Math.random()*lz.length)]);break;case"bad":b(uz[Math.floor(Math.random()*uz.length)]);break}u((f==null?void 0:f.type)||""),x(!1)}}return i!==n+1?null:_.jsxs("div",{className:ie("NewbFindFacts m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsx(Es,{highlightLetter:e==null?void 0:e.phase,subTitle:e==null?void 0:e.phaseLabel,instructions:e==null?void 0:e.title}),_.jsxs("div",{className:"relative flex grow flex-col items-center justify-stretch gap-2 p-2",children:[_.jsx(Va,{className:ie("flex w-full rounded-md border border-input bg-slate-200 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t,"inline"),stimulusText:o.stimulus}),_.jsx("h2",{children:"Why does your answer make sense? Choose the best reason."}),_.jsx("div",{className:"relative flex grow flex-col items-center justify-center gap-2 p-2",children:d.map(k=>_.jsx(Tn,{onClick:()=>{p(k)},className:ie("min-h-28 w-96 px-4 py-2 ring-qqBrand",k.type===(f==null?void 0:f.type)?"ring-4":"ring-0","cursor-pointer hover:bg-qqAccent hover:text-white"),children:k.text},k.type))})]}),_.jsxs(br,{className:"relative flex items-center justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:v,busy:y,intro:e==null?void 0:e.intro,psHints:e==null?void 0:e.psHints,wpHints:w==null?void 0:w.hints}),_.jsx(gd,{busy:y,onClick:k=>A(k)}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"RangerReflect"})]})]})};$_.displayName="RangerReflect";const lz=["Right on! I also think that's the best reason.","Oooh, yay! I totally agree with you, cutie pie! Your reason is as clever as my tail is fluffy! It's definitely the most paw-some explanation we've seen so far!","Aww, absolutely sweetie! I think your reasoning is just as sharp as my little fox teeth! You're absolutely right on track - that's the best reason yet!"],cz=["Ok! That's not the reason I like best, but it's a good one.","Hmm, okay! While it's not my top pick, I do think that's a pretty cool reason! You're getting close to finding the perfect answer!","Alrighty then! That's a great try, but there is an even better reason."],uz=["No, that reason doesn't use good math thinking to tell why the answer makes sense. Try again.","Oh my whiskers! I think we can do better than that! Let's try again and use our super sharp fox brains to figure out why the answer makes sense, okay?","Hmmm, sweetie, I think we need to dig deeper into the mathy goodness to make sure it really adds up! Can you try again and use your super clever fox mind to find a reason that's as smooth as my fur? Let's get those numbers working together like a pack of happy foxes!"],m8=({className:t,page:e,index:n})=>{var L;const{api:r,current:i}=E.useContext(Nn),{logAction:o,submitPickSchema:s,getHint:a,problem:l,session:c,rank:u,disabledSchemas:d}=Hn(),[h,f]=E.useState(""),[p,v]=E.useState(""),[b,y]=E.useState(!1),[x,w]=E.useState(!1),A=(L=l.wpHints)==null?void 0:L.find(T=>T.page===`${u}${e.id}`);async function D(T){o("RangerSelectDiagram : Selected Schema : "+T),f(T)}async function k(T){v("Just a moment while I verify your choice"),y(!0),o("RangerSelectDiagram : Clicked Next");let C="additiveChangeSchema";switch(h){case"TOTAL":C="additiveTotalSchema";break;case"DIFFERENCE":C="additiveDifferenceSchema";break;case"CHANGEINCREASE":C="additiveChangeSchema";break;case"CHANGEDECREASE":C="subtractiveChangeSchema";break;case"EQUALGROUPS":C="multiplicativeEqualGroupsSchema";break;case"COMPARE":C="multiplicativeCompareSchema";break}const P=T.metaKey;o("RangerSelectDiagram : Checking Schema : "+C);const z=await s(C,P);y(!1),P?r==null||r.scrollNext():(o("RangerSelectDiagram : Checked Schema : "+JSON.stringify(z)),v(z.message),z.stepStatus=="VALID"&&w(!0))}async function R(){y(!0),v("Hmmm...  let me see."),v(await a()),y(!1)}return i!==n+1?null:_.jsxs("div",{className:ie("RangerSelectDiagram","rounded-lg bg-card text-card-foreground shadow-sm","m-0 mb-2 flex h-full w-full flex-col justify-stretch pl-2 pr-2 pt-2",t),children:[_.jsx("div",{className:"div relative mb-2 flex grow flex-col justify-stretch gap-2 p-2",children:_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 top-0 overflow-y-scroll",children:[_.jsx(Es,{highlightLetter:e==null?void 0:e.phase,subTitle:e==null?void 0:e.phaseLabel,instructions:e==null?void 0:e.title}),_.jsx(Va,{className:ie("mb-2 flex w-full rounded-md border border-input bg-slate-300 px-3 py-2 text-sm",t),stimulusText:l.stimulus}),_.jsxs("div",{className:"grid grow grid-cols-2 gap-2",children:[_.jsxs(Tn,{className:"bg-slate-300",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Knowns"})}),_.jsx(Pn,{children:c.knowns?_.jsx("ul",{children:c.knowns.map(T=>_.jsx("li",{children:T},T))}):null})]}),_.jsxs(Tn,{className:"bg-slate-300",children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Unknowns"})}),_.jsx(Pn,{children:c.unknowns?_.jsx("ul",{children:c.unknowns.map(T=>_.jsx("li",{children:T},T))}):null})]})]}),_.jsx("h2",{className:"ml-1 mr-1 mt-3 select-none",children:"Click on the type of problem you think this is"}),_.jsxs("div",{className:"mb-4 flex grow flex-wrap justify-center gap-2",children:[_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",d!=null&&d.includes("additiveTotalSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":h==="TOTAL"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("TOTAL"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Total"})}),_.jsxs(Pn,{children:[_.jsx(kY,{className:"mb-4"}),_.jsx(DY,{})]})]}),_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",d!=null&&d.includes("additiveDifferenceSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":h==="DIFFERENCE"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("DIFFERENCE"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Difference"})}),_.jsxs(Pn,{children:[_.jsx(IY,{className:"mb-4"}),_.jsx(NY,{})]})]}),_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",d!=null&&d.includes("additiveChangeSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":h==="CHANGEINCREASE"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("CHANGEINCREASE"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Change Increase"})}),_.jsxs(Pn,{children:[_.jsx(LY,{className:"mb-4"}),_.jsx(RY,{})]})]}),_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",d!=null&&d.includes("subtractiveChangeSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":h==="CHANGEDECREASE"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("CHANGEDECREASE"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Change Decrease"})}),_.jsxs(Pn,{children:[_.jsx(PY,{className:"mb-4"}),_.jsx(BY,{})]})]}),_.jsx("div",{className:"h-0 basis-full"}),_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",h==="EQUALGROUPS"?"border-4 border-qqAccent":"bg-white",d!=null&&d.includes("multiplicativeEqualGroupsSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":h==="EQUALGROUPS"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("EQUALGROUPS"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Equal Groups"})}),_.jsx(Pn,{children:_.jsx(OY,{})})]}),_.jsxs(Tn,{className:ie("box-border w-[400px] sm:w-[250px] md:w-[48%] lg:w-[500] xl:w-[520px] 2xl:w-[300px]",d!=null&&d.includes("multiplicativeCompareSchema")?"cursor-not-allowed bg-slate-400 text-slate-500":h==="COMPARE"?"cursor-pointer border-4 border-qqAccent":"cursor-pointer bg-white"),onClick:()=>D("COMPARE"),children:[_.jsx(Rn,{className:"pb-2",children:_.jsx(Bn,{children:"Compare"})}),_.jsx(Pn,{children:_.jsx(FY,{})})]})]})]})}),_.jsxs(br,{className:"relative flex items-center justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:p,busy:b,intro:e==null?void 0:e.intro,psHints:e==null?void 0:e.psHints,wpHints:A==null?void 0:A.hints,getAiHints:R}),x?_.jsx(gd,{busy:b,disabled:h.length===0}):_.jsx(Lv,{busy:b,disabled:b,onClick:T=>k(T)}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"RangerSelectDiagram"})]})]})};m8.displayName="RangerSelectDiagram";var gE={BASE_URL:"/swpwr/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const g8=new Map,n_=t=>{const e=g8.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},JEe=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=g8.get(n.name);if(r)return{type:"tracked",store:t,...r};const i={connection:e.connect(n),stores:{}};return g8.set(n.name,i),{type:"tracked",store:t,...i}},YEe=(t,e={})=>(n,r,i)=>{const{enabled:o,anonymousActionType:s,store:a,...l}=e;let c;try{c=(o??(gE?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return(gE?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(n,r,i);const{connection:u,...d}=JEe(a,c,l);let h=!0;i.setState=(v,b,y)=>{const x=n(v,b);if(!h)return x;const w=y===void 0?{type:s||"anonymous"}:typeof y=="string"?{type:y}:y;return a===void 0?(u==null||u.send(w,r()),x):(u==null||u.send({...w,type:`${a}/${w.type}`},{...n_(l.name),[a]:i.getState()}),x)};const f=(...v)=>{const b=h;h=!1,n(...v),h=b},p=t(i.setState,r,i);if(d.type==="untracked"?u==null||u.init(p):(d.stores[d.store]=i,u==null||u.init(Object.fromEntries(Object.entries(d.stores).map(([v,b])=>[v,v===d.store?p:b.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let v=!1;const b=i.dispatch;i.dispatch=(...y)=>{(gE?"production":void 0)!=="production"&&y[0].type==="__setState"&&!v&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),v=!0),b(...y)}}return u.subscribe(v=>{var b;switch(v.type){case"ACTION":if(typeof v.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return yE(v.payload,y=>{if(y.type==="__setState"){if(a===void 0){f(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const x=y.state[a];if(x==null)return;JSON.stringify(i.getState())!==JSON.stringify(x)&&f(x);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(y)});case"DISPATCH":switch(v.payload.type){case"RESET":return f(p),a===void 0?u==null?void 0:u.init(i.getState()):u==null?void 0:u.init(n_(l.name));case"COMMIT":if(a===void 0){u==null||u.init(i.getState());return}return u==null?void 0:u.init(n_(l.name));case"ROLLBACK":return yE(v.state,y=>{if(a===void 0){f(y),u==null||u.init(i.getState());return}f(y[a]),u==null||u.init(n_(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return yE(v.state,y=>{if(a===void 0){f(y);return}JSON.stringify(i.getState())!==JSON.stringify(y[a])&&f(y[a])});case"IMPORT_STATE":{const{nextLiftedState:y}=v.payload,x=(b=y.computedStates.slice(-1)[0])==null?void 0:b.state;if(!x)return;f(a===void 0?x:x[a]),u==null||u.send(null,y);return}case"PAUSE_RECORDING":return h=!h}return}}),p},ZEe=YEe,yE=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)},QEe={problemValid:!1,problemStatusMsg:"No problem loaded"},e5e={appKey:"",policyId:"",problemId:"",title:"",stimulus:"",latex:"",topic:"gradeBasicAlgebra",definition:"",hints:[]},t5e=at.object({appKey:at.string().min(5),policyId:at.string().min(5).optional(),problemId:at.string().min(5),title:at.string().optional(),stimulus:at.string().optional(),latex:at.string().optional(),topic:at.string(),definition:at.string().min(5),hints:at.array(at.string().min(5)).max(3).optional()}),n5e=t=>{const e=t5e.safeParse(t);return e.success?{problemValid:!0,problemStatusMsg:"Problem Loaded"}:(console.error("Problem Validation Errors in: ",t),{problemValid:!1,problemStatusMsg:i3.generateErrorMessage(e.error.issues)})};var y8=class extends Error{constructor(e,n){super(e,n);nA(this,"name");nA(this,"details");this.name="ZodValidationError",this.details=r5e(n)}toString(){return this.message}};function r5e(t){if(t){const e=t.cause;if(e instanceof Ii)return e.issues}return[]}var i5e="; ",o5e=99,tZ="Validation error",s5e=": ",a5e=", or ";function l5e(t,e,n){return e!==null?t.length>0?[e,t].join(n):e:t.length>0?t:tZ}var c5e=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function u5e(t){return t.length===1?t[0].toString():t.reduce((e,n)=>{if(typeof n=="number")return e+"["+n.toString()+"]";if(n.includes('"'))return e+'["'+d5e(n)+'"]';if(!c5e.test(n))return e+'["'+n+'"]';const r=e.length===0?"":".";return e+r+n},"")}function d5e(t){return t.replace(/"/g,'\\"')}function h5e(t){return t.length!==0}function G_(t){const{issue:e,issueSeparator:n,unionSeparator:r,includePath:i}=t;if(e.code==="invalid_union")return e.unionErrors.reduce((o,s)=>{const a=s.issues.map(l=>G_({issue:l,issueSeparator:n,unionSeparator:r,includePath:i})).join(n);return o.includes(a)||o.push(a),o},[]).join(r);if(e.code==="invalid_arguments")return[e.message,...e.argumentsError.issues.map(o=>G_({issue:o,issueSeparator:n,unionSeparator:r,includePath:i}))].join(n);if(e.code==="invalid_return_type")return[e.message,...e.returnTypeError.issues.map(o=>G_({issue:o,issueSeparator:n,unionSeparator:r,includePath:i}))].join(n);if(i&&h5e(e.path)){if(e.path.length===1){const o=e.path[0];if(typeof o=="number")return`${e.message} at index ${o}`}return`${e.message} at "${u5e(e.path)}"`}return e.message}function nZ(t,e={}){if(!(t instanceof Ii))throw new TypeError(`Invalid zodError param; expected instance of ZodError. Did you mean to use the "${p5e.name}" method instead?`);const{maxIssuesInMessage:n=o5e,issueSeparator:r=i5e,unionSeparator:i=a5e,prefixSeparator:o=s5e,prefix:s=tZ,includePath:a=!0}=e,l=t.errors,c=l.length===0?t.message:l.slice(0,n).map(d=>G_({issue:d,issueSeparator:r,unionSeparator:i,includePath:a})).join(r),u=l5e(c,s,o);return new y8(u,{cause:t})}var f5e=(t={})=>e=>e instanceof Ii?nZ(e,t):e instanceof Error?new y8(e.message,{cause:e}):new y8("Unknown error");function p5e(t,e={}){return f5e(e)(t)}const m5e={studentValid:!1,studentStatusMsg:"No student loaded"},g5e={studentId:"",fullName:"",familiarName:""},y5e=at.object({studentId:at.string().min(5),fullName:at.string().optional(),familiarName:at.string().min(1).optional()}),v5e=t=>{const e=y5e.safeParse(t);return e.success?{studentValid:!0,studentStatusMsg:"Valid Student"}:{studentValid:!1,studentStatusMsg:JSON.stringify(nZ(e.error),null,2)}},b5e=t=>{try{return new URL(t).host.length>5}catch{return!1}},x5e={serverURL:"https://qq-stepwise-api.querium.com/"},_5e=at.object({serverURL:at.string().url()}),w5e=t=>_5e.safeParse(t).success&&typeof(t==null?void 0:t.serverURL)=="string"&&b5e(t.serverURL)?t:(console.error("Invalid server URL:",t==null?void 0:t.serverURL),x5e);var rZ={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Nr,()=>(()=>{var n={4582:(s,a)=>{function l(d,h){return h===void 0&&(h=Object),h&&typeof h.freeze=="function"?h.freeze(d):d}var c=l({HTML:"text/html",isHTML:function(d){return d===c.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),u=l({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(d){return d===u.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});a.assign=function(d,h){if(d===null||typeof d!="object")throw new TypeError("target is not an object");for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d[f]=h[f]);return d},a.find=function(d,h,f){if(f===void 0&&(f=Array.prototype),d&&typeof f.find=="function")return f.find.call(d,h);for(var p=0;p<d.length;p++)if(Object.prototype.hasOwnProperty.call(d,p)){var v=d[p];if(h.call(void 0,v,p,d))return v}},a.freeze=l,a.MIME_TYPE=c,a.NAMESPACE=u},5752:(s,a,l)=>{var c=l(4582),u=l(4722),d=l(6559),h=l(4466),f=u.DOMImplementation,p=c.NAMESPACE,v=h.ParseError,b=h.XMLReader;function y(L){return L.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function x(L){this.options=L||{locator:{}}}function w(){this.cdata=!1}function A(L,T){T.lineNumber=L.lineNumber,T.columnNumber=L.columnNumber}function D(L){if(L)return`
@`+(L.systemId||"")+"#[line:"+L.lineNumber+",col:"+L.columnNumber+"]"}function k(L,T,C){return typeof L=="string"?L.substr(T,C):L.length>=T+C||T?new java.lang.String(L,T,C)+"":L}function R(L,T){L.currentElement?L.currentElement.appendChild(T):L.doc.appendChild(T)}x.prototype.parseFromString=function(L,T){var C=this.options,P=new b,z=C.domBuilder||new w,H=C.errorHandler,$=C.locator,X=C.xmlns||{},Z=/\/x?html?$/.test(T),K=Z?d.HTML_ENTITIES:d.XML_ENTITIES;$&&z.setDocumentLocator($),P.errorHandler=function(V,I,se){if(!V){if(I instanceof w)return I;V=I}var ye={},G=V instanceof Function;function ae(_e){var ve=V[_e];!ve&&G&&(ve=V.length==2?function(Ae){V(_e,Ae)}:V),ye[_e]=ve&&function(Ae){ve("[xmldom "+_e+"]	"+Ae+D(se))}||function(){}}return se=se||{},ae("warning"),ae("error"),ae("fatalError"),ye}(H,z,$),P.domBuilder=C.domBuilder||z,Z&&(X[""]=p.HTML),X.xml=X.xml||p.XML;var O=C.normalizeLineEndings||y;return L&&typeof L=="string"?P.parse(O(L),X,K):P.errorHandler.error("invalid doc source"),z.doc},w.prototype={startDocument:function(){this.doc=new f().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(L,T,C,P){var z=this.doc,H=z.createElementNS(L,C||T),$=P.length;R(this,H),this.currentElement=H,this.locator&&A(this.locator,H);for(var X=0;X<$;X++){L=P.getURI(X);var Z=P.getValue(X),K=(C=P.getQName(X),z.createAttributeNS(L,C));this.locator&&A(P.getLocator(X),K),K.value=K.nodeValue=Z,H.setAttributeNode(K)}},endElement:function(L,T,C){var P=this.currentElement;P.tagName,this.currentElement=P.parentNode},startPrefixMapping:function(L,T){},endPrefixMapping:function(L){},processingInstruction:function(L,T){var C=this.doc.createProcessingInstruction(L,T);this.locator&&A(this.locator,C),R(this,C)},ignorableWhitespace:function(L,T,C){},characters:function(L,T,C){if(L=k.apply(this,arguments)){if(this.cdata)var P=this.doc.createCDATASection(L);else P=this.doc.createTextNode(L);this.currentElement?this.currentElement.appendChild(P):/^\s*$/.test(L)&&this.doc.appendChild(P),this.locator&&A(this.locator,P)}},skippedEntity:function(L){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(L){(this.locator=L)&&(L.lineNumber=0)},comment:function(L,T,C){L=k.apply(this,arguments);var P=this.doc.createComment(L);this.locator&&A(this.locator,P),R(this,P)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(L,T,C){var P=this.doc.implementation;if(P&&P.createDocumentType){var z=P.createDocumentType(L,T,C);this.locator&&A(this.locator,z),R(this,z),this.doc.doctype=z}},warning:function(L){console.warn("[xmldom warning]	"+L,D(this.locator))},error:function(L){console.error("[xmldom error]	"+L,D(this.locator))},fatalError:function(L){throw new v(L,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(L){w.prototype[L]=function(){return null}}),a.DOMParser=x},4722:(s,a,l)=>{var c=l(4582),u=c.find,d=c.NAMESPACE;function h(F){return F!==""}function f(F,j){return F.hasOwnProperty(j)||(F[j]=!0),F}function p(F){if(!F)return[];var j=function(Y){return Y?Y.split(/[\t\n\f\r ]+/).filter(h):[]}(F);return Object.keys(j.reduce(f,{}))}function v(F,j){for(var Y in F)Object.prototype.hasOwnProperty.call(F,Y)&&(j[Y]=F[Y])}function b(F,j){var Y=F.prototype;if(!(Y instanceof j)){let he=function(){};he.prototype=j.prototype,v(Y,he=new he),F.prototype=Y=he}Y.constructor!=F&&(typeof F!="function"&&console.error("unknown Class:"+F),Y.constructor=F)}var y={},x=y.ELEMENT_NODE=1,w=y.ATTRIBUTE_NODE=2,A=y.TEXT_NODE=3,D=y.CDATA_SECTION_NODE=4,k=y.ENTITY_REFERENCE_NODE=5,R=y.ENTITY_NODE=6,L=y.PROCESSING_INSTRUCTION_NODE=7,T=y.COMMENT_NODE=8,C=y.DOCUMENT_NODE=9,P=y.DOCUMENT_TYPE_NODE=10,z=y.DOCUMENT_FRAGMENT_NODE=11,H=y.NOTATION_NODE=12,$={},X={},Z=($.INDEX_SIZE_ERR=(X[1]="Index size error",1),$.DOMSTRING_SIZE_ERR=(X[2]="DOMString size error",2),$.HIERARCHY_REQUEST_ERR=(X[3]="Hierarchy request error",3)),K=($.WRONG_DOCUMENT_ERR=(X[4]="Wrong document",4),$.INVALID_CHARACTER_ERR=(X[5]="Invalid character",5),$.NO_DATA_ALLOWED_ERR=(X[6]="No data allowed",6),$.NO_MODIFICATION_ALLOWED_ERR=(X[7]="No modification allowed",7),$.NOT_FOUND_ERR=(X[8]="Not found",8)),O=($.NOT_SUPPORTED_ERR=(X[9]="Not supported",9),$.INUSE_ATTRIBUTE_ERR=(X[10]="Attribute in use",10));function V(F,j){if(j instanceof Error)var Y=j;else Y=this,Error.call(this,X[F]),this.message=X[F],Error.captureStackTrace&&Error.captureStackTrace(this,V);return Y.code=F,j&&(this.message=this.message+": "+j),Y}function I(){}function se(F,j){this._node=F,this._refresh=j,ye(this)}function ye(F){var j=F._node._inc||F._node.ownerDocument._inc;if(F._inc!==j){var Y=F._refresh(F._node);if(qe(F,"length",Y.length),!F.$$length||Y.length<F.$$length)for(var he=Y.length;he in F;he++)Object.prototype.hasOwnProperty.call(F,he)&&delete F[he];v(Y,F),F._inc=j}}function G(){}function ae(F,j){for(var Y=F.length;Y--;)if(F[Y]===j)return Y}function _e(F,j,Y,he){if(he?j[ae(j,he)]=Y:j[j.length++]=Y,F){Y.ownerElement=F;var je=F.ownerDocument;je&&(he&&le(je,F,he),function(mt,Tt,jt){mt&&mt._inc++,jt.namespaceURI===d.XMLNS&&(Tt._nsMap[jt.prefix?jt.localName:""]=jt.value)}(je,F,Y))}}function ve(F,j,Y){var he=ae(j,Y);if(!(he>=0))throw new V(K,new Error(F.tagName+"@"+Y));for(var je=j.length-1;he<je;)j[he]=j[++he];if(j.length=je,F){var mt=F.ownerDocument;mt&&(le(mt,F,Y),Y.ownerElement=null)}}function Ae(){}function Ve(){}function pt(F){return(F=="<"?"&lt;":F==">"&&"&gt;")||F=="&"&&"&amp;"||F=='"'&&"&quot;"||"&#"+F.charCodeAt()+";"}function ke(F,j){if(j(F))return!0;if(F=F.firstChild)do if(ke(F,j))return!0;while(F=F.nextSibling)}function ee(){this.ownerDocument=this}function le(F,j,Y,he){F&&F._inc++,Y.namespaceURI===d.XMLNS&&delete j._nsMap[Y.prefix?Y.localName:""]}function xe(F,j,Y){if(F&&F._inc){F._inc++;var he=j.childNodes;if(Y)he[he.length++]=Y;else{for(var je=j.firstChild,mt=0;je;)he[mt++]=je,je=je.nextSibling;he.length=mt,delete he[he.length]}}}function Fe(F,j){var Y=j.previousSibling,he=j.nextSibling;return Y?Y.nextSibling=he:F.firstChild=he,he?he.previousSibling=Y:F.lastChild=Y,j.parentNode=null,j.previousSibling=null,j.nextSibling=null,xe(F.ownerDocument,F),j}function Be(F){return F&&F.nodeType===Ve.DOCUMENT_TYPE_NODE}function Re(F){return F&&F.nodeType===Ve.ELEMENT_NODE}function Ze(F){return F&&F.nodeType===Ve.TEXT_NODE}function Je(F,j){var Y=F.childNodes||[];if(u(Y,Re)||Be(j))return!1;var he=u(Y,Be);return!(j&&he&&Y.indexOf(he)>Y.indexOf(j))}function _t(F,j){var Y=F.childNodes||[];if(u(Y,function(je){return Re(je)&&je!==j}))return!1;var he=u(Y,Be);return!(j&&he&&Y.indexOf(he)>Y.indexOf(j))}function Q(F,j,Y){var he=F.childNodes||[],je=j.childNodes||[];if(j.nodeType===Ve.DOCUMENT_FRAGMENT_NODE){var mt=je.filter(Re);if(mt.length>1||u(je,Ze))throw new V(Z,"More than one element or text in fragment");if(mt.length===1&&!Je(F,Y))throw new V(Z,"Element in fragment can not be inserted before doctype")}if(Re(j)&&!Je(F,Y))throw new V(Z,"Only one element can be added and only after doctype");if(Be(j)){if(u(he,Be))throw new V(Z,"Only one doctype is allowed");var Tt=u(he,Re);if(Y&&he.indexOf(Tt)<he.indexOf(Y))throw new V(Z,"Doctype can only be inserted before an element");if(!Y&&Tt)throw new V(Z,"Doctype can not be appended since element is present")}}function U(F,j,Y){var he=F.childNodes||[],je=j.childNodes||[];if(j.nodeType===Ve.DOCUMENT_FRAGMENT_NODE){var mt=je.filter(Re);if(mt.length>1||u(je,Ze))throw new V(Z,"More than one element or text in fragment");if(mt.length===1&&!_t(F,Y))throw new V(Z,"Element in fragment can not be inserted before doctype")}if(Re(j)&&!_t(F,Y))throw new V(Z,"Only one element can be added and only after doctype");if(Be(j)){if(u(he,function(jt){return Be(jt)&&jt!==Y}))throw new V(Z,"Only one doctype is allowed");var Tt=u(he,Re);if(Y&&he.indexOf(Tt)<he.indexOf(Y))throw new V(Z,"Doctype can only be inserted before an element")}}function pe(F,j,Y,he){(function(On,dr,xr){if(!function(Fn){return Fn&&(Fn.nodeType===Ve.DOCUMENT_NODE||Fn.nodeType===Ve.DOCUMENT_FRAGMENT_NODE||Fn.nodeType===Ve.ELEMENT_NODE)}(On))throw new V(Z,"Unexpected parent node type "+On.nodeType);if(xr&&xr.parentNode!==On)throw new V(K,"child not in parent");if(!function(Fn){return Fn&&(Re(Fn)||Ze(Fn)||Be(Fn)||Fn.nodeType===Ve.DOCUMENT_FRAGMENT_NODE||Fn.nodeType===Ve.COMMENT_NODE||Fn.nodeType===Ve.PROCESSING_INSTRUCTION_NODE)}(dr)||Be(dr)&&On.nodeType!==Ve.DOCUMENT_NODE)throw new V(Z,"Unexpected node type "+dr.nodeType+" for parent node type "+On.nodeType)})(F,j,Y),F.nodeType===Ve.DOCUMENT_NODE&&(he||Q)(F,j,Y);var je=j.parentNode;if(je&&je.removeChild(j),j.nodeType===z){var mt=j.firstChild;if(mt==null)return j;var Tt=j.lastChild}else mt=Tt=j;var jt=Y?Y.previousSibling:F.lastChild;mt.previousSibling=jt,Tt.nextSibling=Y,jt?jt.nextSibling=mt:F.firstChild=mt,Y==null?F.lastChild=Tt:Y.previousSibling=Tt;do mt.parentNode=F;while(mt!==Tt&&(mt=mt.nextSibling));return xe(F.ownerDocument||F,F),j.nodeType==z&&(j.firstChild=j.lastChild=null),j}function Te(){this._nsMap={}}function Oe(){}function Ge(){}function ce(){}function de(){}function De(){}function Qe(){}function Ie(){}function et(){}function kt(){}function vt(){}function rt(){}function te(){}function ge(F,j){var Y=[],he=this.nodeType==9&&this.documentElement||this,je=he.prefix,mt=he.namespaceURI;if(mt&&je==null&&(je=he.lookupPrefix(mt))==null)var Tt=[{namespace:mt,prefix:null}];return He(this,Y,F,j,Tt),Y.join("")}function We(F,j,Y){var he=F.prefix||"",je=F.namespaceURI;if(!je||he==="xml"&&je===d.XML||je===d.XMLNS)return!1;for(var mt=Y.length;mt--;){var Tt=Y[mt];if(Tt.prefix===he)return Tt.namespace!==je}return!0}function J(F,j,Y){F.push(" ",j,'="',Y.replace(/[<>&"\t\n\r]/g,pt),'"')}function He(F,j,Y,he,je){if(je||(je=[]),he){if(!(F=he(F)))return;if(typeof F=="string")return void j.push(F)}switch(F.nodeType){case x:var mt=F.attributes,Tt=mt.length,jt=F.firstChild,On=F.tagName,dr=On;if(!(Y=d.isHTML(F.namespaceURI)||Y)&&!F.prefix&&F.namespaceURI){for(var xr,Fn=0;Fn<mt.length;Fn++)if(mt.item(Fn).name==="xmlns"){xr=mt.item(Fn).value;break}if(!xr){for(var mi=je.length-1;mi>=0;mi--)if((_r=je[mi]).prefix===""&&_r.namespace===F.namespaceURI){xr=_r.namespace;break}}if(xr!==F.namespaceURI)for(mi=je.length-1;mi>=0;mi--){var _r;if((_r=je[mi]).namespace===F.namespaceURI){_r.prefix&&(dr=_r.prefix+":"+On);break}}}j.push("<",dr);for(var ji=0;ji<Tt;ji++)(Po=mt.item(ji)).prefix=="xmlns"?je.push({prefix:Po.localName,namespace:Po.value}):Po.nodeName=="xmlns"&&je.push({prefix:"",namespace:Po.value});for(ji=0;ji<Tt;ji++){var Po,qa,jc;We(Po=mt.item(ji),0,je)&&(J(j,(qa=Po.prefix||"")?"xmlns:"+qa:"xmlns",jc=Po.namespaceURI),je.push({prefix:qa,namespace:jc})),He(Po,j,Y,he,je)}if(On===dr&&We(F,0,je)&&(J(j,(qa=F.prefix||"")?"xmlns:"+qa:"xmlns",jc=F.namespaceURI),je.push({prefix:qa,namespace:jc})),jt||Y&&!/^(?:meta|link|img|br|hr|input)$/i.test(On)){if(j.push(">"),Y&&/^script$/i.test(On))for(;jt;)jt.data?j.push(jt.data):He(jt,j,Y,he,je.slice()),jt=jt.nextSibling;else for(;jt;)He(jt,j,Y,he,je.slice()),jt=jt.nextSibling;j.push("</",dr,">")}else j.push("/>");return;case C:case z:for(jt=F.firstChild;jt;)He(jt,j,Y,he,je.slice()),jt=jt.nextSibling;return;case w:return J(j,F.name,F.value);case A:return j.push(F.data.replace(/[<&>]/g,pt));case D:return j.push("<![CDATA[",F.data,"]]>");case T:return j.push("<!--",F.data,"-->");case P:var Cf=F.publicId,q=F.systemId;if(j.push("<!DOCTYPE ",F.name),Cf)j.push(" PUBLIC ",Cf),q&&q!="."&&j.push(" ",q),j.push(">");else if(q&&q!=".")j.push(" SYSTEM ",q,">");else{var fe=F.internalSubset;fe&&j.push(" [",fe,"]"),j.push(">")}return;case L:return j.push("<?",F.target," ",F.data,"?>");case k:return j.push("&",F.nodeName,";");default:j.push("??",F.nodeName)}}function Se(F,j,Y){var he;switch(j.nodeType){case x:(he=j.cloneNode(!1)).ownerDocument=F;case z:break;case w:Y=!0}if(he||(he=j.cloneNode(!1)),he.ownerDocument=F,he.parentNode=null,Y)for(var je=j.firstChild;je;)he.appendChild(Se(F,je,Y)),je=je.nextSibling;return he}function Ce(F,j,Y){var he=new j.constructor;for(var je in j)if(Object.prototype.hasOwnProperty.call(j,je)){var mt=j[je];typeof mt!="object"&&mt!=he[je]&&(he[je]=mt)}switch(j.childNodes&&(he.childNodes=new I),he.ownerDocument=F,he.nodeType){case x:var Tt=j.attributes,jt=he.attributes=new G,On=Tt.length;jt._ownerElement=he;for(var dr=0;dr<On;dr++)he.setAttributeNode(Ce(F,Tt.item(dr),!0));break;case w:Y=!0}if(Y)for(var xr=j.firstChild;xr;)he.appendChild(Ce(F,xr,Y)),xr=xr.nextSibling;return he}function qe(F,j,Y){F[j]=Y}$.INVALID_STATE_ERR=(X[11]="Invalid state",11),$.SYNTAX_ERR=(X[12]="Syntax error",12),$.INVALID_MODIFICATION_ERR=(X[13]="Invalid modification",13),$.NAMESPACE_ERR=(X[14]="Invalid namespace",14),$.INVALID_ACCESS_ERR=(X[15]="Invalid access",15),V.prototype=Error.prototype,v($,V),I.prototype={length:0,item:function(F){return F>=0&&F<this.length?this[F]:null},toString:function(F,j){for(var Y=[],he=0;he<this.length;he++)He(this[he],Y,F,j);return Y.join("")},filter:function(F){return Array.prototype.filter.call(this,F)},indexOf:function(F){return Array.prototype.indexOf.call(this,F)}},se.prototype.item=function(F){return ye(this),this[F]||null},b(se,I),G.prototype={length:0,item:I.prototype.item,getNamedItem:function(F){for(var j=this.length;j--;){var Y=this[j];if(Y.nodeName==F)return Y}},setNamedItem:function(F){var j=F.ownerElement;if(j&&j!=this._ownerElement)throw new V(O);var Y=this.getNamedItem(F.nodeName);return _e(this._ownerElement,this,F,Y),Y},setNamedItemNS:function(F){var j,Y=F.ownerElement;if(Y&&Y!=this._ownerElement)throw new V(O);return j=this.getNamedItemNS(F.namespaceURI,F.localName),_e(this._ownerElement,this,F,j),j},removeNamedItem:function(F){var j=this.getNamedItem(F);return ve(this._ownerElement,this,j),j},removeNamedItemNS:function(F,j){var Y=this.getNamedItemNS(F,j);return ve(this._ownerElement,this,Y),Y},getNamedItemNS:function(F,j){for(var Y=this.length;Y--;){var he=this[Y];if(he.localName==j&&he.namespaceURI==F)return he}return null}},Ae.prototype={hasFeature:function(F,j){return!0},createDocument:function(F,j,Y){var he=new ee;if(he.implementation=this,he.childNodes=new I,he.doctype=Y||null,Y&&he.appendChild(Y),j){var je=he.createElementNS(F,j);he.appendChild(je)}return he},createDocumentType:function(F,j,Y){var he=new Qe;return he.name=F,he.nodeName=F,he.publicId=j||"",he.systemId=Y||"",he}},Ve.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(F,j){return pe(this,F,j)},replaceChild:function(F,j){pe(this,F,j,U),j&&this.removeChild(j)},removeChild:function(F){return Fe(this,F)},appendChild:function(F){return this.insertBefore(F,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(F){return Ce(this.ownerDocument||this,this,F)},normalize:function(){for(var F=this.firstChild;F;){var j=F.nextSibling;j&&j.nodeType==A&&F.nodeType==A?(this.removeChild(j),F.appendData(j.data)):(F.normalize(),F=j)}},isSupported:function(F,j){return this.ownerDocument.implementation.hasFeature(F,j)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(F){for(var j=this;j;){var Y=j._nsMap;if(Y){for(var he in Y)if(Object.prototype.hasOwnProperty.call(Y,he)&&Y[he]===F)return he}j=j.nodeType==w?j.ownerDocument:j.parentNode}return null},lookupNamespaceURI:function(F){for(var j=this;j;){var Y=j._nsMap;if(Y&&Object.prototype.hasOwnProperty.call(Y,F))return Y[F];j=j.nodeType==w?j.ownerDocument:j.parentNode}return null},isDefaultNamespace:function(F){return this.lookupPrefix(F)==null}},v(y,Ve),v(y,Ve.prototype),ee.prototype={nodeName:"#document",nodeType:C,doctype:null,documentElement:null,_inc:1,insertBefore:function(F,j){if(F.nodeType==z){for(var Y=F.firstChild;Y;){var he=Y.nextSibling;this.insertBefore(Y,j),Y=he}return F}return pe(this,F,j),F.ownerDocument=this,this.documentElement===null&&F.nodeType===x&&(this.documentElement=F),F},removeChild:function(F){return this.documentElement==F&&(this.documentElement=null),Fe(this,F)},replaceChild:function(F,j){pe(this,F,j,U),F.ownerDocument=this,j&&this.removeChild(j),Re(F)&&(this.documentElement=F)},importNode:function(F,j){return Se(this,F,j)},getElementById:function(F){var j=null;return ke(this.documentElement,function(Y){if(Y.nodeType==x&&Y.getAttribute("id")==F)return j=Y,!0}),j},getElementsByClassName:function(F){var j=p(F);return new se(this,function(Y){var he=[];return j.length>0&&ke(Y.documentElement,function(je){if(je!==Y&&je.nodeType===x){var mt=je.getAttribute("class");if(mt){var Tt=F===mt;if(!Tt){var jt=p(mt);Tt=j.every((On=jt,function(dr){return On&&On.indexOf(dr)!==-1}))}Tt&&he.push(je)}}var On}),he})},createElement:function(F){var j=new Te;return j.ownerDocument=this,j.nodeName=F,j.tagName=F,j.localName=F,j.childNodes=new I,(j.attributes=new G)._ownerElement=j,j},createDocumentFragment:function(){var F=new vt;return F.ownerDocument=this,F.childNodes=new I,F},createTextNode:function(F){var j=new ce;return j.ownerDocument=this,j.appendData(F),j},createComment:function(F){var j=new de;return j.ownerDocument=this,j.appendData(F),j},createCDATASection:function(F){var j=new De;return j.ownerDocument=this,j.appendData(F),j},createProcessingInstruction:function(F,j){var Y=new rt;return Y.ownerDocument=this,Y.tagName=Y.nodeName=Y.target=F,Y.nodeValue=Y.data=j,Y},createAttribute:function(F){var j=new Oe;return j.ownerDocument=this,j.name=F,j.nodeName=F,j.localName=F,j.specified=!0,j},createEntityReference:function(F){var j=new kt;return j.ownerDocument=this,j.nodeName=F,j},createElementNS:function(F,j){var Y=new Te,he=j.split(":"),je=Y.attributes=new G;return Y.childNodes=new I,Y.ownerDocument=this,Y.nodeName=j,Y.tagName=j,Y.namespaceURI=F,he.length==2?(Y.prefix=he[0],Y.localName=he[1]):Y.localName=j,je._ownerElement=Y,Y},createAttributeNS:function(F,j){var Y=new Oe,he=j.split(":");return Y.ownerDocument=this,Y.nodeName=j,Y.name=j,Y.namespaceURI=F,Y.specified=!0,he.length==2?(Y.prefix=he[0],Y.localName=he[1]):Y.localName=j,Y}},b(ee,Ve),Te.prototype={nodeType:x,hasAttribute:function(F){return this.getAttributeNode(F)!=null},getAttribute:function(F){var j=this.getAttributeNode(F);return j&&j.value||""},getAttributeNode:function(F){return this.attributes.getNamedItem(F)},setAttribute:function(F,j){var Y=this.ownerDocument.createAttribute(F);Y.value=Y.nodeValue=""+j,this.setAttributeNode(Y)},removeAttribute:function(F){var j=this.getAttributeNode(F);j&&this.removeAttributeNode(j)},appendChild:function(F){return F.nodeType===z?this.insertBefore(F,null):function(j,Y){return Y.parentNode&&Y.parentNode.removeChild(Y),Y.parentNode=j,Y.previousSibling=j.lastChild,Y.nextSibling=null,Y.previousSibling?Y.previousSibling.nextSibling=Y:j.firstChild=Y,j.lastChild=Y,xe(j.ownerDocument,j,Y),Y}(this,F)},setAttributeNode:function(F){return this.attributes.setNamedItem(F)},setAttributeNodeNS:function(F){return this.attributes.setNamedItemNS(F)},removeAttributeNode:function(F){return this.attributes.removeNamedItem(F.nodeName)},removeAttributeNS:function(F,j){var Y=this.getAttributeNodeNS(F,j);Y&&this.removeAttributeNode(Y)},hasAttributeNS:function(F,j){return this.getAttributeNodeNS(F,j)!=null},getAttributeNS:function(F,j){var Y=this.getAttributeNodeNS(F,j);return Y&&Y.value||""},setAttributeNS:function(F,j,Y){var he=this.ownerDocument.createAttributeNS(F,j);he.value=he.nodeValue=""+Y,this.setAttributeNode(he)},getAttributeNodeNS:function(F,j){return this.attributes.getNamedItemNS(F,j)},getElementsByTagName:function(F){return new se(this,function(j){var Y=[];return ke(j,function(he){he===j||he.nodeType!=x||F!=="*"&&he.tagName!=F||Y.push(he)}),Y})},getElementsByTagNameNS:function(F,j){return new se(this,function(Y){var he=[];return ke(Y,function(je){je===Y||je.nodeType!==x||F!=="*"&&je.namespaceURI!==F||j!=="*"&&je.localName!=j||he.push(je)}),he})}},ee.prototype.getElementsByTagName=Te.prototype.getElementsByTagName,ee.prototype.getElementsByTagNameNS=Te.prototype.getElementsByTagNameNS,b(Te,Ve),Oe.prototype.nodeType=w,b(Oe,Ve),Ge.prototype={data:"",substringData:function(F,j){return this.data.substring(F,F+j)},appendData:function(F){F=this.data+F,this.nodeValue=this.data=F,this.length=F.length},insertData:function(F,j){this.replaceData(F,0,j)},appendChild:function(F){throw new Error(X[Z])},deleteData:function(F,j){this.replaceData(F,j,"")},replaceData:function(F,j,Y){Y=this.data.substring(0,F)+Y+this.data.substring(F+j),this.nodeValue=this.data=Y,this.length=Y.length}},b(Ge,Ve),ce.prototype={nodeName:"#text",nodeType:A,splitText:function(F){var j=this.data,Y=j.substring(F);j=j.substring(0,F),this.data=this.nodeValue=j,this.length=j.length;var he=this.ownerDocument.createTextNode(Y);return this.parentNode&&this.parentNode.insertBefore(he,this.nextSibling),he}},b(ce,Ge),de.prototype={nodeName:"#comment",nodeType:T},b(de,Ge),De.prototype={nodeName:"#cdata-section",nodeType:D},b(De,Ge),Qe.prototype.nodeType=P,b(Qe,Ve),Ie.prototype.nodeType=H,b(Ie,Ve),et.prototype.nodeType=R,b(et,Ve),kt.prototype.nodeType=k,b(kt,Ve),vt.prototype.nodeName="#document-fragment",vt.prototype.nodeType=z,b(vt,Ve),rt.prototype.nodeType=L,b(rt,Ve),te.prototype.serializeToString=function(F,j,Y){return ge.call(F,j,Y)},Ve.prototype.toString=ge;try{if(Object.defineProperty){let F=function(j){switch(j.nodeType){case x:case z:var Y=[];for(j=j.firstChild;j;)j.nodeType!==7&&j.nodeType!==8&&Y.push(F(j)),j=j.nextSibling;return Y.join("");default:return j.nodeValue}};Object.defineProperty(se.prototype,"length",{get:function(){return ye(this),this.$$length}}),Object.defineProperty(Ve.prototype,"textContent",{get:function(){return F(this)},set:function(j){switch(this.nodeType){case x:case z:for(;this.firstChild;)this.removeChild(this.firstChild);(j||String(j))&&this.appendChild(this.ownerDocument.createTextNode(j));break;default:this.data=j,this.value=j,this.nodeValue=j}}}),qe=function(j,Y,he){j["$$"+Y]=he}}}catch{}a.DocumentType=Qe,a.DOMException=V,a.DOMImplementation=Ae,a.Element=Te,a.Node=Ve,a.NodeList=I,a.XMLSerializer=te},6559:(s,a,l)=>{var c=l(4582).freeze;a.XML_ENTITIES=c({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),a.HTML_ENTITIES=c({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),a.entityMap=a.HTML_ENTITIES},8978:(s,a,l)=>{var c=l(4722);a.DOMImplementation=c.DOMImplementation,a.XMLSerializer=c.XMLSerializer,a.DOMParser=l(5752).DOMParser},4466:(s,a,l)=>{var c=l(4582).NAMESPACE,u=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=new RegExp("[\\-\\.0-9"+u.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),h=new RegExp("^"+u.source+d.source+"*(?::"+u.source+d.source+"*)?$");function f(L,T){this.message=L,this.locator=T,Error.captureStackTrace&&Error.captureStackTrace(this,f)}function p(){}function v(L,T){return T.lineNumber=L.lineNumber,T.columnNumber=L.columnNumber,T}function b(L,T,C,P,z,H){function $(I,se,ye){C.attributeNames.hasOwnProperty(I)&&H.fatalError("Attribute "+I+" redefined"),C.addValue(I,se.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,z),ye)}for(var X,Z=++T,K=0;;){var O=L.charAt(Z);switch(O){case"=":if(K===1)X=L.slice(T,Z),K=3;else{if(K!==2)throw new Error("attribute equal must after attrName");K=3}break;case"'":case'"':if(K===3||K===1){if(K===1&&(H.warning('attribute value must after "="'),X=L.slice(T,Z)),T=Z+1,!((Z=L.indexOf(O,T))>0))throw new Error("attribute value no end '"+O+"' match");$(X,V=L.slice(T,Z),T-1),K=5}else{if(K!=4)throw new Error('attribute value must after "="');$(X,V=L.slice(T,Z),T),H.warning('attribute "'+X+'" missed start quot('+O+")!!"),T=Z+1,K=5}break;case"/":switch(K){case 0:C.setTagName(L.slice(T,Z));case 5:case 6:case 7:K=7,C.closed=!0;case 4:case 1:break;case 2:C.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return H.error("unexpected end of input"),K==0&&C.setTagName(L.slice(T,Z)),Z;case">":switch(K){case 0:C.setTagName(L.slice(T,Z));case 5:case 6:case 7:break;case 4:case 1:(V=L.slice(T,Z)).slice(-1)==="/"&&(C.closed=!0,V=V.slice(0,-1));case 2:K===2&&(V=X),K==4?(H.warning('attribute "'+V+'" missed quot(")!'),$(X,V,T)):(c.isHTML(P[""])&&V.match(/^(?:disabled|checked|selected)$/i)||H.warning('attribute "'+V+'" missed value!! "'+V+'" instead!!'),$(V,V,T));break;case 3:throw new Error("attribute value missed!!")}return Z;case"":O=" ";default:if(O<=" ")switch(K){case 0:C.setTagName(L.slice(T,Z)),K=6;break;case 1:X=L.slice(T,Z),K=2;break;case 4:var V=L.slice(T,Z);H.warning('attribute "'+V+'" missed quot(")!!'),$(X,V,T);case 5:K=6}else switch(K){case 2:C.tagName,c.isHTML(P[""])&&X.match(/^(?:disabled|checked|selected)$/i)||H.warning('attribute "'+X+'" missed value!! "'+X+'" instead2!!'),$(X,X,T),T=Z,K=1;break;case 5:H.warning('attribute space is required"'+X+'"!!');case 6:K=1,T=Z;break;case 3:K=4,T=Z;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}Z++}}function y(L,T,C){for(var P=L.tagName,z=null,H=L.length;H--;){var $=L[H],X=$.qName,Z=$.value;if((I=X.indexOf(":"))>0)var K=$.prefix=X.slice(0,I),O=X.slice(I+1),V=K==="xmlns"&&O;else O=X,K=null,V=X==="xmlns"&&"";$.localName=O,V!==!1&&(z==null&&(z={},A(C,C={})),C[V]=z[V]=Z,$.uri=c.XMLNS,T.startPrefixMapping(V,Z))}for(H=L.length;H--;)(K=($=L[H]).prefix)&&(K==="xml"&&($.uri=c.XML),K!=="xmlns"&&($.uri=C[K||""]));var I;(I=P.indexOf(":"))>0?(K=L.prefix=P.slice(0,I),O=L.localName=P.slice(I+1)):(K=null,O=L.localName=P);var se=L.uri=C[K||""];if(T.startElement(se,O,P,L),!L.closed)return L.currentNSMap=C,L.localNSMap=z,!0;if(T.endElement(se,O,P),z)for(K in z)Object.prototype.hasOwnProperty.call(z,K)&&T.endPrefixMapping(K)}function x(L,T,C,P,z){if(/^(?:script|textarea)$/i.test(C)){var H=L.indexOf("</"+C+">",T),$=L.substring(T+1,H);if(/[&<]/.test($))return/^script$/i.test(C)?(z.characters($,0,$.length),H):($=$.replace(/&#?\w+;/g,P),z.characters($,0,$.length),H)}return T+1}function w(L,T,C,P){var z=P[C];return z==null&&((z=L.lastIndexOf("</"+C+">"))<T&&(z=L.lastIndexOf("</"+C)),P[C]=z),z<T}function A(L,T){for(var C in L)Object.prototype.hasOwnProperty.call(L,C)&&(T[C]=L[C])}function D(L,T,C,P){if(L.charAt(T+2)==="-")return L.charAt(T+3)==="-"?(z=L.indexOf("-->",T+4))>T?(C.comment(L,T+4,z-T-4),z+3):(P.error("Unclosed comment"),-1):-1;if(L.substr(T+3,6)=="CDATA["){var z=L.indexOf("]]>",T+9);return C.startCDATA(),C.characters(L,T+9,z-T-9),C.endCDATA(),z+3}var H=function(V,I){var se,ye=[],G=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(G.lastIndex=I,G.exec(V);se=G.exec(V);)if(ye.push(se),se[1])return ye}(L,T),$=H.length;if($>1&&/!doctype/i.test(H[0][0])){var X=H[1][0],Z=!1,K=!1;$>3&&(/^public$/i.test(H[2][0])?(Z=H[3][0],K=$>4&&H[4][0]):/^system$/i.test(H[2][0])&&(K=H[3][0]));var O=H[$-1];return C.startDTD(X,Z,K),C.endDTD(),O.index+O[0].length}return-1}function k(L,T,C){var P=L.indexOf("?>",T);if(P){var z=L.substring(T,P).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return z?(z[0].length,C.processingInstruction(z[1],z[2]),P+2):-1}return-1}function R(){this.attributeNames={}}f.prototype=new Error,f.prototype.name=f.name,p.prototype={parse:function(L,T,C){var P=this.domBuilder;P.startDocument(),A(T,T={}),function(z,H,$,X,Z){function K(pe){var Te=pe.slice(1,-1);return Object.hasOwnProperty.call($,Te)?$[Te]:Te.charAt(0)==="#"?function(Oe){if(Oe>65535){var Ge=55296+((Oe-=65536)>>10),ce=56320+(1023&Oe);return String.fromCharCode(Ge,ce)}return String.fromCharCode(Oe)}(parseInt(Te.substr(1).replace("x","0x"))):(Z.error("entity not found:"+pe),pe)}function O(pe){if(pe>ve){var Te=z.substring(ve,pe).replace(/&#?\w+;/g,K);G&&V(ve),X.characters(Te,0,pe-ve),ve=pe}}function V(pe,Te){for(;pe>=se&&(Te=ye.exec(z));)I=Te.index,se=I+Te[0].length,G.lineNumber++;G.columnNumber=pe-I+1}for(var I=0,se=0,ye=/.*(?:\r\n?|\n)|.*$/g,G=X.locator,ae=[{currentNSMap:H}],_e={},ve=0;;){try{var Ae=z.indexOf("<",ve);if(Ae<0){if(!z.substr(ve).match(/^\s*$/)){var Ve=X.doc,pt=Ve.createTextNode(z.substr(ve));Ve.appendChild(pt),X.currentElement=pt}return}switch(Ae>ve&&O(Ae),z.charAt(Ae+1)){case"/":var ke=z.indexOf(">",Ae+3),ee=z.substring(Ae+2,ke).replace(/[ \t\n\r]+$/g,""),le=ae.pop();ke<0?(ee=z.substring(Ae+2).replace(/[\s<].*/,""),Z.error("end tag name: "+ee+" is not complete:"+le.tagName),ke=Ae+1+ee.length):ee.match(/\s</)&&(ee=ee.replace(/[\s<].*/,""),Z.error("end tag name: "+ee+" maybe not complete"),ke=Ae+1+ee.length);var xe=le.localNSMap,Fe=le.tagName==ee;if(Fe||le.tagName&&le.tagName.toLowerCase()==ee.toLowerCase()){if(X.endElement(le.uri,le.localName,ee),xe)for(var Be in xe)Object.prototype.hasOwnProperty.call(xe,Be)&&X.endPrefixMapping(Be);Fe||Z.fatalError("end tag name: "+ee+" is not match the current start tagName:"+le.tagName)}else ae.push(le);ke++;break;case"?":G&&V(Ae),ke=k(z,Ae,X);break;case"!":G&&V(Ae),ke=D(z,Ae,X,Z);break;default:G&&V(Ae);var Re=new R,Ze=ae[ae.length-1].currentNSMap,Je=(ke=b(z,Ae,Re,Ze,K,Z),Re.length);if(!Re.closed&&w(z,ke,Re.tagName,_e)&&(Re.closed=!0,$.nbsp||Z.warning("unclosed xml attribute")),G&&Je){for(var _t=v(G,{}),Q=0;Q<Je;Q++){var U=Re[Q];V(U.offset),U.locator=v(G,{})}X.locator=_t,y(Re,X,Ze)&&ae.push(Re),X.locator=G}else y(Re,X,Ze)&&ae.push(Re);c.isHTML(Re.uri)&&!Re.closed?ke=x(z,ke,Re.tagName,K,X):ke++}}catch(pe){if(pe instanceof f)throw pe;Z.error("element parse error: "+pe),ke=-1}ke>ve?ve=ke:O(Math.max(Ae,ve)+1)}}(L,T,C,P,this.errorHandler),P.endDocument()}},R.prototype={setTagName:function(L){if(!h.test(L))throw new Error("invalid tagName:"+L);this.tagName=L},addValue:function(L,T,C){if(!h.test(L))throw new Error("invalid attribute:"+L);this.attributeNames[L]=this.length,this[this.length++]={qName:L,value:T,offset:C}},length:0,getLocalName:function(L){return this[L].localName},getLocator:function(L){return this[L].locator},getQName:function(L){return this[L].qName},getURI:function(L){return this[L].uri},getValue:function(L){return this[L].value}},a.XMLReader=p,a.ParseError=f},8917:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InvalidNumberOfChildrenError=void 0;var c=l(6200);Object.defineProperty(a,"InvalidNumberOfChildrenError",{enumerable:!0,get:function(){return c.InvalidNumberOfChildrenError}})},6200:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InvalidNumberOfChildrenError=void 0;class l extends Error{constructor(u,d,h,f="exactly"){super(`${u} tag must have ${f} ${d} children. It's actually ${h}`),this.name="InvalidNumberOfChildrenError"}}a.InvalidNumberOfChildrenError=l},4279:function(s,a,l){var c=this&&this.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f);var v=Object.getOwnPropertyDescriptor(h,f);v&&!("get"in v?!h.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,v)}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),u=this&&this.__exportStar||function(d,h){for(var f in d)f==="default"||Object.prototype.hasOwnProperty.call(h,f)||c(h,d,f)};Object.defineProperty(a,"__esModule",{value:!0}),u(l(828),a),u(l(5975),a),u(l(799),a),u(l(2424),a)},5975:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.JoinWithManySeparators=void 0;class l{constructor(u){this._separators=u}static join(u,d){return new l(d)._join(u)}_join(u){return u.reduce((d,h,f,p)=>d+h+(f===p.length-1?"":this._get(f)),"")}_get(u){return this._separators[u]?this._separators[u]:this._separators.length>0?this._separators[this._separators.length-1]:","}}a.JoinWithManySeparators=l},799:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.mathMLElementToLaTeXConverter=void 0;const c=l(5443);a.mathMLElementToLaTeXConverter=u=>new c.MathMLElementToLatexConverterAdapter(u).toLatexConverter()},2424:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeWhiteSpaces=void 0,a.normalizeWhiteSpaces=l=>l.replace(/\s+/g," ")},7192:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BracketWrapper=void 0;const c=l(1855);a.BracketWrapper=class{constructor(){this._open="{",this._close="}"}wrap(u){return new c.Wrapper(this._open,this._close).wrap(u)}}},5025:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GenericWrapper=void 0;const c=l(1855);a.GenericWrapper=class{constructor(u,d){this._open="\\left"+u,this._close="\\right"+d}wrap(u){return new c.Wrapper(this._open,this._close).wrap(u)}}},828:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GenericWrapper=a.ParenthesisWrapper=a.BracketWrapper=void 0;var c=l(7192);Object.defineProperty(a,"BracketWrapper",{enumerable:!0,get:function(){return c.BracketWrapper}});var u=l(1168);Object.defineProperty(a,"ParenthesisWrapper",{enumerable:!0,get:function(){return u.ParenthesisWrapper}});var d=l(5025);Object.defineProperty(a,"GenericWrapper",{enumerable:!0,get:function(){return d.GenericWrapper}})},1168:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParenthesisWrapper=void 0;const c=l(1855);a.ParenthesisWrapper=class{constructor(){this._open="\\left(",this._close="\\right)"}wrap(u){return new c.Wrapper(this._open,this._close).wrap(u)}wrapIfMoreThanOneChar(u){return u.length<=1?u:this.wrap(u)}}},1855:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Wrapper=void 0,a.Wrapper=class{constructor(l,c){this._open=l,this._close=c}wrap(l){return this._open+l+this._close}}},4760:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GenericSpacingWrapper=void 0;const c=l(4279);a.GenericSpacingWrapper=class{constructor(u){this._mathmlElement=u}convert(){return this._mathmlElement.children.map(u=>(0,c.mathMLElementToLaTeXConverter)(u)).map(u=>u.convert()).join(" ")}}},9376:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GenericUnderOver=void 0;const c=l(799),u=l(8917),d=l(472);a.GenericUnderOver=class{constructor(p){this._mathmlElement=p}convert(){const{name:p,children:v}=this._mathmlElement,b=v.length;if(b!==2)throw new u.InvalidNumberOfChildrenError(p,2,b);const y=(0,c.mathMLElementToLaTeXConverter)(v[0]).convert(),x=(0,c.mathMLElementToLaTeXConverter)(v[1]).convert();return this._applyCommand(y,x)}_applyCommand(p,v){const b=this._mathmlElement.name.match(/under/)?f.Under:f.Over;return new h(b).apply(p,v)}};class h{constructor(v){this._type=v}apply(v,b){return d.latexAccents.includes(b)?`${b}{${v}}`:`${this._defaultCommand}{${b}}{${v}}`}get _defaultCommand(){return this._type===f.Under?"\\underset":"\\overset"}}var f;(function(p){p[p.Under=0]="Under",p[p.Over=1]="Over"})(f||(f={}))},6959:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GenericUnderOver=a.GenericSpacingWrapper=a.MTr=a.MTable=a.MUnderover=a.MText=a.MMultiscripts=a.MSubsup=a.MSub=a.MSup=a.MPhantom=a.MError=a.MEnclose=a.MAction=a.MRoot=a.MFrac=a.MFenced=a.MSqrt=a.MN=a.MO=a.MI=a.Math=void 0;var c=l(393);Object.defineProperty(a,"Math",{enumerable:!0,get:function(){return c.Math}});var u=l(7037);Object.defineProperty(a,"MI",{enumerable:!0,get:function(){return u.MI}});var d=l(3487);Object.defineProperty(a,"MO",{enumerable:!0,get:function(){return d.MO}});var h=l(4464);Object.defineProperty(a,"MN",{enumerable:!0,get:function(){return h.MN}});var f=l(8686);Object.defineProperty(a,"MSqrt",{enumerable:!0,get:function(){return f.MSqrt}});var p=l(9511);Object.defineProperty(a,"MFenced",{enumerable:!0,get:function(){return p.MFenced}});var v=l(6440);Object.defineProperty(a,"MFrac",{enumerable:!0,get:function(){return v.MFrac}});var b=l(6052);Object.defineProperty(a,"MRoot",{enumerable:!0,get:function(){return b.MRoot}});var y=l(1678);Object.defineProperty(a,"MAction",{enumerable:!0,get:function(){return y.MAction}});var x=l(2631);Object.defineProperty(a,"MEnclose",{enumerable:!0,get:function(){return x.MEnclose}});var w=l(1840);Object.defineProperty(a,"MError",{enumerable:!0,get:function(){return w.MError}});var A=l(7443);Object.defineProperty(a,"MPhantom",{enumerable:!0,get:function(){return A.MPhantom}});var D=l(6926);Object.defineProperty(a,"MSup",{enumerable:!0,get:function(){return D.MSup}});var k=l(2564);Object.defineProperty(a,"MSub",{enumerable:!0,get:function(){return k.MSub}});var R=l(1358);Object.defineProperty(a,"MSubsup",{enumerable:!0,get:function(){return R.MSubsup}});var L=l(8303);Object.defineProperty(a,"MMultiscripts",{enumerable:!0,get:function(){return L.MMultiscripts}});var T=l(3951);Object.defineProperty(a,"MText",{enumerable:!0,get:function(){return T.MText}});var C=l(1222);Object.defineProperty(a,"MUnderover",{enumerable:!0,get:function(){return C.MUnderover}});var P=l(2350);Object.defineProperty(a,"MTable",{enumerable:!0,get:function(){return P.MTable}});var z=l(1586);Object.defineProperty(a,"MTr",{enumerable:!0,get:function(){return z.MTr}});var H=l(4760);Object.defineProperty(a,"GenericSpacingWrapper",{enumerable:!0,get:function(){return H.GenericSpacingWrapper}});var $=l(9376);Object.defineProperty(a,"GenericUnderOver",{enumerable:!0,get:function(){return $.GenericUnderOver}})},1678:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MAction=void 0;const c=l(799);a.MAction=class{constructor(u){this._mathmlElement=u}convert(){const{children:u}=this._mathmlElement;return this._isToggle()?u.map(d=>(0,c.mathMLElementToLaTeXConverter)(d)).map(d=>d.convert()).join(" \\Longrightarrow "):(0,c.mathMLElementToLaTeXConverter)(u[0]).convert()}_isToggle(){const{actiontype:u}=this._mathmlElement.attributes;return u==="toggle"||!u}}},393:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Math=void 0;const c=l(799),u=l(2424);a.Math=class{constructor(d){this._mathmlElement=d}convert(){const d=this._mathmlElement.children.map(h=>(0,c.mathMLElementToLaTeXConverter)(h)).map(h=>h.convert()).join(" ");return(0,u.normalizeWhiteSpaces)(d)}}},2631:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MEnclose=void 0;const c=l(799);a.MEnclose=class{constructor(u){this._mathmlElement=u}convert(){const u=this._mathmlElement.children.map(d=>(0,c.mathMLElementToLaTeXConverter)(d)).map(d=>d.convert()).join(" ");return this._notation==="actuarial"?`\\overline{\\left.${u}\\right|}`:this._notation==="radical"?`\\sqrt{${u}}`:["box","roundedbox","circle"].includes(this._notation)?`\\boxed{${u}}`:this._notation==="left"?`\\left|${u}`:this._notation==="right"?`${u}\\right|`:this._notation==="top"?`\\overline{${u}}`:this._notation==="bottom"?`\\underline{${u}}`:this._notation==="updiagonalstrike"?`\\cancel{${u}}`:this._notation==="downdiagonalstrike"?`\\bcancel{${u}}`:this._notation==="updiagonalarrow"?`\\cancelto{}{${u}}`:["verticalstrike","horizontalstrike"].includes(this._notation)?`\\hcancel{${u}}`:this._notation==="madruwb"?`\\underline{${u}\\right|}`:this._notation==="phasorangle"?`{\\angle \\underline{${u}}}`:`\\overline{\\left.\\right)${u}}`}get _notation(){return this._mathmlElement.attributes.notation||"longdiv"}}},1840:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MError=void 0;const c=l(799);a.MError=class{constructor(u){this._mathmlElement=u}convert(){return`\\color{red}{${this._mathmlElement.children.map(u=>(0,c.mathMLElementToLaTeXConverter)(u)).map(u=>u.convert()).join(" ")}}`}}},9511:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MFenced=void 0;const c=l(799),u=l(4279);a.MFenced=class{constructor(p){this._mathmlElement=p,this._open=this._mathmlElement.attributes.open||"",this._close=this._mathmlElement.attributes.close||"",this._separators=Array.from(this._mathmlElement.attributes.separators||"")}convert(){const p=this._mathmlElement.children.map(v=>(0,c.mathMLElementToLaTeXConverter)(v)).map(v=>v.convert());return this._isThereRelativeOfName(this._mathmlElement.children,"mtable")?new h(this._open,this._close).apply(p):new d(this._open,this._close,this._separators).apply(p)}_isThereRelativeOfName(p,v){return p.some(b=>b.name===v||this._isThereRelativeOfName(b.children,v))}};class d{constructor(v,b,y){this._open=v||"(",this._close=b||")",this._separators=y}apply(v){const b=u.JoinWithManySeparators.join(v,this._separators);return new u.GenericWrapper(this._open,this._close).wrap(b)}}class h{constructor(v,b){this._genericCommand="matrix",this._separators=new f(v,b)}apply(v){const b=this._command,y=`\\begin{${b}}
${v.join("")}
\\end{${b}}`;return b===this._genericCommand?this._separators.wrap(y):y}get _command(){return this._separators.areParentheses()?"pmatrix":this._separators.areSquareBrackets()?"bmatrix":this._separators.areBrackets()?"Bmatrix":this._separators.areDivides()?"vmatrix":this._separators.areParallels()?"Vmatrix":this._separators.areNotEqual()?this._genericCommand:"bmatrix"}}class f{constructor(v,b){this._open=v,this._close=b}wrap(v){return new u.GenericWrapper(this._open,this._close).wrap(v)}areParentheses(){return this._compare("(",")")}areSquareBrackets(){return this._compare("[","]")}areBrackets(){return this._compare("{","}")}areDivides(){return this._compare("|","|")}areParallels(){return this._compare("||","||")}areNotEqual(){return this._open!==this._close}_compare(v,b){return this._open===v&&this._close===b}}},6440:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MFrac=void 0;const c=l(8917),u=l(4279);a.MFrac=class{constructor(d){this._mathmlElement=d}convert(){const{children:d,name:h}=this._mathmlElement,f=d.length;if(f!==2)throw new c.InvalidNumberOfChildrenError(h,2,f);const p=(0,u.mathMLElementToLaTeXConverter)(d[0]).convert(),v=(0,u.mathMLElementToLaTeXConverter)(d[1]).convert();return this._isBevelled()?`${this._wrapIfMoreThanOneChar(p)}/${this._wrapIfMoreThanOneChar(v)}`:`\\frac{${p}}{${v}}`}_wrapIfMoreThanOneChar(d){return new u.ParenthesisWrapper().wrapIfMoreThanOneChar(d)}_isBevelled(){return!!this._mathmlElement.attributes.bevelled}}},7037:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MI=void 0;const c=l(4279),u=l(5406),d=l(6122);a.MI=class{constructor(f){this.utf8Converter=new d.HashUTF8ToLtXConverter,this._mathmlElement=f}convert(){const f=(0,c.normalizeWhiteSpaces)(this._mathmlElement.value);if(f===" ")return h.apply(f);const p=f.trim(),v=h.apply(p),b=this.utf8Converter.convert(v);return b!==v?b:this.wrapInMathVariant(v,this.getMathVariant(this._mathmlElement.attributes))}getMathVariant(f){if(f&&f.mathvariant)return f.mathvariant}wrapInMathVariant(f,p){switch(p){case"bold":return`\\mathbf{${f}}`;case"italic":return`\\mathit{${f}}`;case"bold-italic":return`\\mathbf{\\mathit{${f}}}`;case"double-struck":return`\\mathbb{${f}}`;case"bold-fraktur":return`\\mathbf{\\mathfrak{${f}}}`;case"script":return`\\mathcal{${f}}`;case"bold-script":return`\\mathbf{\\mathcal{${f}}}`;case"fraktur":return`\\mathfrak{${f}}`;case"sans-serif":return`\\mathsf{${f}}`;case"bold-sans-serif":return`\\mathbf{\\mathsf{${f}}}`;case"sans-serif-italic":return`\\mathsf{\\mathit{${f}}}`;case"sans-serif-bold-italic":return`\\mathbf{\\mathsf{\\mathit{${f}}}}`;case"monospace":return`\\mathtt{${f}}`;default:return f}}};class h{constructor(p){this._value=p}static apply(p){return new h(p)._apply()}_apply(){return this._findByCharacter()||this._findByGlyph()||this._findByNumber()||new d.HashUTF8ToLtXConverter().convert(this._value)}_findByCharacter(){return u.allMathSymbolsByChar[this._value]}_findByGlyph(){return u.allMathSymbolsByGlyph[this._value]}_findByNumber(){return u.mathNumberByGlyph[this._value]}}},8303:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MMultiscripts=void 0;const c=l(4279),u=l(8917);a.MMultiscripts=class{constructor(d){this._mathmlElement=d}convert(){const{name:d,children:h}=this._mathmlElement,f=h.length;if(f<3)throw new u.InvalidNumberOfChildrenError(d,3,f,"at least");const p=(0,c.mathMLElementToLaTeXConverter)(h[0]).convert();return this._prescriptLatex()+this._wrapInParenthesisIfThereIsSpace(p)+this._postscriptLatex()}_prescriptLatex(){const{children:d}=this._mathmlElement;let h,f;if(this._isPrescripts(d[1]))h=d[2],f=d[3];else{if(!this._isPrescripts(d[3]))return"";h=d[4],f=d[5]}return`\\_{${(0,c.mathMLElementToLaTeXConverter)(h).convert()}}^{${(0,c.mathMLElementToLaTeXConverter)(f).convert()}}`}_postscriptLatex(){const{children:d}=this._mathmlElement;if(this._isPrescripts(d[1]))return"";const h=d[1],f=d[2];return`_{${(0,c.mathMLElementToLaTeXConverter)(h).convert()}}^{${(0,c.mathMLElementToLaTeXConverter)(f).convert()}}`}_wrapInParenthesisIfThereIsSpace(d){return d.match(/\s+/g)?new c.ParenthesisWrapper().wrap(d):d}_isPrescripts(d){return(d==null?void 0:d.name)==="mprescripts"}}},4464:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MN=void 0;const c=l(4279),u=l(5406);a.MN=class{constructor(d){this._mathmlElement=d}convert(){const d=(0,c.normalizeWhiteSpaces)(this._mathmlElement.value).trim();return u.mathNumberByGlyph[d]||d}}},3487:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MO=void 0;const c=l(4279),u=l(5406);a.MO=class{constructor(h){this._mathmlElement=h}convert(){const h=(0,c.normalizeWhiteSpaces)(this._mathmlElement.value).trim();return d.operate(h)}};class d{constructor(f){this._value=f}static operate(f){return new d(f)._operate()}_operate(){return this._findByCharacter()||this._findByGlyph()||this._findByNumber()||new u.HashUTF8ToLtXConverter().convert(this._value)}_findByCharacter(){return u.allMathOperatorsByChar[this._value]}_findByGlyph(){return u.allMathOperatorsByGlyph[this._value]}_findByNumber(){return u.mathNumberByGlyph[this._value]}}},7443:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MPhantom=void 0,a.MPhantom=class{constructor(l){this._mathmlElement=l}convert(){return""}}},6052:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MRoot=void 0;const c=l(4279),u=l(8917);a.MRoot=class{constructor(d){this._mathmlElement=d}convert(){const{name:d,children:h}=this._mathmlElement,f=h.length;if(f!==2)throw new u.InvalidNumberOfChildrenError(d,2,f);const p=(0,c.mathMLElementToLaTeXConverter)(h[0]).convert();return`\\sqrt[${(0,c.mathMLElementToLaTeXConverter)(h[1]).convert()}]{${p}}`}}},8686:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MSqrt=void 0;const c=l(4279);a.MSqrt=class{constructor(u){this._mathmlElement=u}convert(){return`\\sqrt{${this._mathmlElement.children.map(u=>(0,c.mathMLElementToLaTeXConverter)(u)).map(u=>u.convert()).join(" ")}}`}}},2564:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MSub=void 0;const c=l(4279),u=l(8917);a.MSub=class{constructor(d){this._mathmlElement=d}convert(){const{name:d,children:h}=this._mathmlElement,f=h.length;if(f!==2)throw new u.InvalidNumberOfChildrenError(d,2,f);const p=(0,c.mathMLElementToLaTeXConverter)(h[0]).convert(),v=(0,c.mathMLElementToLaTeXConverter)(h[1]).convert();return`${new c.ParenthesisWrapper().wrapIfMoreThanOneChar(p)}_${new c.BracketWrapper().wrap(v)}`}}},1358:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MSubsup=void 0;const c=l(4279),u=l(8917);a.MSubsup=class{constructor(d){this._mathmlElement=d}convert(){const{name:d,children:h}=this._mathmlElement,f=h.length;if(f!==3)throw new u.InvalidNumberOfChildrenError(d,3,f);const p=(0,c.mathMLElementToLaTeXConverter)(h[0]).convert(),v=(0,c.mathMLElementToLaTeXConverter)(h[1]).convert(),b=(0,c.mathMLElementToLaTeXConverter)(h[2]).convert(),y=new c.BracketWrapper().wrap(v),x=new c.BracketWrapper().wrap(b);return`${this._wrapInParenthesisIfThereIsSpace(p)}_${y}^${x}`}_wrapInParenthesisIfThereIsSpace(d){return d.match(/\s+/g)?new c.ParenthesisWrapper().wrap(d):d}}},6926:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MSup=void 0;const c=l(4279),u=l(8917);a.MSup=class{constructor(d){this._mathmlElement=d}convert(){const{name:d,children:h}=this._mathmlElement,f=h.length;if(f!==2)throw new u.InvalidNumberOfChildrenError(d,2,f);const p=(0,c.mathMLElementToLaTeXConverter)(h[0]).convert(),v=(0,c.mathMLElementToLaTeXConverter)(h[1]).convert();return`${new c.ParenthesisWrapper().wrapIfMoreThanOneChar(p)}^${new c.BracketWrapper().wrap(v)}`}}},2350:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MTable=void 0;const c=l(4279);a.MTable=class{constructor(u){this._mathmlElement=u,this._addFlagRecursiveIfName(this._mathmlElement.children,"mtable","innerTable")}convert(){const u=this._mathmlElement.children.map(d=>(0,c.mathMLElementToLaTeXConverter)(d)).map(d=>d.convert()).join(` \\\\
`);return this._hasFlag("innerTable")?this._wrap(u):u}_wrap(u){return`\\begin{matrix}${u}\\end{matrix}`}_addFlagRecursiveIfName(u,d,h){u.forEach(f=>{f.name===d&&(f.attributes[h]=h),this._addFlagRecursiveIfName(f.children,d,h)})}_hasFlag(u){return!!this._mathmlElement.attributes[u]}}},3951:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MText=void 0;const c=l(7037);a.MText=class{constructor(d){this._mathmlElement=d}convert(){const{attributes:d,value:h}=this._mathmlElement;return[...h].map(f=>/^[a-zA-Z0-9]$/.test(f)||f===" "?{value:f,isAlphanumeric:!0}:{value:f,isAlphanumeric:!1}).reduce((f,p)=>{if(p.isAlphanumeric){const v=f[f.length-1];if(v&&v.isAlphanumeric)return v.value+=p.value,f}return[...f,p]},[]).map(f=>f.isAlphanumeric?new u(d.mathvariant).apply(f.value):new c.MI({name:"mi",attributes:{},children:[],value:f.value}).convert()).join("")}};class u{constructor(h){this._mathvariant=h||"normal"}apply(h){return this._commands.reduce((f,p,v)=>v===0?`${p}{${h}}`:`${p}{${f}}`,"")}get _commands(){switch(this._mathvariant){case"bold":return["\\textbf"];case"italic":return["\\textit"];case"bold-italic":return["\\textit","\\textbf"];case"double-struck":return["\\mathbb"];case"monospace":return["\\mathtt"];case"bold-fraktur":case"fraktur":return["\\mathfrak"];default:return["\\text"]}}}},1586:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MTr=void 0;const c=l(4279);a.MTr=class{constructor(u){this._mathmlElement=u}convert(){return this._mathmlElement.children.map(u=>(0,c.mathMLElementToLaTeXConverter)(u)).map(u=>u.convert()).join(" & ")}}},1222:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MUnderover=void 0;const c=l(4279),u=l(8917);a.MUnderover=class{constructor(d){this._mathmlElement=d}convert(){const{name:d,children:h}=this._mathmlElement,f=h.length;if(f!==3)throw new u.InvalidNumberOfChildrenError(d,3,f);return`${(0,c.mathMLElementToLaTeXConverter)(h[0]).convert()}_{${(0,c.mathMLElementToLaTeXConverter)(h[1]).convert()}}^{${(0,c.mathMLElementToLaTeXConverter)(h[2]).convert()}}`}}},5443:function(s,a,l){var c=this&&this.__createBinding||(Object.create?function(p,v,b,y){y===void 0&&(y=b);var x=Object.getOwnPropertyDescriptor(v,b);x&&!("get"in x?!v.__esModule:x.writable||x.configurable)||(x={enumerable:!0,get:function(){return v[b]}}),Object.defineProperty(p,y,x)}:function(p,v,b,y){y===void 0&&(y=b),p[y]=v[b]}),u=this&&this.__setModuleDefault||(Object.create?function(p,v){Object.defineProperty(p,"default",{enumerable:!0,value:v})}:function(p,v){p.default=v}),d=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var v={};if(p!=null)for(var b in p)b!=="default"&&Object.prototype.hasOwnProperty.call(p,b)&&c(v,p,b);return u(v,p),v};Object.defineProperty(a,"__esModule",{value:!0}),a.MathMLElementToLatexConverterAdapter=void 0;const h=d(l(6959));a.MathMLElementToLatexConverterAdapter=class{constructor(p){this._mathMLElement=p}toLatexConverter(){const{name:p}=this._mathMLElement;return new(f[p]||h.GenericSpacingWrapper)(this._mathMLElement)}};const f={math:h.Math,mi:h.MI,mo:h.MO,mn:h.MN,msqrt:h.MSqrt,mfenced:h.MFenced,mfrac:h.MFrac,mroot:h.MRoot,maction:h.MAction,menclose:h.MEnclose,merror:h.MError,mphantom:h.MPhantom,msup:h.MSup,msub:h.MSub,msubsup:h.MSubsup,mmultiscripts:h.MMultiscripts,mtext:h.MText,munderover:h.MUnderover,mtable:h.MTable,mtr:h.MTr,mover:h.GenericUnderOver,munder:h.GenericUnderOver,mrow:h.GenericSpacingWrapper,mpadded:h.GenericSpacingWrapper}},5243:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ErrorHandler=void 0,a.ErrorHandler=class{constructor(){this._errors=[],this.errorLocator={}}fixError(l,c){return this._isMissingAttributeValueError(c)?(this._errors.push(c),this._fixMissingAttribute(c,l)):l}isThereAnyErrors(){return this._errors.length>0}cleanErrors(){this._errors=[]}_fixMissingAttribute(l,c){const u=l.split('"')[1];if(u)return c.replace(this._matchMissingValueForAttribute(u),"");for(;this._mathGenericMissingValue().exec(c);)c=c.replace(this._mathGenericMissingValue(),"$1$3");return c}_matchMissingValueForAttribute(l){return new RegExp(`(${l}=(?!("|')))|(${l}(?!("|')))`,"gm")}_mathGenericMissingValue(){return/(\<.* )(\w+=(?!\"|\'))(.*\>)/gm}_isMissingAttributeValueError(l){return!!l.includes("attribute")&&!!l.includes("missed")||l.includes("attribute value missed")}}},9208:function(s,a,l){var c=this&&this.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f);var v=Object.getOwnPropertyDescriptor(h,f);v&&!("get"in v?!h.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,v)}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),u=this&&this.__exportStar||function(d,h){for(var f in d)f==="default"||Object.prototype.hasOwnProperty.call(h,f)||c(h,d,f)};Object.defineProperty(a,"__esModule",{value:!0}),u(l(9548),a),u(l(5243),a),u(l(1101),a)},1101:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ElementsToMathMLAdapter=void 0,a.ElementsToMathMLAdapter=class{convert(l){return l.filter(c=>c.tagName!==void 0).map(c=>this._convertElement(c))}_convertElement(l){return{name:l.tagName,attributes:this._convertElementAttributes(l.attributes),value:this._hasElementChild(l)?"":l.textContent||"",children:this._hasElementChild(l)?this.convert(Array.from(l.childNodes)):[]}}_convertElementAttributes(l){return Array.from(l).reduce((c,u)=>Object.assign({[u.nodeName]:u.nodeValue===u.nodeName?"":u.nodeValue},c),{})}_hasElementChild(l){const c=l.childNodes;return!!c&&c.length!==0&&this._isThereAnyNoTextNode(c)}_isThereAnyNoTextNode(l){return Array.from(l).some(c=>c.nodeName!=="#text")}}},9548:function(s,a,l){var c=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(a,"__esModule",{value:!0}),a.XmlToMathMLAdapter=void 0;const u=c(l(8978));a.XmlToMathMLAdapter=class{constructor(d,h){this._xml="",this._elementsConvertor=d,this._errorHandler=h,this._xmlDOM=new u.default.DOMParser({locator:this._errorHandler.errorLocator,errorHandler:this._fixError.bind(this)})}convert(d){return this._xml=this._removeLineBreaks(d),this._xml=this._removeMsWordPrefixes(this._xml),this._elementsConvertor.convert(this._mathMLElements)}_fixError(d){this._xml=this._errorHandler.fixError(this._xml,d)}_removeLineBreaks(d){return d.replace(/\n|\r\n|\r/g,"")}_removeMsWordPrefixes(d){return d.replace(/mml:/g,"")}get _mathMLElements(){let d=this._xmlDOM.parseFromString(this._xml).getElementsByTagName("math");return this._errorHandler.isThereAnyErrors()&&(this._errorHandler.cleanErrors(),d=this._xmlDOM.parseFromString(this._xml).getElementsByTagName("math")),Array.from(d)}}},7941:function(s,a,l){var c=this&&this.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f);var v=Object.getOwnPropertyDescriptor(h,f);v&&!("get"in v?!h.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,v)}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),u=this&&this.__exportStar||function(d,h){for(var f in d)f==="default"||Object.prototype.hasOwnProperty.call(h,f)||c(h,d,f)};Object.defineProperty(a,"__esModule",{value:!0}),u(l(8585),a)},8585:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.makeToMathElementsConverter=void 0;const c=l(9208);a.makeToMathElementsConverter=()=>{const u=new c.ElementsToMathMLAdapter,d=new c.ErrorHandler;return new c.XmlToMathMLAdapter(u,d)}},8672:function(s,a,l){var c=this&&this.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f);var v=Object.getOwnPropertyDescriptor(h,f);v&&!("get"in v?!h.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,v)}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),u=this&&this.__exportStar||function(d,h){for(var f in d)f==="default"||Object.prototype.hasOwnProperty.call(h,f)||c(h,d,f)};Object.defineProperty(a,"__esModule",{value:!0}),u(l(3798),a)},3798:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MathMLToLaTeX=void 0;const c=l(5443),u=l(7941);a.MathMLToLaTeX=class{static convert(d){return(0,u.makeToMathElementsConverter)().convert(d).map(h=>new c.MathMLElementToLatexConverterAdapter(h).toLatexConverter()).map(h=>h.convert()).join("").trim()}}},2965:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.allMathOperatorsByChar=void 0,a.allMathOperatorsByChar={_:"\\underline","&#x23E1;":"\\underbrace","&#x23E0;":"\\overbrace","&#x23DF;":"\\underbrace","&#x23DE;":"\\overbrace","&#x23DD;":"\\underbrace","&#x23DC;":"\\overbrace","&#x23B5;":"\\underbrace","&#x23B4;":"\\overbrace","&#x20DC;":"\\square","&#x20DB;":"\\square","&#x2064;":"","&#x2057;":"''''","&#x203E;":"\\bar","&#x2037;":"```","&#x2036;":"``","&#x2035;":"`","&#x2034;":"'''","&#x2033;":"''","&#x201F;":"``","&#x201E;":",,","&#x201B;":"`","&#x201A;":",","&#x302;":"\\hat","&#x2F7;":"\\sim","&#x2DD;":"\\sim","&#x2DC;":"\\sim","&#x2DA;":"\\circ","&#x2D9;":"\\cdot","&#x2D8;":"","&#x2CD;":"\\_","&#x2CB;":"","&#x2CA;":"","&#x2C9;":"","&#x2C7;":"","&#x2C6;":"\\hat","&#xBA;":"o","&#xB9;":"1","&#xB8;":"","&#xB4;":"","&#xB3;":"3","&#xB2;":"2","&#xB0;":"\\circ","&#xAF;":"\\bar","&#xAA;":"a","&#xA8;":"\\cdot\\cdot","~":"\\sim","`":"`","^":"\\hat","--":"--","++":"++","&amp;":"\\&","&#x2061;":"","&#x221C;":"\\sqrt[4]{}","&#x221B;":"\\sqrt[3]{}","&#x221A;":"\\sqrt{}","&#x2146;":"d","&#x2145;":"\\mathbb{D}","?":"?","@":"@","//":"//","!!":"!!","!":"!","&#x266F;":"\\#","&#x266E;":"","&#x266D;":"","&#x2032;":"'","&lt;>":"<>","**":"\\star\\star","&#x2207;":"\\nabla","&#x2202;":"\\partial","&#x2299;":"\\bigodot","&#xAC;":"\\neg","&#x2222;":"\\measuredangle","&#x2221;":"\\measuredangle","&#x2220;":"\\angle","&#xF7;":"\\div","/":"/","&#x2216;":"\\backslash","\\":"\\backslash","%":"\\%","&#x2297;":"\\bigotimes","&#xB7;":"\\cdot","&#x2A3F;":"\\coprod","&#x2A2F;":"\\times","&#x22C5;":"\\cdot","&#x22A1;":"\\boxdot","&#x22A0;":"\\boxtimes","&#x2062;":"","&#x2043;":"-","&#x2022;":"\\cdot","&#xD7;":"\\times",".":".","*":"\\star","&#x222A;":"\\cup","&#x2229;":"\\cap","&#x2210;":"\\coprod","&#x220F;":"\\prod","&#x2240;":"","&#x2AFF;":"","&#x2AFC;":"\\mid\\mid\\mid","&#x2A09;":"\\times","&#x2A08;":"","&#x2A07;":"","&#x2A06;":"\\sqcup","&#x2A05;":"\\sqcap","&#x2A02;":"\\otimes","&#x2A00;":"\\odot","&#x22C2;":"\\cap","&#x22C1;":"\\vee","&#x22C0;":"\\wedge","&#x2A04;":"\\uplus","&#x2A03;":"\\cup","&#x22C3;":"\\cup","&#x2A1C;":"\\underline{\\int}","&#x2A1B;":"\\overline{\\int}","&#x2A1A;":"\\int","&#x2A19;":"\\int","&#x2A18;":"\\int","&#x2A17;":"\\int","&#x2A16;":"\\oint","&#x2A15;":"\\oint","&#x2A14;":"\\int","&#x2A13;":"\\int","&#x2A12;":"\\int","&#x2A11;":"\\int","&#x2A10;":"\\int","&#x2A0F;":"\\bcancel{\\int}","&#x2A0E;":"","&#x2A0D;":"\\hcancel{\\int}","&#x2A0C;":"\\iiiint","&#x2233;":"\\oint","&#x2232;":"\\oint","&#x2231;":"\\int","&#x2230;":"\\oiint","&#x222F;":"\\oiint","&#x222E;":"\\oint","&#x222B;":"\\int","&#x2A01;":"\\oplus","&#x2298;":"\\oslash","&#x2296;":"\\ominus","&#x2295;":"\\oplus","&#x222D;":"\\iiint","&#x222C;":"\\iint","&#x2A0B;":"","&#x2A0A;":"","&#x2211;":"\\sum","&#x229F;":"\\boxminus","&#x229E;":"\\boxplus","&#x2214;":"\\dot{+}","&#x2213;":"+-","&#x2212;":"-","&#xB1;":"\\pm","-":"-","+":"+","&#x2B46;":"\\Rrightarrow","&#x2B45;":"\\Lleftarrow","&#x29F4;":":\\rightarrow","&#x29EF;":"","&#x29DF;":"\\bullet-\\bullet","&#x299F;":"\\angle","&#x299E;":"\\measuredangle","&#x299D;":"\\measuredangle","&#x299C;":"\\perp","&#x299B;":"\\measuredangle","&#x299A;":"","&#x2999;":"\\vdots","&#x297F;":"","&#x297E;":"","&#x297D;":"\\prec","&#x297C;":"\\succ","&#x297B;":"\\underset{\\rightarrow}{\\supset}","&#x297A;":"","&#x2979;":"\\underset{\\rightarrow}{\\subset}","&#x2978;":"\\underset{\\rightarrow}{>}","&#x2977;":"","&#x2976;":"\\underset{\\leftarrow}{<}","&#x2975;":"\\underset{\\approx}{\\rightarrow}","&#x2974;":"\\underset{\\sim}{\\rightarrow}","&#x2973;":"\\underset{\\sim}{\\leftarrow}","&#x2972;":"\\overset{\\sim}{\\rightarrow}","&#x2971;":"\\overset{=}{\\rightarrow}","&#x2970;":"","&#x296F;":"","&#x296E;":"","&#x296D;":"\\overline{\\rightharpoondown}","&#x296C;":"\\underline{\\rightharpoonup}","&#x296B;":"\\overline{\\leftharpoondown}","&#x296A;":"\\underline{\\leftharpoonup}","&#x2969;":"\\rightleftharpoons","&#x2968;":"\\rightleftharpoons","&#x2967;":"\\rightleftharpoons","&#x2966;":"\\rightleftharpoons","&#x2965;":"\\Downarrow","&#x2964;":"\\Rightarrow","&#x2963;":"\\Uparrow","&#x2962;":"\\Leftarrow","&#x2961;":"\\downarrow","&#x2960;":"\\uparrow","&#x295F;":"\\rightarrow","&#x295E;":"\\leftarrow","&#x295D;":"\\downarrow","&#x295C;":"\\uparrow","&#x295B;":"\\rightarrow","&#x295A;":"\\leftarrow","&#x2959;":"\\downarrow","&#x2958;":"\\uparrow","&#x2957;":"\\rightarrow","&#x2956;":"\\leftarrow","&#x2955;":"\\downarrow","&#x2954;":"\\uparrow","&#x2953;":"\\rightarrow","&#x2952;":"\\leftarrow","&#x2951;":"\\updownarrow","&#x2950;":"\\leftrightarrow","&#x294F;":"\\updownarrow","&#x294E;":"\\leftrightarrow","&#x294D;":"\\updownarrow","&#x294C;":"\\updownarrow","&#x294B;":"\\leftrightarrow","&#x294A;":"\\leftrightarrow","&#x2949;":"","&#x2948;":"\\leftrightarrow","&#x2947;":"\\nrightarrow","&#x2946;":"","&#x2945;":"","&#x2944;":"\\rightleftarrows","&#x2943;":"\\leftrightarrows","&#x2942;":"\\rightleftarrows","&#x2941;":"\\circlearrowright","&#x2940;":"\\circlearrowleft","&#x293F;":"\\rightarrow","&#x293E;":"\\leftarrow","&#x293D;":"","&#x293C;":"","&#x293B;":"","&#x293A;":"","&#x2939;":"","&#x2938;":"","&#x2937;":"\\Rsh","&#x2936;":"\\Lsh","&#x2935;":"\\downarrow","&#x2934;":"\\uparrow","&#x2933;":"\\leadsto","&#x2932;":"","&#x2931;":"","&#x2930;":"","&#x292F;":"","&#x292E;":"","&#x292D;":"","&#x292C;":"\\times","&#x292B;":"\\times","&#x292A;":"","&#x2929;":"","&#x2928;":"","&#x2927;":"","&#x2926;":"","&#x2925;":"","&#x2924;":"","&#x2923;":"","&#x2922;":"","&#x2921;":"","&#x2920;":"\\mapsto\\cdot","&#x291F;":"\\cdot\\leftarrow","&#x291E;":"\\rightarrow\\cdot","&#x291D;":"\\leftarrow","&#x291C;":"\\rightarrow","&#x291B;":"\\leftarrow","&#x291A;":"\\rightarrow","&#x2919;":"\\leftarrow","&#x2918;":"\\rightarrow","&#x2917;":"\\rightarrow","&#x2916;":"\\rightarrow","&#x2915;":"\\rightarrow","&#x2914;":"\\rightarrow","&#x2913;":"\\downarrow","&#x2912;":"\\uparrow","&#x2911;":"\\rightarrow","&#x2910;":"\\rightarrow","&#x290F;":"\\rightarrow","&#x290E;":"\\leftarrow","&#x290D;":"\\rightarrow","&#x290C;":"\\leftarrow","&#x290B;":"\\Downarrow","&#x290A;":"\\Uparrow","&#x2909;":"\\uparrow","&#x2908;":"\\downarrow","&#x2907;":"\\Rightarrow","&#x2906;":"\\Leftarrow","&#x2905;":"\\mapsto","&#x2904;":"\\nLeftrightarrow","&#x2903;":"\\nRightarrow","&#x2902;":"\\nLeftarrow","&#x2901;":"\\rightsquigarrow","&#x2900;":"\\rightsquigarrow","&#x27FF;":"\\rightsquigarrow","&#x27FE;":"\\Rightarrow","&#x27FD;":"\\Leftarrow","&#x27FC;":"\\mapsto","&#x27FB;":"\\leftarrow","&#x27FA;":"\\Longleftrightarrow","&#x27F9;":"\\Longrightarrow","&#x27F8;":"\\Longleftarrow","&#x27F7;":"\\leftrightarrow","&#x27F6;":"\\rightarrow","&#x27F5;":"\\leftarrow","&#x27F1;":"\\Downarrow","&#x27F0;":"\\Uparrow","&#x22B8;":"\\rightarrow","&#x21FF;":"\\leftrightarrow","&#x21FE;":"\\rightarrow","&#x21FD;":"\\leftarrow","&#x21FC;":"\\nleftrightarrow","&#x21FB;":"\\nrightarrow","&#x21FA;":"\\nleftarrow","&#x21F9;":"\\nleftrightarrow","&#x21F8;":"\\nrightarrow","&#x21F7;":"\\nleftarrow","&#x21F6;":"\\Rrightarrow","&#x21F5;":"","&#x21F4;":"\\rightarrow","&#x21F3;":"\\Updownarrow","&#x21F2;":"\\searrow","&#x21F1;":"\\nwarrow","&#x21F0;":"\\Leftarrow","&#x21EF;":"\\Uparrow","&#x21EE;":"\\Uparrow","&#x21ED;":"\\Uparrow","&#x21EC;":"\\Uparrow","&#x21EB;":"\\Uparrow","&#x21EA;":"\\Uparrow","&#x21E9;":"\\Downarrow","&#x21E8;":"\\Rightarrow","&#x21E7;":"\\Uparrow","&#x21E6;":"\\Leftarrow","&#x21E5;":"\\rightarrow","&#x21E4;":"\\leftarrow","&#x21E3;":"\\downarrow","&#x21E2;":"\\rightarrow","&#x21E1;":"\\uparrow","&#x21E0;":"\\leftarrow","&#x21DF;":"\\downarrow","&#x21DE;":"\\uparrow","&#x21DD;":"\\rightsquigarrow","&#x21DC;":"\\leftarrow","&#x21DB;":"\\Rrightarrow","&#x21DA;":"\\Lleftarrow","&#x21D9;":"\\swarrow","&#x21D8;":"\\searrow","&#x21D7;":"\\nearrow","&#x21D6;":"\\nwarrow","&#x21D5;":"\\Updownarrow","&#x21D4;":"\\Leftrightarrow","&#x21D3;":"\\Downarrow","&#x21D2;":"\\Rightarrow","&#x21D1;":"\\Uparrow","&#x21D0;":"\\Leftarrow","&#x21CF;":"\\nRightarrow","&#x21CE;":"\\nLeftrightarrow","&#x21CD;":"\\nLeftarrow","&#x21CC;":"\\rightleftharpoons","&#x21CB;":"\\leftrightharpoons","&#x21CA;":"\\downdownarrows","&#x21C9;":"\\rightrightarrows","&#x21C8;":"\\upuparrows","&#x21C7;":"\\leftleftarrows","&#x21C6;":"\\leftrightarrows","&#x21C5;":"","&#x21C4;":"\\rightleftarrows","&#x21C3;":"\\downharpoonleft","&#x21C2;":"\\downharpoonright","&#x21C1;":"\\rightharpoondown","&#x21C0;":"\\rightharpoonup","&#x21BF;":"\\upharpoonleft","&#x21BE;":"\\upharpoonright","&#x21BD;":"\\leftharpoondown","&#x21BC;":"\\leftharpoonup","&#x21BB;":"\\circlearrowright","&#x21BA;":"\\circlearrowleft","&#x21B9;":"\\leftrightarrows","&#x21B8;":"\\overline{\\nwarrow}","&#x21B7;":"\\curvearrowright","&#x21B6;":"\\curvearrowleft","&#x21B5;":"\\swarrow","&#x21B4;":"\\searrow","&#x21B3;":"\\Rsh","&#x21B2;":"\\Lsh","&#x21B1;":"\\Rsh","&#x21B0;":"\\Lsh","&#x21AF;":"\\swarrow","&#x21AE;":"","&#x21AD;":"\\leftrightsquigarrow","&#x21AC;":"\\looparrowright","&#x21AB;":"\\looparrowleft","&#x21AA;":"\\hookrightarrow","&#x21A9;":"\\hookleftarrow","&#x21A8;":"\\underline{\\updownarrow}","&#x21A7;":"\\downarrow","&#x21A6;":"\\rightarrowtail","&#x21A5;":"\\uparrow","&#x21A4;":"\\leftarrowtail","&#x21A3;":"\\rightarrowtail","&#x21A2;":"\\leftarrowtail","&#x21A1;":"\\downarrow","&#x21A0;":"\\twoheadrightarrow","&#x219F;":"\\uparrow","&#x219E;":"\\twoheadleftarrow","&#x219D;":"\\nearrow","&#x219C;":"\\nwarrow","&#x219B;":"","&#x219A;":"","&#x2199;":"\\swarrow","&#x2198;":"\\searrow","&#x2197;":"\\nearrow","&#x2196;":"\\nwarrow","&#x2195;":"\\updownarrow","&#x2194;":"\\leftrightarrow","&#x2193;":"\\downarrow","&#x2192;":"\\rightarrow","&#x2191;":"\\uparrow","&#x2190;":"\\leftarrow","|||":"\\left|||\\right.","||":"\\left||\\right.","|":"\\left|\\right.","&#x2AFE;":"","&#x2AFD;":"//","&#x2AFB;":"///","&#x2AFA;":"","&#x2AF9;":"","&#x2AF8;":"","&#x2AF7;":"","&#x2AF6;":"\\vdots","&#x2AF5;":"","&#x2AF4;":"","&#x2AF3;":"","&#x2AF2;":"\\nparallel","&#x2AF1;":"","&#x2AF0;":"","&#x2AEF;":"","&#x2AEE;":"\\bcancel{\\mid}","&#x2AED;":"","&#x2AEC;":"","&#x2AEB;":"","&#x2AEA;":"","&#x2AE9;":"","&#x2AE8;":"\\underline{\\perp}","&#x2AE7;":"\\overline{\\top}","&#x2AE6;":"","&#x2AE5;":"","&#x2AE4;":"","&#x2AE3;":"","&#x2AE2;":"","&#x2AE1;":"","&#x2AE0;":"\\perp","&#x2ADF;":"\\top","&#x2ADE;":"\\dashv","&#x2ADD;&#x338;":"","&#x2ADD;":"","&#x2ADB;":"\\pitchfork","&#x2ADA;":"","&#x2AD9;":"","&#x2AD8;":"","&#x2AD7;":"","&#x2AD6;":"","&#x2AD5;":"","&#x2AD4;":"","&#x2AD3;":"","&#x2AD2;":"","&#x2AD1;":"","&#x2AD0;":"","&#x2ACF;":"","&#x2ACE;":"","&#x2ACD;":"","&#x2ACC;":"\\underset{\\neq}{\\supset}","&#x2ACB;":"\\underset{\\neq}{\\subset}","&#x2ACA;":"\\underset{\\approx}{\\supset}","&#x2AC9;":"\\underset{\\approx}{\\subset}","&#x2AC8;":"\\underset{\\sim}{\\supset}","&#x2AC7;":"\\underset{\\sim}{\\subset}","&#x2AC6;":"\\supseteqq","&#x2AC5;":"\\subseteqq","&#x2AC4;":"\\dot{\\supseteq}","&#x2AC3;":"\\dot{\\subseteq}","&#x2AC2;":"\\underset{\\times}{\\supset}","&#x2AC1;":"\\underset{\\times}{\\subset}","&#x2AC0;":"\\underset{+}{\\supset}","&#x2ABF;":"\\underset{+}{\\subset}","&#x2ABE;":"","&#x2ABD;":"","&#x2ABC;":"\\gg ","&#x2ABB;":"\\ll","&#x2ABA;":"\\underset{\\cancel{\\approx}}{\\succ}","&#x2AB9;":"\\underset{\\cancel{\\approx}}{\\prec}","&#x2AB8;":"\\underset{\\approx}{\\succ}","&#x2AB7;":"\\underset{\\approx}{\\prec}","&#x2AB6;":"\\underset{\\cancel{=}}{\\succ}","&#x2AB5;":"\\underset{\\cancel{=}}{\\prec}","&#x2AB4;":"\\underset{=}{\\succ}","&#x2AB3;":"\\underset{=}{\\prec}","&#x2AB2;":"","&#x2AB1;":"","&#x2AAE;":"","&#x2AAD;":"\\underline{\\hcancel{>}}","&#x2AAC;":"\\underline{\\hcancel{>}}","&#x2AAB;":"\\hcancel{>}","&#x2AAA;":"\\hcancel{<}","&#x2AA9;":"","&#x2AA8;":"","&#x2AA7;":"\\vartriangleright","&#x2AA6;":"\\vartriangleleft","&#x2AA5;":"><","&#x2AA4;":"><","&#x2AA3;":"\\underline{\\ll}","&#x2AA2;&#x338;":"\\cancel{\\gg}","&#x2AA2;":"\\gg","&#x2AA1;&#x338;":"\\cancel{\\ll}","&#x2AA1;":"\\ll","&#x2AA0;":"\\overset{\\sim}{\\geqq}","&#x2A9F;":"\\overset{\\sim}{\\leqq}","&#x2A9E;":"\\overset{\\sim}{>}","&#x2A9D;":"\\overset{\\sim}{<}","&#x2A9C;":"","&#x2A9B;":"","&#x2A9A;":"\\overset{=}{>}","&#x2A99;":"\\overset{=}{<}","&#x2A98;":"","&#x2A97;":"","&#x2A96;":"","&#x2A95;":"","&#x2A94;":"","&#x2A93;":"","&#x2A92;":"\\underset{=}{\\gtrless}","&#x2A91;":"\\underset{=}{\\lessgtr}","&#x2A90;":"\\underset{<}{\\gtrsim}","&#x2A8F;":"\\underset{>}{\\lesssim}","&#x2A8E;":"\\underset{\\simeq}{>}","&#x2A8D;":"\\underset{\\simeq}{<}","&#x2A8C;":"\\gtreqqless","&#x2A8B;":"\\lesseqqgtr","&#x2A8A;":"\\underset{\\cancel{\\approx}}{>}","&#x2A89;":"\\underset{\\approx}{<}","&#x2A86;":"\\underset{\\approx}{>}","&#x2A85;":"\\underset{\\approx}{<}","&#x2A84;":"","&#x2A83;":"","&#x2A82;":"","&#x2A81;":"","&#x2A80;":"","&#x2A7F;":"","&#x2A7E;&#x338;":"\\bcancel{\\geq}","&#x2A7E;":"\\geq","&#x2A7D;&#x338;":"\\bcancel{\\leq}","&#x2A7D;":"\\leq","&#x2A7C;":"","&#x2A7B;":"","&#x2A7A;":"","&#x2A79;":"","&#x2A78;":"\\overset{\\dots}{\\equiv}","&#x2A77;":"","&#x2A76;":"===","&#x2A75;":"==","&#x2A74;":"::=","&#x2A73;":"","&#x2A72;":"\\underset{=}{+}","&#x2A71;":"\\overset{=}{+}","&#x2A70;":"\\overset{\\approx}{=}","&#x2A6F;":"\\overset{\\wedge}{=}","&#x2A6E;":"\\overset{*}{=}","&#x2A6D;":"\\dot{\\approx}","&#x2A6C;":"","&#x2A6B;":"","&#x2A6A;":"\\dot{\\sim}","&#x2A69;":"","&#x2A68;":"","&#x2A67;":"\\dot{\\equiv}","&#x2A66;":"\\underset{\\cdot}{=}","&#x2A65;":"","&#x2A64;":"","&#x2A63;":"\\underset{=}{\\vee}","&#x2A62;":"\\overset{=}{\\vee}","&#x2A61;":"ul(vv)","&#x2A60;":"\\underset{=}{\\wedge}","&#x2A5F;":"\\underline{\\wedge}","&#x2A5E;":"\\overset{=}{\\wedge}","&#x2A5D;":"\\hcancel{\\vee}","&#x2A5C;":"\\hcancel{\\wedge}","&#x2A5B;":"","&#x2A5A;":"","&#x2A59;":"","&#x2A58;":"\\vee","&#x2A57;":"\\wedge","&#x2A56;":"","&#x2A55;":"","&#x2A54;":"","&#x2A53;":"","&#x2A52;":"\\dot{\\vee}","&#x2A51;":"\\dot{\\wedge}","&#x2A50;":"","&#x2A4F;":"","&#x2A4E;":"","&#x2A4D;":"\\overline{\\cap}","&#x2A4C;":"\\overline{\\cup}","&#x2A4B;":"","&#x2A4A;":"","&#x2A49;":"","&#x2A48;":"","&#x2A47;":"","&#x2A46;":"","&#x2A45;":"","&#x2A44;":"","&#x2A43;":"\\overline{\\cap}","&#x2A42;":"\\overline{\\cup}","&#x2A41;":"","&#x2A40;":"","&#x2A3E;":"","&#x2A3D;":"\\llcorner","&#x2A3C;":"\\lrcorner","&#x2A3B;":"","&#x2A3A;":"","&#x2A39;":"","&#x2A38;":"","&#x2A37;":"","&#x2A36;":"\\hat{\\otimes}","&#x2A35;":"","&#x2A34;":"","&#x2A33;":"","&#x2A32;":"\\underline{\\times}","&#x2A31;":"\\underline{\\times}","&#x2A30;":"\\dot{\\times}","&#x2A2E;":"","&#x2A2D;":"","&#x2A2C;":"","&#x2A2B;":"","&#x2A2A;":"","&#x2A29;":"","&#x2A28;":"","&#x2A27;":"","&#x2A26;":"\\underset{\\sim}{+}","&#x2A25;":"\\underset{\\circ}{+}","&#x2A24;":"\\overset{\\sim}{+}","&#x2A23;":"\\hat{+}","&#x2A22;":"\\dot{+}","&#x2A21;":"\\upharpoonright","&#x2A20;":">>","&#x2A1F;":"","&#x2A1E;":"\\triangleleft","&#x2A1D;":"\\bowtie","&#x29FF;":"","&#x29FE;":"+","&#x29FB;":"\\hcancel{|||}","&#x29FA;":"\\hcancel{||}","&#x29F9;":"\\backslash","&#x29F8;":"/","&#x29F7;":"hcancel{\backslash}","&#x29F6;":"","&#x29F5;":"\\backslash","&#x29F2;":"\\Phi","&#x29F1;":"","&#x29F0;":"","&#x29EE;":"","&#x29ED;":"","&#x29EC;":"","&#x29EB;":"\\lozenge","&#x29EA;":"","&#x29E9;":"","&#x29E8;":"","&#x29E7;":"\\ddagger","&#x29E2;":"\\sqcup\\sqcup","&#x29E1;":"","&#x29E0;":"\\square","&#x29DE;":"","&#x29DD;":"","&#x29DC;":"","&#x29DB;":"\\{\\{","&#x29D9;":"\\{","&#x29D8;":"\\}","&#x29D7;":"","&#x29D6;":"","&#x29D5;":"\\bowtie","&#x29D4;":"\\bowtie","&#x29D3;":"\\bowtie","&#x29D2;":"\\bowtie","&#x29D1;":"\\bowtie","&#x29D0;&#x338;":"| \\not\\triangleright","&#x29D0;":"| \\triangleright","&#x29CF;&#x338;":"\\not\\triangleleft |","&#x29CF;":"\\triangleleft |","&#x29CE;":"","&#x29CD;":"\\triangle","&#x29CC;":"","&#x29CB;":"\\underline{\\triangle}","&#x29CA;":"\\dot{\\triangle}","&#x29C9;":"","&#x29C8;":"\\boxed{\\circ}","&#x29C7;":"\\boxed{\\circ}","&#x29C6;":"\\boxed{\\rightarrow}","&#x29C5;":"\\bcancel{\\square}","&#x29C4;":"\\cancel{\\square}","&#x29C3;":"\\odot","&#x29C2;":"\\odot","&#x29BF;":"\\odot","&#x29BE;":"\\odot","&#x29BD;":"\\varnothing","&#x29BC;":"\\oplus","&#x29BB;":"\\otimes","&#x29BA;":"","&#x29B9;":"\\varnothing","&#x29B8;":"\\varnothing","&#x29B7;":"\\ominus","&#x29B6;":"\\ominus","&#x29B5;":"\\ominus","&#x29B4;":"\\vec{\\varnothing}","&#x29B3;":"\\vec{\\varnothing}","&#x29B2;":"\\dot{\\varnothing}","&#x29B1;":"\\overline{\\varnothing}","&#x29B0;":"\\varnothing","&#x29AF;":"","&#x29AE;":"","&#x29AD;":"","&#x29AC;":"","&#x29AB;":"","&#x29AA;":"","&#x29A9;":"","&#x29A8;":"","&#x29A7;":"","&#x29A6;":"","&#x29A5;":"","&#x29A4;":"","&#x29A3;":"","&#x29A2;":"","&#x29A1;":"\\not\\lor","&#x29A0;":"\\bcancel{>}","&#x2982;":":","&#x2981;":"\\circ","&#x2758;":"|","&#x25B2;":"\\bigtriangleup","&#x22FF;":"\\Epsilon","&#x22FE;":"\\overline{\\ni}","&#x22FD;":"\\overline{\\ni}","&#x22FC;":"\\in","&#x22FB;":"\\in","&#x22FA;":"\\in","&#x22F9;":"\\underline{\\in}","&#x22F8;":"\\underline{\\in}","&#x22F7;":"\\overline{\\in}","&#x22F6;":"\\overline{\\in}","&#x22F5;":"\\dot{\\in}","&#x22F4;":"\\in","&#x22F3;":"\\in","&#x22F2;":"\\in","&#x22F0;":"\\ddots","&#x22E9;":"\\underset{\\sim}{\\succ}","&#x22E8;":"\\underset{\\sim}{\\prec}","&#x22E7;":"\\underset{\\not\\sim}{>}","&#x22E6;":"\\underset{\\not\\sim}{<}","&#x22E5;":"\\not\\sqsupseteq","&#x22E4;":"\\not\\sqsubseteq","&#x22E3;":"\\not\\sqsupseteq","&#x22E2;":"\\not\\sqsubseteq","&#x22E1;":"\\nsucc","&#x22E0;":"\\nprec","&#x22DF;":"\\succ","&#x22DE;":"\\prec","&#x22DD;":"\\overline{>}","&#x22DC;":"\\overline{<}","&#x22DB;":"\\underset{>}{\\leq}","&#x22DA;":"\\underset{<}{\\geq}","&#x22D5;":"\\#","&#x22D3;":"\\cup","&#x22D2;":"\\cap","&#x22D1;":"\\supset","&#x22D0;":"\\subset","&#x22CF;":"\\wedge","&#x22CE;":"\\vee","&#x22CD;":"\\simeq","&#x22C8;":"\\bowtie","&#x22C7;":"\\ast","&#x22C6;":"\\star","&#x22C4;":"\\diamond","&#x22BF;":"\\triangle","&#x22BE;":"\\measuredangle","&#x22BD;":"\\overline{\\lor}","&#x22BC;":"\\overline{\\land}","&#x22BB;":"\\underline{\\lor}","&#x22BA;":"\\top","&#x22B9;":"","&#x22B7;":"\\circ\\multimap","&#x22B6;":"\\circ\\multimap","&#x22B3;":"\\triangleright","&#x22B2;":"\\triangleleft","&#x22B1;":"\\succ","&#x22B0;":"\\prec","&#x22AB;":"|\\models","&#x22AA;":"|\\models","&#x22A7;":"\\models","&#x22A6;":"\\vdash","&#x229D;":"\\ominus","&#x229C;":"\\ominus","&#x229B;":"\\odot","&#x229A;":"\\odot","&#x2294;":"\\sqcup","&#x2293;":"\\sqcap","&#x2292;":"\\sqsupseteq","&#x2291;":"\\sqsubseteq","&#x2290;&#x338;":"\\not\\sqsupset","&#x2290;":"\\sqsupset","&#x228F;&#x338;":"\\not\\sqsubset","&#x228F;":"\\sqsubset","&#x228E;":"\\cup","&#x228D;":"\\cup","&#x228C;":"\\cup","&#x227F;&#x338;":"\\not\\succsim","&#x227F;":"\\succsim","&#x227E;":"\\precsim","&#x2279;":"\\not\\overset{>}{<}","&#x2278;":"\\not\\overset{>}{<}","&#x2277;":"\\overset{>}{<}","&#x2276;":"\\overset{<}{>}","&#x2275;":"\\not\\geg","&#x2274;":"\\not\\leq","&#x2273;":"\\geg","&#x2272;":"\\leq","&#x226C;":"","&#x2267;":"\\geg","&#x2266;&#x338;":"\\not\\leq","&#x2266;":"\\leq","&#x2263;":"\\overset{=}{=} ","&#x225E;":"\\overset{m}{=} ","&#x225D;":"\\overset{def}{=}","&#x2258;":"=","&#x2256;":"=","&#x2255;":"=:","&#x2253;":"\\doteq","&#x2252;":"\\doteq","&#x2251;":"\\doteq","&#x2250;":"\\doteq","&#x224F;&#x338;":"","&#x224F;":"","&#x224E;&#x338;":"","&#x224E;":"","&#x224C;":"\\approx","&#x224B;":"\\approx","&#x224A;":"\\approx","&#x2242;&#x338;":"\\neq","&#x2242;":"=","&#x223F;":"\\sim","&#x223E;":"\\infty","&#x223D;&#x331;":"\\sim","&#x223D;":"\\sim","&#x223B;":"\\sim","&#x223A;":":-:","&#x2239;":"-:","&#x2238;":"\\bot","&#x2237;":"::","&#x2236;":":","&#x2223;":"|","&#x221F;":"\\llcorner","&#x2219;":"\\cdot","&#x2218;":"\\circ","&#x2217;":"*","&#x2215;":"/","&#x220E;":"\\square","&#x220D;":"\\ni","&#x220A;":"\\in","&#x2206;":"\\Delta","&#x2044;":"/","&#x2AB0;&#x338;":"\\nsucceq","&#x2AB0;":"\\succeq","&#x2AAF;&#x338;":"\\npreceq","&#x2AAF;":"\\preceq","&#x2A88;":"\\ngeqslant","&#x2A87;":"\\nleqslant","&#x29F3;":"\\Phi","&#x29E6;":"\\models","&#x29E5;":"\\not\\equiv","&#x29E4;":"\\approx\\neq","&#x29E3;":"\\neq","&#x29C1;":"\\circle","&#x29C0;":"\\circle","&#x25E6;":"\\circle","&#x25D7;":"\\circle","&#x25D6;":"\\circle","&#x25CF;":"\\circle","&#x25CE;":"\\circledcirc","&#x25CD;":"\\circledcirc","&#x25CC;":"\\circledcirc","&#x25C9;":"\\circledcirc","&#x25C8;":"\\diamond","&#x25C7;":"\\diamond","&#x25C6;":"\\diamond","&#x25C5;":"\\triangleleft","&#x25C4;":"\\triangleleft","&#x25C3;":"\\triangleleft","&#x25C2;":"\\triangleleft","&#x25C1;":"\\triangleleft","&#x25C0;":"\\triangleleft","&#x25BF;":"\\triangledown","&#x25BE;":"\\triangledown","&#x25BD;":"\\triangledown","&#x25BC;":"\\triangledown","&#x25B9;":"\\triangleright","&#x25B8;":"\\triangleright","&#x25B7;":"\\triangleright","&#x25B6;":"\\triangleright","&#x25B5;":"\\triangle","&#x25B4;":"\\triangle","&#x25B3;":"\\triangle","&#x25B1;":"\\square","&#x25B0;":"\\square","&#x25AF;":"\\square","&#x25AE;":"\\square","&#x25AD;":"\\square","&#x25AB;":"\\square","&#x25AA;":"\\square","&#x25A1;":"\\square","&#x25A0;":"\\square","&#x22ED;":"\\not\\triangleright","&#x22EC;":"\\not\\triangleleft","&#x22EB;":"\\not\\triangleright","&#x22EA;":"\\not\\triangleleft","&#x22D9;":"\\ggg","&#x22D8;":"\\lll","&#x22D7;":"*>","&#x22D6;":"<*","&#x22D4;":"\\pitchfork","&#x22CC;":"","&#x22CB;":"","&#x22CA;":"\\rtimes","&#x22C9;":"\\ltimes","&#x22B5;":"\\triangleright","&#x22B4;":"","&#x22A5;":"\\bot","&#x2281;":"\\nsucc","&#x2280;":"\\preceq","&#x227D;":"\\succeq","&#x227C;":"\\preceq","&#x227B;":"\\succ","&#x227A;":"\\prec","&#x2271;":"\\geq/","&#x2270;":"\\leq/","&#x226D;":"\\neq","&#x226B;&#x338;":"\\not\\gg","&#x226B;":"\\gg","&#x226A;&#x338;":"\\not\\ll","&#x226A;":"\\ll","&#x2269;":"\\ngeqslant","&#x2268;":"\\nleqslant","&#x2261;":"\\equiv","&#x225F;":"\\doteq","&#x225C;":"\\triangleq","&#x225B;":"\\doteq","&#x225A;":"\\triangleq","&#x2259;":"\\triangleq","&#x2257;":"\\doteq","&#x2254;":":=","&#x224D;":"\\asymp","&#x2247;":"\\ncong","&#x2246;":"\\ncong","&#x2245;":"\\cong","&#x2244;":"\\not\\simeq","&#x2243;":"\\simeq","&#x2241;":"\\not\\sim","&#x2226;":"\\not\\parallel","&#x2225;":"\\parallel","&#x2224;":"\\not|","&#x221D;":"\\propto","==":"==","=":"=",":=":":=","/=":"=","-=":"-=","+=":"+=","*=":"*=","!=":"!=","&#x2260;":"\\neq","&#x2262;":"\\equiv /","&#x2249;":"\\approx /","&#x223C;":"sim","&#x2248;":"\\approx","&#x226E;":"</","&lt;":"<","&#x226F;":">/",">=":">=",">":">","&#x2265;":"\\geq","&#x2264;":"\\leq","&lt;=":"<=","&#x228B;":"\\supsetneq","&#x228A;":"\\subsetneq","&#x2289;":"\\nsupseteq","&#x2288;":"\\nsubseteq","&#x2287;":"\\supseteq","&#x2286;":"\\subseteq","&#x2285;":"\\not\\supset","&#x2284;":"\\not\\subset","&#x2283;&#x20D2;":"\\supset |","&#x2283;":"\\supset","&#x2282;&#x20D2;":"\\subset |","&#x2282;":"\\subset","&#x220C;":"\\not\\in","&#x2209;":"\\notin","&#x2208;":"\\in","&#x2201;":"C","&#x2204;":"\\nexists","&#x2203;":"\\exists","&#x2200;":"\\forall","&#x2227;":"\\land","&amp;&amp;":"\\&\\&","&#x2228;":"\\lor","&#x22AF;":"\\cancel{\\vDash}","&#x22AE;":"\\cancel{\\Vdash}","&#x22AD;":"\\nvDash","&#x22AC;":"\\nvDash","&#x22A9;":"\\Vdash","&#x22A8;":"\\vDash","&#x22A4;":"\\top","&#x22A3;":"\\dashv","&#x22A2;":"\\vdash","&#x220B;":"\\ni","&#x22F1;":"\\ddots","&#x22EF;":"\\hdots","&#x22EE;":"\\vdots","&#x2026;":"\\hdots","&#x3F6;":"\\ni",":":":","...":"\\cdots","..":"..","->":"->","&#x2235;":"\\because","&#x2234;":"\\therefore ","&#x2063;":"",",":",",";":";","&#x29FD;":"\\}","&#x29FC;":"\\{","&#x2998;":"\\]","&#x2997;":"\\[","&#x2996;":"\\ll","&#x2995;":"\\gg","&#x2994;":"\\gg","&#x2993;":"\\ll","&#x2992;":"\\gg","&#x2991;":"\\ll","&#x2990;":"\\]","&#x298F;":"\\]","&#x298E;":"\\]","&#x298D;":"\\[","&#x298C;":"\\[","&#x298B;":"\\]","&#x298A;":"\\triangleright","&#x2989;":"\\triangleleft","&#x2988;":"|\\)","&#x2987;":"\\(|","&#x2986;":"|\\)","&#x2985;":"\\(\\(","&#x2984;":"|\\}","&#x2983;":"\\{|","&#x2980;":"\\||","&#x27EF;":"\\left. \\right]","&#x27EE;":"\\left[ \\right.","&#x27ED;":"\\left. \\right]]","&#x27EC;":"\\left[[ \\right.","&#x27EB;":"\\gg","&#x27EA;":"\\ll","&#x27E9;":"\\rangle","&#x27E8;":"\\langle","&#x27E7;":"\\left. \\right]]","&#x27E6;":"\\left[[ \\right.","&#x2773;":"\\left.\\right)","&#x2772;":"\\left(\\right.","&#x232A;":"\\rangle","&#x2329;":"\\langle","&#x230B;":"\\rfloor","&#x230A;":"\\lfloor","&#x2309;":"\\rceil","&#x2308;":"\\lceil","&#x2016;":"\\parallel","}":"\\left.\\right}","{":"\\left{\\right.","]":"\\left]\\right.","[":"\\left[\\right.",")":"\\left.\\right)","(":"\\left(\\right.","&#x201D;":'"',"&#x201C;":"``","&#x2019;":"'","&#x2018;":"`","%CE%B1":"\\alpha","%CE%B2":"\\beta","%CE%B3":"\\gamma","%CE%93":"\\Gamma","%CE%B4":"\\delta","%CE%94":"\\Delta","%CF%B5":"\\epsilon","%CE%B6":"\\zeta","%CE%B7":"\\eta","%CE%B8":"\\theta","%CE%98":"\\Theta","%CE%B9":"\\iota","%CE%BA":"\\kappa","%CE%BB":"\\lambda","%CE%BC":"\\mu","%CE%BD":"\\nu","%CE%BF":"\\omicron","%CF%80":"\\pi","%CE%A0":"\\Pi","%CF%81":"\\pho","%CF%83":"\\sigma","%CE%A3":"\\Sigma","%CF%84":"\\tau","%CF%85":"\\upsilon","%CE%A5":"\\Upsilon","%CF%95":"\\phi","%CE%A6":"\\Phi","%CF%87":"\\chi","%CF%88":"\\psi","%CE%A8":"\\Psi","%CF%89":"\\omega","%CE%A9":"\\Omega"}},9039:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.allMathOperatorsByGlyph=void 0,a.allMathOperatorsByGlyph={_:"\\underline","":"\\underbrace","":"\\overbrace","":"\\underbrace","":"\\overbrace","":"\\underbrace","":"\\overbrace","":"\\underbrace","":"\\overbrace","":"\\square","":"\\square","":"","":"''''","":"\\overline","":"```","":"``","":"`","":"'''","":"''","":"``","":",,","":"`","":",","^":"\\hat","":"\\sim","":"\\sim","":"\\sim","":"\\circ","":"\\cdot","":" ","":"\\_","":"","":"","":"","":"","":"\\hat",:"o","":"1","":",","":"","":"3","":"2","":"\\circ","":"\\bar",:"a","":"\\nrightarrow","":"\\cdot\\cdot","~":"\\sim","`":"`","--":"--","++":"++","&":"\\&","":"\\sqrt[4]{}","":"\\sqrt[3]{}","":"\\sqrt{}","":"d","":"\\mathbb{D}","?":"?","@":"@","//":"//","!!":"!!","!":"!","":"\\#","":"","":"","":"'","<>":"<>","**":"\\star\\star","":"\\nabla","":"\\partial","":"\\bigodot","":"\\neg","":"\\measuredangle","":"\\measuredangle","":"\\angle","":"\\div","/":"/","":"\\backslash","\\":"\\backslash","%":"\\%","":"\\bigotimes","":"\\cdot","":"\\coprod","":"\\times","":"\\cdot","":"\\boxdot","":"\\boxtimes","":"","":"-","":"\\cdot",".":".","*":"\\star","":"\\cup","":"\\cap","":"\\coprod","":"\\prod","":"","":"","":"\\mid\\mid\\mid","":"\\times","":"","":"","":"\\sqcup","":"\\sqcap","":"\\otimes","":"\\odot","":"\\cap","":"\\vee","":"\\wedge","":"\\uplus","":"\\cup","":"\\cup","":"\\underline{\\int}","":"\\overline{\\int}","":"\\int","":"\\int","":"\\int","":"\\int","":"\\oint","":"\\oint","":"\\int","":"\\int","":"\\int","":"\\int","":"\\int","":"\\bcancel{\\int}","":"","":"\\hcancel{\\int}","":"\\iiiint","":"\\oint","":"\\oint","":"\\int","":"\\oiint","":"\\oiint","":"\\oint","":"\\int","":"\\oplus","":"\\oslash","":"\\ominus","":"\\oplus","":"\\iiint","":"\\iint","":"","":"","":"\\sum","":"\\boxminus","":"\\boxplus","":"\\dot{+}","":"+-","":"-","":"\\pm","-":"-","+":"+","":"\\Rrightarrow","":"\\Lleftarrow","":":\\rightarrow","":"","":"\\bullet-\\bullet","":"\\angle","":"\\measuredangle","":"\\measuredangle","":"\\perp","":"\\measuredangle","":"","":"\\vdots","":"","":"","":"\\prec","":"\\succ","":"\\underset{\\rightarrow}{\\supset}","":"","":"\\underset{\\rightarrow}{\\subset}","":"\\underset{\\rightarrow}{>}","":"","":"\\underset{\\leftarrow}{<}","":"\\underset{\\approx}{\\rightarrow}","":"\\underset{\\sim}{\\rightarrow}","":"\\underset{\\sim}{\\leftarrow}","":"\\overset{\\sim}{\\rightarrow}","":"\\overset{=}{\\rightarrow}","":"","":"","":"","":"\\overline{\\rightharpoondown}","":"\\underline{\\rightharpoonup}","":"\\overline{\\leftharpoondown}","":"\\underline{\\leftharpoonup}","":"\\rightleftharpoons","":"\\rightleftharpoons","":"\\rightleftharpoons","":"\\rightleftharpoons","":"\\Downarrow","":"\\Rightarrow","":"\\Uparrow","":"\\Leftarrow","":"\\downarrow","":"\\uparrow","":"\\rightarrow","":"\\leftarrow","":"\\downarrow","":"\\uparrow","":"\\rightarrow","":"\\leftarrow","":"\\downarrow","":"\\uparrow","":"\\rightarrow","":"\\leftarrow","":"\\downarrow","":"\\uparrow","":"\\rightarrow","":"\\leftarrow","":"\\updownarrow","":"\\leftrightarrow","":"\\updownarrow","":"\\leftrightarrow","":"\\updownarrow","":"\\updownarrow","":"\\leftrightarrow","":"\\leftrightarrow","":"","":"\\leftrightarrow","":"\\nrightarrow","":"","":"","":"\\rightleftarrows","":"\\leftrightarrows","":"\\rightleftarrows","":"\\circlearrowright","":"\\circlearrowleft","":"\\rightarrow","":"\\leftarrow","":"\\leftarrow","":"\\rightarrow","":"\\rightarrow","":"\\leftarrow","":"\\downarrow","":"\\downarrow","":"\\Rsh","":"\\Lsh","":"\\downarrow","":"\\uparrow","":"\\rightarrow","":"\\leftarrow","":" ","":" ","":" ","":" ","":" ","":"\\times","":"\\times","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":" ","":"\\mapsto\\cdot","":"\\cdot\\leftarrow","":"\\rightarrow\\cdot","":"\\leftarrow","":"\\rightarrow","":"\\leftarrow","":"\\rightarrow","":"\\leftarrow","":"\\rightarrow","":"\\rightarrow","":"\\rightarrow","":"\\rightarrow","":"\\rightarrow","":"\\downarrow","":"\\uparrow","":"\\rightarrow","":"\\rightarrow","":"\\rightarrow","":"\\leftarrow","":"\\rightarrow","":"\\leftarrow","":"\\Downarrow","":"\\Uparrow","":"\\uparrow","":"\\downarrow","":"\\Rightarrow","":"\\Leftarrow","":"\\mapsto","":"\\nLeftrightarrow","":"\\nRightarrow","":"\\nLeftarrow","":"\\rightsquigarrow","":"\\rightsquigarrow","":"\\rightsquigarrow","":"\\Rightarrow","":"\\Leftarrow","":"\\mapsto","":"\\leftarrow","":"\\Longleftrightarrow","":"\\Longrightarrow","":"\\Longleftarrow","":"\\leftrightarrow","":"\\rightarrow","":"\\leftarrow","":"\\Downarrow","":"\\Uparrow","":"\\rightarrow","":"\\leftrightarrow","":"\\rightarrow","":"\\leftarrow","":"\\nleftrightarrow","":"\\nrightarrow","":"\\nleftarrow","":"\\nleftrightarrow","":"\\nrightarrow","":"\\nleftarrow","":"\\Rrightarrow","":"","":"\\rightarrow","":"\\Updownarrow","":"\\searrow","":"\\nwarrow","":"\\Leftarrow","":"\\Uparrow","":"\\Uparrow","":"\\Uparrow","":"\\Uparrow","":"\\Uparrow","":"\\Uparrow","":"\\Downarrow","":"\\Rightarrow","":"\\Uparrow","":"\\Leftarrow","":"\\rightarrow","":"\\leftarrow","":"\\downarrow","":"\\rightarrow","":"\\uparrow","":"\\leftarrow","":"\\downarrow","":"\\uparrow","":"\\rightsquigarrow","":"\\leftarrow","":"\\Rrightarrow","":"\\Lleftarrow","":"\\swarrow","":"\\searrow","":"\\nearrow","":"\\nwarrow","":"\\Updownarrow","":"\\Leftrightarrow","":"\\Downarrow","":"\\Rightarrow","":"\\Uparrow","":"\\Leftarrow","":"\\nRightarrow","":"\\nLeftrightarrow","":"\\nLeftarrow","":"\\rightleftharpoons","":"\\leftrightharpoons","":"\\downdownarrows","":"\\rightrightarrows","":"\\upuparrows","":"\\leftleftarrows","":"\\leftrightarrows","":"","":"\\rightleftarrows","":"\\downharpoonleft","":"\\downharpoonright","":"\\rightharpoondown","":"\\rightharpoonup","":"\\upharpoonleft","":"\\upharpoonright","":"\\leftharpoondown","":"\\leftharpoonup","":"\\circlearrowright","":"\\circlearrowleft","":"\\leftrightarrows","":"\\overline{\\nwarrow}","":"\\curvearrowright","":"\\curvearrowleft","":"\\swarrow","":"\\searrow","":"\\Rsh","":"\\Lsh","":"\\Rsh","":"\\Lsh","":"\\swarrow","":"","":"\\leftrightsquigarrow","":"\\looparrowright","":"\\looparrowleft","":"\\hookrightarrow","":"\\hookleftarrow","":"\\underline{\\updownarrow}","":"\\downarrow","":"\\rightarrowtail","":"\\uparrow","":"\\leftarrowtail","":"\\rightarrowtail","":"\\leftarrowtail","":"\\downarrow","":"\\twoheadrightarrow","":"\\uparrow","":"\\twoheadleftarrow","":"\\nearrow","":"\\nwarrow","":"","":"\\swarrow","":"\\searrow","":"\\nearrow","":"\\nwarrow","":"\\updownarrow","":"\\leftrightarrow","":"\\downarrow","":"\\rightarrow","":"\\uparrow","":"\\leftarrow","|||":"\\left|||\\right.","||":"\\left||\\right.","|":"\\mid","":"","":"//","":"///","":"","":"","":"","":"","":"\\vdots","":"","":"","":"","":"\\nparallel","":"","":"","":"","":"\\bcancel{\\mid}","":"","":"","":"","":"","":"","":"\\underline{\\perp}","":"\\overline{\\top}","":"","":"","":"","":"","":"","":"","":"\\perp","":"\\top","":"\\dashv","":"","":"","":"\\pitchfork","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"\\underset{\\neq}{\\supset}","":"\\underset{\\neq}{\\subset}","":"\\underset{\\approx}{\\supset}","":"\\underset{\\approx}{\\subset}","":"\\underset{\\sim}{\\supset}","":"\\underset{\\sim}{\\subset}","":"\\supseteqq","":"\\subseteqq","":"\\dot{\\supseteq}","":"\\dot{\\subseteq}","":"\\underset{\\times}{\\supset}","":"\\underset{\\times}{\\subset}","":"\\underset{+}{\\supset}","":"\\underset{+}{\\subset}","":"","":"","":"\\gg ","":"\\ll","":"\\underset{\\cancel{\\approx}}{\\succ}","":"\\underset{\\cancel{\\approx}}{\\prec}","":"\\underset{\\approx}{\\succ}","":"\\underset{\\approx}{\\prec}","":"\\underset{\\cancel{=}}{\\succ}","":"\\underset{\\cancel{=}}{\\prec}","":"\\underset{=}{\\succ}","":"\\underset{=}{\\prec}","":"","":"","":"","":"\\underline{\\hcancel{>}}","":"\\underline{\\hcancel{>}}","":"\\hcancel{>}","":"\\hcancel{<}","":"","":"","":"\\vartriangleright","":"\\vartriangleleft","":"><","":"><","":"\\underline{\\ll}","":"\\cancel{\\gg}","":"\\gg","":"\\cancel{\\ll}","":"\\ll","":"\\overset{\\sim}{\\geqq}","":"\\overset{\\sim}{\\leqq}","":"\\overset{\\sim}{>}","":"\\overset{\\sim}{<}","":"","":"","":"\\overset{=}{>}","":"\\overset{=}{<}","":"","":"","":"","":"","":"","":"","":"\\underset{=}{\\gtrless}","":"\\underset{=}{\\lessgtr}","":"\\underset{<}{\\gtrsim}","":"\\underset{>}{\\lesssim}","":"\\underset{\\simeq}{>}","":"\\underset{\\simeq}{<}","":"\\gtreqqless","":"\\lesseqqgtr","":"\\underset{\\cancel{\\approx}}{>}","":"\\underset{\\approx}{<}","":"\\underset{\\approx}{>}","":"\\underset{\\approx}{<}","":"","":"","":"","":"","":"","":"","":"\\bcancel{\\geq}","":"\\geq","":"\\bcancel{\\leq}","":"\\leq","":"","":"","":"","":"","":"\\overset{\\dots}{\\equiv}","":"","":"===","":"==","":"::=","":"","":"\\underset{=}{+}","":"\\overset{=}{+}","":"\\overset{\\approx}{=}","":"\\overset{\\wedge}{=}","":"\\overset{*}{=}","":"\\dot{\\approx}","":"","":"","":"\\dot{\\sim}","":"","":"","":"\\dot{\\equiv}","":"\\underset{\\cdot}{=}","":"","":"","":"\\underset{=}{\\vee}","":"\\overset{=}{\\vee}","":"ul(vv)","":"\\underset{=}{\\wedge}","":"\\underline{\\wedge}","":"\\overset{=}{\\wedge}","":"\\hcancel{\\vee}","":"\\hcancel{\\wedge}","":"","":"","":"","":"\\vee","":"\\wedge","":"","":"","":"","":"","":"\\dot{\\vee}","":"\\dot{\\wedge}","":"","":"","":"","":"\\overline{\\cap}","":"\\overline{\\cup}","":"","":"","":"","":"","":"","":"","":"","":"","":"\\overline{\\cap}","":"\\overline{\\cup}","":"","":"","":"","":"\\llcorner","":"\\lrcorner","":"","":"","":"","":"","":"","":"\\hat{\\otimes}","":"","":"","":"","":"\\underline{\\times}","":"\\underline{\\times}","":"\\dot{\\times}","":"\\bigodot","":"\\bigodot","":"","":"","":"","":"","":"","":"","":"\\Box","":"\\underset{\\sim}{+}","":"\\underset{\\circ}{+}","":"\\overset{\\sim}{+}","":"\\hat{+}","":"\\dot{+}","":"\\upharpoonright","":">>","":"","":"\\triangleleft","":"\\bowtie","":"","":"+","":"\\hcancel{|||}","":"\\hcancel{||}","":"\\backslash","":"/","":"hcancel{\backslash}","":"","":"\\backslash","":"\\Phi","":"","":"","":"","":"","":"","":"\\lozenge","":"","":"","":"","":"\\ddagger","":"\\sqcup\\sqcup","":"","":"\\square","":"","":"","":"","":"\\{\\{","":"\\{","":"\\}","":"","":"","":"\\bowtie","":"\\bowtie","":"\\bowtie","":"\\bowtie","":"\\bowtie","":"| \\not\\triangleright","":"| \\triangleright","":"\\not\\triangleleft |","":"\\triangleleft |","":"","":"\\triangle","":"","":"\\underline{\\triangle}","":"\\dot{\\triangle}","":"","":"\\boxed{\\circ}","":"\\boxed{\\circ}","":"\\boxed{\\rightarrow}","":"\\bcancel{\\square}","":"\\cancel{\\square}","":"\\odot","":"\\odot","":"\\odot","":"\\odot","":"\\varnothing","":"\\oplus","":"\\otimes","":"","":"\\varnothing","":"\\varnothing","":"\\ominus","":"\\ominus","":"\\ominus","":"\\vec{\\varnothing}","":"\\vec{\\varnothing}","":"\\dot{\\varnothing}","":"\\overline{\\varnothing}","":"\\varnothing","":"\\measuredangle","":"\\measuredangle","":"\\measuredangle","":"\\measuredangle","":"\\measuredangle","":"\\measuredangle","":"\\measuredangle","":"\\measuredangle","":"","":"","":"","":"","":"\\ulcorner","":"\\measuredangle","":"\\not\\lor","":"\\bcancel{>}","":":","":"\\cdot","":"\\mid","":"\\bigtriangleup","":"\\Epsilon","":"\\overline{\\ni}","":"\\overline{\\ni}","":"\\in","":"\\in","":"\\in","":"\\underline{\\in}","":"\\underline{\\in}","":"\\overline{\\in}","":"\\overline{\\in}","":"\\dot{\\in}","":"\\in","":"\\in","":"\\in","":"\\ddots","":":","":"\\underset{\\sim}{\\succ}","":"\\underset{\\sim}{\\prec}","":"\\underset{\\not\\sim}{>}","":"\\underset{\\not\\sim}{<}","":"\\not\\sqsupseteq","":"\\not\\sqsubseteq","":"\\not\\sqsupseteq","":"\\not\\sqsubseteq","":"\\nsucc","":"\\nprec","":"\\succ","":"\\prec","":"\\overline{>}","":"\\overline{<}","":"\\underset{>}{\\leq}","":"\\underset{<}{\\geq}","":"\\#","":"\\cup","":"\\cap","":"\\supset","":"\\subset","":"\\wedge","":"\\vee","":"\\simeq","":"\\Join","":"\\ast","":"\\star","":"\\diamond","":"\\triangle","":"\\measuredangle","":"\\overline{\\lor}","":"\\overline{\\land}","":"\\underline{\\lor}","":"\\top",:"\\pm",:"+","":"","":"\\circ\\multimap","":"\\circ\\multimap","":"\\triangleright","":"\\triangleleft","":"\\succ","":"\\prec","":"|\\models","":"|\\models","":"\\models","":"\\vdash","":"\\ominus","":"\\ominus","":"\\odot","":"\\odot","":"\\sqcup","":"\\sqcap","":"\\sqsupseteq","":"\\sqsubseteq","":"\\not\\sqsupset","":"\\sqsupset","":"\\not\\sqsubset","":"\\sqsubset","":"\\cup","":"\\cup","":"\\cup","":"\\not\\succsim","":"\\succsim","":"\\precsim","":"\\not\\overset{>}{<}","":"\\not\\overset{>}{<}","":"\\overset{>}{<}","":"\\overset{<}{>}","":"\\not\\geg","":"\\not\\leq","":"\\geg","":"\\leq","":"","":"\\geg","":"\\not\\leq","":"\\leq","":"\\overset{=}{=} ","":"\\overset{m}{=} ","":"\\overset{def}{=}","":"=","":"=","":"=:","":"\\doteq","":"\\doteq","":"\\doteq","":"\\doteq","":"","":"","":"","":"","":"\\approx","":"\\approx","":"\\approx","":"\\neq","":"=","":"\\sim","":"\\infty","":"\\sim","":"\\sim","":"\\sim","":":-:","":"-:","":"\\bot","":"::","":":","":"\\mid","":"\\llcorner","":"\\circ","":"*","":"/","":"\\square","":"\\ni","":"\\in","":"\\Delta","":"/","":"\\nsucceq","":"\\succeq","":"\\npreceq","":"\\preceq","":"\\ngeqslant","":"\\nleqslant","":"\\Phi","":"\\models","":"\\not\\equiv","":"\\approx\\neq","":"\\neq","":"\\circle","":"\\circle","":"\\circle","":"\\circle","":"\\circle","":"\\circle","":"\\circledcirc","":"\\circledcirc","":"\\circledcirc","":"\\circledcirc","":"\\diamond","":"\\diamond","":"\\diamond","":"\\triangleleft","":"\\triangleleft","":"\\triangleleft","":"\\triangleleft","":"\\triangleleft","":"\\triangleleft","":"\\triangledown","":"\\triangledown","":"\\triangledown","":"\\triangledown","":"\\triangleright","":"\\triangleright","":"\\triangleright","":"\\triangleright","":"\\triangle","":"\\triangle","":"\\triangle","":"\\square","":"\\blacksquare","":"\\square","":"\\blacksquare","":"\\square","":"\\square","":"\\square","":"\\square","":"\\blacksquare","":"\\not\\triangleright","":"\\not\\triangleleft","":"\\not\\triangleright","":"\\not\\triangleleft","":"\\ggg","":"\\lll","":"*>","":"<*","":"\\pitchfork","":"","":"\\bowtie","":"\\ltimes","":"\\rtimes","":"\\triangleright","\\triangleleft":"","":"\\bot","":"\\nsucc","":"\\preceq","":"\\succeq","":"\\preceq","":"\\succ","":"\\prec","":"\\geq/","":"\\leq/","":"\\neq","":"\\not\\gg","":"\\gg","":"\\not\\ll","":"\\ll","":"\\ngeqslant","":"\\nleqslant","":"\\equiv","":"\\doteq","":"\\triangleq","":"\\doteq","":"\\triangleq","":"\\triangleq","":"\\doteq","":":=","":"\\asymp","":"\\ncong","":"\\ncong","":"\\cong","":"\\not\\simeq","":"\\simeq","":"\\not\\sim","":"\\not\\parallel","":"\\parallel","":"\\not|","":"\\propto","==":"==","=":"=",":=":":=","/=":"=","-=":"-=","+=":"+=","*=":"*=","!=":"!=","":"\\neq","":"\\equiv /","":"\\approx /","":"sim","":"\\approx","":"</","<":"<","":">/",">=":">=",">":">","":"\\geq","":"\\leq","<=":"<=","":"\\supsetneq","":"\\subsetneq","":"\\nsupseteq","":"\\nsubseteq","":"\\supseteq","":"\\subseteq","":"\\not\\supset","":"\\not\\subset","":"\\supset |","":"\\supset","":"\\subset |","":"\\subset","":"\\not\\in","":"\\notin","":"\\in","":"C","":"\\nexists","":"\\exists","":"\\forall","":"\\land","&&":"\\&\\&","":"\\lor","":"\\cancel{\\vDash}","":"\\cancel{\\Vdash}","":"\\nvDash","":"\\nvDash","":"\\Vdash","":"\\vDash","":"\\top","":"\\dashv","":"\\vdash","":"\\ni","":"\\ddots","":"\\hdots","":"\\vdots","":"\\ni",":":":","...":"\\cdots","..":"..","->":"->","":"\\because","":"\\therefore ","":"\\llbracket",",":",",";":";","":"\\}","":"\\{","":"\\]","":"\\[","":"\\ll","":"\\gg","":"\\gg","":"\\ll","":"\\gg","":"\\ll","":"\\]","":"\\]","":"\\]","":"\\[","":"\\[","":"\\]","":"\\triangleright","":"\\triangleleft","":"|\\)","":"\\(|","":"|\\)","":"\\(\\(","":"|\\}","":"\\{|","":"\\||","":"\\left. \\right]","":"\\left[ \\right.","":"\\left. \\right]]","":"\\left[[ \\right.","":"\\gg","":"\\ll","":"\\)|","":"\\(|","":"\\left.\\right)","":"\\left(\\right.","":"\\rangle","":"\\langle","":"\\rfloor","":"\\lfloor","":"\\rceil","":"\\lceil","":"\\parallel","}":"\\left.\\right}","{":"\\left{\\right.","]":"\\left]\\right.","[":"\\left[\\right.",")":"\\left.\\right)","(":"\\left(\\right.","":'\\"',"":"\\text{``}","":"'","":"`",:"\\alpha",:"\\beta",:"\\gamma",:"\\Gamma",:"\\delta",:"\\Delta","":"\\epsilon",:"\\zeta",:"\\eta",:"\\theta",:"\\Theta",:"\\iota",:"\\kappa",:"\\lambda",:"\\nu",:"\\omicron",:"\\pi",:"\\Pi",:"\\rho",:"\\sigma",:"\\Sigma",:"\\tau",:"\\upsilon",:"\\Upsilon",:"\\phi",:"\\Phi",:"\\chi",:"\\psi",:"\\Psi",:"\\omega",:"\\Omega",:"\\Omega","":"\\emptyset","":"\\circlearrowleft","":"\\circlearrowright","":"\\times","":"\\dfrac{1}{2}",:"\\mu",:"\\theta","":"\\checkmark","":"\\rangle","":"\\langle","":"\\dfrac{1}{4}","":"\\ldots",:"\\hbar",:"\\mathfrak{R}",:"\\theta",:"\\emptyset",:"\\varrho",:"\\phi",:"\\varepsilon",T:"T","":"\\cdot",:"P","":"\\infty",:"\\nabla",:"\\eta","":"^{+}","":"^{-}","":"^{=}","":"^{(}","":"^{)}","":"\\)|","":"\\langle","":";","":"\\circ","":"\\perp","":"\\times","":"-","":"\\gg","":"\\uparrow","":"\\downarrow","":"\\leftarrow","":"\\rightarrow","":"-","":"\\mid","":"\\mid",:"\\hbar","":"\\rightarrow","":"\\cdot","":"\\mid","":"\\pounds","":"\\yen","":"\\times","":"\\checkmark",:"^{n}","":"\\ll",:"\\prime","":"\\dagger","":"\\mid",$:"\\$","#":"\\#","":"\\text{\\textdegree C}","":"\\text{\\textdegree F}","":"\\blacksquare","":"\\mho","":"\\text{e}",:"r","":"\\ddagger",:"i",:"\\Upsilon","":"\\delta","":"\\cdot",:"\\theta","":"\\phi",:"\\prod",:"o",:"\\hbar","":"\\Lambda","":"\\mid","":"\\euro",:"\\bar{u}",:"\\varphi","":"c","":"\\epsilon",:"\\mathsf{X}","":"_{n}"}},8249:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.allMathSymbolsByChar=void 0,a.allMathSymbolsByChar={"&#xA0;":"\\textrm{ }","&#x2203;":"\\exists","&#x2200;":"\\forall","&#x21D4;":"\\iff","&#x21D2;":"=>","&#xAC;":"\\neg","&#x2124;":"\\mathbb{Z}","&#x211D;":"\\mathbb{R}","&#x211A;":"\\mathbb{Q}","&#x2115;":"\\mathbb{N}","&#x2102;":"CC","&#x25A1;":"\\square","&#x22C4;":"\\diamond","&#x25B3;":"\\triangle","&#x2322;":"\\frown","&#x2220;":"\\angle","&#x22F1;":"\\ddots","&#x22EE;":"\\vdots","&#x2235;":"\\because","&#x2234;":"\\therefore","&#x2135;":"\\aleph","&#x2205;":"\\oslash","&#xB1;":"\\pm","&#x2207;":"\\nabla","&#x2202;":"\\partial","&#x222E;":"\\oint","&#x222B;":"\\int","&#x22C3;":"\\cup","&#x222A;":"\\cup","&#x22C2;":"\\cap","&#x2229;":"\\cap","&#x22C1;":"\\vee","&#x2228;":"\\vee","&#x22C0;":"\\wedge","&#x2227;":"\\wedge","&#x220F;":"\\prod","&#x2211;":"\\sum","&#x2299;":"\\bigodot","&#x2297;":"\\bigoplus","&#x2295;":"o+","&#x2218;":"@","&#x22C8;":"\\bowtie","&#x22CA;":"\\rtimes","&#x22C9;":"\\ltimes","&#xF7;":"\\div","&#xD7;":"\\times","\\":"\\backslash","&#x22C6;":"\\star","&#x2217;":"\\star","&#x22C5;":"\\cdot","&#x3A9;":"\\Omega","&#x3C9;":"\\omega","&#x3A8;":"\\Psi","&#x3C8;":"\\psi","&#x3C7;":"\\chi","&#x3C6;":"\\varphi","&#x3A6;":"\\Phi","&#x3D5;":"\\phi","&#x3C5;":"\\upsilon","&#x3C4;":"\\tau","&#x3A3;":"\\Sigma","&#x3C3;":"\\sigma","&#x3C1;":"\\rho","&#x3A0;":"\\Pi","&#x3C0;":"\\pi","&#x39E;":"\\Xi","&#x3BE;":"\\xi","&#x3BD;":"\\nu","&#x3BC;":"\\mu","&#x39B;":"\\Lambda","&#x3BB;":"\\lambda","&#x3BA;":"\\kappa","&#x3B9;":"\\iota","&#x3D1;":"\\vartheta","&#x398;":"\\Theta","&#x3B8;":"\\theta","&#x3B7;":"\\eta","&#x3B6;":"\\zeta","&#x25B;":"\\varepsilon","&#x3B5;":"\\epsilon","&#x394;":"\\Delta","&#x3B4;":"\\delta","&#x393;":"\\Gamma","&#x3B3;":"\\gamma","&#x3B2;":"\\beta","&#x3B1;":"\\alpha","&#x221E;":"\\infty","":"\\text{\\textdir TRT}","":"\\text{\\textdir LTR}"}},8171:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.allMathSymbolsByGlyph=void 0,a.allMathSymbolsByGlyph={" ":"\\textrm{ }","":"\\exists","":"\\forall","":"\\iff","":"\\Rightarrow","":"\\neg","":"\\square","":"\\diamond","":"\\triangle","":"\\frown","":"\\angle","":"\\ddots","":"\\vdots","":"\\because","":"\\therefore",:"\\aleph","":"\\emptyset","":"\\pm","":"\\nabla","":"\\partial","":"\\oint","":"\\int","":"\\cup","":"\\cup","":"\\cap","":"\\cap","":"\\vee","":"\\vee","":"\\wedge","":"\\wedge","":"\\prod","":"\\sum","":"\\bigodot","":"\\bigoplus","":"o+","":"@","":"\\bowtie","":"\\rtimes","":"\\ltimes","":"\\div","":"\\times","\\":"\\backslash","":"\\star","":"\\star","":"\\cdot",:"\\Omega",:"\\omega",:"\\Psi",:"\\psi",:"\\chi",:"\\varphi",:"\\Phi",:"\\phi",:"\\upsilon",:"\\tau",:"\\Sigma",:"\\sigma",:"\\rho",:"\\Pi",:"\\pi",:"\\Xi",:"\\xi",:"\\nu",:"\\mu",:"\\Lambda",:"\\lambda",:"\\kappa",:"\\iota",:"\\vartheta",:"\\Theta",:"\\theta",:"\\eta",:"\\zeta",:"\\varepsilon",:"\\epsilon",:"\\Delta",:"\\delta",:"\\Gamma",:"\\gamma",:"\\beta",:"\\alpha","":"\\infty","":"\\epsilon",:"\\mu","":"^{2}",:"\\imath","":"\\blacksquare",:"\\mathbf{m}",:"\\Omega","":"\\circlearrowleft","":"\\circlearrowright",:" ","":"\\yen","":"^{(}","":"^{)}",:"\\ss",:"\\hbar","":"\\ominus","":"\\bigtriangleup","'":"\\nrightarrow","":"\\dagger",:"\\prime",:" ","":" ",:"\\wp",:" ",:"^{n}","":"\\checkmark","":"\\times","":"\\dfrac{1}{2}",:"\\theta","":"\\checkmark","":"\\rangle","":"\\langle","":"\\langle","":"\\dfrac{1}{4}","":"\\ldots",:"\\hbar",:"\\mathfrak{R}",:"\\theta",:"\\emptyset",:"\\varrho",:"\\phi",T:"T","":"\\cdot",:"P",:"\\nabla",:"\\eta",:"\\gamma",:"\\hbar",:"\\varepsilon","":"\\_{D}","":"\\lambda","":"\\rangle","":"\\langle","":";","":"x","":"y","":"z","":"i","":"j","":"k","":"m","":"e","":"r",:"\\eta","":"\\beta","":"\\omega","":"\\wp","":"\\pi",:"\\epsilon",:"\\epsilon","":"\\epsilon",:"\\pi",:"\\nu",:"\\theta","":"\\psi","":"\\theta",:"\\phi","":"\\Gamma",:"\\ell",:"\\upsilon","":"\\varphi","":"\\theta",:"\\Phi","":"\\varphi","":"i",:"o",:"o",:"f","":"\\rho","":"x","":"p","":"q","":"s","":"t","":"u","":"v","":"w","":"a","":"b","":"c","":"d","":"f","":"g","":"l","":"n","":"o","":"w","":"v",:"m","":"\\circ","":"\\perp","":"\\times","":"\\mid",:"\\Phi","":"\\mid",:"\\hbar",:" ","":"\\llbracket",:"\\hat{e}","":"\\cent","":"\\downarrow","":"\\downarrow","":"\\Rsh","":"\\Lsh","":"\\downarrow","":"\\uparrow","":"\\rightarrow","|":"\\mid","":"\\mid","":"\\heartsuit",:"0",:"Y",:"x","":"z","":"y","":"x",:"p",:"a","":"\\pounds",m:"m","":"\\Xi","":"\\textcircled{0}","":"\\textcircled{1}","":"\\textcircled{2}","":"\\textcircled{3}","":"\\textcircled{4}","":"\\textcircled{5}","":"\\textcircled{6}","":"\\textcircled{7}","":"\\textcircled{8}","":"\\textcircled{9}","":"\\textcircled{10}","":"\\textcircled{11}","":"\\textcircled{12}","":"\\textcircled{13}","":"\\textcircled{14}","":"\\textcircled{15}","":"\\textcircled{16}","":"\\textcircled{17}","":"\\textcircled{18}","":"\\textcircled{19}","":"\\textcircled{20}","":"\\textcircled{21}","":"\\textcircled{22}","":"\\textcircled{23}","":"\\textcircled{24}","":"\\textcircled{25}","":"\\textcircled{26}","":"\\textcircled{27}","":"\\textcircled{28}","":"\\textcircled{29}","":"\\textcircled{30}","":"\\textcircled{31}","":"\\textcircled{32}","":"\\textcircled{33}","":"\\textcircled{34}","":"\\textcircled{35}","":"\\textcircled{36}","":"\\textcircled{37}","":"\\textcircled{38}","":"\\textcircled{39}","":"\\textcircled{40}","":"\\textcircled{41}","":"\\textcircled{42}","":"\\textcircled{43}","":"\\textcircled{44}","":"\\textcircled{45}","":"\\textcircled{46}","":"\\textcircled{47}","":"\\textcircled{48}","":"\\textcircled{49}","":"\\textcircled{50}","&":"\\&","":"\\parallel","%":"\\%","":"\\text{``}",$:"\\$","#":"\\#","":"\\text{\\textdegree C}","":"\\text{\\textdegree F}","":"\\blacksquare","":"\\mho","":"\\rfloor","":"\\lfloor","":"\\rceil","":"\\lceil",:"\\varepsilon","":"\\text{e}",:"r","":"\\nrightarrow","":"\\hat{}","":"\\overline","":"\\rightarrow","":"\\ddagger","":"\\cdot","":"\\square","":"\\Delta",:"i","":"\\angle",:"\\Upsilon","":"\\downarrow","":"\\uparrow","":"\\gg","":"\\top","":"/","":"\\delta","":"\\cdot","":":","":"\\measuredangle","":"\\measuredangle","":"\\measuredangle","":"\\cdot",:"\\theta","":"\\measuredangle","":",","":"\\overline","":"\\llbracket","":"\\phi",:"\\prod",:"o","":"\\approx","":"\\leq",:"\\hbar","":"\\Lambda",:"\\pm","":"-",:"+","":"\\neq","":"\\leftarrow","":"\\mid","":"\\euro","":" ",:"\\bar{u}","":"\\parallel","":"\\leftrightarrow","":"\\sqrt{}","":"c","":"\\epsilon","":"\\cdot","":"\\measuredangle","":"\\measuredangle","":"\\measuredangle","":"\\ll",:"\\mathsf{X}","":"\\mid","":"\\rangle","":"_{n}","":"\\square","":"\\circle","":'\\"'}},5406:function(s,a,l){var c=this&&this.__createBinding||(Object.create?function(d,h,f,p){p===void 0&&(p=f);var v=Object.getOwnPropertyDescriptor(h,f);v&&!("get"in v?!h.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,p,v)}:function(d,h,f,p){p===void 0&&(p=f),d[p]=h[f]}),u=this&&this.__exportStar||function(d,h){for(var f in d)f==="default"||Object.prototype.hasOwnProperty.call(h,f)||c(h,d,f)};Object.defineProperty(a,"__esModule",{value:!0}),u(l(2965),a),u(l(9039),a),u(l(8249),a),u(l(8171),a),u(l(472),a),u(l(4320),a),u(l(6122),a)},472:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.latexAccents=void 0,a.latexAccents=["\\hat","\\bar","\\underbrace","\\overbrace"]},4320:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.mathNumberByGlyph=void 0,a.mathNumberByGlyph={"":"_{0}","":"_{1}","":"_{2}","":"_{3}","":"_{4}","":"_{5}","":"_{6}","":"_{7}","":"_{8}","":"_{9}","":"^{0}","":"^{1}","":"^{2}","":"^{3}","":"^{4}","":"^{5}","":"^{6}","":"^{7}","":"^{8}","":"^{9}",:"^{n}","":"_{n}","":"\\textcircled{0}","":"\\textcircled{1}","":"\\textcircled{2}","":"\\textcircled{3}","":"\\textcircled{4}","":"\\textcircled{5}","":"\\textcircled{6}","":"\\textcircled{7}","":"\\textcircled{8}","":"\\textcircled{9}","":"\\textcircled{10}","":"\\textcircled{11}","":"\\textcircled{12}","":"\\textcircled{13}","":"\\textcircled{14}","":"\\textcircled{15}","":"\\textcircled{16}","":"\\textcircled{17}","":"\\textcircled{18}","":"\\textcircled{19}","":"\\textcircled{20}","":"\\textcircled{21}","":"\\textcircled{22}","":"\\textcircled{23}","":"\\textcircled{24}","":"\\textcircled{25}","":"\\textcircled{26}","":"\\textcircled{27}","":"\\textcircled{28}","":"\\textcircled{29}","":"\\textcircled{30}","":"\\textcircled{31}","":"\\textcircled{32}","":"\\textcircled{33}","":"\\textcircled{34}","":"\\textcircled{35}","":"\\textcircled{36}","":"\\textcircled{37}","":"\\textcircled{38}","":"\\textcircled{39}","":"\\textcircled{40}","":"\\textcircled{41}","":"\\textcircled{42}","":"\\textcircled{43}","":"\\textcircled{44}","":"\\textcircled{45}","":"\\textcircled{46}","":"\\textcircled{47}","":"\\textcircled{48}","":"\\textcircled{49}","":"\\textcircled{50}","":"\\dfrac{1}{2}","":"\\dfrac{1}{3}","":"\\dfrac{2}{3}","":"\\dfrac{1}{4}","":"\\dfrac{3}{4}","":"\\dfrac{1}{5}","":"\\dfrac{2}{5}","":"\\dfrac{3}{5}","":"\\dfrac{4}{5}","":"\\dfrac{1}{6}","":"\\dfrac{5}{6}","":"\\dfrac{1}{7}","":"\\dfrac{1}{8}","":"\\dfrac{3}{8}","":"\\dfrac{5}{8}","":"\\dfrac{7}{8}","":"\\dfrac{1}{9}","":"\\dfrac{1}{10}"}},6122:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.HashUTF8ToLtXConverter=void 0,a.HashUTF8ToLtXConverter=class{convert(d){if(d.match(/[a-z0-9]/i))return d;const h=l[d];return h?this.convertAccentCharToLtX(h)||d:this.convertSpecialCharToLtX(d)||d}convertAccentCharToLtX(d){const{char:h,accent:f}=d,p=c[f];return p?`\\${p}{${h}}`:null}convertSpecialCharToLtX(d){const h=u[d];if(!h)return null;const{letter:f,fontCmd:p}=h;return`\\${p}{${f}}`}};const l={:{char:"a",accent:""},:{char:"a",accent:"`"},:{char:"a",accent:"^"},:{char:"a",accent:"~"},:{char:"a",accent:""},:{char:"a",accent:""},:{char:"a",accent:""},:{char:"a",accent:""},:{char:"a",accent:""},:{char:"a",accent:""},:{char:"a",accent:""},:{char:"a",accent:"-"},:{char:"a",accent:"-"},:{char:"e",accent:""},:{char:"e",accent:"`"},:{char:"e",accent:"^"},:{char:"e",accent:""},:{char:"e",accent:""},:{char:"e",accent:""},:{char:"i",accent:"^"},:{char:"e",accent:""},:{char:"e",accent:"-"},:{char:"i",accent:""},:{char:"i",accent:"`"},:{char:"i",accent:"^"},:{char:"i",accent:""},:{char:"i",accent:""},:{char:"i",accent:""},:{char:"i",accent:"`"},:{char:"i",accent:""},:{char:"i",accent:"-"},:{char:"o",accent:""},:{char:"o",accent:"`"},:{char:"o",accent:"^"},:{char:"o",accent:"~"},:{char:"o",accent:""},:{char:"o",accent:""},:{char:"o",accent:""},:{char:"o",accent:"`"},:{char:"o",accent:""},:{char:"o",accent:""},:{char:"o",accent:""},:{char:"o",accent:""},:{char:"o",accent:"-"},:{char:"u",accent:""},:{char:"u",accent:"`"},:{char:"u",accent:"^"},:{char:"u",accent:""},:{char:"u",accent:""},:{char:"u",accent:""},:{char:"u",accent:""},:{char:"u",accent:""},:{char:"u",accent:""},:{char:"u",accent:""},:{char:"u",accent:"`"},:{char:"u",accent:""},:{char:"u",accent:"-"},:{char:"y",accent:""},:{char:"y",accent:"`"},:{char:"y",accent:"^"},:{char:"y",accent:""},:{char:"y",accent:"-"},:{char:"A",accent:""},:{char:"A",accent:"`"},:{char:"A",accent:"^"},:{char:"A",accent:"~"},:{char:"A",accent:""},:{char:"A",accent:""},:{char:"A",accent:""},:{char:"A",accent:""},:{char:"A",accent:""},:{char:"A",accent:""},:{char:"A",accent:""},:{char:"A",accent:""},:{char:"A",accent:"-"},:{char:"A",accent:"-"},:{char:"E",accent:""},:{char:"E",accent:"`"},:{char:"E",accent:""},:{char:"E",accent:"^"},:{char:"E",accent:""},:{char:"E",accent:""},:{char:"E",accent:"`"},:{char:"E",accent:""},:{char:"E",accent:"-"},:{char:"I",accent:""},:{char:"I",accent:"`"},:{char:"I",accent:"^"},:{char:"I",accent:""},:{char:"I",accent:""},:{char:"I",accent:""},:{char:"I",accent:"`"},:{char:"I",accent:""},:{char:"I",accent:"-"},:{char:"O",accent:""},:{char:"O",accent:"`"},:{char:"O",accent:"^"},:{char:"O",accent:"~"},:{char:"O",accent:""},:{char:"O",accent:""},:{char:"O",accent:""},:{char:"O",accent:"`"},:{char:"O",accent:""},:{char:"O",accent:""},:{char:"O",accent:""},:{char:"O",accent:""},:{char:"O",accent:"-"},:{char:"U",accent:""},:{char:"U",accent:"`"},:{char:"U",accent:"^"},:{char:"U",accent:""},:{char:"U",accent:""},:{char:"U",accent:""},:{char:"U",accent:""},:{char:"U",accent:"`"},:{char:"U",accent:""},:{char:"U",accent:"-"},:{char:"Y",accent:""},:{char:"Y",accent:"`"},:{char:"Y",accent:"^"},:{char:"Y",accent:""},:{char:"Y",accent:"-"},:{char:"n",accent:"~"},:{char:"N",accent:"~"},:{char:"c",accent:""},:{char:"C",accent:""},:{char:"v",accent:"~"},:{char:"V",accent:"~"},:{char:"j",accent:"^"},:{char:"J",accent:"^"},:{char:"z",accent:""},:{char:"Z",accent:""},:{char:"Z",accent:"^"},:{char:"z",accent:"^"},:{char:"Z",accent:""},:{char:"z",accent:""},:{char:"z",accent:""}},c={"":"grave","`":"acute","^":"hat","~":"tilde","":"ddot","":"mathring","":"breve","":"check","":"ddot","":"dot","-":"bar","":"hat","":"tilde"},u={"":{letter:"A",fontCmd:"mathbf"},"":{letter:"B",fontCmd:"mathbf"},"":{letter:"C",fontCmd:"mathbf"},"":{letter:"D",fontCmd:"mathbf"},"":{letter:"E",fontCmd:"mathbf"},:{letter:"E",fontCmd:"mathbf"},"":{letter:"F",fontCmd:"mathbf"},"":{letter:"G",fontCmd:"mathbf"},"":{letter:"H",fontCmd:"mathbf"},"":{letter:"I",fontCmd:"mathbf"},"":{letter:"J",fontCmd:"mathbf"},"":{letter:"K",fontCmd:"mathbf"},"":{letter:"L",fontCmd:"mathbf"},"":{letter:"M",fontCmd:"mathbf"},"":{letter:"N",fontCmd:"mathbf"},"":{letter:"O",fontCmd:"mathbf"},"":{letter:"P",fontCmd:"mathbf"},"":{letter:"Q",fontCmd:"mathbf"},"":{letter:"R",fontCmd:"mathbf"},"":{letter:"S",fontCmd:"mathbf"},"":{letter:"T",fontCmd:"mathbf"},"":{letter:"U",fontCmd:"mathbf"},"":{letter:"V",fontCmd:"mathbf"},"":{letter:"W",fontCmd:"mathbf"},"":{letter:"X",fontCmd:"mathbf"},"":{letter:"X",fontCmd:"mathbf"},"":{letter:"Y",fontCmd:"mathbf"},"":{letter:"Z",fontCmd:"mathbf"},"":{letter:"0",fontCmd:"mathbf"},"":{letter:"1",fontCmd:"mathbf"},"":{letter:"2",fontCmd:"mathbf"},"":{letter:"3",fontCmd:"mathbf"},"":{letter:"4",fontCmd:"mathbf"},"":{letter:"5",fontCmd:"mathbf"},"":{letter:"6",fontCmd:"mathbf"},"":{letter:"7",fontCmd:"mathbf"},"":{letter:"8",fontCmd:"mathbf"},"":{letter:"9",fontCmd:"mathbf"},"":{letter:"A",fontCmd:"mathit"},"":{letter:"B",fontCmd:"mathit"},"":{letter:"C",fontCmd:"mathit"},"":{letter:"D",fontCmd:"mathit"},"":{letter:"E",fontCmd:"mathit"},"":{letter:"F",fontCmd:"mathit"},"":{letter:"G",fontCmd:"mathit"},"":{letter:"H",fontCmd:"mathit"},"":{letter:"I",fontCmd:"mathit"},:{letter:"I",fontCmd:"mathit"},"":{letter:"J",fontCmd:"mathit"},"":{letter:"K",fontCmd:"mathit"},"":{letter:"L",fontCmd:"mathit"},"":{letter:"M",fontCmd:"mathit"},"":{letter:"N",fontCmd:"mathit"},"":{letter:"O",fontCmd:"mathit"},"":{letter:"P",fontCmd:"mathit"},"":{letter:"Q",fontCmd:"mathit"},"":{letter:"R",fontCmd:"mathit"},"":{letter:"S",fontCmd:"mathit"},"":{letter:"T",fontCmd:"mathit"},"":{letter:"U",fontCmd:"mathit"},"":{letter:"V",fontCmd:"mathit"},"":{letter:"W",fontCmd:"mathit"},"":{letter:"X",fontCmd:"mathit"},"":{letter:"Y",fontCmd:"mathit"},"":{letter:"Z",fontCmd:"mathit"},"":{letter:"A",fontCmd:"mathbb"},"":{letter:"B",fontCmd:"mathbb"},:{letter:"C",fontCmd:"mathbb"},"":{letter:"D",fontCmd:"mathbb"},"":{letter:"E",fontCmd:"mathbb"},"":{letter:"F",fontCmd:"mathbb"},"":{letter:"G",fontCmd:"mathbb"},:{letter:"H",fontCmd:"mathbb"},"":{letter:"I",fontCmd:"mathbb"},"":{letter:"J",fontCmd:"mathbb"},"":{letter:"K",fontCmd:"mathbb"},"":{letter:"L",fontCmd:"mathbb"},"":{letter:"M",fontCmd:"mathbb"},:{letter:"N",fontCmd:"mathbb"},"":{letter:"O",fontCmd:"mathbb"},:{letter:"P",fontCmd:"mathbb"},:{letter:"Q",fontCmd:"mathbb"},:{letter:"R",fontCmd:"mathbb"},"":{letter:"S",fontCmd:"mathbb"},"":{letter:"T",fontCmd:"mathbb"},"":{letter:"U",fontCmd:"mathbb"},"":{letter:"V",fontCmd:"mathbb"},"":{letter:"W",fontCmd:"mathbb"},"":{letter:"X",fontCmd:"mathbb"},"":{letter:"Y",fontCmd:"mathbb"},:{letter:"Z",fontCmd:"mathbb"},"":{letter:"0",fontCmd:"mathbb"},"":{letter:"1",fontCmd:"mathbb"},"":{letter:"2",fontCmd:"mathbb"},"":{letter:"3",fontCmd:"mathbb"},"":{letter:"4",fontCmd:"mathbb"},"":{letter:"5",fontCmd:"mathbb"},"":{letter:"6",fontCmd:"mathbb"},"":{letter:"7",fontCmd:"mathbb"},"":{letter:"8",fontCmd:"mathbb"},"":{letter:"9",fontCmd:"mathbb"},"":{letter:"A",fontCmd:"mathcal"},"":{letter:"A",fontCmd:"mathcal"},:{letter:"B",fontCmd:"mathcal"},"":{letter:"C",fontCmd:"mathcal"},"":{letter:"D",fontCmd:"mathcal"},"":{letter:"D",fontCmd:"mathcal"},:{letter:"E",fontCmd:"mathcal"},:{letter:"F",fontCmd:"mathcal"},"":{letter:"F",fontCmd:"mathcal"},"":{letter:"G",fontCmd:"mathcal"},:{letter:"H",fontCmd:"mathcal"},:{letter:"I",fontCmd:"mathcal"},"":{letter:"J",fontCmd:"mathcal"},"":{letter:"K",fontCmd:"mathcal"},:{letter:"L",fontCmd:"mathcal"},"":{letter:"L",fontCmd:"mathcal"},:{letter:"M",fontCmd:"mathcal"},"":{letter:"N",fontCmd:"mathcal"},"":{letter:"O",fontCmd:"mathcal"},"":{letter:"O",fontCmd:"mathcal"},"":{letter:"P",fontCmd:"mathcal"},"":{letter:"Q",fontCmd:"mathcal"},:{letter:"R",fontCmd:"mathcal"},"":{letter:"R",fontCmd:"mathcal"},"":{letter:"R",fontCmd:"mathcal"},"":{letter:"S",fontCmd:"mathcal"},"":{letter:"T",fontCmd:"mathcal"},"":{letter:"U",fontCmd:"mathcal"},"":{letter:"V",fontCmd:"mathcal"},"":{letter:"W",fontCmd:"mathcal"},"":{letter:"X",fontCmd:"mathcal"},"":{letter:"Y",fontCmd:"mathcal"},"":{letter:"Z",fontCmd:"mathcal"},"":{letter:"A",fontCmd:"mathfrak"},"":{letter:"B",fontCmd:"mathfrak"},:{letter:"C",fontCmd:"mathfrak"},"":{letter:"D",fontCmd:"mathfrak"},"":{letter:"E",fontCmd:"mathfrak"},"":{letter:"F",fontCmd:"mathfrak"},"":{letter:"G",fontCmd:"mathfrak"},:{letter:"H",fontCmd:"mathfrak"},:{letter:"I",fontCmd:"mathfrak"},"":{letter:"J",fontCmd:"mathfrak"},"":{letter:"K",fontCmd:"mathfrak"},"":{letter:"L",fontCmd:"mathfrak"},"":{letter:"M",fontCmd:"mathfrak"},"":{letter:"N",fontCmd:"mathfrak"},"":{letter:"O",fontCmd:"mathfrak"},"":{letter:"P",fontCmd:"mathfrak"},"":{letter:"Q",fontCmd:"mathfrak"},:{letter:"R",fontCmd:"mathfrak"},"":{letter:"S",fontCmd:"mathfrak"},"":{letter:"T",fontCmd:"mathfrak"},"":{letter:"U",fontCmd:"mathfrak"},"":{letter:"V",fontCmd:"mathfrak"},"":{letter:"W",fontCmd:"mathfrak"},"":{letter:"X",fontCmd:"mathfrak"},"":{letter:"Y",fontCmd:"mathfrak"},:{letter:"Z",fontCmd:"mathfrak"},"":{letter:"A",fontCmd:"mathsf"},:{letter:"A",fontCmd:"mathsf"},"":{letter:"B",fontCmd:"mathsf"},:{letter:"B",fontCmd:"mathsf"},"":{letter:"C",fontCmd:"mathsf"},"":{letter:"D",fontCmd:"mathsf"},"":{letter:"E",fontCmd:"mathsf"},"":{letter:"F",fontCmd:"mathsf"},"":{letter:"G",fontCmd:"mathsf"},"":{letter:"H",fontCmd:"mathsf"},"":{letter:"I",fontCmd:"mathsf"},"":{letter:"J",fontCmd:"mathsf"},"":{letter:"J",fontCmd:"mathsf"},"":{letter:"K",fontCmd:"mathsf"},:{letter:"K",fontCmd:"mathsf"},"":{letter:"L",fontCmd:"mathsf"},"":{letter:"M",fontCmd:"mathsf"},"":{letter:"N",fontCmd:"mathsf"},"":{letter:"O",fontCmd:"mathsf"},"":{letter:"P",fontCmd:"mathsf"},"":{letter:"Q",fontCmd:"mathsf"},"":{letter:"R",fontCmd:"mathsf"},"":{letter:"S",fontCmd:"mathsf"},"":{letter:"T",fontCmd:"mathsf"},"":{letter:"U",fontCmd:"mathsf"},"":{letter:"V",fontCmd:"mathsf"},"":{letter:"W",fontCmd:"mathsf"},"":{letter:"X",fontCmd:"mathsf"},:{letter:"X",fontCmd:"mathsf"},"":{letter:"Y",fontCmd:"mathsf"},"":{letter:"Z",fontCmd:"mathsf"},"":{letter:"A",fontCmd:"mathtt"},"":{letter:"B",fontCmd:"mathtt"},"":{letter:"\\Gamma",fontCmd:"mathtt"},"":{letter:"\\Delta",fontCmd:"mathtt"},"":{letter:"E",fontCmd:"mathtt"},"":{letter:"F",fontCmd:"mathtt"},"":{letter:"G",fontCmd:"mathtt"},"":{letter:"\\Theta",fontCmd:"mathtt"},"":{letter:"I",fontCmd:"mathtt"},"":{letter:"J",fontCmd:"mathtt"},"":{letter:"\\Lambda",fontCmd:"mathtt"},"":{letter:"L",fontCmd:"mathtt"},"":{letter:"M",fontCmd:"mathtt"},"":{letter:"\\Pi",fontCmd:"mathtt"},"":{letter:"O",fontCmd:"mathtt"},"":{letter:"\\Pi",fontCmd:"mathtt"},"":{letter:"Q",fontCmd:"mathtt"},"":{letter:"R",fontCmd:"mathtt"},"":{letter:"S",fontCmd:"mathtt"},"":{letter:"T",fontCmd:"mathtt"},"":{letter:"U",fontCmd:"mathtt"},"":{letter:"\\Phi",fontCmd:"mathtt"},"":{letter:"W",fontCmd:"mathtt"},"":{letter:"\\Psi",fontCmd:"mathtt"},"":{letter:"\\Omega",fontCmd:"mathtt"}}}},r={};function i(s){var a=r[s];if(a!==void 0)return a.exports;var l=r[s]={exports:{}};return n[s].call(l.exports,l,l.exports,i),l.exports}var o={};return(()=>{var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.MathMLToLaTeX=void 0;var a=i(8672);Object.defineProperty(s,"MathMLToLaTeX",{enumerable:!0,get:function(){return a.MathMLToLaTeX}})})(),o})())})(rZ);var v8=rZ.exports;const S5e=at.object({type:at.string()}),A5e=at.object({timestamp:at.number(),action:at.string(),response:at.string()}),C5e=at.object({method:at.string(),cursorShift:at.string(),atomic:at.boolean(),enabled:at.boolean(),latex:at.string(),mma:at.string(),operator:at.string(),string:at.string(),symbol_style:at.custom(),symbol_latex:at.string(),symbol_html:at.string(),symbol_icon:at.string(),symbol_img:at.string(),symbol_svg:at.string(),symbol_utf8:at.string(),tooltip:at.string()}),M5e={initialState:"GO",sessionToken:"",identifiers:[],operators:[],steps:[],stepCount:0,hintCount:0,errorCount:0,log:[],lastAction:0,editingStep:""};at.object({initialState:at.string(),sessionToken:at.string(),identifiers:at.array(at.string()),operators:at.array(C5e),steps:at.array(S5e),stepCount:at.number(),hintCount:at.number(),errorCount:at.number(),log:at.array(A5e),lastAction:at.number(),editingStep:at.string()});const r_=t=>{let e;return t instanceof Error?e=t.message:t&&typeof t=="object"&&"message"in t?e=String(t.message):typeof t=="string"?e=t:e="Something went wrong",e};function dz(t){const e=t.indexOf("<math"),n=t.indexOf("</math")+7;if(e===-1)return t;if(e===0&&n===t.length-1)return v8.MathMLToLaTeX.convert(t);const r=t.substring(0,e),i=v8.MathMLToLaTeX.convert(t.substring(e,n)),o=t.substring(n,t.length-1);return r+"\\("+i+"\\)"+o}function E5e(t){const e="[HINTMSG:START]",n="[HINTMSG:END]",r=t.indexOf(e);if(r===-1)return"";const i=t.indexOf(n,r+e.length);return i===-1?"":t.substring(r+e.length,i)}function k5e(t){const e="[FBMSG:START]",n="[FBMSG:END]",r=t.indexOf(e);if(r===-1)return"";const i=t.indexOf(n,r+e.length);return i===-1?"":t.substring(r+e.length,i)}const T5e=async()=>{let t;const e={timestamp:Date.now(),action:"heartbeat",response:""};try{t=await fetch("https://qq-stepwise-api.querium.com/")}catch(n){e.response=n}return t!=null&&t.ok?e.response=t==null?void 0:t.statusText:e.response=`HTTP Response Code: ${t==null?void 0:t.status}`,{logEntry:e}},D5e=[{method:"latex",cursorShift:"",atomic:!1,enabled:!1,latex:"(#0)",mma:"",operator:"Parens",string:"(a)",symbol_latex:"\\left(\\placeholder[foo]{}\\right)",symbol_style:{background:"none",fontSize:".6rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Parenthesis"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\left(",mma:"",operator:"(",string:"(",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"(",tooltip:"Open Parenthesis"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\right)",mma:"",operator:")",string:")",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:")",tooltip:"Close Parenthesis"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\[",mma:"",operator:"[",string:"[",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"[",tooltip:"Left Bracket"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\]",mma:"",operator:"]",string:"]",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"]",tooltip:"Right Bracket"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\{",mma:"",operator:"{",string:"{",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"{",tooltip:"Left Curly Brace"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\}",mma:"",operator:"}",string:"}",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"}",tooltip:"Right Curly Brace"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:",",mma:"",operator:",",string:",",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:",",tooltip:"Comma"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:".",mma:"",operator:".",string:".",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:".",tooltip:"Decimal"},{method:"latex",cursorShift:"",atomic:!1,enabled:!1,latex:"\\frac",mma:"",operator:"Frac",string:"Fraction",symbol_latex:"\\frac{\\placeholder[foo]{}}{\\placeholder[bar]{}}",symbol_style:{fontSize:".5rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Fraction"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"|",mma:"",operator:"Abs",string:"|a|",symbol_latex:"",symbol_style:{},symbol_html:"<span>|<i>a</i>|</span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Absolute Value"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\sqrt",mma:"",operator:"SquareRoot",picture:"",string:"",symbol_latex:"\\sqrt{\\placeholder[foo]{}}",symbol_style:{fontSize:".75rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Square Root"},{method:"latex",cursorShift:"",atomic:!1,enabled:!1,latex:"{}^{}",mma:"",operator:"SuperScript",string:"^",symbol_latex:"\\placeholder[foo]{}^\\placeholder[bar]{}",symbol_style:{fontSize:".75rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"SuperScript"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"f^{(-1)}()",mma:"",operator:"InverseFunction",string:"^",symbol_latex:"",symbol_style:{},symbol_html:"<var>f</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'>&nbsp;&nbsp;1</span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"InverseFunction"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"_",mma:"",operator:"SubScript",string:"_",symbol_latex:"",symbol_style:{},symbol_html:"<var>a</var><sub><i>b</i></sub>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"SubScript"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\ast",mma:"",operator:"Multiply",string:"*",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"*",tooltip:"Multiply"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\div",mma:"",operator:"Divide",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"U+002F",tooltip:"Divide"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"=",mma:"",operator:"Equal",string:"=",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"=",tooltip:"Equals"},{method:"write",cursorShift:"",atomic:!1,enabled:!0,latex:"\\lognat",mma:"",operator:"ln",string:"ln",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"ln",tooltip:"Natural Logarithm"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!0,latex:"\\logten",mma:"",operator:"log10",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"log",tooltip:"Common Logarithm"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\logb",mma:"",operator:"logb",string:"",symbol_latex:"",symbol_style:{},symbol_html:"log<sub><i>b</i></sub>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Logarithm base b"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"-",mma:"",operator:"Minus",string:"-",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"-",tooltip:"Minus"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"+",mma:"",operator:"Plus",string:"+",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"+",tooltip:"Plus"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\pm",mma:"",operator:"PlusMinus",string:"+/-",symbol_latex:"\\pm",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Plus or Minus"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"Power",mma:"",operator:"Power",string:"Power",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Power"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\cdot",mma:"",operator:"Times",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Times"},{method:"cmd",cursorShift:"",atomic:!0,enabled:!1,latex:"NoAsymptotes",mma:"",operator:"NoAsymptotes",string:"NoAsymptotes",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"No Asymptotes"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\neq",mma:"",operator:"Unequal",string:"Not Equal",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Not Equal"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\nthroot",mma:"",operator:"Surd",string:"",symbol_latex:"\\sqrt[\\placeholder[foo]{}]{\\placeholder[bar]{}}",symbol_style:{fontSize:".75rem"},symbol_html:"<span class='mq-math-mode qq-mq-surd'><sup class='mq-nthroot mq-non-leaf'><var>a</var></sup><span class='mq-scaled'><span class='mq-sqrt-prefix mq-scaled' style='transform: scale(1, 0.932609);'></span><span class='mq-sqrt-stem mq-non-leaf'><var>b</var></span></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Nth Root"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\sin()",mma:"",operator:"Sin",string:"sin",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"sin",tooltip:"Sine"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\cos()",mma:"",operator:"Cos",string:"cos",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"cos",tooltip:"Cosine"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\tan()",mma:"",operator:"Tan",string:"tan",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"tan",tooltip:"Tangent"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\sec()",mma:"",operator:"Sec",string:"sec",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"sec",tooltip:"Secant"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\csc()",mma:"",operator:"Csc",string:"csc",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"csc",tooltip:"Cosecant"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\cot()",mma:"",operator:"Cot",string:"cot",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"cot",tooltip:"Cotangent"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\cos^{-1}()",mma:"",operator:"ArcCos",string:"arccos",symbol_latex:"",symbol_style:{},symbol_html:"cos<sup>-1</sup>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Inverse cosine"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\cot^{-1}()",mma:"",operator:"ArcCot",string:"arccot",symbol_latex:"",symbol_style:{},symbol_html:"cot<sup>-1</sup>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Inverse cotangent"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\csc^{-1}()",mma:"",operator:"ArcCsc",string:"arccsc",symbol_latex:"",symbol_style:{},symbol_html:"csc<sup>-1</sup>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Inverse Cosecant"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\sec^{-1}()",mma:"",operator:"ArcSec",string:"arcsec",symbol_latex:"",symbol_style:{},symbol_html:"sec<sup>-1</sup>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Inverse Secant"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\sin^{-1}()",mma:"",operator:"ArcSin",string:"arcsin",symbol_latex:"",symbol_style:{},symbol_html:"sin<sup>-1</sup>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Inverse sine"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\tan^{-1}()",mma:"",operator:"ArcTan",string:"arctan",symbol_latex:"",symbol_style:{},symbol_html:"tan<sup>-1</sup>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Inverse tangent"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\text{ And }",mma:"\\text{ And }",operator:"And",string:"&",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"And",tooltip:"And"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"False",mma:"",operator:"False",string:"False",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"False"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"True",mma:"",operator:"True",string:"True",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"True"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"YES",mma:"",operator:"YES",string:"YES",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"YES",tooltip:"Yes"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"NO",mma:"",operator:"NO",string:"NO",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"NO",tooltip:"No"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:">",mma:"",operator:"Greater",string:">",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:">",tooltip:"Greater Than"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\geq",mma:"",operator:"GreaterEqual",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Greater Than or Equal To"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\neq",mma:"",operator:"Inequality",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Inequality"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"<",mma:"",operator:"Less",string:"<",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"<",tooltip:"Less Than"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\leq",mma:"",operator:"LessEqual",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Less Than or Equal To"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\neg",mma:"",operator:"Not",string:"Not",symbol_latex:"\\neg",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Not"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\text{ Or }",mma:"\\text{ Or }",operator:"Or",string:"Or",symbol_latex:"\\text{ Or }",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"Or",tooltip:"Or"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"Backspace",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"ion-backspace-outline",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Backspace"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"Clear",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"icon ion-trash-b",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Wipe It!"},{method:"cmd",cursorShift:"",atomic:!0,enabled:!1,latex:"UndefinedSlope",mma:"UndefinedSlope",operator:"UndefinedSlope",string:"UndefinedSlope",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"|",tooltip:"Undefined Slope"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"Midpoint",mma:"",operator:"Midpoint",string:"Midpoint",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Midpoint"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\over{d}{dx}\\left(\\right)",mma:"",operator:"D",string:"d/dx",symbol_latex:"",symbol_style:{},symbol_html:"<span class='mq-fraction mq-non-leaf'><span class='mq-numerator' mathquill-block-id='25'><span mathquill-command-id='27'><i>d</i></span></span><span class='mq-denominator' mathquill-block-id='26'><span mathquill-command-id='29'><i>dx</i></span></span><span style='display:inline-block;width:0'>&#8203;</span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Derivative with respect to x"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"d",mma:"",operator:"dd",string:"dd",symbol_latex:"",symbol_style:{},symbol_html:"<span class='mq-fraction mq-non-leaf'><span class='mq-numerator' mathquill-block-id='25'><span mathquill-command-id='27'><i>d</i></span></span><span class='mq-denominator' mathquill-block-id='26'><span mathquill-command-id='29'><i>dx</i></span></span><span style='display:inline-block;width:0'>&#8203;</span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Differential For Int"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"'",mma:"",operator:"Prime",string:"'",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"'",tooltip:"Prime"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\eval",mma:"",operator:"EvaluationBar",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<span class='mq-math-mode qq-mq-int'><span class='mq-int mq-non-leaf'><big>|</big><span class='mq-supsub mq-non-leaf qq-mq-eval-supsub'><span class='mq-sup'><span class='mq-sup-inner'><var>b</var></span></span><span><var>a</var></span><span style='display:inline-block;width:0'></span></span></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Evaluation Bar"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\vert_",mma:"FindDerAt",operator:"FindDerAt",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Find the derivative at a given point"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"Integrate",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Integrate"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\int",mma:"",operator:"IntegrateWithBounds",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<span class='mq-math-mode qq-mq-int'><span class='mq-int mq-non-leaf'><big></big><span class='mq-supsub mq-non-leaf qq-mq-int-supsub' style='vertical-align:0px'><span class='mq-sup'><span class='mq-sup-inner'><var>b</var></span></span><span class='mq-sub'><var>a</var></span><span style='display:inline-block;width:0'></span></span></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Integrate over given bounds"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"\\lim",mma:"",operator:"Limit",string:"Limit",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"lim",tooltip:"Limit"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\infin",mma:"",operator:"Infinity",string:"Infinity",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Infinity"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\infin",mma:"",operator:"infinity",string:"Infinity",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Infinity"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"Let",string:"Let",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Let"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\partial",mma:"",operator:"Partial Derivative Sign",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Partial Derivative"},{method:"cmd",cursorShift:"",atomic:!0,enabled:!1,latex:"Dependent ",mma:"",operator:"Dependent",string:"Dependent",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"Dependent",tooltip:"Dependent System"},{method:"cmd",cursorShift:"",atomic:!0,enabled:!1,latex:"Inconsistent",mma:"",operator:"Inconsistent",string:"Inconsistent",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"Inconsistent",tooltip:"Inconsistent System"},{method:"cmd",cursorShift:"",atomic:!0,enabled:!1,latex:"NoSolution",mma:"",operator:"NoSolution",string:"No Solution",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"No Solution",tooltip:"No Solution"},{method:"cmd",cursorShift:"",atomic:!0,enabled:!1,latex:"Solution",mma:"",operator:"Solution",string:"Solution",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"Solution",tooltip:"Solution"},{method:"cmd",cursorShift:"",atomic:!0,enabled:!1,latex:"NotSolution",mma:"",operator:"NotSolution",string:"Not Solution",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"Not Solution",tooltip:"Not Solution"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\e",mma:"E",operator:"E",string:"e",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"The number "},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\pi",mma:"pi",operator:"pi",string:"pi",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"The number "},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\#",mma:"",operator:"Factorial",string:"!",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"!",tooltip:"Factorial"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"GCF",mma:"",operator:"GCF",string:"GCF",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Greatest Common Factor"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"\\sum_{a=1}^b",mma:"",operator:"Sigma",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Summation, Sigma"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"ft",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Feet"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"in",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Inches"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"m",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Meters"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"mi",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Miles"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"L",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Liters"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"ml",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Milliliters"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"yd",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Yard"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"km",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Kilometers"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"lb",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Pounds"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"oz",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Ounces"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"kg",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Kilograms"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"g",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Grams"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"ton",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Short Tons"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"c",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Cups"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"h",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Hours"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"cm",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Centimeters"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"qt",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Quarts"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"pt",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Pints"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"gal",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Gallons"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"s",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Seconds"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"min",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Minutes"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"C",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Celsius"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"F",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Fahrenheit"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"K",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Kelvin"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"W",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Watts"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"Wh",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Watt Hours"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"GW",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Gigawatts"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"MW",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Megawatts"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"kW",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Kilowatts"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"GWh",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Gigawatt Hours"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"MWh",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Megawatt Hours"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"kWh",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Kilowatt Hours"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"kWmin",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Kilowatt Minutes"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"mm",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Millimeters"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"cm^3",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>cm</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>3</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Cubic Centimeters"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"km^3",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>km</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>3</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Cubic Kilometers"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"ft^3",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>ft</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>3</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Cubic Feet"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"in^3",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>in</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>3</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Cubic Inches"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"m^3",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>m</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>3</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Cubic Meters"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"ft^2",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>ft</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>2</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Square Feet"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"yd^2",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>yd</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>2</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Square Yards"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"in^2",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>in</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>2</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Square Inches"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"km^2",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>km</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>2</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Square Kilometers"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"mi^2",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>mi</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>2</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Square Millimeters"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:" cm^2 ",mma:"",operator:"cm^2",string:"",symbol_latex:"",symbol_style:{},symbol_html:"<var>cm</var><span class='mq-supsub mq-non-leaf mq-sup-only'><span class='mq-sup'><var>2</var></span></span>",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Square Centimeters"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"ac",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Acres"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"t",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Metric Tons"},{method:"write",cursorShift:"",atomic:!1,enabled:!1,latex:" fl oz ",mma:"",operator:"fl oz",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"fl oz",tooltip:"Fluid Ounces"}];function hz(t){return t?t.map(n=>{let r={method:"error",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"error",string:"",symbol_latex:"",symbol_style:{},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Error processing special operators from StepWise AI"};const i=D5e.find(o=>o.operator===n);return i?(i.operator=i.operator.trim(),i):(r.tooltip=JSON.stringify(n),r)}):[]}const L5e=(t,e,n,r,i,o,s)=>{t=t||"GO";const a=n?n5e(n):{problemValid:!1,problemStatusMsg:"problem is undefined"},l=e?v5e(e):{studentValid:!1,studentStatusMsg:"student is undefined"};return r=w5e(r),GW()(ZEe((c,u)=>({...g5e,...m5e,...e5e,...QEe,...M5e,...r,...i,...n,...a,...e,...l,initialState:t,heartbeat:async()=>{const d=await T5e();c(h=>({log:[...h.log,d]}))},startSession:async()=>{if(a.problemValid===!1||l.studentValid===!1){console.error("Invalid problem or student");return}c(R=>({sessionToken:"starting"}));let d;const h={timestamp:Date.now(),action:"startSession",response:""},f=u().sessionToken;if(f&&typeof f=="string"&&f.length>0&&f!=="starting"){h.response=`Session for sessionToken already started. ${f}`,c(R=>({log:[...R.log,h]}));return}const p=u().studentId,v=u().appKey,b=u().problemId,y=u().policyId,x=u().title,w=u().stimulus,A=u().topic,D=u().definition,k=u().hints;try{d=await fetch(`${r.serverURL}/start`,{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:JSON.stringify({appKey:v,studentId:p,policyId:y,id:b,title:x,stimulus:w,topic:A,definition:D,hints:k})})}catch(R){h.response=r_(R)}if(h.response.length>0){c(R=>({sessionToken:"",log:[...R.log,h]}));return}if(d!=null&&d.ok){h.response=d==null?void 0:d.statusText;const R=await d.json(),L=hz(R.operators);c(T=>({sessionToken:R.sessionToken,identifiers:R.identifiers,operators:L,log:[...T.log,h],steps:[]}));return}h.response=`HTTP Response Code: ${d==null?void 0:d.status}`,c(R=>({sessionToken:"",log:[...R.log,h]}))},resumeSession:async d=>{if(u().sessionToken.length>20)return;let f={timestamp:Date.now(),action:"resumeSession",response:""};if(a.problemValid===!1||l.studentValid===!1){console.error("Invalid problem or student"),f.response="Trying to resume Session but problem or student is invalid.",c(v=>({log:[...v.log,f]}));return}if(!d||!d.sessionToken||d.sessionToken.length<20){console.error("Invalid problem or student"),f.response=`Provided sessionToken is invalid ${d==null?void 0:d.sessionToken}`,c(v=>({log:[...v.log,f]}));return}f.response=`Session resumed for sessionToken: ${d==null?void 0:d.sessionToken}`;const p=hz(d.operators);c(v=>({sessionToken:d.sessionToken,identifiers:d.identifiers,operators:p,log:[...v.log,f],steps:[]}))},getHint:async()=>{const d=u().appKey;let h;const f={timestamp:Date.now(),action:"getHint",response:""},p=u().sessionToken;if(!p||typeof p!="string"||p.length==0)return f.response=`No sessionToken. ${p}`,c(v=>({log:[...v.log,f]})),typeof o=="function"&&o("Oh oh! We had a failure:"+JSON.stringify(f),!1),"I'm sorry. We don't have a sessionToken.";typeof o=="function"&&o("Hmmm...  Let me see...",!0);try{h=await fetch(`${r.serverURL}/getHint`,{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:JSON.stringify({appKey:d,sessionToken:p})})}catch(v){f.response=r_(v)}if(f.response.length>0)return c(v=>({log:[...v.log,f]})),typeof o=="function"&&o("Oh oh! We had a failure:"+JSON.stringify(f),!1),JSON.stringify(f);if(h!=null&&h.ok){f.response=h==null?void 0:h.statusText;const v=await h.json();return c(b=>({log:[...b.log,f],steps:[...b.steps,{timestamp:Date.now(),type:"hint",hintObject:v.hintObject,hintText:dz(v.hintText)}],lastAction:Date.now()})),typeof o=="function"&&o(v.hintText,!1),v.hintText}return f.response=`HTTP Response Code: ${h==null?void 0:h.status}`,c(v=>({log:[...v.log,f]})),typeof o=="function"&&o("Oh oh! We had a failure:"+JSON.stringify(f),!1),f.response},showMe:async()=>{const d=Date.now(),h=u().appKey;let f;const p={timestamp:Date.now(),action:"showMe",response:""},v=u().sessionToken;if(!v||typeof v!="string"||v.length==0){p.response=`No sessionToken. ${v}`,c(b=>({log:[...b.log,p]}));return}try{f=await fetch(`${r.serverURL}/showMe`,{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:JSON.stringify({appKey:h,sessionToken:v})})}catch(b){p.response=r_(b)}if(p.response.length>0){c(b=>({log:[...b.log,p]}));return}if(f!=null&&f.ok){p.response=f==null?void 0:f.statusText;const b=await f.json(),y=b.showMe.map((x,w)=>({key:d+"-"+w,suggestedStep:"\\("+v8.MathMLToLaTeX.convert(x.suggestedStep)+"\\)",instruction:E5e(x.instruction)}));c(x=>({log:[...x.log,p],steps:[...x.steps,{timestamp:d,type:"showMe",status:b.status,showMe:y}],lastAction:d}));return}p.response=`HTTP Response Code: ${f==null?void 0:f.status}`,c(b=>({log:[...b.log,p]}))},close:async()=>{console.error("closeSessionAction has not been tested");const d=u().appKey;let h;const f={timestamp:Date.now(),action:"closeSession",response:""},p=u().sessionToken;if(!p||typeof p!="string"||p.length==0){f.response=`No sessionToken. ${p}`,c(v=>({log:[...v.log,f]}));return}try{h=await fetch(`${r.serverURL}/close`,{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:JSON.stringify({appKey:d,sessionToken:p})})}catch(v){f.response=v}console.info(h),h!=null&&h.ok?f.response=h==null?void 0:h.statusText:f.response=`HTTP Response Code: ${h==null?void 0:h.status}`,c(v=>({log:[...v.log,f]}))},submitStep:async d=>{d=d||u().editingStep;const h=u().appKey,f=Date.now();let p;const v={timestamp:f,action:"submitStep",response:""},b=u().sessionToken;if(!b||typeof b!="string"||b.length==0)return v.response=`No sessionToken. ${b}`,c(y=>({log:[...y.log,v]})),typeof o=="function"&&o("Oh oh! We had a failure:"+JSON.stringify(v),!1),v.response;typeof o=="function"&&o("Just a sec while I check your step...",!0);try{p=await fetch(`${r.serverURL}/submitStep`,{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:JSON.stringify({appKey:h,sessionToken:b,step:`\\begin{{equation}}${d.replace("=","&#63449;")}\\end{{equation}}`})})}catch(y){v.response=r_(y)}if(v.response.length>0)return c(y=>({log:[...y.log,v]})),typeof o=="function"&&o("Oh oh! We had a failure:"+JSON.stringify(v),!1),v.response;if(p!=null&&p.ok){const y=await p.json();v.response=y.rawResponse;const x={timestamp:f,status:y.status,stepStatus:y.stepStatus,message:dz(k5e(y.message)),rawResponse:y.rawResponse,latex:d,hintObject:y.hintObject};switch(y.stepStatus){case"VALID":x.type="correct";break;case"INVALID":x.type="incorrect";break;case"COMPLETE":x.type="victory";break;case"MATHCOMPLETE":if(x.type="mathComplete",typeof s=="function"){const w=u().log;s(u().steps,w)}break}return typeof o=="function"&&o(y.message,!1),c(w=>({log:[...w.log,v],steps:[...w.steps,x],lastAction:f})),y.message}},getGrade:async()=>{let d;const h={timestamp:Date.now(),action:"getGrade",response:""};try{d=await fetch(`${r.serverURL}/getGrade`)}catch(f){h.response=f}d!=null&&d.ok?h.response=d==null?void 0:d.statusText:h.response=`HTTP Response Code: ${d==null?void 0:d.status}`,c(f=>({log:[...f.log,h]}))},precomputeHints:async()=>{const d=u().appKey,h=u().sessionToken;let f;const p={timestamp:Date.now(),action:"heartbeat",response:""};try{f=await fetch(`${r.serverURL}/precomputeHints`,{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:JSON.stringify({appKey:d,sessionToken:h})})}catch(v){p.response=v}console.info(f),f!=null&&f.ok?p.response=f==null?void 0:f.statusText:p.response=`HTTP Response Code: ${f==null?void 0:f.status}`,c(v=>({log:[...v.log,p]}))},saveTrace:async()=>{console.error("saveTraceAction needs work");let d;const h={timestamp:Date.now(),action:"saveTrace",response:""};try{d=await fetch(`${r.serverURL}/saveTrace`)}catch(f){h.response=f}console.info(d),d!=null&&d.ok?h.response=d==null?void 0:d.statusText:h.response=`HTTP Response Code: ${d==null?void 0:d.status}`,c(f=>({log:[...f.log,h]}))},addComment:async d=>{console.error("addCommentAction needs work");const h=u().appKey,f=u().sessionToken;let p;const v={timestamp:Date.now(),action:"addComment",response:""};try{p=await fetch(`${r.serverURL}/submitComment`,{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:JSON.stringify({appKey:h,sessionToken:f,comment:d})})}catch(b){v.response=b}console.info(p),p!=null&&p.ok?v.response=p==null?void 0:p.statusText:v.response=`HTTP Response Code: ${p==null?void 0:p.status}`,c(b=>({log:[...b.log,v]}))},assessSolution:async()=>{console.error("assessSolutionAction needs work");let d;const h={timestamp:Date.now(),action:"assessSolution",response:""};try{d=await fetch(`${r.serverURL}/assessSolution/`)}catch(f){h.response=f}console.info(d),d!=null&&d.ok?h.response=d==null?void 0:d.statusText:h.response=`HTTP Response Code: ${d==null?void 0:d.status}`,c(f=>({log:[...f.log,h]}))},setEditingStep:async d=>{c(h=>({editingStep:d}))}}),{name:"session"}))},Uc=E.createContext(null);function Ir(...t){return Jk(Lk(t))}const iZ=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{className:"relative w-full overflow-auto",children:_.jsx("table",{ref:n,className:Ir("w-full caption-bottom text-sm",t),...e})}));iZ.displayName="Table";const R5e=E.forwardRef(({className:t,...e},n)=>_.jsx("thead",{ref:n,className:Ir("[&_tr]:border-b",t),...e}));R5e.displayName="TableHeader";const oZ=E.forwardRef(({className:t,...e},n)=>_.jsx("tbody",{ref:n,className:Ir("[&_tr:last-child]:border-0",t),...e}));oZ.displayName="TableBody";const B5e=E.forwardRef(({className:t,...e},n)=>_.jsx("tfoot",{ref:n,className:Ir("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));B5e.displayName="TableFooter";const Rv=E.forwardRef(({className:t,...e},n)=>_.jsx("tr",{ref:n,className:Ir("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Rv.displayName="TableRow";const P5e=E.forwardRef(({className:t,...e},n)=>_.jsx("th",{ref:n,className:Ir("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));P5e.displayName="TableHead";const Rc=E.forwardRef(({className:t,...e},n)=>_.jsx("td",{ref:n,className:Ir("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Rc.displayName="TableCell";const sZ=E.forwardRef(({className:t,...e},n)=>_.jsx("caption",{ref:n,className:Ir("mt-4 text-sm text-muted-foreground",t),...e}));sZ.displayName="TableCaption";const X4=re.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Ir("flex items-center justify-center text-xl max-h-8 min-h-8 max-w-8 min-w-8",t),...e})),J4=t=>{const e=E.useRef(null);return E.useEffect(()=>{e.current&&e.current.applyStyle({backgroundColor:"red"})},[]),_.jsx("math-field",{style:t.style,ref:e,"read-only":!0,children:`${t.latex}`})},N5e=t=>{if(t.type==="correct"){const{latex:e}=t;return _.jsxs(Rv,{className:"flex text-slate-500 dark:text-slate-400 m-0 text-sm even:bg-[#f7f7f7] odd:bg-white",children:[_.jsx(Rc,{children:_.jsx(X4,{children:""})}),_.jsx(Rc,{children:_.jsx("div",{className:"",children:_.jsx(J4,{latex:e,style:{background:"none"}})})})]})}return null},I5e=t=>{if(t.type==="incorrect"){const{latex:e}=t;return _.jsxs(Rv,{className:"flex text-slate-500 dark:text-slate-400 mt-2 text-sm",children:[_.jsx(Rc,{children:_.jsx(X4,{children:""})}),_.jsx(Rc,{children:_.jsx("div",{className:"",children:_.jsx(J4,{latex:e})})})]})}return null},fz=t=>t.type==="victory"?_.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[_.jsx("div",{style:{minWidth:32,minHeight:32,maxWidth:32,maxHeight:32,fontSize:24,display:"flex",alignItems:"center",justifyContent:"center"},children:""}),_.jsx("div",{style:{display:"flex",alignItems:"center",flexGrow:2},children:t.latex})]}):null,O5e=t=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",id:"katman_1",viewBox:"0 0 511.70003 471.58736",x:0,y:0,...t,children:[_.jsx("style",{id:"style1",type:"text/css",children:".st0{fill:#171a31}.st1{fill:#ffb3ae}.st2{fill:#ff6e61}.st3{fill:#c2d2dd}.st4{fill:#fcfefd}.st5{fill:#ec5c57}"}),_.jsx("path",{id:"path1",d:"M118.5 432.2c-94.084-50.672-9.4-4.8-9.4-4.8l-9.3-5-9.1-5.3-8.9-5.6-8.7-5.8-8.5-6.1-8.3-6.3-8.1-6.6-6.6-5.7-6.2-5.8-5.7-5.8-5.3-5.8-4.8-5.7-4.4-5.7-3.8-5.6-3.3-5.6-1.8-3.6-1.4-3.6-1-3.5-.6-3.5-.2-3.3.2-3.2.7-3 1.1-2.9 1.7-3.1 2.3-2.9 2.8-2.6 3.4-2.3 5.2-2.8.3-.3.1-.4.1-11.9.6-11.9 1.2-11.8 1.8-11.7 2.2-10.9 2.7-10.8 3.2-10.7 3.7-10.6.1-.6-.2-.5-4.5-7.1-4.2-7.3-3.9-7.4-3.6-7.5-2.9-6.8-2.7-6.9-2.5-7-2.2-7.1-2-7.2L6 137l-1.5-7.4-1.3-7.4-1.1-7.6-.9-7.6-.6-7.7-.5-7.4L0 84l.1-7.9.3-8 .5-8 .8-8.2 1-8.1 1.2-8.3 1.4-8.2 2.4-11.4 1-3.8.8-2.6 1.1-2.4 1.3-2 1.6-1.7 1.7-1.3 1.6-.9 1.7-.6 1.9-.4 2-.2h2.2l2.5.3 5.6 1.3 9.4 2.8 9.1 3 8.9 3.2 8.6 3.4 8.4 3.6 8 3.8 7.9 4.1 7.6 4.2 7.3 4.4 7.1 4.7 6.8 4.9 6.6 5.1 6.3 5.3 6.1 5.6 5.8 5.7 5.6 6 6.7 7.9.5.4.6-.1 11.8-4.6 12-4 12.2-3.4 12.3-2.8 12.4-2.2 12.5-1.6 12.4-1 12.4-.3 12.3.3 12.3.9 12.1 1.5 12 2.2 11.7 2.8 11.6 3.4 11.3 4 11.1 4.6.7.1.6-.4 5.1-5.8 5.3-5.6 5.5-5.5 5.7-5.3 5.9-5.1 6-4.9 6.3-4.7 6.4-4.5 6.6-4.3 6.8-4.1 6.9-3.9 7-3.7 7.2-3.5 7.3-3.2 7.5-3 7.5-2.8 13.4-4.5L482 1l2.6-.6 2.4-.3h2.1l1.9.3 2 .6 1.8.8 1.6 1 1.3 1.1 1.8 2.1 1.4 2.7 1.2 3.3 1.3 5.3.4 1.8 2.7 12.5 2.1 12.7 1.5 12.7.9 12.8.3 12.6.4 12.4-.9 12.5-1.5 12.4-2.1 12.1-2.7 11.8-3.3 11.7-3.9 11.3-4.5 11-5 10.6-5.6 10.3-6.1 9.8-.3.9.1 1 4 12.5 3.5 12.7 1.9 7.9 1.6 7.9 1.4 8 1.1 8 .8 8.1.6 8.2.3 8.2v8.2l.1.5.4.3 4.9 2.5 3.8 2.5 3 2.6 2.3 3 1 1.8.9 1.9 1.2 4.2.2 1.2.3 3.6-.2 3.8-.6 3.8-1.1 3.9-1.6 4-2.1 4.1-2.6 4.4-3.2 4.6-4 5.3-4.2 5.1-4.4 5.1-4.6 5-4.9 5-5.1 4.9-10.8 9.6-11.7 9.3-12.4 8.9-13.1 8.4L409 427l-9 4.6-13.3 6.5-.3.3s81.72-44.998.1.4c-81.62 45.398-173.916 44.072-268-6.6z",className:"st0"}),_.jsx("path",{id:"path2",d:"m138.7 90.5-3.7-3.8-3.2-2.5-1.5-1-8.6-5.4-11.1-8-8.4-6-8-5-8.2-4.6-9.1-4.6-9.3-4.1-12-4.9-10.1-3.8-9.2-3.2-8.8-2.6h-.4l-.4.2-.6.6-.6.1-.2-.1-.3-.5 1.9-8.4.5-.8.9-.1L42 26l6.7 2.3 6.6 2.4 6.5 2.6 6.4 2.8 6.2 3 6.1 3.1 6 3.3 5.9 3.5 5.7 3.6 5.5 3.8 5.3 3.9 5.2 4.1 5 4.2 4.9 4.3 4.2 4.1 5.9 6.1 4.4 4.6.8 1 .3.6.1.5-.3.4z",className:"st1",style:{fill:"#ff7f2a"}}),_.jsx("path",{id:"path3",d:"m486.4 31-13 3.6-4.3 1.4-2.8 1.1-11.2 5-17.4 7.9-6.4 3.2-5.9 3.1-8.3 4.8-8.2 5.1-7 4.6-6.9 4.9-8.4 5.4-1.5.8-2.2.8-2.9 1.1-1.9 1.3-.3.3-.5.1h-.6l-.3-.2v-.4l8.9-8.9 9.4-8.3 9.4-7.4 9.9-6.9 10.3-6.4 10.8-5.9 11.2-5.4 11.8-5 12.4-4.5 12.9-4.1h.7l.4.6z",className:"st1",style:{fill:"#ff7f2a"}}),_.jsx("path",{id:"path4",d:"m138.7 90.5-19.3 12.6-.8.2-.7-.4-5.4-6.8-5.4-6.4-5.4-6-5.5-5.6-5.5-5.3-5.5-4.9-5.5-4.5-5.5-4.2-11.2-8-3.3-2.2-3.2-1.8-3-1.4-2.8-1-2.6-.5-2.4-.1-2.2.4-1.9.8-1.2.8-1.1 1-.9 1.1-.8 1.4-.8 1.8-.4 1.9v1.8l.3 1.8.7 1.9 1 1.9-.8 3.1-.9 3.3-.5 3.8-.3 4.2-.1 9.3.7 10.6.5 5.9 1 7 1.3 6.8 1.5 6.6 1.6 6.3 1.8 6 1.9 5.8 2.1 5.5 2.3 5.4 2.4 5.1 5.2 11.1-11.5 20-.2.2-.3-.1-.1-.1-3.4-6.6-3.2-6.7-3-6.8-2.7-6.9-2.5-7.2-2.2-7.2-2-7.4-1.7-7.4-1.5-7.5-1.2-7.5-1-7.7-.7-7.7-.5-7.8-.2-7.8v-8l.3-8 .5-8.1.8-8.1 1-8.3 1.3-8.3 1-4.2.3.5.2.1.4-.1.6-.6.4-.2h.4l8.8 2.6 9.2 3.2 10.1 3.8 12 4.9 9.3 4.1 9.1 4.6 8.2 4.6 8 5 8.4 6 11.1 8 8.6 5.4 1.5 1 3.2 2.5z",className:"st2",style:{fill:"#f60"}}),_.jsx("path",{id:"path5",d:"m486.4 31 2 10 1.6 9.9 1.1 9.8.6 9.7-1.5-1.1-1.5-.5h-1.6l-1.7.5h-.2l-6.3-.1-.4-.1-.1-.4V68l-.1-.1h-.1v.1l-.5 8.5-.2-6-.4-4.8-.5-2.2-.7-1.7-1-1.6.7-1.9.5-1.8.2-1.8v-1.8l-.2-1.3-.4-1.4-.6-1.2-1.3-1.7-1.6-1.3-2-1-2.2-.6-2.4-.2-2.4.2-2.3.6-2.1 1-8.8 5.5-8.6 6-8.3 6.4-8.1 6.9-7.8 7.3-7.7 7.8-7.3 8.1-7.1 8.6-.6.3-.6-.2-5.4-3.8-5.5-3.6-9.6-5.7-.2-.3.1-.4 3.8-4v.4l.3.2h.6l.5-.1.3-.3 1.9-1.3 2.9-1.1 2.2-.8 1.5-.8 8.4-5.4 6.9-4.9 7-4.6 8.2-5.1 8.3-4.8 5.9-3.1 6.4-3.2 17.3-7.9 11.2-5 2.8-1.1 4.3-1.4z",className:"st2",style:{fill:"#f60"}}),_.jsx("path",{id:"path6",d:"m474.5 60.3 1 1.6.7 1.7.5 2.2.4 4.8.2 6-.2 8.9-.7 8.9-1.1 8.8-1.5 8.7-2 9-2.5 8.9-2.9 8.8-3.4 8.7-3.1 6.9-3 5.7-1.5 3.3-1.1 3.8-5.5-8.5-5.9-8.2-6.2-7.9-6.6-7.6-4.8-5.1-5-4.9-5.1-4.8-5.3-4.6-.3-.5.2-.5 7.2-8.3 7.5-8 7.7-7.4 8-7.1 8.5-6.7 8.7-6.4 3.8-2.5 3.9-2.4 4.1-2.2 4.2-2z",className:"st3",style:{fill:"#ffd42a"}}),_.jsx("path",{id:"path7",d:"m38.1 60.6 2.1 1.4-1 3.1-.8 3.5-.5 3.8-.2 4.1-.2 19.5-.2.6-.3.1-.2-.3-.4-1.4-.7-10.6.1-9.3.3-4.2.5-3.8.6-3.5z",className:"st4"}),_.jsx("path",{id:"path8",d:"m40.2 62 6.1 3.1 5.8 3.5 6.6 4.6 6.6 4.9 6.3 5.2 6.3 5.6 6.1 5.8 6.1 6.2 6.1 6.6 6 7 .1.3-.1.3-3.3 3.4-7.3 6.8-6.5 6.4-5.7 6-4.9 5.6-7.2 9.4-9.4 13.5-5.2-11.1-2.4-5.1-2.3-5.4-2.1-5.5-1.9-5.8-1.8-6-1.6-6.3-1.5-6.6-1.3-6.8-1-7-.5-5.9.4 1.4.2.3.3-.1.2-.6.2-19.5.2-4.1.5-3.8.8-3.5z",className:"st3",style:{fill:"#fc0"}}),_.jsx("path",{id:"path9",d:"m491.6 70.4.3 7.8V86l-.2 7.7-.5 7.7-.7 7.7-1 7.7-1.2 7.5-1.6 7.6-1.8 7.3-2 7.3-2.2 7.1-2.5 7-2.7 6.8-2.9 6.7-3.2 6.5-3.4 6.3-.1.1-.4.1-.3-.2-2.9-5.9-4.5-7.7-3.6-6.1 1.1-3.8 1.5-3.3 3-5.7 3.1-6.9 3.4-8.7 2.9-8.8 2.5-8.9 2-9 1.5-8.7 1.1-8.8.7-8.9.2-8.9.5-8.5v-.1h.1l.1.1v.7l.1.4.4.1 6.3.1h.2l1.7-.5h1.6l1.5.5z",className:"st5",style:{fill:"#d45500"}}),_.jsx("path",{id:"path10",d:"m428.4 164.1-.2.8-.3.2-.3-.2-1-.8-1.3-.7-3.3-1.1-2.1-.7-2.5-1.2-2.9-1.8-3.3-2.3-4.4-3.9-10.4-9.1-7.8-6.4-7.6-5.7-7.5-5.1-2.4-1.5-6.4-3.8-6.4-3.5-6.4-3.3-6.4-3-6.4-2.8-6.3-2.5-6.3-2.2-6.3-2-9.3-2.6-8.9-2.2-8.5-1.8-8-1.4-7.1-.9-7.2-.6-7.3-.3-7.3-.1-7.5.2-7.5.5-7.6.8-7.5 1.1-7.6 1.4-7.5 1.6-7.6 1.9-7.5 2.2-7.5 2.5-7.4 2.7-7.3 3-7.2 3.2-6.4 3.1-6.4 3.5-6.2 3.8-6.2 4.2-6.1 4.5-6.1 4.9-6.1 5.3-6.1 5.6-2.5 1-2.3 1.3-2 1.5-1.7 1.7-1.3 1.7-1.1 1.9-.9 2-.8 2.2-3.1 3.4-1.4 1.6-4.6 5.4-4.4 5.6-5 7.3-6.1 9.9-3.7 6.6-3.5 6.7-3.3 6.8-3 6.9-2.8 6.9-2.5 7-2.3 7-2 7.1-2.7 11.2-2.1 11.3-1.5 11.3-.9 11.7-.2 7.1v7.3l-9 4.3-.3-9v-8.9l.3-8.8.6-8.7.9-8.7 1.2-8.6 1.5-8.5 1.8-8.4 2.4-9.3 2.8-9.2 3.1-9.1 3.5-9 3.8-8.5 4.2-8.3 4.7-8.3 5.1-8 5.6-7.9 6-7.7 6.5-7.5 6.8-7.2 7.2-6.9 7.5-6.6 7.8-6.2 8.1-5.9 8.3-5.5 8.5-5 8.7-4.6 8.8-4.2 10-4.1 10.1-3.7 10.3-3.2 10.4-2.7 10.6-2.2 10.7-1.7 10.7-1.1 10.7-.6 10.7-.1 10.7.4 10.6.9 10.6 1.5 10.4 1.9 10.3 2.5 10.1 3 10 3.5 6.9 2.7 6.8 3 6.7 3.2 6.6 3.5 6.6 3.8 6.4 4 6.3 4.2 6.2 4.5 6 4.6 5.8 4.9 5.6 5 5.5 5.2 5.2 5.4 5 5.5 4.7 5.6z",className:"st1",style:{fill:"#ff7f2a"}}),_.jsx("path",{id:"path11",d:"M411.2 156.2h-.8l-.5.2-.2.8.4 1.5 1.2 2.1 8.7 13 4.5 7.4 3.7 7.4 3.4 7.5 3 7.6 2.7 7.7 3.6 11.5 1.7 6.5 1.6 9.2 1 9.3.4 6.4.2 6.4-.4 8.4-1.3 11.8-.5 3.6-.2.4-.4.3-.9.2-.8-.2-.8-.4-1.4-3.3-1.2-3.7-1.1-4.2-1.3-6-1.4-6.5-1.4-5-1.8-4.7-2.1-4.5-2.4-4.2-2.8-4-3-3.6-3.3-3.4-3.6-3-3.3-2.4-3.5-2.1-3.8-1.8-3.9-1.5-4-1.2-4.1-.9-4.2-.6-4.3-.3h-4.3l-4.4.3-4.4.6-4.5.9-4.4 1.2-4.4 1.5-4.3 1.7-4.3 2-5.8 3.2-5.4 3.4-5.2 3.8-4.8 4-4.3 4.1-4 4.3-3.8 4.5-3.6 4.9-3.4 5.1-3.2 5.5-2.9 5.7-2.8 6-2.5 6.2-2.3 6.6-2.2 7-2 7.3-1.8 7.7-1.7 8.2-1.5 8.7-1.4 9.3-2.8-4-3.4-3.5-3.8-2.8-4.1-2.1-4.4-1.4-4.5-.6h-2.3l-2.2.2-2.2.4-2.2.6-2.4.9-2.3 1.2-2.1 1.4-2 1.6-1.9 1.9-1.8 2.1-1.5 2.3-1.82 2.8-2.68-16.6-2.7-12.5-2.8-11.4-3-10.5-2-5.8-2.3-5.7-2.6-5.6-2.8-5.4-3.1-5.2-3.4-5.1-3.5-4.8-3.8-4.6-4-4.3-4.2-4.1-4.4-3.8-4.6-3.5-4.7-3.2-4.9-2.9-5-2.6-5.2-2.3-6.6-2.4-6.8-1.6-3.8-.6-3.8-.4-3.8-.2h-3.9l-4.8.3-4.6.7-4.6 1.1-4.4 1.4-4.2 1.7-4 2.1-3.6 2.1-3.6 2.7-3.4 3-3.1 3.3-2.8 3.6-2.5 3.8-2.2 4.1-1.9 4.3-1.6 4.5-1.3 4.7-3.4 16.5-1.2 4.3-1.9 4.2-2.6 4.1-3.3 4-4 3.9-4.6 3.8-5.4 3.7-6.1 3.6v-7.3l.2-7.1.7-11.7 1.5-11.5 2.1-11.3 2.7-11.2 2-7.1 2.3-7 2.5-7 2.8-6.9 3-6.9 3.3-6.8 3.5-6.7 3.7-6.6 6.1-9.9 5-7.3 4.4-5.6 4.6-5.4 1.4-1.6 3.1-3.4.3 3.1.8 2.8 1.2 2.4 1.8 2 2.4 1.6 2.9 1 3.1.3 3.2-.4 3-1 2.8-1.6 2.3-2.2 1.7-2.5.9-2.2.5-2.4.1-2.5-.3-2.3-.7-2.2-1.1-1.9-1-1.3-1.2-1.1-1.4-1-1.5-.8-1.6-.6-1.7-.4-3.7-.2 6.1-5.6 6.1-5.3 6.1-4.9 6.1-4.5 6.2-4.2 6.2-3.8 6.4-3.5 6.4-3.1 7.2-3.2 7.3-3 7.4-2.7 7.5-2.5 7.5-2.2 7.6-1.9 7.5-1.6 7.6-1.4 7.5-1.1 7.6-.8 7.5-.5 7.5-.2 7.3.1 7.3.3 7.2.6 7.1.9 8 1.4 8.5 1.8 8.9 2.2 9.3 2.6 6.3 2 6.3 2.2 6.3 2.5 6.4 2.8 6.4 3 6.4 3.3 6.4 3.5 6.4 3.8 2.4 1.5 7.5 5.1 7.6 5.7 7.8 6.4 10.4 9.1z",className:"st2",style:{fill:"#f60"}}),_.jsx("circle",{id:"circle11",cx:147.2,cy:138.8,r:6.6,className:"st4"}),_.jsx("path",{id:"path12",d:"m117.3 147.5 3.7.2 1.7.4 1.6.6 1.5.8 1.4 1 1.2 1.1 1 1.3 1.1 1.9.7 2.2.3 2.3-.1 2.5-.5 2.4-.9 2.2-1.7 2.5-2.3 2.2-2.8 1.6-3 1-3.2.4-3.1-.3-2.9-1-2.4-1.6-1.8-2-1.2-2.4-.8-2.8-.1-3.1.7-2.2.9-2 1.1-1.9 1.3-1.7 1.7-1.7 2-1.5 2.3-1.3z",className:"st4"}),_.jsx("path",{id:"path13",d:"m411.2 156.2 3.3 2.3 2.9 1.8 2.5 1.2 2.1.7 3.3 1.1 1.3.7 1 .8.3.2.3-.2.2-.8 6.7 9.5 5.9 9.3 5.1 9 4.3 8.8 3.6 8.3 3.2 8.4 2.9 8.5 2.6 8.6 2.3 9.2 2 9.3 1.6 9.4 1.2 9.5.8 9.7.4 9.8v9.9l-.4 10-5.3-3-5-3.2-4.5-3.2-4.1-3.4-3.5-3.4-3-3.5-2.5-3.5-2-3.5.8.4.8.2.9-.2.4-.3.2-.4.5-3.6 1.3-11.8.4-8.4-.2-6.4-.4-6.4-1-9.3-1.6-9.2-1.7-6.5-3.6-11.5-2.7-7.7-3-7.6-3.4-7.5-3.7-7.4-4.5-7.4-8.7-13-1.2-2.1-.4-1.5.2-.8.5-.2z",className:"st5",style:{fill:"#d45500"}}),_.jsx("path",{id:"path14",d:"m235.6 341.8-.6 3.2-.1 2.2.1 2.2.8 4.6 1.6 4.7 2.4 4.7.1.5-.4.3-5 1.5-4.8 1.8-4.6 2.1-4.4 2.4-4.1 2.7-3.8 3-3.6 3.2-3.3 3.5-4.1 5.4-3.5 5.9-2.9 6.4-2.3 6.9-20-5.6-19.1-6.1-18.3-6.6-17.5-7.1-12.2-5.5-12.6-6.1-12.9-6.7-13.3-7.3-15.2-9.1-10.3-6-6.1-4.1-7.2-5.7-.3-.2-.5-.1-.4-.2-.1-.1-.6-.8-.7-.4-.7.1-2.6-6.5-.1-.6.1-.6.3-.5.5-.4 17.3-9.5 9-4.3 6.1-3.6 5.4-3.7 4.6-3.8 4-3.9 3.3-4 2.6-4.1 1.9-4.2 1.2-4.3 3.4-16.5 1.3-4.7 1.6-4.5 1.9-4.3 2.2-4.1 2.5-3.8 2.8-3.6 3.1-3.3 3.4-3 3.6-2.7 3.8-2.4 4-2.1 4.2-1.7 4.4-1.4 4.6-1.1 4.6-.7 4.8-.3h3.9l3.8.2 3.8.4 3.8.6 6.8 1.6 6.6 2.4 5.2 2.3 5 2.6 4.9 2.9 4.7 3.2 4.6 3.5 4.4 3.8 4.2 4.1 4 4.3 3.8 4.6 3.5 4.8 3.4 5.1 3.1 5.2 2.8 5.4 2.6 5.6 2.3 5.7 2 5.8 3 10.5 2.8 11.4 2.7 12.5z",className:"st4",style:{fill:"#f60"}}),_.jsx("path",{id:"path15",d:"m440.6 284.6 2 3.5 2.5 3.5 3 3.5 3.5 3.4 4.1 3.4 4.5 3.2 5 3.2 5.3 3 18.8 12 .3.4.1.5-.8 2.9-1 2.8-1.2 2.6-1.5 2.5-.5-.1h-1.1l-1.2.3-1.2.6-1.3.9-4.3 3.4-4.4 3.3-8.8 5.8-6.7 4.1-14.9 9-10.6 6-17.3 8.8-17.2 7.9-17 6.9-17.2 6.2-26.2 8.5-4.4 1.1-5.4.8-2.1-6.1-2.6-5.7-3.1-5.3-3.5-4.9-3.3-3.8-3.5-3.5-3.9-3.2-4.2-3-4.6-2.7-4.8-2.4-5.2-2.2-5.4-1.9h-.1l-.2-.4.1-.4 1.7-2 1.3-2.3 1-2.6.7-2.8.3-3.1-.1-3.1-.5-3.1-.8-3 1.4-9.3 1.5-8.7 1.7-8.2 1.8-7.7 2-7.3 2.2-7 2.3-6.6 2.5-6.2 2.8-6 2.9-5.7 3.2-5.5 3.4-5.1 3.6-4.9 3.8-4.5 4-4.3 4.3-4.1 4.8-4 5.2-3.8 5.4-3.4 5.8-3.2 4.3-2 4.3-1.7 4.4-1.5 4.4-1.2 4.5-.9 4.4-.6 4.4-.3h4.3l4.3.3 4.2.6 4.1.9 4 1.2 3.9 1.5 3.8 1.8 3.5 2.1 3.3 2.4 3.6 3 3.3 3.4 3 3.6 2.8 4 2.4 4.2 2.1 4.5 1.8 4.7 1.4 5 1.4 6.5 1.3 6 1.1 4.2 1.2 3.7z",className:"st4",style:{fill:"#f60"}}),_.jsx("ellipse",{id:"path48",cx:163.018,cy:304.732,rx:62.486,ry:73.022,style:{fill:"#fff"}}),_.jsxs("g",{id:"g48",transform:"matrix(1.5258 0 0 1.5258 -121.79 -148.007)",children:[_.jsx("path",{id:"path16",d:"m221.5 306-.1 2.4-.4 2.4-.6 2.4-.8 2.3-1 2.2-1.2 2.1-1.4 2-1.6 1.8-1.8 1.6-2 1.4-2.1 1.2-2.2 1-2.3.8-2.4.6-2.4.4-2.4.1-2.4-.1-2.4-.4-2.4-.6-2.3-.8-2.2-1-2.1-1.2-2-1.4-1.8-1.6-1.6-1.8-1.4-2-1.2-2.1-1-2.2-.8-2.3-.6-2.4-.4-2.4-.1-2.4.1-2.4.4-2.4.6-2.4.8-2.3 1-2.2 1.2-2.1 1.4-2 1.6-1.8 1.8-1.6 2-1.4 2.1-1.2 2.2-1 2.3-.8 2.4-.6 2.4-.4 2.4-.1 2.4.1 2.4.4 2.4.6 2.3.8 2.2 1 2.1 1.2 2 1.4 1.8 1.6 1.6 1.8 1.4 2 1.2 2.1 1 2.2.8 2.3.6 2.4.4 2.4z",className:"st0"}),_.jsx("ellipse",{id:"ellipse17",cx:185.2,cy:295,className:"st4",rx:7.9,ry:7.6,transform:"scale(.99998) rotate(-84.7 185.235 295.047)"})]}),_.jsx("ellipse",{id:"ellipse49",cx:355.018,cy:304.732,rx:62.486,ry:73.022,style:{fill:"#fff"}}),_.jsxs("g",{id:"g50",transform:"matrix(1.5258 0 0 1.5258 40.21 -148.007)",children:[_.jsx("path",{id:"path49",d:"m221.5 306-.1 2.4-.4 2.4-.6 2.4-.8 2.3-1 2.2-1.2 2.1-1.4 2-1.6 1.8-1.8 1.6-2 1.4-2.1 1.2-2.2 1-2.3.8-2.4.6-2.4.4-2.4.1-2.4-.1-2.4-.4-2.4-.6-2.3-.8-2.2-1-2.1-1.2-2-1.4-1.8-1.6-1.6-1.8-1.4-2-1.2-2.1-1-2.2-.8-2.3-.6-2.4-.4-2.4-.1-2.4.1-2.4.4-2.4.6-2.4.8-2.3 1-2.2 1.2-2.1 1.4-2 1.6-1.8 1.8-1.6 2-1.4 2.1-1.2 2.2-1 2.3-.8 2.4-.6 2.4-.4 2.4-.1 2.4.1 2.4.4 2.4.6 2.3.8 2.2 1 2.1 1.2 2 1.4 1.8 1.6 1.6 1.8 1.4 2 1.2 2.1 1 2.2.8 2.3.6 2.4.4 2.4z",className:"st0"}),_.jsx("ellipse",{id:"ellipse50",cx:185.2,cy:295,className:"st4",rx:7.9,ry:7.6,transform:"scale(.99998) rotate(-84.7 185.235 295.047)"})]}),_.jsx("path",{id:"path50",d:"M219.68 230.72c-1.182-.571-2.37-1.103-3.474-1.815 41.33 23.926-30.77-17.844 10.88 6.3-4.594-3.332-9.304-5.585-14.576-8.652.16.1-.924-.433-.703-.305 4.153 2.403 8.322 4.78 12.482 7.17.218.124-.401-.301-.617-.427-4.394-2.57-8.809-5.106-13.213-7.659-1.508-.57-2.955-1.297-4.419-1.976-1.484-.664-3.063-1.064-4.549-1.721-.708-.363-1.512-.437-2.259-.658-.286-.085-.555-.221-.84-.307-.157-.063-.308-.145-.47-.19-.217-.058-.445-.067-.663-.117-1.26-.29-2.502-.727-3.723-1.145-2.01-.731-4.018-1.495-6.095-2.016-1.14-.416-2.34-.567-3.445-1.086-.834-.436-1.974-.242-2.738-.779-.303-.197-.697-.122-1.018-.258-.1-.043-.173-.137-.271-.186-.238-.117-.49-.15-.746-.202-1.471-.525-3.049-.583-4.56-.96-.81-.344-1.729-.328-2.558-.583-.099-.03-.616-.296-.728-.353-.536-.187-1.105-.296-1.673-.256-.07.002-.15.04-.21.005-.065-.04-.053-.151-.112-.198-.267-.211-.765-.207-1.082-.257-.077-.012-.164.004-.23-.037-.069-.042-.079-.147-.145-.193-.344-.242-1.012-.183-1.406-.206-.148-.005-.298.012-.443-.016-.294-.056-.568-.188-.858-.258-.76-.183-1.514-.296-2.288-.399-1.545-.226-3.097-.311-4.656-.31-2.01.072-4.006-.19-6.01-.32a52.082 52.082 0 0 0-3.914-.202c-1.542.021-3.073-.242-4.598-.462-1.188-.25-2.417-.24-3.61-.426-.44-.069-.87-.194-1.309-.273-1.557-.197-3.104-.484-4.66-.704-.827-.148-1.435-.547-2.302-.555-.809-.036-1.618-.037-2.426-.05-.551.022-.433.04-.63-.42l11.766 9.41c.346-.04.653-.2 1.011-.136.76.01 1.527.048 2.27.215.745.264 1.481.472 2.28.484 1.544.205 3.078.483 4.616.732 1.607.26 3.243.311 4.848.59 1.609.22 3.219.453 4.847.424 1.247.036 2.494.095 3.74.166 2.034.149 4.065.31 6.105.31 1.51.078 3.021.196 4.511.465 1.236.252 2.45.61 3.702.753.601.174 1.127.524 1.754.534.587.186.878.399 1.523.318.476.165.955.315 1.423.508 1.089.246 2.2.407 3.283.685 1.561.283 3.11.59 4.599 1.158.661.286 1.352.42 2.02.693.926.085 1.8.447 2.668.758 1.164.315 2.33.62 3.486.961 2.007.598 3.975 1.306 5.95 2.002 1.673.532 3.365 1 5.03 1.556.993.321 2.019.547 2.969 1.003 1.51.527 3.02 1.067 4.464 1.761 1.491.687 3.003 1.351 4.437 2.15-26.245-15.233-5.7-3.286 2.06 1.24l-12.494-7.274c.29.223.622.326.91.534.188.135.294.366.509.472 4.374 2.553 8.746 5.11 13.122 7.66 8.47 4.934-40.51-23.542 1.612.925 1.175.591 2.364 1.151 3.533 1.756z",style:{fill:"#000"}}),_.jsx("path",{id:"path51",d:"M298.504 230.72c1.183-.571 2.37-1.103 3.475-1.815-41.331 23.926 30.768-17.844-10.881 6.3 4.594-3.332 9.304-5.585 14.576-8.652-.16.1.924-.433.703-.305-4.153 2.403-8.322 4.78-12.482 7.17-.217.124.401-.301.617-.427 4.394-2.57 8.809-5.106 13.213-7.659 1.508-.57 2.955-1.297 4.419-1.976 1.484-.664 3.063-1.064 4.55-1.721.707-.363 1.51-.437 2.258-.658.286-.085.555-.221.84-.307.158-.063.308-.145.47-.19.217-.058.445-.067.663-.117 1.26-.29 2.502-.727 3.723-1.145 2.01-.731 4.018-1.495 6.095-2.016 1.14-.416 2.34-.567 3.445-1.086.835-.436 1.974-.242 2.738-.779.303-.197.698-.122 1.018-.258.1-.043.173-.137.271-.186.238-.117.49-.15.746-.202 1.471-.525 3.049-.583 4.56-.96.81-.344 1.729-.328 2.558-.583.099-.03.617-.296.728-.353.536-.187 1.105-.296 1.673-.256.07.002.15.04.21.005.065-.04.053-.151.113-.198.267-.211.764-.207 1.082-.257.076-.012.163.004.23-.037.068-.042.078-.147.144-.193.344-.242 1.012-.183 1.406-.206.148-.005.298.012.444-.016.293-.056.567-.188.857-.258.76-.183 1.514-.296 2.288-.399 1.545-.226 3.097-.311 4.656-.31 2.01.072 4.006-.19 6.01-.32a52.082 52.082 0 0 1 3.914-.202c1.542.021 3.073-.242 4.598-.462 1.188-.25 2.417-.24 3.61-.426.44-.069.87-.194 1.309-.273 1.557-.197 3.104-.484 4.66-.704.827-.148 1.436-.547 2.303-.555.808-.036 1.617-.037 2.425-.05.551.022.433.04.63-.42l-11.766 9.41c-.346-.04-.653-.2-1.011-.136-.76.01-1.527.048-2.27.215-.745.264-1.481.472-2.28.484-1.544.205-3.078.483-4.616.732-1.607.26-3.242.311-4.848.59-1.608.22-3.219.453-4.847.424-1.247.036-2.494.095-3.74.166-2.034.149-4.065.31-6.105.31-1.51.078-3.021.196-4.511.465-1.235.252-2.45.61-3.702.753-.601.174-1.127.524-1.754.534-.587.186-.877.399-1.523.318-.476.165-.955.315-1.423.508-1.089.246-2.2.407-3.283.685-1.561.283-3.11.59-4.599 1.158-.661.286-1.352.42-2.02.693-.926.085-1.799.447-2.668.758-1.164.315-2.33.62-3.486.961-2.007.598-3.975 1.306-5.95 2.002-1.673.532-3.365 1-5.03 1.556-.993.321-2.019.547-2.969 1.003-1.51.527-3.02 1.067-4.464 1.761-1.491.687-3.003 1.351-4.436 2.15 26.244-15.233 5.699-3.286-2.061 1.24l12.494-7.274c-.29.223-.622.326-.91.534-.188.135-.294.366-.509.472-4.374 2.553-8.746 5.11-13.122 7.66-8.47 4.934 40.51-23.542-1.612.925-1.175.591-2.364 1.151-3.533 1.756z",style:{fill:"#000"}}),_.jsx("path",{id:"path19",d:"m244.9 341.1 1.1-1.9 1.2-1.6 1.4-1.2 1.5-1 2-.7 2.2-.3 2.4.1 2.6.5.4.2.1.5v.4l-.1.3-.3.1-2.9.1-2.6.5-2.6 1.1-3.2 2.1-2.4 1.6-.7.4h-.4v-.4z",className:"st4"}),_.jsx("path",{id:"path52",d:"M239.499 362.871s2.568 4.454 19.33 4.591c16.762.138 20.325-4.59 20.325-4.59l26.723 5.08 22.544 25.485 3.92 13.722-39.696 24.014-74.493-.98-32.835-19.603-.49-15.683 34.795-27.935z",style:{fill:"#f60"}}),_.jsx("path",{id:"path18",d:"m25.9 331.3-.7.1 4.3 6.9 4.8 6.5 3.6 4.3 3.7 4.2c5.404 5.816 10.479 13.895 16.42 19.14 16.13 13.106 22.685 20.38 47.488 35.51 24.803 15.13 55.772 27.732 81.508 35.584 25.736 7.851 55.63 13.634 75.205 13.646 19.576.013 35.532-3.55 62.97-11.409 27.436-7.86 48.985-20.525 73.37-32.48 37.493-20.534 47.175-34.483 73.04-60.09l3.4-3.701 3.398-4.3 3.5-4.9 3.5-5.4-.5-.2h-1.1l-1.199.3-1.2.6-1.3.9-4.3 3.4-4.4 3.3-8.8 5.8-6.7 4.1-14.9 9-10.6 6-17.3 8.8-17.2 7.9-17.2 7.1-17.4 6-26.2 8.5c-25.044 7.772-37.276 14.452-73.035 13.873-35.76-.578-58.913-8.001-69.166-11.072-10.308-3.088-20-5.602-20-5.602l-19.1-6.1-18.298-6.599-17.5-7.1-12.201-5.5-12.6-6.1-12.9-6.7-13.3-7.3-15.2-9.1-10.1-6.2-6-4.1-7.2-5.7-.3-.2-.5-.1-.4-.2-.1-.1-.6-.8z",className:"st3",style:{fill:"#ffd42a"}}),_.jsx("path",{id:"path55",d:"M205.373 414.757 262.5 423.6l57.128-10.882",style:{fill:"#502d16"}})]}),F5e=t=>{const e=E.useRef(null);return E.useEffect(()=>{e.current&&$3(e.current)},[]),t.type==="hint"?_.jsxs(Rv,{className:"mt-2 flex text-sm text-slate-500 dark:text-slate-400",children:[_.jsx(Rc,{children:_.jsx(X4,{children:_.jsx(O5e,{className:"h-6 w-6"})})}),_.jsx(Rc,{children:_.jsx("div",{ref:e,children:t.hintText})})]}):null},z5e=t=>t.type==="showMe"?_.jsx(_.Fragment,{children:t.showMe.map(e=>_.jsxs(Rv,{className:"flex text-slate-500 dark:text-slate-400 m-0 text-sm even:bg-[#f7f7f7] odd:bg-white",children:[_.jsx(Rc,{children:_.jsx(X4,{children:""})}),_.jsxs(Rc,{children:[_.jsx("div",{className:"font-serif",children:e.instruction}),_.jsx("div",{className:"",children:_.jsx(J4,{latex:e.suggestedStep,style:{background:"none"}})})]})]},e.key))}):null,U5e=()=>{const t=re.useContext(Uc);if(!t)throw new Error("No SessionContext.Provider in the tree");const e=lr(t,i=>i.steps),n=lr(t,i=>i.lastAction),r=(i,o)=>{var l,c,u;let s=e.findLastIndex(d=>d.type==="correct"),a=((l=e[e.length-1])==null?void 0:l.type)==="correct"||((c=e[e.length-1])==null?void 0:c.type)==="mathComplete"||((u=e[e.length-1])==null?void 0:u.type)==="victory";switch(i.type){case"correct":return _.jsx(N5e,{timestamp:i.timestamp,type:i.type,latex:i.latex,message:i.message,status:i.status,stepStatus:i.stepStatus,rawResponse:i.rawResponse,hintObject:i.hintObject},i.timestamp);case"incorrect":return a||o<=s?null:_.jsx(I5e,{timestamp:i.timestamp,type:i.type,latex:i.latex,message:i.message,status:i.status,stepStatus:i.stepStatus,rawResponse:i.rawResponse,hintObject:i.hintObject},i.timestamp);case"hint":return a||o<=s?null:_.jsx(F5e,{timestamp:i.timestamp,type:"hint",hintText:i.hintText,status:i.status,hintObject:i.hintObject},i.timestamp);case"showMe":return n!==i.timestamp?null:_.jsx(z5e,{timestamp:i.timestamp,type:"showMe",status:i.status,showMe:i.showMe},i.timestamp);case"victory":return _.jsx(fz,{timestamp:i.timestamp,type:i.type,latex:i.latex,message:i.message,status:i.status,stepStatus:i.stepStatus,rawResponse:i.rawResponse,hintObject:i.hintObject},i.timestamp);case"mathComplete":return _.jsx(fz,{timestamp:i.timestamp,type:i.type,latex:i.latex,message:i.message,status:i.status,stepStatus:i.stepStatus,rawResponse:i.rawResponse,hintObject:i.hintObject},i.timestamp);default:return _.jsxs("div",{children:["Step type not implemented: ",JSON.stringify(i)]})}};return _.jsxs(iZ,{className:"h-full max-w-[640px]",children:[_.jsx(sZ,{className:"mt-0 caption-top text-left text-base font-medium tracking-tight text-slate-900",children:"Your solution"}),_.jsx(oZ,{children:e.map((i,o)=>r(i,o))})]})},j5e=re.forwardRef(({className:t,...e},n)=>{const r=re.useContext(Uc);if(!r)throw new Error("No SessionContext.Provider in the tree");const i=lr(r,o=>o.submitStep);return _.jsx("div",{className:Ir("flex items-center justify-center text-xl max-h-8 min-h-8 max-w-8 min-w-8  hover:cursor-pointer",t),onClick:()=>i(e.value),children:""})}),H5e=re.forwardRef(({className:t},e)=>{const n=re.useContext(Uc);if(!n)throw new Error("No SessionContext.Provider in the tree");const r=lr(n,i=>i.getHint);return _.jsx("div",{className:Ir("flex items-center justify-center text-xl max-h-8 min-h-8 max-w-8 min-w-8 hover:cursor-pointer",t),onClick:()=>r(),children:"?"})}),$5e=re.forwardRef(({className:t},e)=>{const n=re.useContext(Uc);if(!n)throw new Error("No SessionContext.Provider in the tree");const r=lr(n,i=>i.showMe);return _.jsx("div",{className:Ir("flex items-center justify-center text-xl max-h-8 min-h-8 max-w-8 min-w-8 hover:cursor-pointer",t),onClick:()=>r(),children:""})}),G5e=Yk("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),aZ=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?tf:"button";return _.jsx(s,{className:Ir(G5e({variant:e,size:n,className:t})),ref:o,...i})});aZ.displayName="Button";const V5e=re.forwardRef(({operator:t},e)=>{const n=E.useRef(null);E.useEffect(()=>{n.current&&(t.symbol_latex.includes("foo")&&n.current.setPromptState("foo","correct",!0),t.symbol_latex.includes("bar")&&n.current.setPromptState("bar","correct",!0),t.symbol_latex.includes("baz")&&n.current.setPromptState("baz","correct",!0))},[]);const r=`\\textcolor{'indigo'}{ ${t.symbol_latex} }`;return _.jsx("math-field",{style:{userSelect:"none",background:"none",...t.symbol_style},ref:n,"read-only":!0,children:r})});function q5e(t){return Gr({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1 7.5C1 7.66148 1.07798 7.81301 1.20938 7.90687L8.20938 12.9069C8.36179 13.0157 8.56226 13.0303 8.72879 12.9446C8.89533 12.8589 9 12.6873 9 12.5L9 10L11.5 10C11.7761 10 12 9.77614 12 9.5L12 5.5C12 5.22386 11.7761 5 11.5 5L9 5L9 2.5C9 2.31271 8.89533 2.14112 8.72879 2.05542C8.56226 1.96972 8.36179 1.98427 8.20938 2.09313L1.20938 7.09314C1.07798 7.18699 1 7.33853 1 7.5ZM8 3.4716L8 5.5C8 5.77614 8.22386 6 8.5 6L11 6L11 9L8.5 9C8.22386 9 8 9.22386 8 9.5L8 11.5284L2.36023 7.5L8 3.4716Z",fill:"currentColor"},child:[]}]})(t)}function K5e(t){return Gr({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7.5C14 7.66148 13.922 7.81301 13.7906 7.90687L6.79062 12.9069C6.63821 13.0157 6.43774 13.0303 6.27121 12.9446C6.10467 12.8589 6 12.6873 6 12.5L6 10L3.5 10C3.22386 10 3 9.77614 3 9.5L3 5.5C3 5.22386 3.22386 5 3.5 5L6 5L6 2.5C6 2.31271 6.10467 2.14112 6.27121 2.05542C6.43774 1.96972 6.63821 1.98427 6.79062 2.09313L13.7906 7.09314C13.922 7.18699 14 7.33853 14 7.5ZM7 3.4716L7 5.5C7 5.77614 6.77614 6 6.5 6L4 6L4 9L6.5 9C6.77614 9 7 9.22386 7 9.5L7 11.5284L12.6398 7.5L7 3.4716Z",fill:"currentColor"},child:[]}]})(t)}function W5e(t){return Gr({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,42H68.53a14,14,0,0,0-12,6.8L10.86,124.91a6,6,0,0,0,0,6.18L56.53,207.2a14,14,0,0,0,12,6.8H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42Zm2,158a2,2,0,0,1-2,2H68.53a2,2,0,0,1-1.71-1h0L23,128,66.82,55a2,2,0,0,1,1.71-1H216a2,2,0,0,1,2,2Zm-53.76-91.76L144.48,128l19.76,19.76a6,6,0,1,1-8.48,8.48L136,136.48l-19.76,19.76a6,6,0,0,1-8.48-8.48L127.52,128l-19.76-19.76a6,6,0,0,1,8.48-8.48L136,119.52l19.76-19.76a6,6,0,0,1,8.48,8.48Z"},child:[]}]})(t)}function X5e(t){return Gr({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 8.5c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3zm0-4c-.552 0-1 .449-1 1s.448 1 1 1 1-.449 1-1-.448-1-1-1zM12 21.5c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3zm0-4c-.552 0-1 .449-1 1s.448 1 1 1 1-.449 1-1-.448-1-1-1zM18 15h-12c-1.654 0-3-1.346-3-3s1.346-3 3-3h12c1.654 0 3 1.346 3 3s-1.346 3-3 3zm-12-4c-.552 0-1 .449-1 1s.448 1 1 1h12c.552 0 1-.449 1-1s-.448-1-1-1h-12z"},child:[]}]})(t)}function J5e(t){return Gr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 9V13H20V9H22V14C22 14.5523 21.5523 15 21 15H3C2.44772 15 2 14.5523 2 14V9H4Z"},child:[]}]})(t)}function Y5e(t){return Gr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M2,12 L22,12"},child:[]}]})(t)}const pz=re.forwardRef(({operator:t},e)=>_.jsx("div",{style:{userSelect:"none",...t.symbol_style},children:Z5e(t.symbol_icon)}));function Z5e(t){switch(t){case"radix:thickArrowLeft":return _.jsx(q5e,{});case"radix:thickArrowRight":return _.jsx(K5e,{});case"PiBackspaceLight":return _.jsx(W5e,{});case"TiDivideOutline":return _.jsx(X5e,{});case"FaRegTrashCan":return _.jsx($Ee,{});case"FaPlus":return _.jsx(TY,{});case"RiSpace":return _.jsx(J5e,{});case"GrSubtract":return _.jsx(Y5e,{});case"FaEquals":return _.jsx(ks,{});default:return _.jsx("span",{children:""})}}const mz=re.forwardRef(({operator:t},e)=>_.jsx("div",{className:"truncate",style:{userSelect:"none",...t.symbol_style},children:t.symbol_utf8})),km=re.forwardRef(({operator:t,keyPress:e,className:n},r)=>{const i=!!(t.symbol_utf8&&t.symbol_utf8.length>3);return _.jsx(aZ,{className:Ir(`tile overflow-hidden border shadow px-1 py-0.5 flex items-center justify-center min-w-6 ${i?"col-span-2":"col-span-1"}`,n),onClick:o=>{o.preventDefault(),e(t)},children:Q5e(t)})});function Q5e(t){if(t.symbol_latex)return _.jsx(V5e,{operator:t});if(t.symbol_icon)return _.jsx(pz,{operator:t});if(t.symbol_utf8)return _.jsx(mz,{operator:t});if(t.symbol_img)return _.jsx(pz,{operator:t});if(t.symbol_svg)return _.jsx(mz,{operator:t})}const e6e=[{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"7",mma:"",operator:"7",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"7",tooltip:"Seven"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"8",mma:"",operator:"8",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"8",tooltip:"Eight"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"9",mma:"",operator:"9",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"9",tooltip:"Nine"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"4",mma:"",operator:"4",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"4",tooltip:"Four"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"5",mma:"",operator:"5",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"5",tooltip:"Five"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"6",mma:"",operator:"6",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"6",tooltip:"Six"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"1",mma:"",operator:"1",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"1",tooltip:"One"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"2",mma:"",operator:"2",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"2",tooltip:"Two"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"3",mma:"",operator:"3",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"3",tooltip:"Three"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"0",mma:"",operator:"0",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"0",tooltip:"Zero"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:".",mma:"",operator:".",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:".",tooltip:"Decimal Separator"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:",",mma:"",operator:",",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:",",tooltip:"Thousands Separator"}],t6e=[{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"*",mma:"",operator:"*",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:"*",tooltip:"Multiply"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"delete-backward",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"PiBackspaceLight",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Backspace"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"\\div",mma:"",operator:"",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"TiDivideOutline",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Divide"},{method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"delete-all",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"FaRegTrashCan",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Clear Step"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"+",mma:"",operator:"ADDITION",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"FaPlus",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Addition"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"-",mma:"",operator:"SUBTRACT",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"GrSubtract",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Subtract"},{method:"char",cursorShift:"",atomic:!1,enabled:!1,latex:"=",mma:"",operator:"EQUAL",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"FaEquals",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Equal"}],n6e=t=>{const{identifiers:e,operators:n,onKeyPress:r}=t;return _.jsxs("div",{className:"h-30 mt-2 flex w-full max-w-[640px] justify-between gap-1",children:[_.jsxs(gz,{className:"grid grow grid-cols-4 grid-rows-4 gap-1",children:[_.jsx(r6e,{className:"col-span-4 grid grid-cols-4 gap-1",keyPress:r}),e.map(i=>_.jsx(i6e,{identifier:i,keyPress:r},i)),n.map(i=>_.jsx(km,{className:"bg-slate-300",operator:i,keyPress:r},i.operator))]}),_.jsxs(gz,{className:"grid grow grid-cols-2 gap-1",children:[_.jsx("div",{className:"grid grid-cols-3 grid-rows-4 gap-1",children:e6e.map(i=>_.jsx(km,{className:"bg-qqBrand text-white",operator:i,keyPress:r},i.operator))}),_.jsx("div",{className:"grid grid-cols-2 grid-rows-4 gap-1",children:t6e.map(i=>_.jsx(km,{className:"bg-slate-700 text-white",operator:i,keyPress:r},i.operator))})]})]})},gz=re.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:t,style:e.style,...e})),r6e=re.forwardRef(({className:t,keyPress:e},n)=>{const r={method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"moveToPreviousChar",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1.5rem"},symbol_html:"",symbol_icon:"radix:thickArrowLeft",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Cursor Left"},i={method:"cmd",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:"moveToNextChar",string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1.5rem"},symbol_html:"",symbol_icon:"radix:thickArrowRight",symbol_img:"",symbol_svg:"",symbol_utf8:"",tooltip:"Cursor Right"};return _.jsxs("div",{ref:n,className:Ir("",t),children:[_.jsx(km,{className:"border-1 col-span-2 border-2 border-slate-700 bg-white text-slate-700",operator:r,keyPress:e}),_.jsx(km,{className:"border-1 col-span-2 border-2 border-slate-700 bg-white text-slate-700",operator:i,keyPress:e})]})}),i6e=re.forwardRef(({identifier:t,keyPress:e},n)=>{const r={method:"identifier",cursorShift:"",atomic:!1,enabled:!1,latex:"",mma:"",operator:t,string:"",symbol_latex:"",symbol_style:{background:"none",fontSize:"1rem"},symbol_html:"",symbol_icon:"",symbol_img:"",symbol_svg:"",symbol_utf8:t,tooltip:`Identifier: ${t}`};return _.jsx(km,{className:"col-span-1 bg-qqAccent",operator:r,keyPress:e})}),o6e=()=>{const t=re.useContext(Uc);if(!t)throw new Error("No SessionContext.Provider in the tree");const e=lr(t,h=>h.enableShowMe),n=lr(t,h=>h.displayHintButton),r=lr(t,h=>h.displaySubmitButton),i=lr(t,h=>h.identifiers),o=lr(t,h=>h.operators),s=lr(t,h=>h.submitStep),a=lr(t,h=>h.setEditingStep),l=E.useRef(null),[c,u]=E.useState("");E.useEffect(()=>{l.current&&(l.current.mathVirtualKeyboardPolicy="manual",l.current.addEventListener("beforeinput",h=>{h.inputType==="insertLineBreak"&&l.current&&(s(l.current.value),h.preventDefault())}))},[]),E.useEffect(()=>{a(c)},[c]);const d=h=>{var f,p,v,b,y;switch(h.method){case"char":(f=l.current)==null||f.executeCommand(["insert",h.latex]);break;case"latex":(p=l.current)==null||p.executeCommand(["insert",h.latex,{focus:!0,selectionMode:"placeholder"}]);break;case"identifier":(v=l.current)==null||v.executeCommand(["insert",h.operator]);break;case"cmd":(b=l.current)==null||b.executeCommand(h.operator);break;case"enter":l.current&&s(l.current.value);break}(y=l.current)==null||y.focus()};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:ie("flex w-full max-w-[640px] items-center rounded-full bg-slate-300 py-2",n?"":"px-4"),children:[e?_.jsx($5e,{className:"ml-3"}):null,n?_.jsx(H5e,{className:"ml-0"}):null,_.jsx("math-field",{ref:l,onInput:h=>u(h.currentTarget.value),style:{flexGrow:1,boxSizing:"border-box",background:"white",border:"1px white solid",borderRadius:"9999px",marginLeft:"-8px",paddingLeft:"16px",marginRight:"-8px"},children:c}),r?_.jsx(j5e,{className:"mr-3",value:c}):null]}),_.jsx(n6e,{identifiers:i,operators:o,onKeyPress:h=>d(h)})]})},s6e=()=>{const t=E.useContext(Uc);if(!t)throw new Error("No SessionContext.Provider in the tree");const e=lr(t,r=>r.stimulus),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current&&$3(n.current,{TeX:{delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"]]}}})},[]),_.jsx("div",{ref:n,children:_.jsx("p",{className:"mt-2 text-sm text-slate-500",children:e})})},lZ=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Ir("rounded-xl border bg-card text-card-foreground shadow",t),...e}));lZ.displayName="Card";const cZ=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Ir("flex flex-col space-y-1.5 p-6",t),...e}));cZ.displayName="CardHeader";const a6e=E.forwardRef(({className:t,...e},n)=>_.jsx("h3",{ref:n,className:Ir("font-semibold leading-none tracking-tight",t),...e}));a6e.displayName="CardTitle";const l6e=E.forwardRef(({className:t,...e},n)=>_.jsx("p",{ref:n,className:Ir("text-sm text-muted-foreground",t),...e}));l6e.displayName="CardDescription";const c6e=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Ir("p-6 pt-0",t),...e}));c6e.displayName="CardContent";const uZ=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Ir("flex items-center p-6 pt-0",t),...e}));uZ.displayName="CardFooter";const u6e=()=>{const t=re.useContext(Uc);if(!t)throw new Error("No SessionContext.Provider in the tree");const e=lr(t,r=>r.problemId),n=lr(t,r=>r.title);return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"TitleBar text-base font-medium tracking-tight text-slate-900",children:[e," ",n]})})};function pi(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}pi(`.react-loading-indicator-normalize,
[class$=rli-bounding-box] {
  font-size: 1rem;
  display: inline-block;
  box-sizing: border-box;
  text-align: unset;
}

.rli-d-i-b {
  display: inline-block;
}

.rli-text-format {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 600;
  width: 90%;
  text-transform: uppercase;
  text-align: center;
  font-size: 0.7em;
  letter-spacing: 0.5px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Avenir Next", "Avenir", "Segoe UI", "Lucida Grande", "Helvetica Neue", "Helvetica", "Fira Sans", "Roboto", "Noto", "Droid Sans", "Cantarell", "Oxygen", "Ubuntu", "Franklin Gothic Medium", "Century Gothic", "Liberation Sans", sans-serif;
}`);var Xe=function(){return Xe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Xe.apply(this,arguments)};function u3(t){return u3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u3(t)}var d6e=/^\s+/,h6e=/\s+$/;function Ct(t,e){if(e=e||{},(t=t||"")instanceof Ct)return t;if(!(this instanceof Ct))return new Ct(t,e);var n=function(r){var i={r:0,g:0,b:0},o=1,s=null,a=null,l=null,c=!1,u=!1;typeof r=="string"&&(r=function(p){p=p.replace(d6e,"").replace(h6e,"").toLowerCase();var v,b=!1;if(b8[p])p=b8[p],b=!0;else if(p=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(v=xa.rgb.exec(p))?{r:v[1],g:v[2],b:v[3]}:(v=xa.rgba.exec(p))?{r:v[1],g:v[2],b:v[3],a:v[4]}:(v=xa.hsl.exec(p))?{h:v[1],s:v[2],l:v[3]}:(v=xa.hsla.exec(p))?{h:v[1],s:v[2],l:v[3],a:v[4]}:(v=xa.hsv.exec(p))?{h:v[1],s:v[2],v:v[3]}:(v=xa.hsva.exec(p))?{h:v[1],s:v[2],v:v[3],a:v[4]}:(v=xa.hex8.exec(p))?{r:cs(v[1]),g:cs(v[2]),b:cs(v[3]),a:wz(v[4]),format:b?"name":"hex8"}:(v=xa.hex6.exec(p))?{r:cs(v[1]),g:cs(v[2]),b:cs(v[3]),format:b?"name":"hex"}:(v=xa.hex4.exec(p))?{r:cs(v[1]+""+v[1]),g:cs(v[2]+""+v[2]),b:cs(v[3]+""+v[3]),a:wz(v[4]+""+v[4]),format:b?"name":"hex8"}:(v=xa.hex3.exec(p))?{r:cs(v[1]+""+v[1]),g:cs(v[2]+""+v[2]),b:cs(v[3]+""+v[3]),format:b?"name":"hex"}:!1}(r)),u3(r)=="object"&&(Yl(r.r)&&Yl(r.g)&&Yl(r.b)?(d=r.r,h=r.g,f=r.b,i={r:255*mr(d,255),g:255*mr(h,255),b:255*mr(f,255)},c=!0,u=String(r.r).substr(-1)==="%"?"prgb":"rgb"):Yl(r.h)&&Yl(r.s)&&Yl(r.v)?(s=cy(r.s),a=cy(r.v),i=function(p,v,b){p=6*mr(p,360),v=mr(v,100),b=mr(b,100);var y=Math.floor(p),x=p-y,w=b*(1-v),A=b*(1-x*v),D=b*(1-(1-x)*v),k=y%6;return{r:255*[b,A,w,w,D,b][k],g:255*[D,b,b,A,w,w][k],b:255*[w,w,D,b,b,A][k]}}(r.h,s,a),c=!0,u="hsv"):Yl(r.h)&&Yl(r.s)&&Yl(r.l)&&(s=cy(r.s),l=cy(r.l),i=function(p,v,b){var y,x,w;function A(R,L,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?R+6*(L-R)*T:T<.5?L:T<2/3?R+(L-R)*(2/3-T)*6:R}if(p=mr(p,360),v=mr(v,100),b=mr(b,100),v===0)y=x=w=b;else{var D=b<.5?b*(1+v):b+v-b*v,k=2*b-D;y=A(k,D,p+1/3),x=A(k,D,p),w=A(k,D,p-1/3)}return{r:255*y,g:255*x,b:255*w}}(r.h,s,l),c=!0,u="hsl"),r.hasOwnProperty("a")&&(o=r.a));var d,h,f;return o=dZ(o),{ok:c,format:r.format||u,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:o}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function yz(t,e,n){t=mr(t,255),e=mr(e,255),n=mr(n,255);var r,i,o=Math.max(t,e,n),s=Math.min(t,e,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:a}}function vz(t,e,n){t=mr(t,255),e=mr(e,255),n=mr(n,255);var r,i,o=Math.max(t,e,n),s=Math.min(t,e,n),a=o,l=o-s;if(i=o===0?0:l/o,o==s)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:a}}function bz(t,e,n,r){var i=[ka(Math.round(t).toString(16)),ka(Math.round(e).toString(16)),ka(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function xz(t,e,n,r){return[ka(hZ(r)),ka(Math.round(t).toString(16)),ka(Math.round(e).toString(16)),ka(Math.round(n).toString(16))].join("")}function f6e(t,e){e=e===0?0:e||10;var n=Ct(t).toHsl();return n.s-=e/100,n.s=Y4(n.s),Ct(n)}function p6e(t,e){e=e===0?0:e||10;var n=Ct(t).toHsl();return n.s+=e/100,n.s=Y4(n.s),Ct(n)}function m6e(t){return Ct(t).desaturate(100)}function g6e(t,e){e=e===0?0:e||10;var n=Ct(t).toHsl();return n.l+=e/100,n.l=Y4(n.l),Ct(n)}function y6e(t,e){e=e===0?0:e||10;var n=Ct(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),Ct(n)}function v6e(t,e){e=e===0?0:e||10;var n=Ct(t).toHsl();return n.l-=e/100,n.l=Y4(n.l),Ct(n)}function b6e(t,e){var n=Ct(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ct(n)}function x6e(t){var e=Ct(t).toHsl();return e.h=(e.h+180)%360,Ct(e)}function _z(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ct(t).toHsl(),r=[Ct(t)],i=360/e,o=1;o<e;o++)r.push(Ct({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function _6e(t){var e=Ct(t).toHsl(),n=e.h;return[Ct(t),Ct({h:(n+72)%360,s:e.s,l:e.l}),Ct({h:(n+216)%360,s:e.s,l:e.l})]}function w6e(t,e,n){e=e||6,n=n||30;var r=Ct(t).toHsl(),i=360/n,o=[Ct(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(Ct(r));return o}function S6e(t,e){e=e||6;for(var n=Ct(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(Ct({h:r,s:i,v:o})),o=(o+a)%1;return s}Ct.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=dZ(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=vz(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=vz(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return this._a==1?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=yz(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=yz(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return this._a==1?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return bz(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(e,n,r,i,o){var s=[ka(Math.round(e).toString(16)),ka(Math.round(n).toString(16)),ka(Math.round(r).toString(16)),ka(hZ(i))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*mr(this._r,255))+"%",g:Math.round(100*mr(this._g,255))+"%",b:Math.round(100*mr(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*mr(this._r,255))+"%, "+Math.round(100*mr(this._g,255))+"%, "+Math.round(100*mr(this._b,255))+"%)":"rgba("+Math.round(100*mr(this._r,255))+"%, "+Math.round(100*mr(this._g,255))+"%, "+Math.round(100*mr(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(A6e[bz(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+xz(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=Ct(t);n="#"+xz(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||t!=="hex"&&t!=="hex6"&&t!=="hex3"&&t!=="hex4"&&t!=="hex8"&&t!=="name"?(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),t!=="hex"&&t!=="hex6"||(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString()):t==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return Ct(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g6e,arguments)},brighten:function(){return this._applyModification(y6e,arguments)},darken:function(){return this._applyModification(v6e,arguments)},desaturate:function(){return this._applyModification(f6e,arguments)},saturate:function(){return this._applyModification(p6e,arguments)},greyscale:function(){return this._applyModification(m6e,arguments)},spin:function(){return this._applyModification(b6e,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(w6e,arguments)},complement:function(){return this._applyCombination(x6e,arguments)},monochromatic:function(){return this._applyCombination(S6e,arguments)},splitcomplement:function(){return this._applyCombination(_6e,arguments)},triad:function(){return this._applyCombination(_z,[3])},tetrad:function(){return this._applyCombination(_z,[4])}},Ct.fromRatio=function(t,e){if(u3(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=r==="a"?t[r]:cy(t[r]));t=n}return Ct(t,e)},Ct.equals=function(t,e){return!(!t||!e)&&Ct(t).toRgbString()==Ct(e).toRgbString()},Ct.random=function(){return Ct.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Ct.mix=function(t,e,n){n=n===0?0:n||50;var r=Ct(t).toRgb(),i=Ct(e).toRgb(),o=n/100;return Ct({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},Ct.readability=function(t,e){var n=Ct(t),r=Ct(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},Ct.isReadable=function(t,e,n){var r,i,o=Ct.readability(t,e);switch(i=!1,(r=function(s){var a,l;return a=((s=s||{level:"AA",size:"small"}).level||"AA").toUpperCase(),l=(s.size||"small").toLowerCase(),a!=="AA"&&a!=="AAA"&&(a="AA"),l!=="small"&&l!=="large"&&(l="small"),{level:a,size:l}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},Ct.mostReadable=function(t,e,n){var r,i,o,s,a=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var c=0;c<e.length;c++)(r=Ct.readability(t,e[c]))>l&&(l=r,a=Ct(e[c]));return Ct.isReadable(t,a,{level:o,size:s})||!i?a:(n.includeFallbackColors=!1,Ct.mostReadable(t,["#fff","#000"],n))};var b8=Ct.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A6e=Ct.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(b8);function dZ(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function mr(t,e){(function(r){return typeof r=="string"&&r.indexOf(".")!=-1&&parseFloat(r)===1})(t)&&(t="100%");var n=function(r){return typeof r=="string"&&r.indexOf("%")!=-1}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Y4(t){return Math.min(1,Math.max(0,t))}function cs(t){return parseInt(t,16)}function ka(t){return t.length==1?"0"+t:""+t}function cy(t){return t<=1&&(t=100*t+"%"),t}function hZ(t){return Math.round(255*parseFloat(t)).toString(16)}function wz(t){return cs(t)/255}var Su,i_,o_,xa=(i_="[\\s|\\(]+("+(Su="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Su+")[,|\\s]+("+Su+")\\s*\\)?",o_="[\\s|\\(]+("+Su+")[,|\\s]+("+Su+")[,|\\s]+("+Su+")[,|\\s]+("+Su+")\\s*\\)?",{CSS_UNIT:new RegExp(Su),rgb:new RegExp("rgb"+i_),rgba:new RegExp("rgba"+o_),hsl:new RegExp("hsl"+i_),hsla:new RegExp("hsla"+o_),hsv:new RegExp("hsv"+i_),hsva:new RegExp("hsva"+o_),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Yl(t){return!!xa.CSS_UNIT.exec(t)}pi(`.atom-rli-bounding-box {
  --color-r: 50;
  --color-g: 205;
  --color-b: 50;
  font-size: 16px;
  position: relative;
  color: rgb(var(--color-r), var(--color-g), var(--color-b));
  text-align: unset;
  isolation: isolate;
}
.atom-rli-bounding-box .atom-throbber {
  position: relative;
  z-index: 1;
  width: 5em;
  height: 5em;
  transform: perspective(500px) rotateX(-24deg) rotateY(20deg) rotateZ(30deg);
  transform-style: preserve-3d;
}
.atom-rli-bounding-box .atom-throbber .inner {
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  -webkit-animation: atomSpin var(--rli-animation-duration, 1.8s) var(--rli-animation-function, linear) infinite;
          animation: atomSpin var(--rli-animation-duration, 1.8s) var(--rli-animation-function, linear) infinite;
  display: inline-block;
  transform-origin: center center;
  position: relative;
}
.atom-rli-bounding-box .atom-throbber .inner .orbit:nth-of-type(1) {
  --orbit-color: var(--disc3-color);
  -webkit-animation: rotate calc(var(--rli-animation-duration, 1.8s) / 0.2625) var(--rli-animation-function, linear) infinite;
          animation: rotate calc(var(--rli-animation-duration, 1.8s) / 0.2625) var(--rli-animation-function, linear) infinite;
}
.atom-rli-bounding-box .atom-throbber .inner .orbit:nth-of-type(2) {
  --orbit-color: var(--disc2-color);
  -webkit-animation: rotateAtomDisc2 calc(var(--rli-animation-duration, 1.8s) / 0.2625) var(--rli-animation-function, linear) infinite;
          animation: rotateAtomDisc2 calc(var(--rli-animation-duration, 1.8s) / 0.2625) var(--rli-animation-function, linear) infinite;
}
.atom-rli-bounding-box .atom-throbber .inner .orbit:nth-of-type(3) {
  --orbit-color: var(--disc1-color);
  -webkit-animation: rotateAtomDisc3 calc(var(--rli-animation-duration, 1.8s) / 0.2625) var(--rli-animation-function, linear) infinite;
          animation: rotateAtomDisc3 calc(var(--rli-animation-duration, 1.8s) / 0.2625) var(--rli-animation-function, linear) infinite;
}
.atom-rli-bounding-box .atom-throbber .inner .orbit {
  position: absolute;
  border-radius: 50%;
  border: 0.3em solid var(--orbit-color, currentColor);
  display: inline-block;
  top: 0;
  left: 0;
  right: 0;
  bottom: 2%;
}
.atom-rli-bounding-box .atom-throbber .inner .orbit.nucleus-holder {
  border: 0.3em solid transparent;
}
.atom-rli-bounding-box .atom-throbber .inner .orbit.nucleus-holder .nucleus {
  --color-invert-r: calc(200 - var(--color-r));
  --color-invert-g: calc(200 - var(--color-g));
  --color-invert-b: calc(200 - var(--color-b));
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 0.8em;
  height: 0.8em;
  display: inline-block;
  border-radius: 50%;
  background-color: currentColor;
  box-shadow: inset 0 0 0.1333333333em rgba(var(--color-r), var(--color-g), var(--color-b), 0.16), inset 0.1333333333em 0 0.2133333333em rgb(var(--color-invert-r), var(--color-invert-g), var(--color-invert-b), 1), inset -0.1333333333em 0 0.2133333333em rgb(var(--color-invert-g), var(--color-invert-r), var(--color-invert-b), 1), inset 0.1333333333em 0 0.8em rgb(var(--color-invert-r), var(--color-invert-g), var(--color-invert-b), 1), inset -0.1333333333em 0 0.8em rgb(var(--color-invert-g), var(--color-invert-r), var(--color-invert-b), 1), 0 0 0.1333333333em rgba(var(--color-r), var(--color-g), var(--color-b), 0.16), -0.0266666667em 0 0.5925925926em rgb(var(--color-invert-r), var(--color-invert-g), var(--color-invert-b), 0.44), 0.0266666667em 0 0.5925925926em rgb(var(--color-invert-g), var(--color-invert-r), var(--color-invert-b), 0.44);
}
.atom-rli-bounding-box .atom-text {
  color: currentColor;
  mix-blend-mode: difference;
  width: unset;
  display: block;
}

/* @keyframes spin-atom {
  0% {
    transform: rotateX(360deg) rotateY(0deg);
  }
  100% {
    transform: rotateX(0deg) rotateY(360deg);
  }
} */
@-webkit-keyframes atomSpin {
  to {
    transform: rotate(1turn);
  }
}
@keyframes atomSpin {
  to {
    transform: rotate(1turn);
  }
}
@-webkit-keyframes rotateAtomDisc2 {
  from {
    transform: rotateX(90deg) rotateZ(0deg);
  }
  to {
    transform: rotateX(90deg) rotateZ(360deg);
  }
}
@keyframes rotateAtomDisc2 {
  from {
    transform: rotateX(90deg) rotateZ(0deg);
  }
  to {
    transform: rotateX(90deg) rotateZ(360deg);
  }
}
@-webkit-keyframes rotateAtomDisc3 {
  from {
    transform: rotateY(90deg) rotateZ(0deg);
  }
  to {
    transform: rotateY(90deg) rotateZ(360deg);
  }
}
@keyframes rotateAtomDisc3 {
  from {
    transform: rotateY(90deg) rotateZ(0deg);
  }
  to {
    transform: rotateY(90deg) rotateZ(360deg);
  }
}`);var Mi=function(t,e){var n=t||{},r="";switch(e){case"small":r="12px";break;case"medium":r="16px";break;case"large":r="20px";break;default:r=void 0}var i={};if(n.fontSize){var o=n.fontSize;i=function(s,a){var l={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&a.indexOf(c)<0&&(l[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var u=0;for(c=Object.getOwnPropertySymbols(s);u<c.length;u++)a.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(s,c[u])&&(l[c[u]]=s[c[u]])}return l}(n,["fontSize"]),r=o}return{fontSize:r,styles:i}},C6e={color:"currentColor",mixBlendMode:"difference",width:"unset",display:"block",paddingTop:"2px"},Ei=function(t){var e=t.className,n=t.text,r=t.textColor,i=t.staticText;return n?re.createElement("span",{className:"rli-d-i-b rli-text-format ".concat(e||"").trim(),style:Xe(Xe({},i&&C6e),r&&{color:r,mixBlendMode:"unset"})},typeof n=="string"&&n.length?n:"loading"):null},ki=function(t,e){var n=(typeof t=="string"?parseInt(t):t)||0;if(n>=-5&&n<=5){var r=n,i=parseFloat(e),o=i+r*(i/5)*-1;return(o==0||o<=Number.EPSILON)&&(o=.1),{animationPeriod:o+"s"}}return{animationPeriod:e}},Lp=Ct("rgb(50, 205, 50)").toRgb();re.memo(function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1.8s").animationPeriod,l=E.useCallback(function(){var u,d,h,f;if(n.current){var p=Array.from({length:3},function(b,y){return"--".concat("orbit"+(y+1)+"-","color")});(u=n.current)===null||u===void 0||u.style.removeProperty("--color-r"),(d=n.current)===null||d===void 0||d.style.removeProperty("--color-g"),(h=n.current)===null||h===void 0||h.style.removeProperty("--color-b");for(var v=0;v<p.length;v++)(f=n.current)===null||f===void 0||f.style.removeProperty(p[v])}},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u.length;if(f<=0)return h;try{var p=Ct(u[0]);if(!p.isValid())throw new Error("invalid color");var v=p.toRgb();h["--color-r"]=v.r,h["--color-g"]=v.g,h["--color-b"]=v.b}catch{console.warn("Possibly an invalid color( ".concat(u[0]," ) passed to Atom loader!")),h["--color-r"]=Lp.r,h["--color-g"]=Lp.g,h["--color-b"]=Lp.b}for(var b=0;b<f&&!(b>=3);b++){var y="orbit".concat(b+1),x=u[b];h["--".concat(y,"-color")]=x}return h}try{var w=Ct(u);if(!w.isValid())throw new Error("invalid color");v=w.toRgb(),h["--color-r"]=v.r,h["--color-g"]=v.g,h["--color-b"]=v.b}catch{console.warn("Invalid color( ".concat(JSON.stringify(u)," ) passed to Atom indicator!")),h["--color-r"]=Lp.r,h["--color-g"]=Lp.g,h["--color-b"]=Lp.b}return h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b atom-rli-bounding-box",ref:n,style:Xe(Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s}),c)},re.createElement("span",{className:"rli-d-i-b atom-throbber",style:Xe({},i)},re.createElement("span",{className:"rli-d-i-b inner"},re.createElement("span",{className:"orbit nucleus-holder"},re.createElement("span",{className:"nucleus"})),re.createElement("span",{className:"orbit"}),re.createElement("span",{className:"orbit"}))),re.createElement(Ei,{className:"atom-text",staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))});pi(`.commet-rli-bounding-box {
  font-size: 16px;
  display: inline-block;
  box-sizing: border-box;
}
.commet-rli-bounding-box .commet-throbber {
  width: 6em;
  height: 6em;
  color: rgb(50, 205, 50);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  z-index: 0;
}
.commet-rli-bounding-box .commet-throbber .commet-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}
.commet-rli-bounding-box .commet-throbber .ring-wrapper {
  position: absolute;
  width: var(--ring-dimensions);
  height: var(--ring-dimensions);
  -webkit-animation: commetSpin var(--rli-animation-duration, 1.2s) var(--rli-animation-function, cubic-bezier(0.08, 0.03, 0.91, 0.93)) infinite;
          animation: commetSpin var(--rli-animation-duration, 1.2s) var(--rli-animation-function, cubic-bezier(0.08, 0.03, 0.91, 0.93)) infinite;
}
.commet-rli-bounding-box .commet-throbber .ring-wrapper > .ringball-holder {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: transparent;
}
.commet-rli-bounding-box .commet-throbber .ring-wrapper .ring {
  border-radius: 50%;
  border-style: solid;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}
.commet-rli-bounding-box .commet-throbber .ring-wrapper.ring1 {
  --bg-color: var(--ring1-color, currentColor);
  --ring-dimensions: 100%;
  -webkit-animation-direction: normal;
          animation-direction: normal;
}
.commet-rli-bounding-box .commet-throbber .ring-wrapper.ring1 > .ring {
  border-color: var(--bg-color) transparent transparent var(--bg-color);
  border-width: 0.25em 0.25em 0em 0em;
  transform: rotateZ(-44deg);
}
.commet-rli-bounding-box .commet-throbber .ring-wrapper.ring1 > .ringball-holder::before {
  content: "";
  position: absolute;
  width: 0.4667em;
  height: 0.4667em;
  top: -0.054175em;
  left: 50%;
  background-color: var(--bg-color);
  border-radius: 50%;
  box-shadow: 0 0 0.3em 0.03em var(--bg-color), 0 0 1.4em 0.16em var(--bg-color);
}
.commet-rli-bounding-box .commet-throbber .ring-wrapper.ring2 {
  --bg-color: var(--ring2-color, currentColor);
  --ring-dimensions: 70%;
  animation-direction: reverse;
}
.commet-rli-bounding-box .commet-throbber .ring-wrapper.ring2 > .ring {
  border-color: var(--bg-color) var(--bg-color) transparent transparent;
  border-width: 0.25em 0em 0em 0.25em;
  transform: rotateZ(134deg);
}
.commet-rli-bounding-box .commet-throbber .ring-wrapper.ring2 > .ringball-holder::before {
  content: "";
  position: absolute;
  width: 0.4667em;
  height: 0.4667em;
  right: -0.054175em;
  bottom: 50%;
  background-color: var(--bg-color);
  border-radius: 50%;
  box-shadow: 0 0 0.3em 0.03em var(--bg-color), 0 0 1.4em 0.16em var(--bg-color);
}

@-webkit-keyframes commetSpin {
  to {
    transform: rotate(1turn);
  }
}

@keyframes commetSpin {
  to {
    transform: rotate(1turn);
  }
}`);re.memo(function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,l=E.useCallback(function(){var u,d;if(n.current){var h=Array.from({length:2},function(p,v){return"--".concat("ring"+(v+1)+"-","color")});(u=n.current)===null||u===void 0||u.style.removeProperty("color");for(var f=0;f<h.length;f++)(d=n.current)===null||d===void 0||d.style.removeProperty(h[f])}},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u.length;h.color=u[0];for(var p=0;p<f&&!(p>=2);p++){var v="ring".concat(p+1);h["--".concat(v,"-color")]=u[p]}return h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b commet-rli-bounding-box",style:Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s})},re.createElement("span",{className:"rli-d-i-b commet-throbber",ref:n,style:Xe(Xe({},c),i)},re.createElement(Ei,{className:"commet-text",text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}),re.createElement("span",{className:"rli-d-i-b ring-wrapper ring1"},re.createElement("span",{className:"rli-d-i-b ring "}),re.createElement("span",{className:"rli-d-i-b ringball-holder"})),re.createElement("span",{className:"rli-d-i-b ring-wrapper ring2"},re.createElement("span",{className:"rli-d-i-b ring "}),re.createElement("span",{className:"rli-d-i-b ringball-holder"}))))});pi(`.bubble-dotted-rli-bounding-box {
  font-size: 16px;
  box-sizing: border-box;
  display: inline-block;
}
.bubble-dotted-rli-bounding-box .bubble-dotted-throbber {
  width: 5em;
  height: 5em;
  position: relative;
  z-index: 0;
  display: inline-block;
  color: rgb(50, 205, 50);
}
.bubble-dotted-rli-bounding-box .bubble-dotted-throbber .bubble-dotted-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}
.bubble-dotted-rli-bounding-box .bubble-dotted-throbber .bubble-dot-matter {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  transform: rotate(calc((var(--elem-pos) - 1) * 30deg));
}
.bubble-dotted-rli-bounding-box .bubble-dotted-throbber .bubble-dot-matter::before {
  content: "";
  display: block;
  margin: 0 auto;
  width: 15%;
  height: 15%;
  background-color: currentColor;
  border-radius: 50%;
  -webkit-animation-name: bubbleDots;
          animation-name: bubbleDots;
  -webkit-animation-duration: var(--rli-animation-duration, 1.2s);
          animation-duration: var(--rli-animation-duration, 1.2s);
  -webkit-animation-timing-function: var(--rli-animation-function, ease-in-out);
          animation-timing-function: var(--rli-animation-function, ease-in-out);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
  -webkit-animation-fill-mode: both;
          animation-fill-mode: both;
  -webkit-animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * (12 - (var(--elem-pos) - 1)) * -1);
          animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * (12 - (var(--elem-pos) - 1)) * -1);
}

@-webkit-keyframes bubbleDots {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}

@keyframes bubbleDots {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}`);var M6e=function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,l=E.useCallback(function(){var u;n.current&&((u=n.current)===null||u===void 0||u.style.removeProperty("color"))},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u[0];return h.color=f,h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b bubble-dotted-rli-bounding-box",style:Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s})},re.createElement("span",{className:"rli-d-i-b bubble-dotted-throbber",ref:n,style:Xe(Xe({},c),i)},Array.from({length:12}).map(function(u,d){return re.createElement("span",{key:d,className:"rli-d-i-b bubble-dot-matter",style:{"--elem-pos":"".concat(d+1)}})}),re.createElement(Ei,{className:"bubble-dotted-text",text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor})))};pi(`.disc-rli-bounding-box {
  font-size: 16px;
  display: inline-block;
}
.disc-rli-bounding-box .disc-throbber {
  width: 5em;
  height: 5em;
  color: rgb(50, 205, 50);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.disc-rli-bounding-box .disc-throbber .disc-ring {
  width: 100%;
  height: 100%;
  border-width: 0.38em;
  border-style: solid;
  border-color: currentColor;
  border-bottom-color: transparent;
  border-radius: 50%;
  box-sizing: border-box;
  -webkit-animation-name: discSpin;
          animation-name: discSpin;
  -webkit-animation-duration: var(--rli-animation-duration, 1s);
          animation-duration: var(--rli-animation-duration, 1s);
  -webkit-animation-timing-function: var(--rli-animation-function, linear);
          animation-timing-function: var(--rli-animation-function, linear);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
}
.disc-rli-bounding-box .disc-throbber .disc-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@-webkit-keyframes discSpin {
  to {
    transform: rotate(1turn);
  }
}

@keyframes discSpin {
  to {
    transform: rotate(1turn);
  }
}`);var E6e=function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,l=E.useCallback(function(){var u;n.current&&((u=n.current)===null||u===void 0||u.style.removeProperty("color"))},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u[0];return h.color=f,h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b disc-rli-bounding-box",style:Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s})},re.createElement("span",{className:"rli-d-i-b disc-throbber",ref:n,style:Xe(Xe({},c),i)},re.createElement("span",{className:"rli-d-i-b disc-ring"}),re.createElement(Ei,{className:"disc-text",text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor})))};pi(`.dot-rli-bounding-box {
  font-size: 16px;
  box-sizing: border-box;
  display: inline-block;
}
.dot-rli-bounding-box .fading-dot-throbber {
  width: 5em;
  height: 5em;
  color: rgb(50, 205, 50);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.dot-rli-bounding-box .fading-dot-throbber .fading-dot-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}
.dot-rli-bounding-box .fading-dot-throbber .fading-dot-matter {
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
  transform: rotate(calc((var(--elem-pos) - 1) * 30deg));
}
.dot-rli-bounding-box .fading-dot-throbber .fading-dot-matter::before {
  content: "";
  display: block;
  margin: 0 auto;
  width: 15%;
  height: 15%;
  background-color: currentColor;
  border-radius: 50%;
  -webkit-animation-name: fadeDots;
          animation-name: fadeDots;
  -webkit-animation-duration: var(--rli-animation-duration, 1.2s);
          animation-duration: var(--rli-animation-duration, 1.2s);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
  -webkit-animation-timing-function: var(--rli-animation-function, ease-in-out);
          animation-timing-function: var(--rli-animation-function, ease-in-out);
  -webkit-animation-fill-mode: both;
          animation-fill-mode: both;
  -webkit-animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * (12 - (var(--elem-pos) - 1)) * -1);
          animation-delay: calc(var(--rli-animation-duration, 1.2s) / 12 * (12 - (var(--elem-pos) - 1)) * -1);
}

@-webkit-keyframes fadeDots {
  0%, 39%, 100% {
    opacity: 0;
  }
  40% {
    opacity: 1;
  }
}

@keyframes fadeDots {
  0%, 39%, 100% {
    opacity: 0;
  }
  40% {
    opacity: 1;
  }
}`);var k6e=function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,l=E.useCallback(function(){var u;n.current&&((u=n.current)===null||u===void 0||u.style.removeProperty("color"))},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u[0];return h.color=f,h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b dot-rli-bounding-box",style:Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s})},re.createElement("span",{className:"rli-d-i-b fading-dot-throbber",ref:n,style:Xe(Xe({},c),i)},Array.from({length:12}).map(function(u,d){return re.createElement("span",{key:"fading-dot-".concat(d),className:"rli-d-i-b fading-dot".concat(d+1," fading-dot-matter"),style:{"--elem-pos":"".concat(d+1)}})}),re.createElement(Ei,{className:"fading-dot-text",text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor})))};pi(`.split-disc-rli-bounding-box {
  font-size: 16px;
  box-sizing: border-box;
  display: inline-block;
}
.split-disc-rli-bounding-box .split-disc-throbber {
  width: 5em;
  height: 5em;
  display: inline-block;
  position: relative;
  z-index: 0;
  color: rgb(50, 205, 50);
}
.split-disc-rli-bounding-box .split-disc-throbber .split-disc-ring {
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border-width: 0.38em;
  border-style: solid;
  border-color: var(--split1-color, var(--splits-color, currentColor)) transparent var(--split2-color, var(--splits-color, currentColor)) transparent;
  background-color: transparent;
  -webkit-animation-name: splitDiscSpin;
          animation-name: splitDiscSpin;
  -webkit-animation-duration: var(--rli-animation-duration, 1.2s);
          animation-duration: var(--rli-animation-duration, 1.2s);
  -webkit-animation-timing-function: var(--rli-animation-function, linear);
          animation-timing-function: var(--rli-animation-function, linear);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
}
.split-disc-rli-bounding-box .split-disc-throbber .split-disc-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@-webkit-keyframes splitDiscSpin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes splitDiscSpin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}`);var T6e=function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,l=E.useCallback(function(){var u;n.current&&((u=n.current)===null||u===void 0||u.style.removeProperty("color"))},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u.length;h["--splits-color"]=u[0],h.color=u[0];for(var p=0;p<f&&!(p>=2);p++){var v="split".concat(p+1);h["--".concat(v,"-color")]=u[p]}return h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b split-disc-rli-bounding-box",style:Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s})},re.createElement("span",{className:"rli-d-i-b split-disc-throbber",ref:n,style:Xe(Xe({},c),i)},re.createElement("span",{className:"rli-d-i-b split-disc-ring"}),re.createElement(Ei,{className:"split-disc-text",text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor})))};pi(`.track-disc-rli-bounding-box {
  font-size: 16px;
  display: inline-block;
}
.track-disc-rli-bounding-box .track-disc-throbber {
  width: 5em;
  height: 5em;
  color: rgb(50, 205, 50);
  display: inline-block;
  position: relative;
  z-index: 0;
}
.track-disc-rli-bounding-box .track-disc-throbber .track-disc-ring {
  width: 100%;
  height: 100%;
  border-width: 0.38em;
  border-style: solid;
  border-radius: 50%;
  border-color: var(--track-path-color, #eeeeee);
  border-top-color: currentColor;
  box-sizing: border-box;
  -webkit-animation-name: trackDiscSpin;
          animation-name: trackDiscSpin;
  -webkit-animation-duration: var(--rli-animation-duration, 1s);
          animation-duration: var(--rli-animation-duration, 1s);
  -webkit-animation-timing-function: var(--rli-animation-function, linear);
          animation-timing-function: var(--rli-animation-function, linear);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
}
.track-disc-rli-bounding-box .track-disc-throbber .track-disc-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@-webkit-keyframes trackDiscSpin {
  to {
    transform: rotate(1turn);
  }
}

@keyframes trackDiscSpin {
  to {
    transform: rotate(1turn);
  }
}
/* 

$spinner-color: red !default;
$spinner-background-color: #eee !default;
$spinner-stroke: 2px !default;
$spinner-diameter: 40px !default;
$spinner-sides: 1 !default;

@mixin spinner(
  $color: $spinner-color,
  $background-color: $spinner-background-color,
  $stroke: $spinner-stroke,
  $diameter: $spinner-diameter,
  $sides: $spinner-sides
) {
  border: $stroke solid $background-color;
  font-size: $diameter;
  width: 1em;
  height: 1em;
  border-radius: .5em;
  @include box-sizing(border-box);
  -webkit-animation: spin 1s linear infinite;
  -moz-animation: spin 1s linear infinite;
  animation: spin 1s linear infinite;
  border-top-color: $color;
  @if $sides >= 2 {
    border-right-color: $color;
  }
  @if $sides >= 3 {
    border-bottom-color: $color;
  }
}

.spinner {
  @include spinner();
}

@keyframes spin {
  to {
    @include transform(rotate(360deg));
  }
}


*/`);var D6e=function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1s").animationPeriod,l=E.useCallback(function(){var u,d;n.current&&((u=n.current)===null||u===void 0||u.style.removeProperty("color"),(d=n.current)===null||d===void 0||d.style.removeProperty("--track-path-color"))},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u[0],p=u[1];return f&&(h.color=f),p&&(h["--track-path-color"]=p),h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b track-disc-rli-bounding-box",style:Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s})},re.createElement("span",{className:"rli-d-i-b track-disc-throbber",ref:n,style:Xe(Xe({},c),i)},re.createElement("span",{className:"rli-d-i-b track-disc-ring"}),re.createElement(Ei,{className:"track-disc-text",text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor})))};re.memo(function(t){var e=Object(t).variant,n=e===void 0?"disc":e;return n==="dotted"?re.createElement(k6e,Xe({},t)):n==="bubble-dotted"?re.createElement(M6e,Xe({},t)):n==="disc"?re.createElement(E6e,Xe({},t)):n==="split-disc"?re.createElement(T6e,Xe({},t)):n==="track-disc"?re.createElement(D6e,Xe({},t)):null});pi(`.foursquare-rli-bounding-box {
  box-sizing: border-box;
  display: inline-block;
  font-size: 16px;
  overflow: visible;
}
.foursquare-rli-bounding-box .foursquare-throbber {
  --dimension-unit: 4;
  height: calc(var(--dimension-unit) * 1em);
  width: calc(var(--dimension-unit) * 1em);
  color: rgb(50, 205, 50);
  font-size: 1em;
  position: relative;
  z-index: 0;
}
.foursquare-rli-bounding-box .foursquare-throbber .squares-container {
  height: inherit;
  width: inherit;
  color: currentColor;
  position: relative;
  -webkit-animation: fourSquareExpand var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) infinite;
          animation: fourSquareExpand var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98)) infinite;
  transform: rotate(45deg);
  position: absolute;
  top: 0;
  left: 0;
}
.foursquare-rli-bounding-box .foursquare-throbber .foursquare-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-30%, -50%);
  z-index: -2;
}
.foursquare-rli-bounding-box .foursquare-throbber .square {
  position: absolute;
  width: calc(var(--dimension-unit) / 2 * 1em);
  height: calc(var(--dimension-unit) / 2 * 1em);
  border-radius: 3px;
  background-color: currentColor;
  -webkit-animation-name: fourSquareSquareSpin;
          animation-name: fourSquareSquareSpin;
  -webkit-animation-duration: var(--rli-animation-duration, 1s);
          animation-duration: var(--rli-animation-duration, 1s);
  -webkit-animation-timing-function: var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98));
          animation-timing-function: var(--rli-animation-function, cubic-bezier(0.05, 0.28, 0.79, 0.98));
  -webkit-animation-fill-mode: both;
          animation-fill-mode: both;
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
}
.foursquare-rli-bounding-box .foursquare-throbber .square.square1 {
  background-color: var(--square1-color, currentColor);
  top: 0;
  left: 0;
}
.foursquare-rli-bounding-box .foursquare-throbber .square.square2 {
  background-color: var(--square2-color, currentColor);
  top: 0;
  right: 0;
}
.foursquare-rli-bounding-box .foursquare-throbber .square.square3 {
  background-color: var(--square3-color, currentColor);
  bottom: 0;
  left: 0;
}
.foursquare-rli-bounding-box .foursquare-throbber .square.square4 {
  background-color: var(--square4-color, currentColor);
  bottom: 0;
  right: 0;
}

@-webkit-keyframes fourSquareExpand {
  0% {
    width: calc(var(--dimension-unit) * 1em);
    height: calc(var(--dimension-unit) * 1em);
  }
  10% {
    width: calc(var(--dimension-unit) * 1em);
    height: calc(var(--dimension-unit) * 1em);
  }
  50% {
    width: calc(var(--dimension-unit) * 1em + 2em);
    height: calc(var(--dimension-unit) * 1em + 2em);
  }
  90% {
    width: calc(var(--dimension-unit) * 1em);
    height: calc(var(--dimension-unit) * 1em);
  }
  100% {
    width: calc(var(--dimension-unit) * 1em);
    height: calc(var(--dimension-unit) * 1em);
  }
}

@keyframes fourSquareExpand {
  0% {
    width: calc(var(--dimension-unit) * 1em);
    height: calc(var(--dimension-unit) * 1em);
  }
  10% {
    width: calc(var(--dimension-unit) * 1em);
    height: calc(var(--dimension-unit) * 1em);
  }
  50% {
    width: calc(var(--dimension-unit) * 1em + 2em);
    height: calc(var(--dimension-unit) * 1em + 2em);
  }
  90% {
    width: calc(var(--dimension-unit) * 1em);
    height: calc(var(--dimension-unit) * 1em);
  }
  100% {
    width: calc(var(--dimension-unit) * 1em);
    height: calc(var(--dimension-unit) * 1em);
  }
}
@-webkit-keyframes fourSquareSquareSpin {
  0% {
    transform: rotate(0deg);
  }
  10% {
    transform: rotate(0deg);
  }
  50% {
    transform: rotate(90deg);
  }
  90% {
    transform: rotate(90deg);
  }
  100% {
    transform: rotate(90deg);
  }
}
@keyframes fourSquareSquareSpin {
  0% {
    transform: rotate(0deg);
  }
  10% {
    transform: rotate(0deg);
  }
  50% {
    transform: rotate(90deg);
  }
  90% {
    transform: rotate(90deg);
  }
  100% {
    transform: rotate(90deg);
  }
}`);re.memo(function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1s").animationPeriod,l=E.useCallback(function(){var u,d;if(n.current){var h=Array.from({length:4},function(p,v){return"--".concat("square"+(v+1)+"-","color")});(u=n.current)===null||u===void 0||u.style.removeProperty("color");for(var f=0;f<h.length;f++)(d=n.current)===null||d===void 0||d.style.removeProperty(h[f])}},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u.length;h.color=u[0];for(var p=0;p<f&&!(p>=4);p++){var v="square".concat(p+1);h["--".concat(v,"-color")]=u[p]}return h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b foursquare-rli-bounding-box",style:Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s})},re.createElement("span",{className:"rli-d-i-b foursquare-throbber",ref:n,style:Xe(Xe({},c),i)},re.createElement("span",{className:"rli-d-i-b squares-container"},re.createElement("span",{className:"square square1"}),re.createElement("span",{className:"square square2"}),re.createElement("span",{className:"square square3"}),re.createElement("span",{className:"square square4"})),re.createElement(Ei,{className:"foursquare-text",text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor})))});pi(`.mosaic-rli-bounding-box {
  box-sizing: border-box;
  font-size: 16px;
  color: rgb(50, 205, 50);
}
.mosaic-rli-bounding-box .mosaic-throbber {
  width: 5em;
  height: 5em;
  color: currentColor;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-areas: "a b c" "d e f" "g h i";
  position: relative;
  z-index: 0;
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 105%;
  left: 50%;
  transform: translateX(-50%);
  z-index: -2;
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube {
  background-color: currentColor;
  -webkit-animation-name: mosaicAnimate;
          animation-name: mosaicAnimate;
  -webkit-animation-duration: var(--rli-animation-duration, 1.3s);
          animation-duration: var(--rli-animation-duration, 1.3s);
  -webkit-animation-timing-function: var(--rli-animation-function, ease-in-out);
          animation-timing-function: var(--rli-animation-function, ease-in-out);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube1 {
  -webkit-animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
          animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
  grid-area: a;
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube2 {
  -webkit-animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 3);
          animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 3);
  grid-area: b;
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube3 {
  grid-area: c;
  -webkit-animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 4);
          animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 4);
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube4 {
  grid-area: d;
  -webkit-animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 1);
          animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 1);
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube5 {
  grid-area: e;
  -webkit-animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
          animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube6 {
  grid-area: f;
  -webkit-animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 3);
          animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 3);
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube7 {
  grid-area: g;
  -webkit-animation-delay: 0s;
          animation-delay: 0s;
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube8 {
  grid-area: h;
  -webkit-animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 1);
          animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 1);
}
.mosaic-rli-bounding-box .mosaic-throbber .mosaic-cube9 {
  grid-area: i;
  -webkit-animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
          animation-delay: calc(var(--mosaic-skip-interval, 0.1s) * 2);
}

@-webkit-keyframes mosaicAnimate {
  0%, 70%, 100% {
    transform: scale(1, 1);
    transform: scale3D(1, 1, 1);
  }
  35% {
    transform: scale(0, 0);
    transform: scale3D(0, 0, 1);
  }
}

@keyframes mosaicAnimate {
  0%, 70%, 100% {
    transform: scale(1, 1);
    transform: scale3D(1, 1, 1);
  }
  35% {
    transform: scale(0, 0);
    transform: scale3D(0, 0, 1);
  }
}`);re.memo(function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1.3s").animationPeriod,l=Math.round(parseFloat(a)/9*100)/100;l+="s";var c=E.useCallback(function(){var d;n.current&&((d=n.current)===null||d===void 0||d.style.removeProperty("color"))},[n.current]),u=function(d,h){var f={};if(!d)return h(),f;if(d instanceof Array){var p=d[0];return f.color=p,f}return f.color=d,f}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",c);return re.createElement("span",{className:"rli-d-i-b  mosaic-rli-bounding-box",ref:n,style:Xe(Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s}),u)},re.createElement("span",{className:"rli-d-i-b mosaic-throbber",style:Xe(Xe({},l&&{"--mosaic-skip-interval":l}),i)},re.createElement("span",{className:"rli-d-i-b mosaic-cube mosaic-cube1"}),re.createElement("span",{className:"rli-d-i-b mosaic-cube mosaic-cube2"}),re.createElement("span",{className:"rli-d-i-b mosaic-cube mosaic-cube3"}),re.createElement("span",{className:"rli-d-i-b mosaic-cube mosaic-cube4"}),re.createElement("span",{className:"rli-d-i-b mosaic-cube mosaic-cube5"}),re.createElement("span",{className:"rli-d-i-b mosaic-cube mosaic-cube6"}),re.createElement("span",{className:"rli-d-i-b mosaic-cube mosaic-cube7"}),re.createElement("span",{className:"rli-d-i-b mosaic-cube mosaic-cube8"}),re.createElement("span",{className:"rli-d-i-b mosaic-cube mosaic-cube9"})),re.createElement(Ei,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))});pi(`.riple-rli-bounding-box {
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
}
.riple-rli-bounding-box .riple-throbber {
  display: inline-block;
  width: 5em;
  height: 5em;
  color: rgb(50, 205, 50);
  position: relative;
  z-index: 0;
}
.riple-rli-bounding-box .riple-throbber .riple-text {
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}
.riple-rli-bounding-box .riple-throbber .riple {
  --border-width: 0.25em;
  position: absolute;
  border-width: var(--border-width);
  border-style: solid;
  border-color: currentColor;
  opacity: 1;
  border-radius: 50%;
  -webkit-animation: rippling var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0, 0.2, 0.8, 1)) infinite;
          animation: rippling var(--rli-animation-duration, 1s) var(--rli-animation-function, cubic-bezier(0, 0.2, 0.8, 1)) infinite;
}
.riple-rli-bounding-box .riple-throbber .riple:nth-child(2) {
  -webkit-animation-delay: -0.5s;
          animation-delay: -0.5s;
}

@-webkit-keyframes rippling {
  0% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 0;
  }
  4.9% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 0;
  }
  5% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 1;
  }
  100% {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0;
  }
}

@keyframes rippling {
  0% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 0;
  }
  4.9% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 0;
  }
  5% {
    top: calc(50% - var(--border-width));
    left: calc(50% - var(--border-width));
    right: calc(50% - var(--border-width));
    bottom: calc(50% - var(--border-width));
    opacity: 1;
  }
  100% {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0;
  }
}`);re.memo(function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1s").animationPeriod,l=E.useCallback(function(){var u;n.current&&((u=n.current)===null||u===void 0||u.style.removeProperty("color"))},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u[0];return h.color=f,h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b riple-rli-bounding-box",style:Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s})},re.createElement("span",{className:"rli-d-i-b riple-throbber",ref:n,style:Xe(Xe({},c),i)},re.createElement("span",{className:"rli-d-i-b riple"}),re.createElement("span",{className:"rli-d-i-b riple"}),re.createElement(Ei,{className:"riple-text",text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor})))});pi(`.pulsate-rli-bounding-box {
  font-size: 16px;
  display: inline-block;
  box-sizing: border-box;
  color: rgb(50, 205, 50);
}
.pulsate-rli-bounding-box .pulsate-indicator {
  width: 5em;
  height: 1.5em;
  text-align: center;
  position: relative;
  z-index: 0;
  display: flex;
  justify-content: center;
  -moz-column-gap: 0.12em;
       column-gap: 0.12em;
  align-items: center;
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-bounce {
  width: 0.96em;
  height: 0.96em;
  background-color: currentColor;
  border-radius: 50%;
  display: inline-block;
  -webkit-animation-name: pulsateDotBlink;
          animation-name: pulsateDotBlink;
  -webkit-animation-duration: var(--rli-animation-duration, 1.3s);
          animation-duration: var(--rli-animation-duration, 1.3s);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
  -webkit-animation-timing-function: var(--rli-animation-function, ease-in-out);
          animation-timing-function: var(--rli-animation-function, ease-in-out);
  -webkit-animation-fill-mode: both;
          animation-fill-mode: both;
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-bounce1 {
  -webkit-animation-delay: -0.32s;
          animation-delay: -0.32s;
  background-color: var(--pulsateDot1-color, currentColor);
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-bounce2 {
  -webkit-animation-delay: -0.16s;
          animation-delay: -0.16s;
  background-color: var(--pulsateDot2-color, currentColor);
}
.pulsate-rli-bounding-box .pulsate-indicator .pulsate-bounce3 {
  -webkit-animation-delay: 0s;
          animation-delay: 0s;
  background-color: var(--pulsateDot3-color, currentColor);
}
.pulsate-rli-bounding-box .pulsate-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 80%;
  text-transform: uppercase;
  text-align: center;
  font-size: 0.6em;
  letter-spacing: 0.5px;
  font-family: sans-serif;
  mix-blend-mode: difference;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: -2;
}

@-webkit-keyframes pulsateDotBlink {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}

@keyframes pulsateDotBlink {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}`);var L6e=function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1.3s").animationPeriod,l=E.useCallback(function(){var u,d;if(n.current){var h=Array.from({length:3},function(p,v){return"--pulsateDot".concat(v+1,"-color")});(u=n.current)===null||u===void 0||u.style.removeProperty("color");for(var f=0;f<h.length;f++)(d=n.current)===null||d===void 0||d.style.removeProperty(h[f])}},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u.length,p=u[0];h.color=p;for(var v=0;v<f&&!(v>=3);v++)h["--pulsateDot".concat(v+1,"-color")]=u[v];return h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b pulsate-rli-bounding-box",ref:n,style:Xe(Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s}),c)},re.createElement("span",{className:"rli-d-i-b pulsate-indicator",style:Xe({},i)},re.createElement("span",{className:"rli-d-i-b pulsate-bounce pulsate-bounce1"}),re.createElement("span",{className:"rli-d-i-b pulsate-bounce pulsate-bounce2"}),re.createElement("span",{className:"rli-d-i-b pulsate-bounce pulsate-bounce3"})),re.createElement(Ei,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};pi(`.brick-stack-rli-bounding-box {
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: rgb(50, 205, 50);
}
.brick-stack-rli-bounding-box .brick-stack-indicator {
  width: 1.96em;
  height: 1.96em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.brick-stack-rli-bounding-box .brick-stack {
  width: 100%;
  height: 100%;
  background: no-repeat radial-gradient(circle closest-side, var(--brick1-color, currentColor) 0% 75%, rgba(0, 0, 0, 0) 95%) 0 0, no-repeat radial-gradient(circle closest-side, var(--brick2-color, currentColor) 0% 75%, rgba(0, 0, 0, 0) 95%) 0 100%, no-repeat radial-gradient(circle closest-side, var(--brick3-color, currentColor) 0% 75%, rgba(0, 0, 0, 0) 95%) 100% 100%;
  background-size: 40% 40%;
  -webkit-animation-name: stackBricks;
          animation-name: stackBricks;
  -webkit-animation-duration: var(--rli-animation-duration, 1s);
          animation-duration: var(--rli-animation-duration, 1s);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
  -webkit-animation-timing-function: var(--rli-animation-function, ease-out);
          animation-timing-function: var(--rli-animation-function, ease-out);
}

@-webkit-keyframes stackBricks {
  25% {
    background-position: 100% 0, 0 100%, 100% 100%;
  }
  50% {
    background-position: 100% 0, 0 0, 100% 100%;
  }
  75% {
    background-position: 100% 0, 0 0, 0 100%;
  }
  100% {
    background-position: 100% 100%, 0 0, 0 100%;
  }
}

@keyframes stackBricks {
  25% {
    background-position: 100% 0, 0 100%, 100% 100%;
  }
  50% {
    background-position: 100% 0, 0 0, 100% 100%;
  }
  75% {
    background-position: 100% 0, 0 0, 0 100%;
  }
  100% {
    background-position: 100% 100%, 0 0, 0 100%;
  }
}`);var R6e=function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1s").animationPeriod,l=E.useCallback(function(){var u,d;if(n.current){var h=Array.from({length:3},function(p,v){return"--brick".concat(v+1,"-color")});(u=n.current)===null||u===void 0||u.style.removeProperty("color");for(var f=0;f<h.length;f++)(d=n.current)===null||d===void 0||d.style.removeProperty(h[f])}},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u.length,p=u[0];h.color=p;for(var v=0;v<f&&!(v>=3);v++)h["--brick".concat(v+1,"-color")]=u[v];return h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b brick-stack-rli-bounding-box",ref:n,style:Xe(Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s}),c)},re.createElement("span",{className:"rli-d-i-b brick-stack-indicator",style:Xe({},i)},re.createElement("span",{className:" rli-d-i-b brick-stack"})),re.createElement(Ei,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};pi(`.windmill-rli-bounding-box {
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: rgb(50, 205, 50);
}
.windmill-rli-bounding-box .windmill-indicator {
  width: 1.875em;
  height: 1.875em;
  display: block;
  position: relative;
  margin: 0 auto;
}
.windmill-rli-bounding-box .windmill-indicator .windmill {
  position: absolute;
  display: inline-block;
  left: 0.625em;
  width: 0.625em;
  height: 0.625em;
  border-radius: 50%;
  background-color: var(--windmill-dot1-color, currentColor);
  transform-origin: 50% 150%;
  -webkit-animation-name: windmillSpin;
          animation-name: windmillSpin;
  -webkit-animation-duration: var(--rli-animation-duration, 1.4s);
          animation-duration: var(--rli-animation-duration, 1.4s);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
  -webkit-animation-timing-function: var(--rli-animation-function, linear);
          animation-timing-function: var(--rli-animation-function, linear);
}
.windmill-rli-bounding-box .windmill-indicator .windmill::before, .windmill-rli-bounding-box .windmill-indicator .windmill::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.windmill-rli-bounding-box .windmill-indicator .windmill::before {
  left: -86.60254%;
  top: 150%;
  width: 0.625em;
  height: 0.625em;
  border-radius: 50%;
  background-color: var(--windmill-dot2-color, currentColor);
}
.windmill-rli-bounding-box .windmill-indicator .windmill::after {
  left: 86.60254%;
  top: 150%;
  width: 0.625em;
  height: 0.625em;
  border-radius: 50%;
  background-color: var(--windmill-dot3-color, currentColor);
}

@-webkit-keyframes windmillSpin {
  0% {
    transform: rotateZ(0deg);
  }
  100% {
    transform: rotateZ(360deg);
  }
}

@keyframes windmillSpin {
  0% {
    transform: rotateZ(0deg);
  }
  100% {
    transform: rotateZ(360deg);
  }
}`);var B6e=function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size).fontSize,i=t==null?void 0:t.easing,o=ki(t==null?void 0:t.speedPlus,"1.4s").animationPeriod,s=E.useCallback(function(){var l,c;if(n.current){var u=Array.from({length:3},function(h,f){return"--windmill-dot".concat(f+1,"-color")});(l=n.current)===null||l===void 0||l.style.removeProperty("color");for(var d=0;d<u.length;d++)(c=n.current)===null||c===void 0||c.style.removeProperty(u[d])}},[n.current]),a=function(l,c){var u={};if(!l)return c(),u;if(l instanceof Array){var d=l.length,h=l[0];u.color=h;for(var f=0;f<d&&!(f>=3);f++)u["--windmill-dot".concat(f+1,"-color")]=l[f];return u}return u.color=l,u}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",s);return re.createElement("span",{ref:n,className:"rli-d-i-b windmill-rli-bounding-box",style:Xe(Xe(Xe(Xe({},r&&{fontSize:r}),o&&{"--rli-animation-duration":o}),i&&{"--rli-animation-function":i}),a)},re.createElement("span",{className:"rli-d-i-b windmill-indicator"},re.createElement("span",{className:"windmill"})),re.createElement(Ei,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};pi(`.bob-rli-bounding-box {
  box-sizing: border-box;
  font-size: 16px;
  display: inline-block;
  color: rgb(50, 205, 50);
}
.bob-rli-bounding-box .bob-indicator {
  width: 3.84em;
  height: 1.92em;
  position: relative;
  display: block;
  margin: 0 auto;
}
.bob-rli-bounding-box .bob-indicator .bobbing,
.bob-rli-bounding-box .bob-indicator .bobbing::before,
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  width: 0.96em;
  height: 100%;
  display: grid;
  -webkit-animation-name: bobMovement;
          animation-name: bobMovement;
  -webkit-animation-duration: var(--rli-animation-duration, 1.2s);
          animation-duration: var(--rli-animation-duration, 1.2s);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
  -webkit-animation-timing-function: var(--rli-animation-function, linear);
          animation-timing-function: var(--rli-animation-function, linear);
  -webkit-animation-delay: calc(var(--delay, 0) * 0.4s);
          animation-delay: calc(var(--delay, 0) * 0.4s);
}
.bob-rli-bounding-box .bob-indicator .bobbing::before,
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  content: "";
  grid-area: 1/1;
}
.bob-rli-bounding-box .bob-indicator .bobbing {
  --delay: -0.5;
  background: radial-gradient(circle at center, var(--bob-dot1-color, currentColor) 0% 58%, rgba(0, 0, 0, 0) 68%) center/100% 50% no-repeat;
}
.bob-rli-bounding-box .bob-indicator .bobbing::before {
  --delay: 0;
  transform: translateX(150%);
  background: radial-gradient(circle at center, var(--bob-dot2-color, currentColor) 0% 58%, rgba(0, 0, 0, 0) 68%) center/100% 50% no-repeat;
}
.bob-rli-bounding-box .bob-indicator .bobbing::after {
  --delay: 0.5;
  transform: translateX(300%);
  background: radial-gradient(circle at center, var(--bob-dot3-color, currentColor) 0% 58%, rgba(0, 0, 0, 0) 68%) center/100% 50% no-repeat;
}

@-webkit-keyframes bobMovement {
  20% {
    background-position: 50% 0%;
  }
  40% {
    background-position: 50% 100%;
  }
  60% {
    background-position: 50% 25%;
  }
  80% {
    background-position: 50% 50%;
  }
}

@keyframes bobMovement {
  20% {
    background-position: 50% 0%;
  }
  40% {
    background-position: 50% 100%;
  }
  60% {
    background-position: 50% 25%;
  }
  80% {
    background-position: 50% 50%;
  }
}`);var P6e=function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"1.2s").animationPeriod,l=E.useCallback(function(){var u,d;if(n.current){var h=Array.from({length:3},function(p,v){return"--bob-dot".concat(v+1,"-color")});(u=n.current)===null||u===void 0||u.style.removeProperty("color");for(var f=0;f<h.length;f++)(d=n.current)===null||d===void 0||d.style.removeProperty(h[f])}},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u.length,p=u[0];h.color=p;for(var v=0;v<f&&!(v>=3);v++)h["--bob-dot".concat(v+1,"-color")]=u[v];return h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b bob-rli-bounding-box",ref:n,style:Xe(Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s}),c)},re.createElement("span",{className:"bob-indicator",style:Xe({},i)},re.createElement("span",{className:"bobbing"})),re.createElement(Ei,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))};re.memo(function(t){var e=Object(t).variant,n=e===void 0?"pulsate":e;return n==="pulsate"?re.createElement(L6e,Xe({},t)):n==="brick-stack"?re.createElement(R6e,Xe({},t)):n==="windmill"?re.createElement(B6e,Xe({},t)):n==="bob"?re.createElement(P6e,Xe({},t)):null});pi(`.blink-blur-rli-bounding-box {
  --color-base: 50, 205, 50;
  font-size: 16px;
  color: rgb(var(--color-base));
}
.blink-blur-rli-bounding-box .blink-blur-indicator {
  isolation: isolate;
  width: 12em;
  height: 3em;
  position: relative;
  color: currentColor;
}
.blink-blur-rli-bounding-box .blink-blur-indicator .blink-blur-shape {
  position: absolute;
  top: 50%;
  display: block;
  width: 2em;
  height: 2.5em;
  border-radius: 4px;
  background-color: transparent;
  will-change: box-shadow;
  transform: skewX(-20deg) translate(-100%, -50%);
  box-shadow: 2.4em 0 0px rgba(var(--shape1-color-base, var(--color-base)), 1), 4.8em 0 3px rgba(var(--shape2-color-base, var(--color-base)), 0), 7.2em 0 6px rgba(var(--shape3-color-base, var(--color-base)), 0.6), 9.6em 0 9px rgba(var(--shape4-color-base, var(--color-base)), 0.4), 12em 0 12px rgba(var(--shape5-color-base, var(--color-base)), 0.2);
  -webkit-animation-duration: var(--rli-animation-duration, 2s);
          animation-duration: var(--rli-animation-duration, 2s);
  -webkit-animation-timing-function: var(--rli-animation-function, linear);
          animation-timing-function: var(--rli-animation-function, linear);
  -webkit-animation-iteration-count: infinite;
          animation-iteration-count: infinite;
}

@-webkit-keyframes sweepingBlinkBlur {
  0% {
    box-shadow: 2.4em 0 3px rgba(var(--shape1-color-base, var(--color-base)), 0), 4.8em 0 6px rgba(var(--shape2-color-base, var(--color-base)), 0.6), 7.2em 0 9px rgba(var(--shape3-color-base, var(--color-base)), 0.4), 9.6em 0 12px rgba(var(--shape4-color-base, var(--color-base)), 0.2), 12em 0 12.9px rgba(var(--shape5-color-base, var(--color-base)), 0.14);
  }
  10% {
    box-shadow: 2.4em 0 0px rgba(var(--shape1-color-base, var(--color-base)), 1), 4.8em 0 3px rgba(var(--shape2-color-base, var(--color-base)), 0), 7.2em 0 6px rgba(var(--shape3-color-base, var(--color-base)), 0.6), 9.6em 0 9px rgba(var(--shape4-color-base, var(--color-base)), 0.4), 12em 0 12px rgba(var(--shape5-color-base, var(--color-base)), 0.2);
  }
  20% {
    box-shadow: 2.4em 0 3px rgba(var(--shape1-color-base, var(--color-base)), 0.8), 4.8em 0 0px rgba(var(--shape2-color-base, var(--color-base)), 1), 7.2em 0 3px rgba(var(--shape3-color-base, var(--color-base)), 0), 9.6em 0 6px rgba(var(--shape4-color-base, var(--color-base)), 0.6), 12em 0 9px rgba(var(--shape5-color-base, var(--color-base)), 0.4);
  }
  30% {
    box-shadow: 2.4em 0 6px rgba(var(--shape1-color-base, var(--color-base)), 0.6), 4.8em 0 3px rgba(var(--shape2-color-base, var(--color-base)), 0.8), 7.2em 0 0px rgba(var(--shape3-color-base, var(--color-base)), 1), 9.6em 0 3px rgba(var(--shape4-color-base, var(--color-base)), 0), 12em 0 6px rgba(var(--shape5-color-base, var(--color-base)), 0.6);
  }
  40% {
    box-shadow: 2.4em 0 9px rgba(var(--shape1-color-base, var(--color-base)), 0.4), 4.8em 0 6px rgba(var(--shape2-color-base, var(--color-base)), 0.6), 7.2em 0 3px rgba(var(--shape3-color-base, var(--color-base)), 0.8), 9.6em 0 0px rgba(var(--shape4-color-base, var(--color-base)), 1), 12em 0 3px rgba(var(--shape5-color-base, var(--color-base)), 0);
  }
  50% {
    box-shadow: 2.4em 0 12px rgba(var(--shape1-color-base, var(--color-base)), 0.2), 4.8em 0 9px rgba(var(--shape2-color-base, var(--color-base)), 0.4), 7.2em 0 6px rgba(var(--shape3-color-base, var(--color-base)), 0.6), 9.6em 0 3px rgba(var(--shape4-color-base, var(--color-base)), 0.8), 12em 0 0px rgba(var(--shape5-color-base, var(--color-base)), 1);
  }
  60% {
    box-shadow: 2.4em 0 12.9px rgba(var(--shape1-color-base, var(--color-base)), 0.14), 4.8em 0 12px rgba(var(--shape2-color-base, var(--color-base)), 0.2), 7.2em 0 9px rgba(var(--shape3-color-base, var(--color-base)), 0.4), 9.6em 0 6px rgba(var(--shape4-color-base, var(--color-base)), 0.6), 12em 0 3px rgba(var(--shape5-color-base, var(--color-base)), 0.8);
  }
  70% {
    box-shadow: 2.4em 0 12px rgba(var(--shape1-color-base, var(--color-base)), 0.2), 4.8em 0 12.9px rgba(var(--shape2-color-base, var(--color-base)), 0.14), 7.2em 0 12px rgba(var(--shape3-color-base, var(--color-base)), 0.2), 9.6em 0 9px rgba(var(--shape4-color-base, var(--color-base)), 0.4), 12em 0 6px rgba(var(--shape5-color-base, var(--color-base)), 0.6);
  }
  80% {
    box-shadow: 2.4em 0 9px rgba(var(--shape1-color-base, var(--color-base)), 0.4), 4.8em 0 12px rgba(var(--shape2-color-base, var(--color-base)), 0.2), 7.2em 0 12.9px rgba(var(--shape3-color-base, var(--color-base)), 0.14), 9.6em 0 12px rgba(var(--shape4-color-base, var(--color-base)), 0.2), 12em 0 9px rgba(var(--shape5-color-base, var(--color-base)), 0.4);
  }
  90% {
    box-shadow: 2.4em 0 6px rgba(var(--shape1-color-base, var(--color-base)), 0.6), 4.8em 0 9px rgba(var(--shape2-color-base, var(--color-base)), 0.4), 7.2em 0 12px rgba(var(--shape3-color-base, var(--color-base)), 0.2), 9.6em 0 12.9px rgba(var(--shape4-color-base, var(--color-base)), 0.14), 12em 0 12px rgba(var(--shape5-color-base, var(--color-base)), 0.2);
  }
  100% {
    box-shadow: 2.4em 0 3px rgba(var(--shape1-color-base, var(--color-base)), 0.8), 4.8em 0 6px rgba(var(--shape2-color-base, var(--color-base)), 0.6), 7.2em 0 9px rgba(var(--shape3-color-base, var(--color-base)), 0.4), 9.6em 0 12px rgba(var(--shape4-color-base, var(--color-base)), 0.2), 12em 0 12.9px rgba(var(--shape5-color-base, var(--color-base)), 0.14);
  }
}

@keyframes sweepingBlinkBlur {
  0% {
    box-shadow: 2.4em 0 3px rgba(var(--shape1-color-base, var(--color-base)), 0), 4.8em 0 6px rgba(var(--shape2-color-base, var(--color-base)), 0.6), 7.2em 0 9px rgba(var(--shape3-color-base, var(--color-base)), 0.4), 9.6em 0 12px rgba(var(--shape4-color-base, var(--color-base)), 0.2), 12em 0 12.9px rgba(var(--shape5-color-base, var(--color-base)), 0.14);
  }
  10% {
    box-shadow: 2.4em 0 0px rgba(var(--shape1-color-base, var(--color-base)), 1), 4.8em 0 3px rgba(var(--shape2-color-base, var(--color-base)), 0), 7.2em 0 6px rgba(var(--shape3-color-base, var(--color-base)), 0.6), 9.6em 0 9px rgba(var(--shape4-color-base, var(--color-base)), 0.4), 12em 0 12px rgba(var(--shape5-color-base, var(--color-base)), 0.2);
  }
  20% {
    box-shadow: 2.4em 0 3px rgba(var(--shape1-color-base, var(--color-base)), 0.8), 4.8em 0 0px rgba(var(--shape2-color-base, var(--color-base)), 1), 7.2em 0 3px rgba(var(--shape3-color-base, var(--color-base)), 0), 9.6em 0 6px rgba(var(--shape4-color-base, var(--color-base)), 0.6), 12em 0 9px rgba(var(--shape5-color-base, var(--color-base)), 0.4);
  }
  30% {
    box-shadow: 2.4em 0 6px rgba(var(--shape1-color-base, var(--color-base)), 0.6), 4.8em 0 3px rgba(var(--shape2-color-base, var(--color-base)), 0.8), 7.2em 0 0px rgba(var(--shape3-color-base, var(--color-base)), 1), 9.6em 0 3px rgba(var(--shape4-color-base, var(--color-base)), 0), 12em 0 6px rgba(var(--shape5-color-base, var(--color-base)), 0.6);
  }
  40% {
    box-shadow: 2.4em 0 9px rgba(var(--shape1-color-base, var(--color-base)), 0.4), 4.8em 0 6px rgba(var(--shape2-color-base, var(--color-base)), 0.6), 7.2em 0 3px rgba(var(--shape3-color-base, var(--color-base)), 0.8), 9.6em 0 0px rgba(var(--shape4-color-base, var(--color-base)), 1), 12em 0 3px rgba(var(--shape5-color-base, var(--color-base)), 0);
  }
  50% {
    box-shadow: 2.4em 0 12px rgba(var(--shape1-color-base, var(--color-base)), 0.2), 4.8em 0 9px rgba(var(--shape2-color-base, var(--color-base)), 0.4), 7.2em 0 6px rgba(var(--shape3-color-base, var(--color-base)), 0.6), 9.6em 0 3px rgba(var(--shape4-color-base, var(--color-base)), 0.8), 12em 0 0px rgba(var(--shape5-color-base, var(--color-base)), 1);
  }
  60% {
    box-shadow: 2.4em 0 12.9px rgba(var(--shape1-color-base, var(--color-base)), 0.14), 4.8em 0 12px rgba(var(--shape2-color-base, var(--color-base)), 0.2), 7.2em 0 9px rgba(var(--shape3-color-base, var(--color-base)), 0.4), 9.6em 0 6px rgba(var(--shape4-color-base, var(--color-base)), 0.6), 12em 0 3px rgba(var(--shape5-color-base, var(--color-base)), 0.8);
  }
  70% {
    box-shadow: 2.4em 0 12px rgba(var(--shape1-color-base, var(--color-base)), 0.2), 4.8em 0 12.9px rgba(var(--shape2-color-base, var(--color-base)), 0.14), 7.2em 0 12px rgba(var(--shape3-color-base, var(--color-base)), 0.2), 9.6em 0 9px rgba(var(--shape4-color-base, var(--color-base)), 0.4), 12em 0 6px rgba(var(--shape5-color-base, var(--color-base)), 0.6);
  }
  80% {
    box-shadow: 2.4em 0 9px rgba(var(--shape1-color-base, var(--color-base)), 0.4), 4.8em 0 12px rgba(var(--shape2-color-base, var(--color-base)), 0.2), 7.2em 0 12.9px rgba(var(--shape3-color-base, var(--color-base)), 0.14), 9.6em 0 12px rgba(var(--shape4-color-base, var(--color-base)), 0.2), 12em 0 9px rgba(var(--shape5-color-base, var(--color-base)), 0.4);
  }
  90% {
    box-shadow: 2.4em 0 6px rgba(var(--shape1-color-base, var(--color-base)), 0.6), 4.8em 0 9px rgba(var(--shape2-color-base, var(--color-base)), 0.4), 7.2em 0 12px rgba(var(--shape3-color-base, var(--color-base)), 0.2), 9.6em 0 12.9px rgba(var(--shape4-color-base, var(--color-base)), 0.14), 12em 0 12px rgba(var(--shape5-color-base, var(--color-base)), 0.2);
  }
  100% {
    box-shadow: 2.4em 0 3px rgba(var(--shape1-color-base, var(--color-base)), 0.8), 4.8em 0 6px rgba(var(--shape2-color-base, var(--color-base)), 0.6), 7.2em 0 9px rgba(var(--shape3-color-base, var(--color-base)), 0.4), 9.6em 0 12px rgba(var(--shape4-color-base, var(--color-base)), 0.2), 12em 0 12.9px rgba(var(--shape5-color-base, var(--color-base)), 0.14);
  }
}`);var Zl=Ct("rgb(50, 205, 50)").toRgb();re.memo(function(t){var e,n=E.useRef(null),r=E.useRef(null),i=Mi(t==null?void 0:t.style,t==null?void 0:t.size),o=i.styles,s=i.fontSize,a=t==null?void 0:t.easing,l=ki(t==null?void 0:t.speedPlus,"2s").animationPeriod;E.useEffect(function(){var d=r==null?void 0:r.current;return d&&(d.style.animationName="sweepingBlinkBlur"),function(){d&&(d.style.willChange="auto")}},[]);var c=E.useCallback(function(){var d;if(n.current)for(var h=Array.from({length:7},function(p,v){return"--".concat(v?"shape"+v+"-":"","color-base")}),f=0;f<h.length;f++)(d=n.current)===null||d===void 0||d.style.removeProperty(h[f])},[n.current]),u=function(d,h){var f={};if(!d)return h(),f;if(d instanceof Array&&d.length>0){try{var p=Ct(d[0]);if(!p.isValid())throw new Error("invalid color");var v=p.toRgb();f["--color-base"]="".concat(v.r,", ").concat(v.g,", ").concat(v.b)}catch{console.warn("Possibly an invalid color( ".concat(JSON.stringify(d[0])," ) passed to BlinkBlur loader!")),f["--color-base"]="".concat(Zl.r,", ").concat(Zl.g,", ").concat(Zl.b)}for(var b=d.length,y=0;y<b&&!(y>5);y++){var x="shape".concat(y+1);try{if(!(w=Ct(d[y])).isValid())throw new Error("invalid color");v=w.toRgb(),f["--".concat(x,"-color-base")]="".concat(v.r,", ").concat(v.g,", ").concat(v.b)}catch{console.warn("Possibly an invalid color( ".concat(d[y]," ) in BlinkBlur loader!")),f["--".concat(x,"-color-base")]="".concat(Zl.r,", ").concat(Zl.g,", ").concat(Zl.b)}}return f}try{if(typeof d!="string")throw new Error("Color unprocessable");var w;if(!(w=Ct(d)).isValid())throw new Error("invalid color");v=w.toRgb(),f["--color-base"]="".concat(v.r,", ").concat(v.g,", ").concat(v.b)}catch{console.warn("Possibly an invalid color( ".concat(JSON.stringify(d)," ) passed to BlinkBlur loader!")),f["--color-base"]="".concat(Zl.r,", ").concat(Zl.g,", ").concat(Zl.b)}return f}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",c);return re.createElement("span",{className:"rli-d-i-b blink-blur-rli-bounding-box",ref:n,style:Xe(Xe(Xe(Xe({},s&&{fontSize:s}),l&&{"--rli-animation-duration":l}),a&&{"--rli-animation-function":a}),u)},re.createElement("span",{className:"rli-d-i-b blink-blur-indicator",style:Xe({},o)},re.createElement("span",{ref:r,className:"blink-blur-shape"})),re.createElement(Ei,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))});pi(`.trophy-spin-rli-bounding-box {
  box-sizing: border-box;
  font-size: 16px;
  position: relative;
  isolation: isolate;
  color: rgb(50, 205, 50);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator {
  width: 4em;
  perspective: 1000px;
  display: block;
  margin: 0 auto;
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade {
  display: block;
  width: 4em;
  height: 0.5em;
  background: currentColor;
  -webkit-animation: trophyBlade var(--rli-animation-duration, 2.5s) var(--rli-animation-function, linear) infinite, bgPlay calc(var(--rli-animation-duration, 2.5s) * 0.5) var(--rli-animation-function, linear) infinite;
          animation: trophyBlade var(--rli-animation-duration, 2.5s) var(--rli-animation-function, linear) infinite, bgPlay calc(var(--rli-animation-duration, 2.5s) * 0.5) var(--rli-animation-function, linear) infinite;
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:not(:last-of-type) {
  margin-bottom: 0.06em;
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-child(8) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 0 * -1);
          animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 0 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-child(7) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 1 * -1);
          animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 1 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-child(6) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 2 * -1);
          animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 2 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-child(5) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 3 * -1);
          animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 3 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-child(4) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 4 * -1);
          animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 4 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-child(3) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 5 * -1);
          animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 5 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-child(2) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 6 * -1);
          animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 6 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-indicator .blade:nth-child(1) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 7 * -1);
          animation-delay: calc(var(--rli-animation-duration, 2.5s) / 2 / 8 * 7 * -1);
}
.trophy-spin-rli-bounding-box .trophy-spin-text {
  color: currentColor;
  mix-blend-mode: difference;
  position: absolute;
  top: 105%;
  left: 50%;
  transform: translateX(-50%);
  z-index: -2;
}

@-webkit-keyframes trophyBlade {
  from {
    transform: rotateY(0deg) rotateX(-20deg);
  }
  to {
    transform: rotateY(360deg) rotateX(-20deg);
  }
}

@keyframes trophyBlade {
  from {
    transform: rotateY(0deg) rotateX(-20deg);
  }
  to {
    transform: rotateY(360deg) rotateX(-20deg);
  }
}
@-webkit-keyframes bgPlay {
  0% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(0.59);
  }
  51% {
    filter: opacity(0.5);
  }
  70% {
    filter: opacity(0.7);
  }
  100% {
    filter: opacity(1);
  }
}
@keyframes bgPlay {
  0% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(0.59);
  }
  51% {
    filter: opacity(0.5);
  }
  70% {
    filter: opacity(0.7);
  }
  100% {
    filter: opacity(1);
  }
}`);re.memo(function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"2.5s").animationPeriod,l=E.useCallback(function(){var u;n.current&&((u=n.current)===null||u===void 0||u.style.removeProperty("color"))},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u[0];return h.color=f,h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b trophy-spin-rli-bounding-box",ref:n,style:Xe(Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s}),c)},re.createElement("span",{className:"rli-d-i-b trophy-spin-indicator",style:Xe({},i)},re.createElement("span",{className:"blade"}),re.createElement("span",{className:"blade"}),re.createElement("span",{className:"blade"}),re.createElement("span",{className:"blade"}),re.createElement("span",{className:"blade"}),re.createElement("span",{className:"blade"}),re.createElement("span",{className:"blade"}),re.createElement("span",{className:"blade"})),re.createElement(Ei,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))});pi(`.slab-rli-bounding-box {
  font-size: 16px;
  color: rgb(50, 205, 50);
  position: relative;
}
.slab-rli-bounding-box .slab-indicator {
  position: relative;
  display: block;
  width: 7em;
  height: 4.4em;
  margin: 0 auto;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper {
  width: 4em;
  height: 4em;
  transform: perspective(15em) rotateX(66deg) rotateZ(-25deg);
  transform-style: preserve-3d;
  margin-bottom: -1.3em;
  position: absolute;
  bottom: 0;
  right: 0;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: currentColor;
  opacity: 0;
  box-shadow: -0.08em 0.15em 0 rgba(0, 0, 0, 0.45);
  transform-origin: 0% 0%;
  -webkit-animation: slabMove var(--rli-animation-duration, 4s) var(--rli-animation-function, linear) infinite;
          animation: slabMove var(--rli-animation-duration, 4s) var(--rli-animation-function, linear) infinite;
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(1) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 4s) / 4 * -3);
          animation-delay: calc(var(--rli-animation-duration, 4s) / 4 * -3);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(2) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 4s) / 4 * -2);
          animation-delay: calc(var(--rli-animation-duration, 4s) / 4 * -2);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(3) {
  -webkit-animation-delay: calc(var(--rli-animation-duration, 4s) / 4 * -1);
          animation-delay: calc(var(--rli-animation-duration, 4s) / 4 * -1);
}
.slab-rli-bounding-box .slab-indicator .slabs-wrapper .slab:nth-child(4) {
  -webkit-animation-delay: 0s;
          animation-delay: 0s;
}

@-webkit-keyframes slabMove {
  0% {
    transform: translateY(0) rotateX(30deg);
    opacity: 0;
  }
  10% {
    transform: translateY(-48%) rotateX(0deg);
    opacity: 1;
  }
  90% {
    transform: translateY(-422%) rotateX(0deg);
    opacity: 0.1;
  }
  100% {
    transform: translateY(-480%) rotateX(0deg);
    opacity: 0;
  }
}

@keyframes slabMove {
  0% {
    transform: translateY(0) rotateX(30deg);
    opacity: 0;
  }
  10% {
    transform: translateY(-48%) rotateX(0deg);
    opacity: 1;
  }
  90% {
    transform: translateY(-422%) rotateX(0deg);
    opacity: 0.1;
  }
  100% {
    transform: translateY(-480%) rotateX(0deg);
    opacity: 0;
  }
}`);var Sz=re.memo(function(t){var e,n=E.useRef(null),r=Mi(t==null?void 0:t.style,t==null?void 0:t.size),i=r.styles,o=r.fontSize,s=t==null?void 0:t.easing,a=ki(t==null?void 0:t.speedPlus,"4s").animationPeriod,l=E.useCallback(function(){var u;n.current&&((u=n.current)===null||u===void 0||u.style.removeProperty("color"))},[n.current]),c=function(u,d){var h={};if(!u)return d(),h;if(u instanceof Array){var f=u[0];return h.color=f,h}return h.color=u,h}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",l);return re.createElement("span",{className:"rli-d-i-b slab-rli-bounding-box",ref:n,style:Xe(Xe(Xe(Xe(Xe({},o&&{fontSize:o}),a&&{"--rli-animation-duration":a}),s&&{"--rli-animation-function":s}),c),i)},re.createElement("span",{className:"rli-d-i-b slab-indicator"},re.createElement("span",{className:"slabs-wrapper"},re.createElement("span",{className:"slab"}),re.createElement("span",{className:"slab"}),re.createElement("span",{className:"slab"}),re.createElement("span",{className:"slab"}))),re.createElement(Ei,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor}))});pi(`.lifeline-rli-bounding-box {
  font-size: 16px;
  isolation: isolate;
}
.lifeline-rli-bounding-box .lifeline-throbber {
  color: rgb(50, 205, 50);
  position: relative;
  text-align: center;
}
.lifeline-rli-bounding-box .lifeline-throbber svg.rli-lifeline-svg {
  visibility: hidden;
  overflow: hidden;
}
.lifeline-rli-bounding-box .lifeline-throbber .lifeline-text {
  color: currentColor;
  mix-blend-mode: difference;
  width: unset;
  display: block;
}`);re.memo(function(t){var e,n=E.useRef(null),r=E.useRef(null),i=E.useRef(null),o=Mi(t==null?void 0:t.style,t==null?void 0:t.size),s=o.styles,a=o.fontSize,l=t==null?void 0:t.easing,c=ki(t==null?void 0:t.speedPlus,"2s").animationPeriod,u=E.useCallback(function(){var h;n.current&&((h=n.current)===null||h===void 0||h.style.removeProperty("color"))},[n.current]),d=function(h,f){var p={};if(!h)return f(),p;if(h instanceof Array){var v=h[0];return p.color=v,p}return p.color=h,p}((e=t==null?void 0:t.color)!==null&&e!==void 0?e:"",u);return E.useEffect(function(){if(r.current){var h=r.current,f=h.parentElement,p=h.getTotalLength(),v=p/2,b=.94*v,y=.06*v;h.style.strokeDasharray="".concat(b," ").concat(y),h.style.strokeDashoffset="".concat(p),f&&(f.style.visibility="visible"),h.getBoundingClientRect();var x=new KeyframeEffect(h,[{strokeDashoffset:"".concat(p)},{strokeDashoffset:"0"}],{duration:1e3*parseFloat("2s"),iterations:1/0,easing:l||"linear"}),w=new Animation(x,document.timeline);i.current=w,w.play()}return function(){i.current=null}},[]),E.useEffect(function(){var h;try{i.current&&((h=i.current.effect)===null||h===void 0||h.updateTiming({duration:1e3*parseFloat(c),easing:l}))}catch(f){console.warn(f==null?void 0:f.message)}},[l,c]),re.createElement("span",{className:"rli-d-i-b lifeline-rli-bounding-box",style:Xe(Xe(Xe({},a&&{fontSize:a}),c&&{"--rli-animation-duration":c}),l&&{"--rli-animation-function":l})},re.createElement("span",{ref:n,className:"rli-d-i-b lifeline-throbber",style:Xe(Xe({},d),s)},re.createElement("svg",{width:"14em",height:"6.825000001em",xmlns:"http://www.w3.org/2000/svg",version:"1.2",viewBox:"0 0 350 50",preserveAspectRatio:"xMinYMin meet",className:"rli-pulse-svg"},re.createElement("path",{ref:r,stroke:"currentColor",fill:"none",strokeLinejoin:"round",strokeWidth:"0.18em",d:"M-113 70h250q8-30 12-3t5 8 3-7 3 4 6 35 8-55 6 40 8-3s2-11 10-10 1 1 8-10l4 8c6 4 8-6 10-17s2 10 9 11h210"})),re.createElement(Ei,{staticText:!0,text:t==null?void 0:t.text,textColor:t==null?void 0:t.textColor})))});const N6e=()=>_.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAQEklEQVRoBbXBC7TmdV3v8ffn+///n8t+9p4bMzgskQZlUEklNyGDhHGoUC6KA2WzNay4bBE91Vqt1W51MVvVsXHZ4GSpqMhgLSFuwp6BhZtGB8TbSY9mmguJ3GnAYRhH9zz79lz+v0//59kOWaBHRs/rJVf4EbksUQSWSN95nN79d9C7/3b86L9ClhPHv4DaL/wK+Sk/TxQ1KPuggAh+VHKFI+WEbRQZqezT+/SddHdfQ/nA51C9iSIDjHs9EOQvvZDaKyfJTziZoVQiBUgcKbnC02EzZOMIBvpf/SzdPR+g/7l7oN9FjRY48Z/EQFo8RKw/lvysi6mfdynZumMwlZRAQhJPl1zhh2QbUoIsQ0B54BE6d7yH3v23w3ceR80WKLBLhHiCDRJEhrvLUPaJYzdTO/dSirN/mag1wGCXSAESPyy5wg/BqQSEIkjzc3Tvv53u9HtI+7+JshwVNUgJbJB4SjZEMODuMhDESadSv+g3yF/4M0RkuN+DyFAEPwy5wg9gG5wgMjD0PvdRurvfR//Ln0JFDWU5IMA8iQIw2DyJBDbuLkNRp3jZRRQv/3XyZ/8kApxKpACJH0Su8CQGg20UwUDvoS/R3fN++p+9C5YXUXMUnPh+XPah1wEFFHUUGWDAgFhhUIBNWjhEbNxEcfYvU3vFr5OtPgrbyMYSkngqcoXvZeOUIMsQkL5zgM6d76f38ZvxwUegPoKyDKeE+C4bJIjAvR4uu8TaY6iddymeO0Bv74fx0jwUNZTlkBLYIGEbSRAZ7i5DKolNJ1G7YJLijFejokA2dgIFkvhecoXDbGyjCNLSPL1P30n39ndTPvIvKDJUq0MyOIHEgG0UGWC8uACr15Gfdi6NV7+JOOZ4BPQe+Ac6t76L8p8+Cd0l1BwFJ5wSkniCxIC7y6Ag+6mzqG19M8XzX8KAUokVSOIwuULFNqIi6P7jfXR2v5/0hY9DlqG8AASYJ4nAy4ugIHvx2dTPv5zi5DMZsI0AS9imd99tdO66Fn/t86jWhDwHmycTOOHeMjRGKc7eRu2c15MdewLYDEhiQK5gYwbEoRv/mjR9NVl3HjfGwAnx1JxK3F0me/bJ1C64guKlr0S1OqQSJKRgKCUQoKA8+BjdfTfRveuD+OD/JepNUAAGDIgnSGCT5tvEpuNp/sZOihO2kFIiJJCQB1JCEdhm9rcuYfnT97DuWato1EuEsKkYSRCBez3c7xFrj6Y491JqPz9Btno9plL2IcsQwjYCLIENqYQsR0D/m1+js/t99O+/HbpLqKhDZODEkMEJCBPrcygeo77tLylOfT0DsiECuZJsQsJOfP1338jc3XcQzTqtllmzJqNWF7ZAwPIitNaQn/YKGlvfTPbM52AqZR8ikAJMxRgDQhKHOSWEITIS0P/He+l85K8pv/pZVPZRvYnLhAC3TLYBNCroLVK78J0U49uwjahIyCuQhG1mpyaZm7kD1UdwmchyWL1GjK7KyCKRv/BnKM67nOLFZzEgGzAgkBiwDTaKABtjpOAw22CDhCRSt0t37w307vkQ5b89gMZqxLpErAFJoCAtt6lftJNifALbiIqEvAJJ2GZ2apK5mWmi0QQb25igYInjfvv3ab36clQfQanECEUwZCrGNopgIM3PoZExFIENOCEJJA5zSkgCif7+b9K5+Q/xIzOoVUd9MKAI3GlT27qTYnwC24iKhLwCSdhmdmqSuZlpotHEyUhABL32IU688WOMveBkUq+L8gJJDNiGVEKWI6D89n4609fQ//w9xLpjqL3qDeQvPpsQ2AYnpACJAacETijL6X7ianozb0O1UYwRFQXutKlt3UkxPoFtREVCXoEkbDM7NcnczDTRaILNUIhyYZ7NH7yD1imng0ERDNhGEgNpsU3vU7vp3PFe0qMPIQlsqDXIf/oc6q+6kuyEkxmQjQFJYDNgJ7p7307v3ncSjRbYDClwp01t606K8QlsIyoS8gokYZvZqUnmZqaJRhNshiIoF9ps3rWb0fHTcUpIwnxXv0f/y5+ks+f99L+4D2U5yguQwIATqbOExtZQO3uC4me3kf3EZg4TFYmB7t//Ob17r0b1FtgMKXCnTW3rTorxCWwjKhLyCiRhm9mpSeZmpolGE2yGIigX2mzetYfR8S04JQQkJyLLWfrMx5j/01+jVu+jZgunBAZRESsk3Eu4823yl55Bc/K9ZGuPJaWSUIDEQHfvdnr7dqB6C2yGFLjTprZ1J8X4BLYRFQl5BZKwzezUJHMz00SjCTZDEZQLbTbv2sPo+BacEpJw2YcsZ+HOv+PgW99E7RkbyOtd8jqEhKkYsCFAa4NY3UNHHU19YhfZMSdBKlFkIDHQ3bud3r4dqN4CmyEF7rSpbd1JMT6BbURFQl6BJGwzOzXJ3Mw00WiCzVAE5UKbzbv2MDq+BaeEJJxKlOUs3H0bB99yJRpdBSmR100xKvICCKNRiPVGI4Kyh1YfR33bB8k2Pg+nEilAYqC7dzu9fTtQvQU2QwrcaVPbupNifALbiIqEvAJJ2GZ2apK5mWmi0QSboQjKhTabd+1hdHwLTglJOJUoy1m4+1YOvuVKYmwNlCXJgKA2lhg5CWJMyFSE+120+lnUX3sd2cbn4VQiBUgMdPdup7dvB6q3wGZIgTttalt3UoxPYBtRkZBXIAnbzE5NMjczTTSaYDMUQbnQZvOuPYyOb8EpIQmnEmU5C3ffysG3XEmMrYFUMuASYsys3gIy2KBMuN9Fq59FfeI6so3Pw6lECpAY6O7dTm/fDlRvgc2QAnfa1LbupBifwDaiIiGvQBK2mZ2aZG5mmmg0wWYognKhzeZdexgd34JTQhJOJYqMhY/exsG3XkW0VkHZxxIkyMbM2KkggagIXPbRmuOobbuWfONzcUpIARID3b3b6e3bgeotsBlS4E6b2qt3UpwygW1ERUJegSRsMzs1ydzMNNFogs1QBOVCm8279jA6vgWnhBBOfZQXzO+5kW/93uXkz3gmlH2cElhko2bVaSCBEyjPcXcBRjbQeP2NZMc8n1T2ichAYqC7dzu9fTtQvQU2Qwq83KZ20Tspxl+LbURFQl6BJGwzOzXJ3Mw00WiCzVAE5UKbzbv2MDq+BaeEBCkZRdB98CvMXf2HdL74GZRlqNbAZSIbS6x6iZCoBO4uQN4gTnkt9f/x28TIOuyEFCAx0N27nd6+HajeApshBV5qU7voaopTXodtREVCXoEkbDM7NcnczDTRaILNUATlQpsTrtvN2Cmn45RQCJshSZTtORY/eivtm6+lnH0Q6iPkq4NVpxrcw/0e8ZyzqJ1+BdmJPwcScgLEkAQ2nb3b6d97Naq3wGZIgZfb1C78C4pTL8E2oiIhr0AStpmdmmRuZppoNMFmKIJyoc3mXXtonXwqBiLLOMyphMgQ0HvkG8zfdj0L0zcQmmPVaSaOejb5GVeRv+CVRGMMnBiSMEI2xmDT+/g76O3bgeotsBlS4OVD1F71DoqX/Cq2ERUJeQWSsM3s1CRzM9NEowk2QxL9hTYnXn8no+NbSP0+ikARmO9KCWzIMgR0/vlLLH7kLxkZ30Rx5hvQ6AYEOPVBGZIYMJWyj7Kcgc49/4vefTuJWgswQwq8fIjaBdsptlyKbURFQl6BJJwSs7/7BuZmpolGE2wOS70uq856BUf/2psZfdEpDLgsUQRIDNkYIwkQAwZEJSUsIQRiyE7IxpFBv0fvK7vp3f8uePxBFAWIFQq83KZ2wdsotlwGNkMSciXZhESymf2dKzh0z26i3uAJNkiUi/Pk6zey9vxfZMOvTFLf+ExMJSWQkMSQwRhsJDBCEv+FDRIG+l//FP1Pf4D0tXvAJcrrgAGxQrjTpnb+2yhOvxxshiTkgZQggoFv/tnvcPCmXURzBFICiQHbKM9xp0PqdakffyLrt13GuoteS15vYCpliSJAAoMxA5LABgmbihlIcw/Tu//dlP90OywcQPUWSDglJDFkQ+SkpTnqr3kPxYsuxhghkJAr2NhGEXx7393M/s9LyEZHwcYpIYkhGyIYSJ1lkBg5+TSecflvsmrLmSjLcb8PESiCp+JUgoLysa/SvflK0v4HUFZHeQFOYIPEgDFSjvtdaIzSuGw32YbnkFIiJJCQK1RSSkgiLS/y8Nv/gMf/7jrykRYqapASTyKBTeosQ1Fj7XkXs37bpbSe/yIGnEqkAInv5dRHkdN78ON0b7kKugsocsA8iQJ3l8AmP/et1LZcARJgpGBArlCxDTYoKBcO8a3bPsyBD7+P7sPfIBpNlGVgAwbEkA0RYFO2D1E79idYe+E2NkxcRrFuA7bBBglJDDiVKDL6D91H95ar8PIhFBn/SYBxKnFvmXjWT1Oc8Uby558LkTEgUREDcoXDbGxDBAKW/u0hHv/ba/jOnbeQFhdQrYayHFICGyRsIwmyDC8vk1JJ88STWP+6SdaedzFZUcM2pAQR4IQio//QfXRvuQovH0IKkECB+11IfbT6meRbLif7qdeQtdaBjQFJ2CAxJFf4b5wStoksw8D8//kM+z+4k/n//UncWSZGRsEJp4QkniAxkDrLOIJVp72Moy/7LVrjpxESqdcDQeQF/Yfuo3vLVaSlOSKvgRPuzMPYRrKfvIDijDcSa49jqOxDZEgCGyQOkys8FRvbICEJp8TBu27lwI3XsvjFfyDqDVQUYPMkEqRE6iyjkRZHXTjBUb/0qzSf81zsBIby65+ge8ubcGce+h3ICuK5L6d46RVkx70EAXZCCERFPBW5wv+DUwKBFPQOPMa3dt/EgRs+QO/Rh4nmCIoAG2yQeIIENuX8IeqbNrPuFy9h/cWXkK9aQ/+hT9C5aRLmH0ebTic//QqKk85HkeFUggJJgAHx/cgVvh8bA5KwDWUf5QUDi19/kMf/5hrm7rqVcmmRqNdRlkFKHGYbSZBlpKVFBprPeyFHv2GK0WNE76N/TPbi11Cc8jpiZC22wQlFxoBtJPGDyBWeBqcENsoyDLQ/cx/7r3sX85//FPT7xEgLUsIpIYknREBKpG4HomD9+eey8Td/j/yoTZhK6oMCKXg65ApPk22wQUISqd/j4O03cOCm61n6yheIkRbKMrB5gg0SZBnloTnGXnYOx7/jWrJmk+REKEDi6ZIr/AicEqISQefRf+fgRz7MgZuvp3/gMaI5giLABhskiCAtzDP2snPY9OfvJWuNYkASR0KucCRsDEjCNpQlynMGFh/4MvuvfzdzH7sLLy8T9TpEQEoQQVqYZ+zMc9j09mvIWqPYRhJHQq7wY+JUAkIRGJi7d4b9172LxS99DlIiRlpgk+bbjP3sy9m0/Rqy1ii2kcSRkCv8GNkGGxRIUC4tcuCWv+Fbt36Izr98lRhdhZcWGTvzF9i0/Rqy1ii2kcSRkCv8f+KUUAQDy9/4Vw7c/CG+fccN9PY/yqqfu4BN268hHx3DNpI4EnKFHzcbA5JwSpASynMGFr78BR7+iz+i2HA0x/3JX5HVG9hGEkfiPwBXgsbp9meoOgAAAABJRU5ErkJggg=="}),I6e=re.forwardRef(({...t},e)=>_.jsxs("div",{className:"flex",children:[t.latex?_.jsx(J4,{latex:t.latex,style:{background:"none",color:"red",userSelect:"none"}}):null,_.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAQEklEQVRoBbXBC7TmdV3v8ffn+///n8t+9p4bMzgskQZlUEklNyGDhHGoUC6KA2WzNay4bBE91Vqt1W51MVvVsXHZ4GSpqMhgLSFuwp6BhZtGB8TbSY9mmguJ3GnAYRhH9zz79lz+v0//59kOWaBHRs/rJVf4EbksUQSWSN95nN79d9C7/3b86L9ClhPHv4DaL/wK+Sk/TxQ1KPuggAh+VHKFI+WEbRQZqezT+/SddHdfQ/nA51C9iSIDjHs9EOQvvZDaKyfJTziZoVQiBUgcKbnC02EzZOMIBvpf/SzdPR+g/7l7oN9FjRY48Z/EQFo8RKw/lvysi6mfdynZumMwlZRAQhJPl1zhh2QbUoIsQ0B54BE6d7yH3v23w3ceR80WKLBLhHiCDRJEhrvLUPaJYzdTO/dSirN/mag1wGCXSAESPyy5wg/BqQSEIkjzc3Tvv53u9HtI+7+JshwVNUgJbJB4SjZEMODuMhDESadSv+g3yF/4M0RkuN+DyFAEPwy5wg9gG5wgMjD0PvdRurvfR//Ln0JFDWU5IMA8iQIw2DyJBDbuLkNRp3jZRRQv/3XyZ/8kApxKpACJH0Su8CQGg20UwUDvoS/R3fN++p+9C5YXUXMUnPh+XPah1wEFFHUUGWDAgFhhUIBNWjhEbNxEcfYvU3vFr5OtPgrbyMYSkngqcoXvZeOUIMsQkL5zgM6d76f38ZvxwUegPoKyDKeE+C4bJIjAvR4uu8TaY6iddymeO0Bv74fx0jwUNZTlkBLYIGEbSRAZ7i5DKolNJ1G7YJLijFejokA2dgIFkvhecoXDbGyjCNLSPL1P30n39ndTPvIvKDJUq0MyOIHEgG0UGWC8uACr15Gfdi6NV7+JOOZ4BPQe+Ac6t76L8p8+Cd0l1BwFJ5wSkniCxIC7y6Ag+6mzqG19M8XzX8KAUokVSOIwuULFNqIi6P7jfXR2v5/0hY9DlqG8AASYJ4nAy4ugIHvx2dTPv5zi5DMZsI0AS9imd99tdO66Fn/t86jWhDwHmycTOOHeMjRGKc7eRu2c15MdewLYDEhiQK5gYwbEoRv/mjR9NVl3HjfGwAnx1JxK3F0me/bJ1C64guKlr0S1OqQSJKRgKCUQoKA8+BjdfTfRveuD+OD/JepNUAAGDIgnSGCT5tvEpuNp/sZOihO2kFIiJJCQB1JCEdhm9rcuYfnT97DuWato1EuEsKkYSRCBez3c7xFrj6Y491JqPz9Btno9plL2IcsQwjYCLIENqYQsR0D/m1+js/t99O+/HbpLqKhDZODEkMEJCBPrcygeo77tLylOfT0DsiECuZJsQsJOfP1338jc3XcQzTqtllmzJqNWF7ZAwPIitNaQn/YKGlvfTPbM52AqZR8ikAJMxRgDQhKHOSWEITIS0P/He+l85K8pv/pZVPZRvYnLhAC3TLYBNCroLVK78J0U49uwjahIyCuQhG1mpyaZm7kD1UdwmchyWL1GjK7KyCKRv/BnKM67nOLFZzEgGzAgkBiwDTaKABtjpOAw22CDhCRSt0t37w307vkQ5b89gMZqxLpErAFJoCAtt6lftJNifALbiIqEvAJJ2GZ2apK5mWmi0QQb25igYInjfvv3ab36clQfQanECEUwZCrGNopgIM3PoZExFIENOCEJJA5zSkgCif7+b9K5+Q/xIzOoVUd9MKAI3GlT27qTYnwC24iKhLwCSdhmdmqSuZlpotHEyUhABL32IU688WOMveBkUq+L8gJJDNiGVEKWI6D89n4609fQ//w9xLpjqL3qDeQvPpsQ2AYnpACJAacETijL6X7ianozb0O1UYwRFQXutKlt3UkxPoFtREVCXoEkbDM7NcnczDTRaILNUIhyYZ7NH7yD1imng0ERDNhGEgNpsU3vU7vp3PFe0qMPIQlsqDXIf/oc6q+6kuyEkxmQjQFJYDNgJ7p7307v3ncSjRbYDClwp01t606K8QlsIyoS8gokYZvZqUnmZqaJRhNshiIoF9ps3rWb0fHTcUpIwnxXv0f/y5+ks+f99L+4D2U5yguQwIATqbOExtZQO3uC4me3kf3EZg4TFYmB7t//Ob17r0b1FtgMKXCnTW3rTorxCWwjKhLyCiRhm9mpSeZmpolGE2yGIigX2mzetYfR8S04JQQkJyLLWfrMx5j/01+jVu+jZgunBAZRESsk3Eu4823yl55Bc/K9ZGuPJaWSUIDEQHfvdnr7dqB6C2yGFLjTprZ1J8X4BLYRFQl5BZKwzezUJHMz00SjCTZDEZQLbTbv2sPo+BacEpJw2YcsZ+HOv+PgW99E7RkbyOtd8jqEhKkYsCFAa4NY3UNHHU19YhfZMSdBKlFkIDHQ3bud3r4dqN4CmyEF7rSpbd1JMT6BbURFQl6BJGwzOzXJ3Mw00WiCzVAE5UKbzbv2MDq+BaeEJJxKlOUs3H0bB99yJRpdBSmR100xKvICCKNRiPVGI4Kyh1YfR33bB8k2Pg+nEilAYqC7dzu9fTtQvQU2QwrcaVPbupNifALbiIqEvAJJ2GZ2apK5mWmi0QSboQjKhTabd+1hdHwLTglJOJUoy1m4+1YOvuVKYmwNlCXJgKA2lhg5CWJMyFSE+120+lnUX3sd2cbn4VQiBUgMdPdup7dvB6q3wGZIgTttalt3UoxPYBtRkZBXIAnbzE5NMjczTTSaYDMUQbnQZvOuPYyOb8EpIQmnEmU5C3ffysG3XEmMrYFUMuASYsys3gIy2KBMuN9Fq59FfeI6so3Pw6lECpAY6O7dTm/fDlRvgc2QAnfa1LbupBifwDaiIiGvQBK2mZ2aZG5mmmg0wWYognKhzeZdexgd34JTQhJOJYqMhY/exsG3XkW0VkHZxxIkyMbM2KkggagIXPbRmuOobbuWfONzcUpIARID3b3b6e3bgeotsBlS4E6b2qt3UpwygW1ERUJegSRsMzs1ydzMNNFogs1QBOVCm8279jA6vgWnhBBOfZQXzO+5kW/93uXkz3gmlH2cElhko2bVaSCBEyjPcXcBRjbQeP2NZMc8n1T2ichAYqC7dzu9fTtQvQU2Qwq83KZ20Tspxl+LbURFQl6BJGwzOzXJ3Mw00WiCzVAE5UKbzbv2MDq+BaeEBCkZRdB98CvMXf2HdL74GZRlqNbAZSIbS6x6iZCoBO4uQN4gTnkt9f/x28TIOuyEFCAx0N27nd6+HajeApshBV5qU7voaopTXodtREVCXoEkbDM7NcnczDTRaILNUATlQpsTrtvN2Cmn45RQCJshSZTtORY/eivtm6+lnH0Q6iPkq4NVpxrcw/0e8ZyzqJ1+BdmJPwcScgLEkAQ2nb3b6d97Naq3wGZIgZfb1C78C4pTL8E2oiIhr0AStpmdmmRuZppoNMFmKIJyoc3mXXtonXwqBiLLOMyphMgQ0HvkG8zfdj0L0zcQmmPVaSaOejb5GVeRv+CVRGMMnBiSMEI2xmDT+/g76O3bgeotsBlS4OVD1F71DoqX/Cq2ERUJeQWSsM3s1CRzM9NEowk2QxL9hTYnXn8no+NbSP0+ikARmO9KCWzIMgR0/vlLLH7kLxkZ30Rx5hvQ6AYEOPVBGZIYMJWyj7Kcgc49/4vefTuJWgswQwq8fIjaBdsptlyKbURFQl6BJJwSs7/7BuZmpolGE2wOS70uq856BUf/2psZfdEpDLgsUQRIDNkYIwkQAwZEJSUsIQRiyE7IxpFBv0fvK7vp3f8uePxBFAWIFQq83KZ2wdsotlwGNkMSciXZhESymf2dKzh0z26i3uAJNkiUi/Pk6zey9vxfZMOvTFLf+ExMJSWQkMSQwRhsJDBCEv+FDRIG+l//FP1Pf4D0tXvAJcrrgAGxQrjTpnb+2yhOvxxshiTkgZQggoFv/tnvcPCmXURzBFICiQHbKM9xp0PqdakffyLrt13GuoteS15vYCpliSJAAoMxA5LABgmbihlIcw/Tu//dlP90OywcQPUWSDglJDFkQ+SkpTnqr3kPxYsuxhghkJAr2NhGEXx7393M/s9LyEZHwcYpIYkhGyIYSJ1lkBg5+TSecflvsmrLmSjLcb8PESiCp+JUgoLysa/SvflK0v4HUFZHeQFOYIPEgDFSjvtdaIzSuGw32YbnkFIiJJCQK1RSSkgiLS/y8Nv/gMf/7jrykRYqapASTyKBTeosQ1Fj7XkXs37bpbSe/yIGnEqkAInv5dRHkdN78ON0b7kKugsocsA8iQJ3l8AmP/et1LZcARJgpGBArlCxDTYoKBcO8a3bPsyBD7+P7sPfIBpNlGVgAwbEkA0RYFO2D1E79idYe+E2NkxcRrFuA7bBBglJDDiVKDL6D91H95ar8PIhFBn/SYBxKnFvmXjWT1Oc8Uby558LkTEgUREDcoXDbGxDBAKW/u0hHv/ba/jOnbeQFhdQrYayHFICGyRsIwmyDC8vk1JJ88STWP+6SdaedzFZUcM2pAQR4IQio//QfXRvuQovH0IKkECB+11IfbT6meRbLif7qdeQtdaBjQFJ2CAxJFf4b5wStoksw8D8//kM+z+4k/n//UncWSZGRsEJp4QkniAxkDrLOIJVp72Moy/7LVrjpxESqdcDQeQF/Yfuo3vLVaSlOSKvgRPuzMPYRrKfvIDijDcSa49jqOxDZEgCGyQOkys8FRvbICEJp8TBu27lwI3XsvjFfyDqDVQUYPMkEqRE6iyjkRZHXTjBUb/0qzSf81zsBIby65+ge8ubcGce+h3ICuK5L6d46RVkx70EAXZCCERFPBW5wv+DUwKBFPQOPMa3dt/EgRs+QO/Rh4nmCIoAG2yQeIIENuX8IeqbNrPuFy9h/cWXkK9aQ/+hT9C5aRLmH0ebTic//QqKk85HkeFUggJJgAHx/cgVvh8bA5KwDWUf5QUDi19/kMf/5hrm7rqVcmmRqNdRlkFKHGYbSZBlpKVFBprPeyFHv2GK0WNE76N/TPbi11Cc8jpiZC22wQlFxoBtJPGDyBWeBqcENsoyDLQ/cx/7r3sX85//FPT7xEgLUsIpIYknREBKpG4HomD9+eey8Td/j/yoTZhK6oMCKXg65ApPk22wQUISqd/j4O03cOCm61n6yheIkRbKMrB5gg0SZBnloTnGXnYOx7/jWrJmk+REKEDi6ZIr/AicEqISQefRf+fgRz7MgZuvp3/gMaI5giLABhskiCAtzDP2snPY9OfvJWuNYkASR0KucCRsDEjCNpQlynMGFh/4MvuvfzdzH7sLLy8T9TpEQEoQQVqYZ+zMc9j09mvIWqPYRhJHQq7wY+JUAkIRGJi7d4b9172LxS99DlIiRlpgk+bbjP3sy9m0/Rqy1ii2kcSRkCv8GNkGGxRIUC4tcuCWv+Fbt36Izr98lRhdhZcWGTvzF9i0/Rqy1ii2kcSRkCv8f+KUUAQDy9/4Vw7c/CG+fccN9PY/yqqfu4BN268hHx3DNpI4EnKFHzcbA5JwSpASynMGFr78BR7+iz+i2HA0x/3JX5HVG9hGEkfiPwBXgsbp9meoOgAAAABJRU5ErkJggg=="})]})),O6e=E.forwardRef(({className:t,children:e},n)=>{const r=E.useContext(Uc);if(!r)throw new Error("No SessionContext.Provider in the tree");const i=lr(r,d=>d.initialState),o=lr(r,d=>d.latex),s=lr(r,d=>d.sessionToken),a=lr(r,d=>d.resumeSession),l=lr(r,d=>d.startSession),c=lr(r,d=>d.getHint);lr(r,d=>d.showMe);const u=lr(r,d=>d.submitStep);return lr(r,d=>d.close),E.useImperativeHandle(n,()=>({start(){},resume(d){a(d)},async getExternalHint(){return await c()},async evaluateStep(){return await u()}}),[]),s==="starting"?_.jsx("div",{className:"flex min-h-full flex-col items-center justify-center bg-white",children:_.jsx(Sz,{color:"#f07a08",size:"large",text:"Starting StepWise...",textColor:""})}):i==="READY"&&s.length===0?e?_.jsx("div",{onClick:l,children:e}):_.jsx("button",{className:"h-16 w-16",onClick:l,children:_.jsx(N6e,{})}):i==="SET"&&s.length===0?e?_.jsx("div",{onClick:l,children:e}):_.jsx("button",{className:"h-16",onClick:l,children:_.jsx(I6e,{latex:o})}):i==="GO"&&s.length===0?(l(),_.jsx("div",{className:"flex h-full items-center justify-center",children:_.jsx(Sz,{color:"#f07a08",size:"small",text:"Start me up!",textColor:""})})):s.length>0?_.jsxs(lZ,{id:"ActiveSession",className:Ir("flex flex-col rounded-lg bg-white p-1 text-slate-800 shadow-xl ring-1 ring-slate-900/5",t),children:[_.jsxs(cZ,{className:"px-2 pb-2 pt-4",children:[_.jsx(u6e,{}),_.jsx(s6e,{}),e]}),_.jsx("div",{className:"CARDSTEPS flex grow justify-center px-2 py-1",children:_.jsx("div",{className:"h-full w-full max-w-[640px] overflow-y-auto border-2",children:_.jsx(U5e,{})})}),_.jsx(uZ,{className:"flex flex-col px-2 pb-4",children:_.jsx(o6e,{})})]}):null}),fZ=re.forwardRef(({student:t,problem:e,assistant:n,onComplete:r,server:i,options:o,className:s,ready:a,go:l,children:c},u)=>{E.useImperativeHandle(u,()=>({start:()=>{var p;(p=h.current)==null||p.start()},resume:p=>{h.current.resume(p)},async getExternalHint(){await h.current.getExternalHint()},async evaluateStep(){await h.current.evaluateStep()}}));const d=a?"READY":"GO",h=E.useRef(null),f=E.useRef(null);return f.current||(f.current=L5e(d,t,e,i,o,n,r)),_.jsx(Uc.Provider,{value:f.current,children:_.jsx(O6e,{ref:h,className:s,children:c})})}),x8=({className:t,index:e,page:n})=>{var H;const{api:r,current:i}=E.useContext(Nn),o=E.useRef(null),{problem:s,student:a,session:l,ybr:c,rank:u,swapiUrl:d,logAction:h}=Hn(),[f,p]=E.useState(!1),[v,b]=E.useState(""),[y,x]=E.useState(!1),[w,A]=E.useState(!1),D=(H=s.wpHints)==null?void 0:H.find($=>$.page===`${u}${n.id}`),k=(n==null?void 0:n.psHints)||[];let R={appKey:s.appKey,problemId:s.problemId?s.problemId:"",title:s.title,stimulus:s.stimulus,topic:s.class,definition:s.question,policyId:s.policies,hints:[]};s.qs1&&R.hints.push(s.qs1),s.qs2&&R.hints.push(s.qs2),s.qs3&&R.hints.push(s.qs3),E.useEffect(()=>{var $;(($=c[i-1])==null?void 0:$.id)===(n==null?void 0:n.id)&&setTimeout(L,1e3)},[i,n]);function L(){o.current&&(p(!0),o.current.resume(l))}async function T(){o.current&&(p(!0),A(!0),await o.current.getExternalHint(),A(!1))}async function C($){$.metaKey?r==null||r.scrollNext():o.current&&(p(!0),A(!0),await o.current.evaluateStep(),A(!1))}async function P($){$.metaKey||y?r==null||r.scrollNext():b("You must complete the math before proceeding.")}function z($,X){h("RangerSolveTheEquation : "+JSON.stringify({studentSolution:$,log:X})),x(!0)}return i!==e+1?null:_.jsxs("div",{className:ie("RangerSolveTheEquation","rounded-lg bg-card text-card-foreground shadow-sm","m-0 mb-2 flex h-full w-full flex-col justify-stretch pl-2 pr-2 pt-2",t),children:[_.jsx("div",{className:"div relative mb-2 flex grow flex-col justify-stretch gap-2 p-2",children:_.jsxs("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex flex-col",children:[_.jsx(Es,{highlightLetter:n==null?void 0:n.phase,subTitle:n==null?void 0:n.phaseLabel,instructions:n==null?void 0:n.title}),_.jsxs("div",{className:"flex grow flex-col items-center justify-center",children:[_.jsx("div",{className:ie("h-full w-full",f?"inline-block":"hidden"),children:_.jsx(fZ,{ready:!0,ref:o,className:"h-full w-full",server:{serverURL:d},problem:R,student:a,assistant:b,onComplete:z,children:_.jsxs("div",{className:"mt-2",children:[l.schema==="additiveTotalSchema"?_.jsx($Y,{className:"text-2xl text-qqBrand",p1:l.schemaValues[0],p2:l.schemaValues[1],t:l.schemaValues[2]}):null,l.schema==="multiplicativeEqualGroupsSchema"?_.jsx(VY,{className:"text-2xl text-qqBrand",g:l.schemaValues[0],n:l.schemaValues[1],p:l.schemaValues[2]}):null,l.schema==="additiveDifferenceSchema"?_.jsx(KY,{className:"text-2xl text-qqBrand",l:l.schemaValues[0],d:l.schemaValues[1],g:l.schemaValues[2]}):null,l.schema==="subtractiveChangeSchema"?_.jsx(XY,{className:"text-2xl text-qqBrand",e:l.schemaValues[0],c:l.schemaValues[1],s:l.schemaValues[2]}):null,l.schema==="additiveChangeSchema"?_.jsx(YY,{className:"text-2xl text-qqBrand",e:l.schemaValues[0],c:l.schemaValues[1],s:l.schemaValues[2]}):null,l.schema==="multiplicativeCompareSchema"?_.jsx(QY,{className:"text-2xl text-qqBrand"}):null]})})}),_.jsx(ko,{className:ie("w-full",f?"hidden":"bg-orange-500"),onClick:()=>{L()},children:"Let's Do This!"})]})]})}),_.jsxs(br,{className:"relative flex items-center justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:v,intro:n==null?void 0:n.intro,psHints:k,wpHints:D==null?void 0:D.hints,getAiHints:T}),y?_.jsx(gd,{busy:w,onClick:$=>P($)}):_.jsx(Lv,{busy:w,disabled:w,onClick:$=>C($)}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"RangerSolveTheEquation"})]})]})};x8.displayName="RangerSolveTheEquation";const pZ=E.forwardRef(({className:t,...e},n)=>_.jsx("textarea",{className:ie("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));pZ.displayName="Textarea";const _8=({className:t,page:e,index:n})=>{var k;const{api:r,current:i}=E.useContext(Nn),{logAction:o,submitMyOwnWords:s,getHint:a,problem:l,session:c,rank:u}=Hn(),[d,h]=E.useState(""),[f,p]=E.useState(!1),[v,b]=E.useState(!1),[y,x]=E.useState(""),w=(k=l.wpHints)==null?void 0:k.find(R=>R.page===`${u}${e.id}`);E.useEffect(()=>{y.length>10?b(!1):b(!0)},[y]);async function A(R){if(console.log("handleCheckOwnWords"),R.metaKey)r==null||r.scrollNext();else if(y.length<10)h("Please explain your answer in your own words");else{h("I'm thinking..."),p(!0),o("RangerOwnWords : Checking Own Words : "+y);const L=await s(y);o(`RangerOwnWords : Checked OwnWords : ${y} : ${JSON.stringify(L)}`),p(!1),h(L.message),L.stepStatus=="VALID"&&(r==null||r.scrollNext())}}async function D(){p(!0),h("Hmmm...  let me see."),h(await a()),p(!1)}return i!==n+1?null:_.jsxs("div",{className:ie("RangerOwnWords","m-0 flex h-full w-full flex-col justify-stretch","rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsx(Es,{highlightLetter:e==null?void 0:e.phase,subTitle:e==null?void 0:e.phaseLabel,instructions:e==null?void 0:e.title}),_.jsxs("div",{className:"m-2 flex grow flex-col justify-stretch gap-2 overflow-y-auto p-2",children:[_.jsx(Va,{className:ie("flex w-full rounded-md border border-input bg-slate-200 px-3 py-2 text-sm","ring-offset-background","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",t,"inline"),stimulusText:l.stimulus}),_.jsx("div",{children:c.mathAnswer}),_.jsx("div",{className:"grow",children:_.jsx(pZ,{value:y,onChange:R=>x(R.target.value),placeholder:"Type your answer here"})})]}),_.jsxs(br,{className:"relative flex items-center justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:d,busy:f,intro:e==null?void 0:e.intro,psHints:e==null?void 0:e.psHints,wpHints:w==null?void 0:w.hints,getAiHints:D}),_.jsx(gd,{busy:f,disabled:v,onClick:R=>A(R)}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"RangerOwnWords"})]})]})};_8.displayName="RangerOwnWords";const w8=({className:t,page:e,index:n})=>{var H;const{api:r,current:i}=E.useContext(Nn),{logAction:o,submitTTable:s,getHint:a,problem:l,rank:c}=Hn(),[u,d]=E.useState([]),[h,f]=E.useState([]),[p,v]=E.useState(""),[b,y]=E.useState("gratz:02"),[x,w]=E.useState(""),[A,D]=E.useState(!1),k=(H=l.wpHints)==null?void 0:H.find($=>$.page===`${c}${e.id}`);E.useState([]);const R=$=>{o(`RangerWhatToAnswer : Deleted '${$}' from KnownFacts`),d(u.filter(X=>X!==$))},L=$=>{o(`RangerWhatToAnswer : Deleted '${$}' from UnknownFacts`),f(h.filter(X=>X!==$))};async function T($){if($.metaKey)r==null||r.scrollNext();else{w("Give me a sec to review your knowns and unknowns"),y("direct:02"),o("RangerWhatToAnswer : Clicked Next"),o("RangerWhatToAnswer : Checking Facts");const X=await s(u,h);w(X.message),y("pout:04"),X.stepStatus=="VALID"&&(r==null||r.scrollNext())}}if(i!==n+1)return null;return _.jsxs("div",{className:ie("RangerWhatToAnswer m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsx(Es,{highlightLetter:e==null?void 0:e.phase,subTitle:e==null?void 0:e.phaseLabel,instructions:e==null?void 0:e.title}),_.jsx("div",{className:"relative flex grow flex-col justify-stretch gap-2 p-2",children:_.jsxs(Fc,{onDragEnd:C,children:[_.jsx(Va,{interactive:!0,onChangeFact:v,className:ie("flex w-full rounded-md border border-input bg-slate-200 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t,"inline"),stimulusText:l.stimulus}),_.jsx("div",{className:"grow",children:_.jsxs("div",{className:"grid h-full grid-cols-2 gap-1",children:[_.jsx(q4,{add:P,children:u.map($=>_.jsx(c0,{id:$,label:$,onDelete:R},$))}),_.jsx(K4,{add:z,children:h.map($=>_.jsx(c0,{id:$,label:$,onDelete:L},$))})]})})]})}),_.jsxs(br,{className:"relative flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{msg:x,busy:A,intro:e==null?void 0:e.intro,psHints:e==null?void 0:e.psHints,wpHints:k==null?void 0:k.hints}),_.jsx(vf,{className:"relative left-0",children:"Previous"}),_.jsx(Ci,{className:"relative right-0",onClick:$=>T($),children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"RangerWhatToAnswer"})]})]});function C($){p.length==0||p.trim().length==0||u.includes(p)||($.over&&$.over.id==="KnownFacts"&&(d([...u,p]),o(`RangerWhatToAnswer : Dropped '${p}' on KnownFacts`)),$.over&&$.over.id==="UnknownFacts"&&(f([...h,p]),o(`RangerWhatToAnswer : Dropped '${p}' on UnknownFacts`)),v(""))}function P(){p.length==0||p.trim().length==0||u.includes(p)||(o(`RangerWhatToAnswer : Added '${p}' to KnownFacts`),d([...u,p]),v(""))}function z(){p.length==0||p.trim().length==0||h.includes(p)||(o(`RangerWhatToAnswer : Added '${p}' to UnknownFacts`),f([...h,p]),v(""))}};w8.displayName="RangerWhatToAnswer";const mZ=({className:t,index:e})=>{const{current:n,api:r}=E.useContext(Nn),{emotes:i,sayMsg:o}=wv(),{logAction:s,heartbeat:a,session:l}=Hn(),[c,u]=E.useState(!0);E.useEffect(()=>{s("DevMeetTutor : Entered Application"),setTimeout(()=>a(),1e3)},[]),E.useEffect(()=>{l.sessionToken.length>0&&u(!1)},[l]);function d(){o("Dance Dance Revolution","gratz")}return n!==e+1?null:_.jsxs("div",{className:ie("DevMeetTutor m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsxs("div",{className:"relative grow bg-qqAccent",children:[_.jsx(Bl,{emote:"celebrate:01",closeUp:!0,style:{position:"absolute",height:"100%",right:"-150px",width:"100%"}}),_.jsx(l0,{msgs:[`
Paragraph1

Paragraph2

Paragraph3
      this is more copy related to Paragraph3
      `],className:"absolute bottom-[50%] right-[50%] font-capriola"})]}),_.jsxs(br,{className:"relative flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx("div",{className:"m-1 flex grow flex-col gap-1",children:i.map(h=>_.jsx(ko,{onClick:d,className:"w-full",children:h.name},h.name))}),_.jsx(Ci,{className:"relative right-0",disabled:c,onClick:()=>{s("DevMeetTutor : Clicked Next"),r==null||r.scrollNext()},children:"Next"})]})]})};mZ.displayName="DevMeetTutor";const gZ=({className:t,index:e,page:n})=>{console.log("DevSolveTheEquation",n);const{current:r}=E.useContext(Nn),i=E.useRef(null),{problem:o,student:s,session:a,swapiUrl:l}=Hn(),[c,u]=E.useState(!1),d=(n==null?void 0:n.psHints)||[];let h={appKey:o.appKey,problemId:o.problemId?o.problemId:"",title:o.title,stimulus:o.stimulus,topic:o.class,definition:o.question,policyId:o.policies,hints:[]};return o.qs1&&h.hints.push(o.qs1),o.qs2&&h.hints.push(o.qs2),o.qs3&&h.hints.push(o.qs3),r!==e+1?null:_.jsxs("div",{className:ie("DevSolveTheEquation","rounded-lg  bg-card text-card-foreground shadow-sm w-full h-full m-0 mb-2 pl-2 pt-2 pr-2 flex flex-col justify-stretch",t),children:[_.jsx("div",{className:"div flex flex-col p-2 gap-2 justify-stretch grow relative  mb-2",children:_.jsxs("div",{className:"absolute top-0 left-0 bottom-0 right-0 flex flex-col overflow-y-scroll",children:[_.jsx(Es,{highlightLetter:n==null?void 0:n.phase,subTitle:n==null?void 0:n.phaseLabel,instructions:n==null?void 0:n.title}),_.jsxs("div",{className:"grow flex flex-col justify-center items-center",children:[_.jsx("div",{className:ie("h-full w-full",c?"inline-block":"hidden"),children:_.jsx(fZ,{ready:!0,ref:i,className:"h-full w-full",server:{serverURL:l},problem:h,student:s})}),_.jsx(ko,{className:ie("w-full",c?"hidden":"bg-orange-500"),onClick:()=>{i.current&&(console.info("Starting StepWise",a),u(!0),i.current.resume(a))},children:"Let's Do This!"}),_.jsx("pre",{children:JSON.stringify(d,null,2)}),_.jsx("pre",{children:JSON.stringify(n==null?void 0:n.intro,null,2)})]})]})}),_.jsxs(br,{className:"flex justify-end pr-2 space-x-3 bg-slate-300",children:[_.jsx(Yo,{intro:n==null?void 0:n.intro,psHints:d}),_.jsx(vf,{className:"relative left-0",children:"Previous"}),_.jsx(Ci,{className:"relative right-0",children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"DevSolveTheEquation"})]})]})};gZ.displayName="DevSolveTheEquation";const yZ=({className:t,index:e})=>{const{current:n,api:r}=E.useContext(Nn),{emotes:i,sayMsg:o}=wv(),{logAction:s,heartbeat:a}=Hn();E.useEffect(()=>{s("NewbVictory : Finished path")},[]);function l(){o("Dance Dance Revolution","gratz")}return n!==e+1?null:_.jsxs("div",{className:ie("NewbVictory m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsxs("div",{className:"relative grow",style:{background:"linear-gradient(0deg, rgba(30,106,8,1) 0%, rgba(9,9,121,1) 35%, rgba(0,212,255,1) 100%)"},children:[_.jsx(Bl,{emote:"celebrate:01",closeUp:!0,style:{position:"absolute",height:"100%",right:"-150px",width:"100%"}}),_.jsx(M4,{msg:`**Congratulations!**
You are no longer a newbie!
`,className:"absolute bottom-[50%] right-[50%] font-capriola"})]}),_.jsxs(br,{className:"relative flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx("div",{className:"m-1 flex grow flex-col gap-1",children:i.map(c=>_.jsx(ko,{onClick:l,className:"w-full",children:c.name},c.name))}),_.jsx(Ci,{className:"relative right-0",onClick:()=>{s("NewbVictory : Clicked Next"),r==null||r.scrollNext()},children:"Next"})]})]})};yZ.displayName="NewbVictory";const S8=({className:t,page:e,index:n})=>{const{current:r,api:i}=E.useContext(Nn),{emotes:o,sayMsg:s}=wv(),{logAction:a,heartbeat:l,onComplete:c,session:u,studentLog:d}=Hn();function h(){s("Dance Dance Revolution","gratz")}return r===n+1&&c(u,d),r!==n+1?null:_.jsxs("div",{className:ie("RangerVictory","rounded-lg border bg-card text-card-foreground shadow-sm","m-0 flex h-full w-full flex-col justify-stretch p-0",t),children:[_.jsxs("div",{className:"relative grow",style:{background:"linear-gradient(0deg, rgba(30,106,8,1) 0%, rgba(9,9,121,1) 35%, rgba(0,212,255,1) 100%)"},children:[_.jsx(Bl,{emote:"celebrate:01",closeUp:!0,style:{position:"absolute",height:"100%",right:"-150px",width:"100%"}}),_.jsx(l0,{msgs:e.intro,className:"absolute bottom-[50%] right-[50%] font-capriola"})]}),_.jsx(br,{className:"relative flex justify-end space-x-3 bg-slate-300 pr-2",children:_.jsx("div",{className:"m-1 flex grow flex-col gap-1",children:o.map(f=>_.jsx(ko,{onClick:h,className:"w-full",children:f.name},f.name))})})]})};S8.displayName="RangerVictory";const vZ=({className:t,page:e,index:n})=>{const r="https://querium.wistia.com/medias/oyfe3sqhwb",{current:i,api:o}=E.useContext(Nn),{logAction:s}=Hn(),[a,l]=E.useState(!1);return i!==n+1?null:_.jsxs("div",{className:ie("NewbVideoTotal m-0 mb-2 flex h-full w-full flex-col justify-stretch rounded-lg bg-card pl-2 pr-2 pt-2 text-card-foreground shadow-sm",t),children:[_.jsx("div",{className:"div relative mb-2 flex grow flex-col justify-stretch gap-2 p-2",children:_.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex items-center justify-center overflow-y-auto",children:_.jsx(GJ,{videoUrl:r,className:"h-full w-full",onEnded:()=>l(!0)})})}),_.jsxs(br,{className:"flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx(Yo,{intro:e==null?void 0:e.intro,psHints:(e==null?void 0:e.psHints)||[]}),_.jsx(Ci,{className:"relative right-0",onClick:()=>{s("NewbVideoTotal : Clicked Next"),o==null||o.scrollNext()},disabled:!a,children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"NewbVideoTotal"})]})]})};vZ.displayName="NewbVideoTotal";const bZ=({className:t,page:e,index:n})=>{const{current:r,api:i}=E.useContext(Nn),{emotes:o,sayMsg:s}=wv(),{logAction:a,heartbeat:l}=Hn(),[c,u]=E.useState(!0);E.useEffect(()=>{a("CadetPrepForSolveMath : Entered Application"),setTimeout(()=>l(),1e3)},[]);function d(){s("Dance Dance Revolution","gratz")}function h(){a("CadetPrepForSolveMath : Intro Finished"),u(!1)}return r!==n+1?null:_.jsxs("div",{className:ie("CadetPrepForSolveMath m-0 flex h-full w-full flex-col justify-stretch rounded-lg border bg-card p-0 text-card-foreground shadow-sm",t),children:[_.jsxs("div",{className:"relative grow",style:{background:"linear-gradient(0deg, rgba(30,106,8,1) 0%, rgba(9,9,121,1) 35%, rgba(0,212,255,1) 100%)"},children:[_.jsx(Bl,{emote:"celebrate:01",closeUp:!0,style:{position:"absolute",height:"100%",right:"-150px",width:"100%"}}),_.jsx(l0,{msgs:e.intro,className:"absolute bottom-[50%] right-[50%] max-w-[45%] font-capriola",introFinished:h})]}),_.jsxs(br,{className:"relative flex justify-end space-x-3 bg-slate-300 pr-2",children:[_.jsx("div",{className:"m-1 flex grow flex-col gap-1",children:o.map(f=>_.jsx(ko,{onClick:d,className:"w-full",children:f.name},f.name))}),_.jsx(Ci,{disabled:c,className:"relative right-0",onClick:()=>{a("CadetPrepForSolveMath : Clicked Next"),i==null||i.scrollNext()},children:"Next"}),_.jsx("h1",{className:"absolute bottom-0 left-0 text-slate-500",children:"CadetPrepForSolveMath"})]})]})};bZ.displayName="CadetPrepForSolveMath";function F6e(t,e){switch(t.rank+":"+t.id){case"dev:FillDiagram":return _.jsx(H_,{page:t,index:e});case"dev:MeetTutor":return _.jsx(mZ,{page:t,index:e});case"dev:SolveTheEquation":return _.jsx(gZ,{page:t,index:e});case"newb:MeetTutor":return _.jsx(EY,{page:t,index:e});case"newb:FeelThePower":return _.jsx(VJ,{page:t,index:e});case"newb:VideoTotal":return _.jsx(vZ,{page:t,index:e});case"newb:GratzWatchedVideo":return _.jsx(JJ,{page:t,index:e});case"newb:FindTutor":return _.jsx(KJ,{page:t,index:e});case"newb:Reflect":return _.jsx($_,{page:t,index:e});case"newb:GratzFoundTutor":return _.jsx(WJ,{page:t,index:e});case"newb:ReadProblem":return _.jsx(UY,{page:t,index:e});case"newb:FindFacts":return _.jsx(MY,{page:t,index:e});case"newb:GratzOnPrepare":return _.jsx(XJ,{page:t,index:e});case"newb:NewbProblemType":return _.jsx(zY,{page:t,index:e});case"newb:NewbVictory":return _.jsx(yZ,{page:t,index:e});case"cadet:ReadProblem":return _.jsx(p8,{page:t,index:e});case"cadet:WhatToAnswer":return _.jsx(w8,{page:t,index:e});case"cadet:FindFacts":return _.jsx(f8,{page:t,index:e});case"cadet:SelectDiagram":return _.jsx(m8,{page:t,index:e});case"cadet:FillDiagram":return _.jsx(H_,{page:t,index:e});case"cadet:FillEquation":return _.jsx(h8,{page:t,index:e});case"cadet:PrepForSolveMath":return _.jsx(bZ,{page:t,index:e});case"cadet:SolveTheEquation":return _.jsx(x8,{page:t,index:e});case"cadet:OwnWords":return _.jsx(_8,{page:t,index:e});case"cadet:Reflect":return _.jsx($_,{page:t,index:e});case"cadet:RangerVictory":return _.jsx(S8,{page:t,index:e});case"ranger:ReadProblem":return _.jsx(p8,{page:t,index:e});case"ranger:WhatToAnswer":return _.jsx(w8,{page:t,index:e});case"ranger:FindFacts":return _.jsx(f8,{page:t,index:e});case"ranger:SelectDiagram":return _.jsx(m8,{page:t,index:e});case"ranger:FillDiagram":return _.jsx(H_,{page:t,index:e});case"ranger:FillEquation":return _.jsx(h8,{page:t,index:e});case"ranger:SolveTheEquation":return _.jsx(x8,{page:t,index:e});case"ranger:OwnWords":return _.jsx(_8,{page:t,index:e});case"ranger:Reflect":return _.jsx($_,{page:t,index:e});case"ranger:RangerVictory":return _.jsx(S8,{page:t,index:e});default:return _.jsxs(_.Fragment,{children:[_.jsx("h1",{children:"NO COMPONENT FOR"}),_.jsxs("h2",{children:[t.rank+":"+t.id," for index ",e]}),_.jsx("p",{children:"Verify YellowBrickRoad and RenderPage are in sync."})]})}}const xZ=E.forwardRef(({className:t,type:e,...n},r)=>_.jsx("input",{type:e,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));xZ.displayName="Input";const vE=window.speechSynthesis,z6e=({selected:t=0,setSelected:e})=>{const[n,r]=E.useState([]),i=E.useCallback(()=>{const o=vE.getVoices();r(o)},[]);return E.useEffect(()=>{i(),vE.onvoiceschanged!==void 0&&(vE.onvoiceschanged=i)},[i]),_.jsx("select",{value:t,onChange:o=>e(parseInt(o.target.value)),children:n.map((o,s)=>_.jsxs("option",{value:s,children:[o.name," (",o.lang,") #",s," ",o.default&&" [Default]"]},s))})},U6e=window.speechSynthesis,j6e=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(159);if(!U6e)return _.jsx("span",{children:"Aw... your browser does not support Speech Synthesis"});const i=o=>{o.preventDefault();const s=window.speechSynthesis;var a=new SpeechSynthesisUtterance(t);a.voice=s.getVoices()[n],s.speak(a)};return _.jsxs("form",{onSubmit:i,className:"flex flex-col gap-1 p-2",children:[_.jsx(z6e,{selected:n,setSelected:r}),_.jsx("input",{type:"text",value:t,onChange:o=>e(o.target.value),className:"border-2 border-slate-300 rounded-lg p-2",placeholder:"Type something to speak"}),_.jsx(ko,{type:"submit",children:"Speak"})]})};at.object({problem:aJ,student:MSe,options:ESe.optional(),onComplete:at.function().optional()});const H6e=E.forwardRef((t,e)=>{const{setSwapiUrl:n,setGltfUrl:r,setRank:i,setDisabledSchemas:o,setProblem:s,setStudent:a,setYBR:l,studentLog:c,problem:u,student:d,session:h,ybr:f,swapiUrl:p,gltfUrl:v,rank:b,disabledSchemas:y,initSession:x,closeSession:w,saveTrace:A,onComplete:D,setOnComplete:k}=Hn(),[R,L]=E.useState(),[T,C]=E.useState(0),[P,z]=E.useState(""),[H,$]=E.useState(""),[X,Z]=E.useState(""),[K,O]=E.useState(!0),[V,I]=E.useState("");E.useEffect(()=>{var ae,_e,ve,Ae;if(t.problem){t.problem.stimulus&&(t.problem.stimulus=t.problem.stimulus.replace(/\s{2,}/g," "));const Ve=s(t.problem);Ve&&!Ve.problemValid?I(Ve.problemStatusMsg):I("")}t.student&&a(t.student),(ae=t.options)!=null&&ae.swapiUrl&&n(t.options.swapiUrl),(_e=t.options)!=null&&_e.gltfUrl&&r(t.options.gltfUrl),(ve=t.options)!=null&&ve.rank&&i(t.options.rank),(Ae=t.options)!=null&&Ae.disabledSchemas&&o(t.options.disabledSchemas),t.onComplete&&k(t.onComplete)},[t]),E.useEffect(()=>{u.question.length>10&&h.sessionToken.length==0&&x()},[u,h]),E.useEffect(()=>{var _e;var ae;(_e=t.options)!=null&&_e.rank?ae=t8.filter(ve=>ve.rank==t.options.rank):ae=t8,l(ae)},[]),E.useEffect(()=>{R&&(C(R.selectedScrollSnap()+1),R.on("select",()=>{C(R.selectedScrollSnap()+1)}))},[R]);const se=async()=>{const ae=await w();z(ae)},ye=async()=>{const ae=await A(H);Z(ae)},G=async()=>{D(h,c)};return vne("shift+ctrl+d",()=>{O(!K)}),_.jsx(Nn.Provider,{value:{current:T,setCurrent:C,api:R},children:_.jsx(aSe,{children:_.jsxs("div",{className:ie("StepWisePower relative min-h-24 w-full border-none",t.className),children:[_.jsxs(zV,{children:[_.jsx(jue,{asChild:!0,children:K&&_.jsx("button",{className:"fixed bottom-0 right-[50%] z-10 m-1 cursor-pointer rounded-full bg-transparent text-xs",children:_.jsx(Mne,{className:"text-lg text-red-500"})})}),_.jsx(jV,{children:_.jsx("div",{className:"relative mx-auto h-[400px] w-full",children:_.jsxs(vde,{defaultValue:"speech",className:"h-[95%] w-full",children:[_.jsxs(ZV,{className:"w-full",children:[_.jsx(Mu,{value:"props",children:"Props"}),_.jsx(Mu,{value:"log",children:"Log"}),_.jsx(Mu,{value:"store",children:"Store"}),_.jsx(Mu,{value:"ybr",children:"YBR"}),_.jsx(Mu,{value:"cmds",children:"Commands"}),_.jsx(Mu,{value:"errors",children:"Errors"}),_.jsx(Mu,{value:"speech",children:"Speech"})]}),_.jsx(Eu,{value:"props",className:"h-[90%] w-full",children:_.jsx("div",{className:"h-full w-full p-4 pb-0",children:_.jsx("div",{className:"h-full w-full overflow-x-auto overflow-y-scroll p-2",children:_.jsx("pre",{children:JSON.stringify(t,null,2)})})})}),_.jsx(Eu,{value:"log",className:"h-[90%] w-full",children:_.jsx("div",{className:"h-full w-full p-4 pb-0",children:_.jsx("div",{className:"h-full w-full overflow-x-auto overflow-y-scroll p-2",children:_.jsx("div",{className:"table w-full",children:_.jsx("div",{className:"table-row w-full select-text p-2",children:c.map((ae,_e)=>_.jsxs("div",{className:"table-row w-full border-b-2 border-b-slate-600 p-2",children:[_.jsx("div",{className:"table-cell min-w-[100px] text-xs",children:ae.timestamp.toLocaleString("en-us",{hour:"numeric",minute:"2-digit",second:"2-digit"})}),_.jsx("div",{className:"table-cell",children:_.jsx("pre",{className:"select-text text-xs",children:ae.action})})]},_e))})})})})}),_.jsx(Eu,{value:"store",className:"h-[90%] w-full",children:_.jsx("div",{className:"h-full w-full p-4 pb-0",children:_.jsxs("div",{className:"h-full w-full overflow-x-auto overflow-y-scroll p-2",children:[_.jsx("h3",{className:"bg-qqAccent font-sans font-black",children:"Student"}),_.jsx("pre",{className:"select-text font-mono text-xs",children:JSON.stringify(d,null,2)}),_.jsx("h3",{className:"bg-qqAccent font-sans font-black",children:"Problem"}),_.jsx("pre",{className:"select-text font-mono text-xs",children:JSON.stringify(u,null,2)}),_.jsx("h3",{className:"bg-qqAccent font-sans font-black",children:"Session"}),_.jsx("pre",{className:"select-text font-mono text-xs",children:JSON.stringify(h,null,2)}),_.jsx("h3",{className:"bg-qqAccent font-sans font-black",children:"Options"}),_.jsx("pre",{className:"select-text font-mono text-xs",children:JSON.stringify({swapiUrl:p,gltfUrl:v,rank:b,disabledSchemas:y},null,2)})]})})}),_.jsx(Eu,{value:"ybr",className:"h-[90%] w-full",children:_.jsx("div",{className:"h-full w-full p-4 pb-0",children:_.jsx("div",{className:"h-full w-full overflow-x-auto overflow-y-scroll p-2",children:_.jsx("pre",{children:JSON.stringify(f,null,2)})})})}),_.jsx(Eu,{value:"cmds",className:"h-[90%] w-full",children:_.jsxs("div",{className:"h-full w-full p-4 pb-0",children:[_.jsxs("div",{className:"flex w-full items-center justify-start border-b-2 border-b-slate-600",children:[_.jsx(ko,{className:"mr-2 w-48",onClick:()=>se(),children:"Close Session"}),_.jsx("p",{className:"select-text text-xs",children:P})]}),_.jsxs("div",{className:"mt-4 flex w-full items-center justify-start border-b-2 border-b-slate-600",children:[_.jsx(ko,{className:"mr-2 w-48",onClick:()=>ye(),children:"Save Trace"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx(xZ,{type:"text",className:"w-full",value:H,onChange:ae=>$(ae.target.value),placeholder:"Enter your Comment"}),_.jsx("p",{className:"select-text text-xs",children:X})]})]}),_.jsxs("div",{className:"mt-4 flex w-full items-center justify-start border-b-2 border-b-slate-600",children:[_.jsx(ko,{className:"mr-2 w-48",onClick:()=>G(),children:"Complete Problem"}),_.jsx("p",{className:"select-text text-xs",children:P})]})]})}),_.jsx(Eu,{value:"errors",className:"h-[90%] w-full",children:_.jsxs("div",{className:"h-full w-full p-4 pb-0",children:[_.jsx("h1",{children:"Errors"}),_.jsx("div",{children:V})]})}),_.jsx(Eu,{value:"speech",className:"h-[90%] w-full",children:_.jsx(j6e,{})})]})})})]}),_.jsx(Zk,{setApi:L,opts:{watchDrag:!1},className:"Carousel flex flex-grow flex-col",children:_.jsxs(Qk,{className:"CarouselContent relative m-0 flex-grow pr-0",style:{paddingRight:"0px"},children:[f.length===0&&_.jsx("div",{className:"flex h-full w-full items-center justify-center",children:_.jsx("h1",{className:"text-2xl font-bold",children:"Invalid Rank therefore No Data"})}),f.map((ae,_e)=>_.jsx(eT,{className:"CarouselItem m-0 h-full p-0",children:F6e(ae,_e)},ae.rank+":"+ae.id))]})})]})})})});var uy={BASE_URL:"/swpwr/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};window.swpwr=window.swpwr||{};var $6e;console.info("ENVIRONMENT",uy);let _Z=new URLSearchParams(window.location.search),Az=_Z.get("rank"),Cz=_Z.get("swapi"),$s={},zy={},vh={},A8={};window.swpwr?($s.appKey=window.swpwr.problem.appKey,$s.policyId=window.swpwr.problem.policyId,$s.problemId=window.swpwr.problem.problemId,$s.title=window.swpwr.problem.title,$s.stimulus=window.swpwr.problem.stimulus,$s.class=window.swpwr.problem.topic,$s.question=window.swpwr.problem.definition,$s.hints=window.swpwr.problem.mathHints,$s.wpHints=window.swpwr.problem.wpHints.map(t=>({page:t.pageId?t.pageId:t.page,hints:t.hints})),zy.studentId=window.swpwr.student.studentId,zy.studentName=window.swpwr.student.fullName,vh.swapiUrl=Cz||uy.VITE_SWAPI||window.swpwr.options.swapiUrl||"https://swapi2.onrender.com",vh.gltfUrl=window.swpwr.options.gltfUrl,vh.rank=Az||uy.VITE_RANK||window.swpwr.options.rank||"newb",vh.disabledSchemas=window.swpwr.options.disabledSchemas,A8.onComplete=window.swpwr.handlers.onComplete):($s={appKey:"JiraTestPage",policyId:"$A9$",problemId:"QUES-30533",title:"Sticker Book Cost",stimulus:"Minh spent $6.25 on 5 sticker books to give his nephews. Find the cost of each sticker book.",class:"gradeBasicAlgebra",question:'SolveWordProblemAns[{"Minh spent $6.25 on 5 sticker books to give his nephews. Find the cost of each sticker book."}]',hints:[]},zy={studentId:"PokeyLoki",studentName:"Loki Van Riper"},A8.onComplete=()=>{console.info("I'm a built-in onComplete Handler")},vh={swapiUrl:Cz||uy.VITE_SWAPI||window.swpwr.options.swapiUrl||"https://swapi2.onrender.com",gltfUrl:$6e,rank:Az||uy.VITE_RANK||window.swpwr.options.rank||"newb",disabledSchemas:[]});console.table("PROBLEM",$s);console.table("STUDENT",zy);console.table("OPTIONS",vh);bE.createRoot(document.getElementById("root")).render(_.jsx(re.StrictMode,{children:_.jsx("div",{className:"SWPowerComponent relative h-dvh w-dvw overflow-hidden",children:_.jsx(H6e,{className:"absolute bottom-0 left-0 right-0 top-0 flex flex-col",problem:$s,student:zy,options:vh,onComplete:A8.onComplete})})}));export{Ho as _,hf as g,RAe as p,E as r,I4 as u};
